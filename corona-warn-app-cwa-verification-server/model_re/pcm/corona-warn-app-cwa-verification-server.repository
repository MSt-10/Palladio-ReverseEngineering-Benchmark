<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_JQyFBmG_Ee-krvqQCkQHjA">
  <components__Repository xsi:type="repository:BasicComponent" id="_JQg_R2G_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQg_RmG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_JQg_QGG_Ee-krvqQCkQHjA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_JP4GHmG_Ee-krvqQCkQHjA" describedService__SEFF="_JI_a8GG_Ee-krvqQCkQHjA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_JP2Q5mG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP2Q7WG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_JP2Q7WG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JP2Q5mG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP2Q7mG_Ee-krvqQCkQHjA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP2Q6mG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_JP2Q7GG_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JP2Q52G_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP2Q6GG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JP2Q6GG_Ee-krvqQCkQHjA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_JP2Q52G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP2Q6WG_Ee-krvqQCkQHjA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JP2Q6WG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP2Q6GG_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_JP2Q7mG_Ee-krvqQCkQHjA" entityName="stopWatch.start()" predecessor_AbstractAction="_JP2Q7WG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP4GG2G_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_JP4GG2G_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JP2Q7mG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP4GHGG_Ee-krvqQCkQHjA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP4GGGG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_JP4GGmG_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JP2Q72G_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP4GFmG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_JP4GFmG_Ee-krvqQCkQHjA" entityName="Switch Branch" predecessor_AbstractAction="_JP2Q72G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP4GF2G_Ee-krvqQCkQHjA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP3fBGG_Ee-krvqQCkQHjA">
                <branchBehaviour_BranchTransition id="_JP3fBmG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JP2Q8GG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP2Q8WG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP2Q8WG_Ee-krvqQCkQHjA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_JP2Q8GG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP23-2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_JP23-2G_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JP2Q8WG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP23_GG_Ee-krvqQCkQHjA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP23-GG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_JP23-mG_Ee-krvqQCkQHjA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_JP238GG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP239mG_Ee-krvqQCkQHjA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_JP239mG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JP238GG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP2392G_Ee-krvqQCkQHjA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP2382G_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_JP239WG_Ee-krvqQCkQHjA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_JP238WG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP238mG_Ee-krvqQCkQHjA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_JP238mG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP238WG_Ee-krvqQCkQHjA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_JP2392G_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP239mG_Ee-krvqQCkQHjA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP23_GG_Ee-krvqQCkQHjA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_JP23-2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP23_WG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP23_WG_Ee-krvqQCkQHjA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_JP23_GG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP23_mG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP23_mG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP23_WG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP23_2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP23_2G_Ee-krvqQCkQHjA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_JP23_mG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP24AGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP24AGG_Ee-krvqQCkQHjA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_JP23_2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP24AWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JP24AWG_Ee-krvqQCkQHjA" entityName="deferredResult" predecessor_AbstractAction="_JP24AGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP24AmG_Ee-krvqQCkQHjA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP24AmG_Ee-krvqQCkQHjA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_JP24AWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP24A2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP24A2G_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP24AmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP24BGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP24BGG_Ee-krvqQCkQHjA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_JP24A2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fAGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP3fAGG_Ee-krvqQCkQHjA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_JP24BGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fAWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JP3fAWG_Ee-krvqQCkQHjA" entityName="deferredResult" predecessor_AbstractAction="_JP3fAGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fAmG_Ee-krvqQCkQHjA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP3fAmG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP3fAWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fA2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JP3fA2G_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP3fAmG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP3fD2G_Ee-krvqQCkQHjA">
                <branchBehaviour_BranchTransition id="_JP3fEWG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JP3fB2G_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP3fCGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP3fCGG_Ee-krvqQCkQHjA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_JP3fB2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fCWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP3fCWG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP3fCGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fCmG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP3fCmG_Ee-krvqQCkQHjA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_JP3fCWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fC2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP3fC2G_Ee-krvqQCkQHjA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_JP3fCmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fDGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JP3fDGG_Ee-krvqQCkQHjA" entityName="deferredResult" predecessor_AbstractAction="_JP3fC2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fDWG_Ee-krvqQCkQHjA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP3fDWG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP3fDGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP3fDmG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JP3fDmG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP3fDWG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP4GE2G_Ee-krvqQCkQHjA">
                <branchBehaviour_BranchTransition id="_JP4GFWG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JP4GEGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP4GEWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP4GEWG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP4GEGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP4GEmG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JP4GEmG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP4GEWG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JP4GF2G_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP4GFmG_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_JP4GHGG_Ee-krvqQCkQHjA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_JP4GG2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP4GHWG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_JP4GHWG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP4GHGG_Ee-krvqQCkQHjA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_JQkCmmG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQkCmWG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_JQg_QmG_Ee-krvqQCkQHjA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_JP2Q5GG_Ee-krvqQCkQHjA" describedService__SEFF="_JJyFIWG_Ee-krvqQCkQHjA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_JPz0qWG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPz0sGG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_JPz0sGG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JPz0qWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPz0sWG_Ee-krvqQCkQHjA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPz0rWG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_JPz0r2G_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JPz0qmG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPz0q2G_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JPz0q2G_Ee-krvqQCkQHjA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_JPz0qmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPz0rGG_Ee-krvqQCkQHjA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JPz0rGG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPz0q2G_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_JPz0sWG_Ee-krvqQCkQHjA" entityName="stopWatch.start()" predecessor_AbstractAction="_JPz0sGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP2Q4mG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_JP2Q4mG_Ee-krvqQCkQHjA" entityName="Switch Branch" predecessor_AbstractAction="_JPz0sWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP2Q42G_Ee-krvqQCkQHjA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP1CxWG_Ee-krvqQCkQHjA">
          <branchBehaviour_BranchTransition id="_JP1Cx2G_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JP0bsGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP0bsWG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0bsWG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP0bsGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0bsmG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0bsmG_Ee-krvqQCkQHjA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_JP0bsWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0bs2G_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0bs2G_Ee-krvqQCkQHjA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_JP0bsmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0btGG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0btGG_Ee-krvqQCkQHjA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_JP0bs2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0btWG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JP0btWG_Ee-krvqQCkQHjA" entityName="deferredResult" predecessor_AbstractAction="_JP0btGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1CwWG_Ee-krvqQCkQHjA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_JP1CwWG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JP0btWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1CwmG_Ee-krvqQCkQHjA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP0bv2G_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_JP1CwGG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JP0btmG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP0bt2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0bt2G_Ee-krvqQCkQHjA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_JP0btmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0buGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0buGG_Ee-krvqQCkQHjA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_JP0bt2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0buWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0buWG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP0buGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0bumG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0bumG_Ee-krvqQCkQHjA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_JP0buWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0bu2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0bu2G_Ee-krvqQCkQHjA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_JP0bumG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0bvGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP0bvGG_Ee-krvqQCkQHjA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_JP0bu2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0bvWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JP0bvWG_Ee-krvqQCkQHjA" entityName="deferredResult" predecessor_AbstractAction="_JP0bvGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP0bvmG_Ee-krvqQCkQHjA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JP0bvmG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP0bvWG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1CwmG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP1CwWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1Cw2G_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1Cw2G_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP1CwmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1CxGG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JP1CxGG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP1Cw2G_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP1p2mG_Ee-krvqQCkQHjA">
          <branchBehaviour_BranchTransition id="_JP1p3GG_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JP1CyGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP1p1mG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_JP1p1mG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JP1CyGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1p12G_Ee-krvqQCkQHjA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP1p02G_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_JP1p1WG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JP1CyWG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP1CymG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1CymG_Ee-krvqQCkQHjA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_JP1CyWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1Cy2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1Cy2G_Ee-krvqQCkQHjA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_JP1CymG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1CzGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1CzGG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP1Cy2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1CzWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1CzWG_Ee-krvqQCkQHjA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_JP1CzGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1CzmG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1CzmG_Ee-krvqQCkQHjA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_JP1CzWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1p0GG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1p0GG_Ee-krvqQCkQHjA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_JP1CzmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1p0WG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JP1p0WG_Ee-krvqQCkQHjA" entityName="deferredResult" predecessor_AbstractAction="_JP1p0GG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1p0mG_Ee-krvqQCkQHjA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JP1p0mG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP1p0WG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1p12G_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP1p1mG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1p2GG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1p2GG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP1p12G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1p2WG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JP1p2WG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP1p2GG_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP1p4GG_Ee-krvqQCkQHjA">
          <branchBehaviour_BranchTransition id="_JP2Q4WG_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JP1p3WG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP1p3mG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP1p3mG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JP1p3WG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP1p32G_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JP1p32G_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP1p3mG_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_JP2Q42G_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP2Q4mG_Ee-krvqQCkQHjA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_JQme12G_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQme1mG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_JQg_Q2G_Ee-krvqQCkQHjA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_JPz0p2G_Ee-krvqQCkQHjA" describedService__SEFF="_JJxeEmG_Ee-krvqQCkQHjA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_JPx_dWG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPx_fGG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_JPx_fGG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JPx_dWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPx_fWG_Ee-krvqQCkQHjA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPx_eWG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_JPx_e2G_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JPx_dmG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPx_d2G_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JPx_d2G_Ee-krvqQCkQHjA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_JPx_dmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPx_eGG_Ee-krvqQCkQHjA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JPx_eGG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPx_d2G_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_JPx_fWG_Ee-krvqQCkQHjA" entityName="stopWatch.start()" predecessor_AbstractAction="_JPx_fGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPz0pWG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_JPz0pWG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JPx_fWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPz0pmG_Ee-krvqQCkQHjA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPz0omG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_JPz0pGG_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JPx_fmG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPz0oGG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_JPz0oGG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JPx_fmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPz0oWG_Ee-krvqQCkQHjA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPzNmmG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_JPzNnGG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JPx_f2G_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPzNkGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_JPzNkGG_Ee-krvqQCkQHjA" entityName="Switch Branch" predecessor_AbstractAction="_JPx_f2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JPzNkWG_Ee-krvqQCkQHjA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPymiWG_Ee-krvqQCkQHjA">
                      <branchBehaviour_BranchTransition id="_JPymi2G_Ee-krvqQCkQHjA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_JPx_gGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPymhmG_Ee-krvqQCkQHjA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_JPymhmG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JPx_gGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPymh2G_Ee-krvqQCkQHjA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPymg2G_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_JPymhWG_Ee-krvqQCkQHjA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_JPymgGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPymgWG_Ee-krvqQCkQHjA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_JPymgWG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JPymgGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPymgmG_Ee-krvqQCkQHjA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_JPymgmG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPymgWG_Ee-krvqQCkQHjA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_JPymh2G_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JPymhmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPymiGG_Ee-krvqQCkQHjA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_JPymiGG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPymh2G_Ee-krvqQCkQHjA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPymj2G_Ee-krvqQCkQHjA">
                      <branchBehaviour_BranchTransition id="_JPymkWG_Ee-krvqQCkQHjA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_JPymjGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPymjWG_Ee-krvqQCkQHjA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_JPymjWG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JPymjGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPymjmG_Ee-krvqQCkQHjA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_JPymjmG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPymjWG_Ee-krvqQCkQHjA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPymlWG_Ee-krvqQCkQHjA">
                      <branchBehaviour_BranchTransition id="_JPyml2G_Ee-krvqQCkQHjA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_JPymkmG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPymk2G_Ee-krvqQCkQHjA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_JPymk2G_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JPymkmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPymlGG_Ee-krvqQCkQHjA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_JPymlGG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPymk2G_Ee-krvqQCkQHjA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPzNkWG_Ee-krvqQCkQHjA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_JPzNkGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPzNkmG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPzNkmG_Ee-krvqQCkQHjA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_JPzNkWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPzNk2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPzNk2G_Ee-krvqQCkQHjA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_JPzNkmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPzNlGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPzNlGG_Ee-krvqQCkQHjA" entityName="stopWatch.stop()" predecessor_AbstractAction="_JPzNk2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JPzNlWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPzNlWG_Ee-krvqQCkQHjA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_JPzNlGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPzNlmG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPzNlmG_Ee-krvqQCkQHjA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_JPzNlWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPzNl2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPzNl2G_Ee-krvqQCkQHjA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_JPzNlmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPzNmGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JPzNmGG_Ee-krvqQCkQHjA" entityName="deferredResult" predecessor_AbstractAction="_JPzNl2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JPzNmWG_Ee-krvqQCkQHjA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JPzNmWG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPzNmGG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JPz0oWG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPz0oGG_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_JPz0pmG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPz0pWG_Ee-krvqQCkQHjA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_JQo7EWG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_JQo7E2G_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQo7EmG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_JQg_RGG_Ee-krvqQCkQHjA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_JPx_c2G_Ee-krvqQCkQHjA" describedService__SEFF="_JJysM2G_Ee-krvqQCkQHjA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_JKOKAWG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPx_cGG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_JPx_cGG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JKOKAWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPx_cWG_Ee-krvqQCkQHjA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPxYcmG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_JPxYdGG_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JKP_MGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPxYcGG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_JPxYcGG_Ee-krvqQCkQHjA" entityName="Switch Branch" predecessor_AbstractAction="_JKP_MGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPxYcWG_Ee-krvqQCkQHjA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPxYYmG_Ee-krvqQCkQHjA">
                <branchBehaviour_BranchTransition id="_JPxYZGG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JKQmQGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPtuBWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_JPtuBWG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JKQmQGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPuVEGG_Ee-krvqQCkQHjA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPtuAmG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_JPtuBGG_Ee-krvqQCkQHjA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_JKQmQWG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPtuAGG_Ee-krvqQCkQHjA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_JPtuAGG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JKQmQWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPtuAWG_Ee-krvqQCkQHjA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JKRNUGG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_JKR0YGG_Ee-krvqQCkQHjA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_JKQmQmG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JKQmQ2G_Ee-krvqQCkQHjA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_JKQmQ2G_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JKQmQmG_Ee-krvqQCkQHjA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_JPtuAWG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPtuAGG_Ee-krvqQCkQHjA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPuVEGG_Ee-krvqQCkQHjA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_JPtuBWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPuVEWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPuVEWG_Ee-krvqQCkQHjA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_JPuVEGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPwxUGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JPwxUGG_Ee-krvqQCkQHjA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_JPuVEWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPxYYGG_Ee-krvqQCkQHjA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPxYYGG_Ee-krvqQCkQHjA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_JPwxUGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPxYYWG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JPxYYWG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPxYYGG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPxYaGG_Ee-krvqQCkQHjA">
                <branchBehaviour_BranchTransition id="_JPxYamG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JPxYZWG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPxYZmG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JPxYZmG_Ee-krvqQCkQHjA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_JPxYZWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPxYZ2G_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JPxYZ2G_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPxYZmG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JPxYbWG_Ee-krvqQCkQHjA">
                <branchBehaviour_BranchTransition id="_JPxYb2G_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JPxYa2G_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JPxYbGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JPxYbGG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPxYa2G_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JPxYcWG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPxYcGG_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_JPx_cWG_Ee-krvqQCkQHjA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_JPx_cGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JPx_cmG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_JPx_cmG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JPx_cWG_Ee-krvqQCkQHjA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_JQqwT2G_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQqwTWG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_JQg_RWG_Ee-krvqQCkQHjA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQqwTmG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_JQg_QWG_Ee-krvqQCkQHjA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_JP5UQWG_Ee-krvqQCkQHjA" describedService__SEFF="_JJysMGG_Ee-krvqQCkQHjA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_JP4tJGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP4tMWG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_JP4tMWG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JP4tJGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP5UP2G_Ee-krvqQCkQHjA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP4tKGG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_JP4tKmG_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JP4tJWG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP4tJmG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP4tJmG_Ee-krvqQCkQHjA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_JP4tJWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP4tJ2G_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JP4tJ2G_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP4tJmG_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP4tLmG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_JP4tMGG_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JP4tK2G_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP4tLGG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_JP4tLGG_Ee-krvqQCkQHjA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_JP4tK2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP4tLWG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JP4tLWG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP4tLGG_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_JP5UP2G_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JP4tMWG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP5UQGG_Ee-krvqQCkQHjA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP5UPGG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_JP5UPmG_Ee-krvqQCkQHjA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_JP4tMmG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP5UOmG_Ee-krvqQCkQHjA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_JP5UOmG_Ee-krvqQCkQHjA" entityName="If Branch" predecessor_AbstractAction="_JP4tMmG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP5UO2G_Ee-krvqQCkQHjA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP5UMmG_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_JP5UNGG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JP4tM2G_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP4tNGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_JP4tNGG_Ee-krvqQCkQHjA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_JP4tM2G_Ee-krvqQCkQHjA" successor_AbstractAction="_JP5UMGG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JP5UMGG_Ee-krvqQCkQHjA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_JP4tNGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP5UMWG_Ee-krvqQCkQHjA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JP5UMWG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP5UMGG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_JP5UN2G_Ee-krvqQCkQHjA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_JP5UOWG_Ee-krvqQCkQHjA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_JP5UNWG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP5UNmG_Ee-krvqQCkQHjA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_JP5UNmG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP5UNWG_Ee-krvqQCkQHjA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_JP5UO2G_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP5UOmG_Ee-krvqQCkQHjA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_JP5UQGG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP5UP2G_Ee-krvqQCkQHjA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_JP4tImG_Ee-krvqQCkQHjA" describedService__SEFF="_JJw3AmG_Ee-krvqQCkQHjA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_JP4GIGG_Ee-krvqQCkQHjA" entityName="Start Action" successor_AbstractAction="_JP4tIGG_Ee-krvqQCkQHjA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_JP4tIGG_Ee-krvqQCkQHjA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_JP4GIGG_Ee-krvqQCkQHjA" successor_AbstractAction="_JP4tIWG_Ee-krvqQCkQHjA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_JP4tIWG_Ee-krvqQCkQHjA" entityName="Stop Action" predecessor_AbstractAction="_JP4tIGG_Ee-krvqQCkQHjA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_JQw24GG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_JQxd8mG_Ee-krvqQCkQHjA" encapsulatedComponent__AssemblyContext="_JQo7EWG_Ee-krvqQCkQHjA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_JQw24mG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_JQxd8GG_Ee-krvqQCkQHjA" encapsulatedComponent__AssemblyContext="_JQo7E2G_Ee-krvqQCkQHjA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_JQysFWG_Ee-krvqQCkQHjA" innerProvidedRole_ProvidedDelegationConnector="_JQo7EmG_Ee-krvqQCkQHjA" outerProvidedRole_ProvidedDelegationConnector="_JQw24WG_Ee-krvqQCkQHjA" assemblyContext_ProvidedDelegationConnector="_JQxd8GG_Ee-krvqQCkQHjA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQw24WG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_JQg_RGG_Ee-krvqQCkQHjA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_JQw25WG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_JQxd9GG_Ee-krvqQCkQHjA" encapsulatedComponent__AssemblyContext="_JQqwT2G_Ee-krvqQCkQHjA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_JQysEGG_Ee-krvqQCkQHjA" innerProvidedRole_ProvidedDelegationConnector="_JQqwTmG_Ee-krvqQCkQHjA" outerProvidedRole_ProvidedDelegationConnector="_JQw242G_Ee-krvqQCkQHjA" assemblyContext_ProvidedDelegationConnector="_JQxd9GG_Ee-krvqQCkQHjA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_JQysFGG_Ee-krvqQCkQHjA" innerProvidedRole_ProvidedDelegationConnector="_JQqwTWG_Ee-krvqQCkQHjA" outerProvidedRole_ProvidedDelegationConnector="_JQw25GG_Ee-krvqQCkQHjA" assemblyContext_ProvidedDelegationConnector="_JQxd9GG_Ee-krvqQCkQHjA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQw242G_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_JQg_QWG_Ee-krvqQCkQHjA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQw25GG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_JQg_RWG_Ee-krvqQCkQHjA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_JQw252G_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_JQyFAmG_Ee-krvqQCkQHjA" encapsulatedComponent__AssemblyContext="_JQme12G_Ee-krvqQCkQHjA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_JQysEmG_Ee-krvqQCkQHjA" innerProvidedRole_ProvidedDelegationConnector="_JQme1mG_Ee-krvqQCkQHjA" outerProvidedRole_ProvidedDelegationConnector="_JQw25mG_Ee-krvqQCkQHjA" assemblyContext_ProvidedDelegationConnector="_JQyFAmG_Ee-krvqQCkQHjA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQw25mG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_JQg_Q2G_Ee-krvqQCkQHjA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_JQw26WG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_JQyFAGG_Ee-krvqQCkQHjA" encapsulatedComponent__AssemblyContext="_JQkCmmG_Ee-krvqQCkQHjA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_JQysEWG_Ee-krvqQCkQHjA" innerProvidedRole_ProvidedDelegationConnector="_JQkCmWG_Ee-krvqQCkQHjA" outerProvidedRole_ProvidedDelegationConnector="_JQw26GG_Ee-krvqQCkQHjA" assemblyContext_ProvidedDelegationConnector="_JQyFAGG_Ee-krvqQCkQHjA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQw26GG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_JQg_QmG_Ee-krvqQCkQHjA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_JQw262G_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_JQyFBGG_Ee-krvqQCkQHjA" encapsulatedComponent__AssemblyContext="_JQg_R2G_Ee-krvqQCkQHjA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_JQysE2G_Ee-krvqQCkQHjA" innerProvidedRole_ProvidedDelegationConnector="_JQg_RmG_Ee-krvqQCkQHjA" outerProvidedRole_ProvidedDelegationConnector="_JQw26mG_Ee-krvqQCkQHjA" assemblyContext_ProvidedDelegationConnector="_JQyFBGG_Ee-krvqQCkQHjA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_JQw26mG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_JQg_QGG_Ee-krvqQCkQHjA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_JQg_QGG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_JI_a8GG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_JI-z4GG_Ee-krvqQCkQHjA">
      <parameters__OperationSignature dataType__Parameter="_JI9lwGG_Ee-krvqQCkQHjA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_JQg_QWG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_JJw3AmG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_JJw3AWG_Ee-krvqQCkQHjA">
      <parameters__OperationSignature dataType__Parameter="_JJw3AGG_Ee-krvqQCkQHjA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_JQg_QmG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_JJyFIWG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_JI-z4GG_Ee-krvqQCkQHjA">
      <parameters__OperationSignature dataType__Parameter="_JJyFIGG_Ee-krvqQCkQHjA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_JQg_Q2G_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_JJxeEmG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_JI-z4GG_Ee-krvqQCkQHjA">
      <parameters__OperationSignature dataType__Parameter="_JI9lwGG_Ee-krvqQCkQHjA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_JQg_RGG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_JJysM2G_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_JJw3AWG_Ee-krvqQCkQHjA">
      <parameters__OperationSignature dataType__Parameter="_JI9lwGG_Ee-krvqQCkQHjA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_JQg_RWG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_JJysMGG_Ee-krvqQCkQHjA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_JJw3AWG_Ee-krvqQCkQHjA">
      <parameters__OperationSignature dataType__Parameter="_JJyFJGG_Ee-krvqQCkQHjA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_JJyFJWG_Ee-krvqQCkQHjA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_JI9lwGG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_JI-z4GG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_JJw3AGG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_JJw3AWG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_JJyFIGG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_JJyFJGG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_JJyFJWG_Ee-krvqQCkQHjA" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
