<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_aqgZRpmLEe-rD7iKiBuQww">
  <components__Repository xsi:type="repository:BasicComponent" id="_aqPTh5mLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqPThpmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_aqPThJmLEe-rD7iKiBuQww"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_aphh05mLEe-rD7iKiBuQww" describedService__SEFF="_aj9sY5mLEe-rD7iKiBuQww">
      <steps_Behaviour xsi:type="seff:StartAction" id="_akWt8ZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apd3cJmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_apd3cJmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_akWt8ZmLEe-rD7iKiBuQww" successor_AbstractAction="_apeegJmLEe-rD7iKiBuQww">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apcpUJmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_apdQYJmLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_akX8EJmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apcCQJmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apcCQJmLEe-rD7iKiBuQww" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_akX8EJmLEe-rD7iKiBuQww" successor_AbstractAction="_apcCQZmLEe-rD7iKiBuQww">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apcCQZmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apcCQJmLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_apeegJmLEe-rD7iKiBuQww" entityName="stopWatch.start()" predecessor_AbstractAction="_apd3cJmLEe-rD7iKiBuQww" successor_AbstractAction="_aphh0JmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_aphh0JmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apeegJmLEe-rD7iKiBuQww" successor_AbstractAction="_aphh0ZmLEe-rD7iKiBuQww">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apg6z5mLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_apg60ZmLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apeegZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apg6zZmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_apg6zZmLEe-rD7iKiBuQww" entityName="Switch Branch" predecessor_AbstractAction="_apeegZmLEe-rD7iKiBuQww" successor_AbstractAction="_apg6zpmLEe-rD7iKiBuQww">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apgTs5mLEe-rD7iKiBuQww">
                <branchBehaviour_BranchTransition id="_apgTtZmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apfFkJmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apfFkZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfFkZmLEe-rD7iKiBuQww" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_apfFkJmLEe-rD7iKiBuQww" successor_AbstractAction="_apfspJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_apfspJmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apfFkZmLEe-rD7iKiBuQww" successor_AbstractAction="_apfspZmLEe-rD7iKiBuQww">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apfsoZmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_apfso5mLEe-rD7iKiBuQww">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_apfFkpmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apfFmJmLEe-rD7iKiBuQww"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_apfFmJmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apfFkpmLEe-rD7iKiBuQww" successor_AbstractAction="_apfsoJmLEe-rD7iKiBuQww">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apfFlZmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_apfFl5mLEe-rD7iKiBuQww">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_apfFk5mLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apfFlJmLEe-rD7iKiBuQww"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_apfFlJmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apfFk5mLEe-rD7iKiBuQww"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_apfsoJmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apfFmJmLEe-rD7iKiBuQww"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfspZmLEe-rD7iKiBuQww" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_apfspJmLEe-rD7iKiBuQww" successor_AbstractAction="_apfsppmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfsppmLEe-rD7iKiBuQww" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_apfspZmLEe-rD7iKiBuQww" successor_AbstractAction="_apfsp5mLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfsp5mLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apfsppmLEe-rD7iKiBuQww" successor_AbstractAction="_apfsqJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfsqJmLEe-rD7iKiBuQww" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_apfsp5mLEe-rD7iKiBuQww" successor_AbstractAction="_apfsqZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfsqZmLEe-rD7iKiBuQww" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_apfsqJmLEe-rD7iKiBuQww" successor_AbstractAction="_apfsqpmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apfsqpmLEe-rD7iKiBuQww" entityName="deferredResult" predecessor_AbstractAction="_apfsqZmLEe-rD7iKiBuQww" successor_AbstractAction="_apfsq5mLEe-rD7iKiBuQww">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfsq5mLEe-rD7iKiBuQww" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_apfsqpmLEe-rD7iKiBuQww" successor_AbstractAction="_apfsrJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfsrJmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apfsq5mLEe-rD7iKiBuQww" successor_AbstractAction="_apfsrZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfsrZmLEe-rD7iKiBuQww" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_apfsrJmLEe-rD7iKiBuQww" successor_AbstractAction="_apfsrpmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apfsrpmLEe-rD7iKiBuQww" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_apfsrZmLEe-rD7iKiBuQww" successor_AbstractAction="_apgTsJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apgTsJmLEe-rD7iKiBuQww" entityName="deferredResult" predecessor_AbstractAction="_apfsrpmLEe-rD7iKiBuQww" successor_AbstractAction="_apgTsZmLEe-rD7iKiBuQww">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apgTsZmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apgTsJmLEe-rD7iKiBuQww" successor_AbstractAction="_apgTspmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apgTspmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apgTsZmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apg6xJmLEe-rD7iKiBuQww">
                <branchBehaviour_BranchTransition id="_apg6xpmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apgTtpmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apgTt5mLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apgTt5mLEe-rD7iKiBuQww" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_apgTtpmLEe-rD7iKiBuQww" successor_AbstractAction="_apgTuJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apgTuJmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apgTt5mLEe-rD7iKiBuQww" successor_AbstractAction="_apgTuZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apgTuZmLEe-rD7iKiBuQww" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_apgTuJmLEe-rD7iKiBuQww" successor_AbstractAction="_apg6wJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apg6wJmLEe-rD7iKiBuQww" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_apgTuZmLEe-rD7iKiBuQww" successor_AbstractAction="_apg6wZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apg6wZmLEe-rD7iKiBuQww" entityName="deferredResult" predecessor_AbstractAction="_apg6wJmLEe-rD7iKiBuQww" successor_AbstractAction="_apg6wpmLEe-rD7iKiBuQww">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apg6wpmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apg6wZmLEe-rD7iKiBuQww" successor_AbstractAction="_apg6w5mLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apg6w5mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apg6wpmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apg6ypmLEe-rD7iKiBuQww">
                <branchBehaviour_BranchTransition id="_apg6zJmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apg6x5mLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apg6yJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apg6yJmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apg6x5mLEe-rD7iKiBuQww" successor_AbstractAction="_apg6yZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apg6yZmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apg6yJmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apg6zpmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apg6zZmLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_aphh0ZmLEe-rD7iKiBuQww" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_aphh0JmLEe-rD7iKiBuQww" successor_AbstractAction="_aphh0pmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_aphh0pmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_aphh0ZmLEe-rD7iKiBuQww"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_aqSW3ZmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqSW3JmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_aqPThZmLEe-rD7iKiBuQww"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_apo2nZmLEe-rD7iKiBuQww" describedService__SEFF="_aj9sYJmLEe-rD7iKiBuQww">
      <steps_Behaviour xsi:type="seff:StartAction" id="_apmaVZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apmaXJmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_apmaXJmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apmaVZmLEe-rD7iKiBuQww" successor_AbstractAction="_apnBYJmLEe-rD7iKiBuQww">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apmaWZmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_apmaW5mLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apmaVpmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apmaV5mLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apmaV5mLEe-rD7iKiBuQww" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_apmaVpmLEe-rD7iKiBuQww" successor_AbstractAction="_apmaWJmLEe-rD7iKiBuQww">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apmaWJmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apmaV5mLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBYJmLEe-rD7iKiBuQww" entityName="stopWatch.start()" predecessor_AbstractAction="_apmaXJmLEe-rD7iKiBuQww" successor_AbstractAction="_apo2m5mLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_apo2m5mLEe-rD7iKiBuQww" entityName="Switch Branch" predecessor_AbstractAction="_apnBYJmLEe-rD7iKiBuQww" successor_AbstractAction="_apo2nJmLEe-rD7iKiBuQww">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apnoeZmLEe-rD7iKiBuQww">
          <branchBehaviour_BranchTransition id="_apnoe5mLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apnBYZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apnBYpmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBYpmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apnBYZmLEe-rD7iKiBuQww" successor_AbstractAction="_apnBY5mLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBY5mLEe-rD7iKiBuQww" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_apnBYpmLEe-rD7iKiBuQww" successor_AbstractAction="_apnBZJmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBZJmLEe-rD7iKiBuQww" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_apnBY5mLEe-rD7iKiBuQww" successor_AbstractAction="_apnBZZmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBZZmLEe-rD7iKiBuQww" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_apnBZJmLEe-rD7iKiBuQww" successor_AbstractAction="_apnBZpmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apnBZpmLEe-rD7iKiBuQww" entityName="deferredResult" predecessor_AbstractAction="_apnBZZmLEe-rD7iKiBuQww" successor_AbstractAction="_apnodZmLEe-rD7iKiBuQww">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_apnodZmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apnBZpmLEe-rD7iKiBuQww" successor_AbstractAction="_apnodpmLEe-rD7iKiBuQww">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apnocpmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_apnodJmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apnBZ5mLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apnBaJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBaJmLEe-rD7iKiBuQww" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_apnBZ5mLEe-rD7iKiBuQww" successor_AbstractAction="_apnBaZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBaZmLEe-rD7iKiBuQww" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_apnBaJmLEe-rD7iKiBuQww" successor_AbstractAction="_apnBapmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBapmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apnBaZmLEe-rD7iKiBuQww" successor_AbstractAction="_apnBa5mLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBa5mLEe-rD7iKiBuQww" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_apnBapmLEe-rD7iKiBuQww" successor_AbstractAction="_apnBbJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBbJmLEe-rD7iKiBuQww" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_apnBa5mLEe-rD7iKiBuQww" successor_AbstractAction="_apnBbZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apnBbZmLEe-rD7iKiBuQww" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_apnBbJmLEe-rD7iKiBuQww" successor_AbstractAction="_apnocJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apnocJmLEe-rD7iKiBuQww" entityName="deferredResult" predecessor_AbstractAction="_apnBbZmLEe-rD7iKiBuQww" successor_AbstractAction="_apnocZmLEe-rD7iKiBuQww">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apnocZmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apnocJmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apnodpmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apnodZmLEe-rD7iKiBuQww" successor_AbstractAction="_apnod5mLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apnod5mLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apnodpmLEe-rD7iKiBuQww" successor_AbstractAction="_apnoeJmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apnoeJmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apnod5mLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apo2kpmLEe-rD7iKiBuQww">
          <branchBehaviour_BranchTransition id="_apo2lJmLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apnofJmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apoPi5mLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_apoPi5mLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apnofJmLEe-rD7iKiBuQww" successor_AbstractAction="_apoPjJmLEe-rD7iKiBuQww">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apoPiJmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_apoPipmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apnofZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apoPgJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apoPgJmLEe-rD7iKiBuQww" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_apnofZmLEe-rD7iKiBuQww" successor_AbstractAction="_apoPgZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apoPgZmLEe-rD7iKiBuQww" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_apoPgJmLEe-rD7iKiBuQww" successor_AbstractAction="_apoPgpmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apoPgpmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apoPgZmLEe-rD7iKiBuQww" successor_AbstractAction="_apoPg5mLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apoPg5mLEe-rD7iKiBuQww" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_apoPgpmLEe-rD7iKiBuQww" successor_AbstractAction="_apoPhJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apoPhJmLEe-rD7iKiBuQww" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_apoPg5mLEe-rD7iKiBuQww" successor_AbstractAction="_apoPhZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apoPhZmLEe-rD7iKiBuQww" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_apoPhJmLEe-rD7iKiBuQww" successor_AbstractAction="_apoPhpmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apoPhpmLEe-rD7iKiBuQww" entityName="deferredResult" predecessor_AbstractAction="_apoPhZmLEe-rD7iKiBuQww" successor_AbstractAction="_apoPh5mLEe-rD7iKiBuQww">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apoPh5mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apoPhpmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apoPjJmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apoPi5mLEe-rD7iKiBuQww" successor_AbstractAction="_apo2kJmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apo2kJmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apoPjJmLEe-rD7iKiBuQww" successor_AbstractAction="_apo2kZmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apo2kZmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apo2kJmLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apo2mJmLEe-rD7iKiBuQww">
          <branchBehaviour_BranchTransition id="_apo2mpmLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apo2lZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apo2lpmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apo2lpmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apo2lZmLEe-rD7iKiBuQww" successor_AbstractAction="_apo2l5mLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apo2l5mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apo2lpmLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_apo2nJmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apo2m5mLEe-rD7iKiBuQww"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_aqUzHpmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqUzHZmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_aqPTgpmLEe-rD7iKiBuQww"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_apmaU5mLEe-rD7iKiBuQww" describedService__SEFF="_ajTlEJmLEe-rD7iKiBuQww">
      <steps_Behaviour xsi:type="seff:StartAction" id="_apklIZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apklKJmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_apklKJmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apklIZmLEe-rD7iKiBuQww" successor_AbstractAction="_apklKZmLEe-rD7iKiBuQww">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apklJZmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_apklJ5mLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apklIpmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apklI5mLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apklI5mLEe-rD7iKiBuQww" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_apklIpmLEe-rD7iKiBuQww" successor_AbstractAction="_apklJJmLEe-rD7iKiBuQww">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apklJJmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apklI5mLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_apklKZmLEe-rD7iKiBuQww" entityName="stopWatch.start()" predecessor_AbstractAction="_apklKJmLEe-rD7iKiBuQww" successor_AbstractAction="_apmaUZmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_apmaUZmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apklKZmLEe-rD7iKiBuQww" successor_AbstractAction="_apmaUpmLEe-rD7iKiBuQww">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_aplzTZmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_apmaUJmLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apklKpmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_aplzS5mLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_aplzS5mLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apklKpmLEe-rD7iKiBuQww" successor_AbstractAction="_aplzTJmLEe-rD7iKiBuQww">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_aplzSJmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_aplzSpmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apklK5mLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_aplMQZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_aplMQZmLEe-rD7iKiBuQww" entityName="Switch Branch" predecessor_AbstractAction="_apklK5mLEe-rD7iKiBuQww" successor_AbstractAction="_aplMQpmLEe-rD7iKiBuQww">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_aplMMpmLEe-rD7iKiBuQww">
                      <branchBehaviour_BranchTransition id="_aplMNJmLEe-rD7iKiBuQww">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_apklLJmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apklM5mLEe-rD7iKiBuQww"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_apklM5mLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apklLJmLEe-rD7iKiBuQww" successor_AbstractAction="_aplMMJmLEe-rD7iKiBuQww">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apklMJmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_apklMpmLEe-rD7iKiBuQww">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_apklLZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apklLpmLEe-rD7iKiBuQww"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_apklLpmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apklLZmLEe-rD7iKiBuQww" successor_AbstractAction="_apklL5mLEe-rD7iKiBuQww"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_apklL5mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apklLpmLEe-rD7iKiBuQww"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_aplMMJmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_apklM5mLEe-rD7iKiBuQww" successor_AbstractAction="_aplMMZmLEe-rD7iKiBuQww"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_aplMMZmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_aplMMJmLEe-rD7iKiBuQww"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_aplMOJmLEe-rD7iKiBuQww">
                      <branchBehaviour_BranchTransition id="_aplMOpmLEe-rD7iKiBuQww">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_aplMNZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_aplMNpmLEe-rD7iKiBuQww"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_aplMNpmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_aplMNZmLEe-rD7iKiBuQww" successor_AbstractAction="_aplMN5mLEe-rD7iKiBuQww"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_aplMN5mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_aplMNpmLEe-rD7iKiBuQww"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_aplMPpmLEe-rD7iKiBuQww">
                      <branchBehaviour_BranchTransition id="_aplMQJmLEe-rD7iKiBuQww">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_aplMO5mLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_aplMPJmLEe-rD7iKiBuQww"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_aplMPJmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_aplMO5mLEe-rD7iKiBuQww" successor_AbstractAction="_aplMPZmLEe-rD7iKiBuQww"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_aplMPZmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_aplMPJmLEe-rD7iKiBuQww"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_aplMQpmLEe-rD7iKiBuQww" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_aplMQZmLEe-rD7iKiBuQww" successor_AbstractAction="_aplzQJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_aplzQJmLEe-rD7iKiBuQww" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_aplMQpmLEe-rD7iKiBuQww" successor_AbstractAction="_aplzQZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_aplzQZmLEe-rD7iKiBuQww" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_aplzQJmLEe-rD7iKiBuQww" successor_AbstractAction="_aplzQpmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_aplzQpmLEe-rD7iKiBuQww" entityName="stopWatch.stop()" predecessor_AbstractAction="_aplzQZmLEe-rD7iKiBuQww" successor_AbstractAction="_aplzQ5mLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_aplzQ5mLEe-rD7iKiBuQww" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_aplzQpmLEe-rD7iKiBuQww" successor_AbstractAction="_aplzRJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_aplzRJmLEe-rD7iKiBuQww" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_aplzQ5mLEe-rD7iKiBuQww" successor_AbstractAction="_aplzRZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_aplzRZmLEe-rD7iKiBuQww" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_aplzRJmLEe-rD7iKiBuQww" successor_AbstractAction="_aplzRpmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_aplzRpmLEe-rD7iKiBuQww" entityName="deferredResult" predecessor_AbstractAction="_aplzRZmLEe-rD7iKiBuQww" successor_AbstractAction="_aplzR5mLEe-rD7iKiBuQww">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_aplzR5mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_aplzRpmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_aplzTJmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_aplzS5mLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_apmaUpmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apmaUZmLEe-rD7iKiBuQww"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_aqXPW5mLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_aqXPXZmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqXPXJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_aqPTgZmLEe-rD7iKiBuQww"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_apiv_ZmLEe-rD7iKiBuQww" describedService__SEFF="_aj9FUJmLEe-rD7iKiBuQww">
      <steps_Behaviour xsi:type="seff:StartAction" id="_aphh1ZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apiv-pmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_apiv-pmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_aphh1ZmLEe-rD7iKiBuQww" successor_AbstractAction="_apiv-5mLEe-rD7iKiBuQww">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apiv95mLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_apiv-ZmLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_aphh1pmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apiv9ZmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_apiv9ZmLEe-rD7iKiBuQww" entityName="Switch Branch" predecessor_AbstractAction="_aphh1pmLEe-rD7iKiBuQww" successor_AbstractAction="_apiv9pmLEe-rD7iKiBuQww">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apiI5pmLEe-rD7iKiBuQww">
                <branchBehaviour_BranchTransition id="_apiI6JmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_aphh15mLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apiI4JmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_apiI4JmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_aphh15mLEe-rD7iKiBuQww" successor_AbstractAction="_apiI4ZmLEe-rD7iKiBuQww">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_aphh4JmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_aphh4pmLEe-rD7iKiBuQww">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_aphh2JmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_aphh3pmLEe-rD7iKiBuQww"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_aphh3pmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_aphh2JmLEe-rD7iKiBuQww" successor_AbstractAction="_aphh35mLEe-rD7iKiBuQww">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_aphh25mLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_aphh3ZmLEe-rD7iKiBuQww">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_aphh2ZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_aphh2pmLEe-rD7iKiBuQww"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_aphh2pmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_aphh2ZmLEe-rD7iKiBuQww"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_aphh35mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_aphh3pmLEe-rD7iKiBuQww"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apiI4ZmLEe-rD7iKiBuQww" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_apiI4JmLEe-rD7iKiBuQww" successor_AbstractAction="_apiI4pmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apiI4pmLEe-rD7iKiBuQww" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_apiI4ZmLEe-rD7iKiBuQww" successor_AbstractAction="_apiI45mLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apiI45mLEe-rD7iKiBuQww" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_apiI4pmLEe-rD7iKiBuQww" successor_AbstractAction="_apiI5JmLEe-rD7iKiBuQww">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apiI5JmLEe-rD7iKiBuQww" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_apiI45mLEe-rD7iKiBuQww" successor_AbstractAction="_apiI5ZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apiI5ZmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apiI5JmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apiI7JmLEe-rD7iKiBuQww">
                <branchBehaviour_BranchTransition id="_apiI7pmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apiI6ZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apiI6pmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apiI6pmLEe-rD7iKiBuQww" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_apiI6ZmLEe-rD7iKiBuQww" successor_AbstractAction="_apiI65mLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apiI65mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apiI6pmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apiv8pmLEe-rD7iKiBuQww">
                <branchBehaviour_BranchTransition id="_apiv9JmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apiv8JmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apiv8ZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apiv8ZmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apiv8JmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apiv9pmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apiv9ZmLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_apiv-5mLEe-rD7iKiBuQww" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_apiv-pmLEe-rD7iKiBuQww" successor_AbstractAction="_apiv_JmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_apiv_JmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apiv-5mLEe-rD7iKiBuQww"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_aqZrlZmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqZrk5mLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_aqPTgJmLEe-rD7iKiBuQww"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqZrlJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_aqPTg5mLEe-rD7iKiBuQww"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_apj-F5mLEe-rD7iKiBuQww" describedService__SEFF="_aj-TdJmLEe-rD7iKiBuQww">
      <steps_Behaviour xsi:type="seff:StartAction" id="_apiv_5mLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apjXBpmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_apjXBpmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apiv_5mLEe-rD7iKiBuQww" successor_AbstractAction="_apj-FZmLEe-rD7iKiBuQww">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apiwA5mLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_apiwBZmLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apiwAJmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apiwAZmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apiwAZmLEe-rD7iKiBuQww" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_apiwAJmLEe-rD7iKiBuQww" successor_AbstractAction="_apiwApmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apiwApmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apiwAZmLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apjXA5mLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_apjXBZmLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apjXAJmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apjXAZmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_apjXAZmLEe-rD7iKiBuQww" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_apjXAJmLEe-rD7iKiBuQww" successor_AbstractAction="_apjXApmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apjXApmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apjXAZmLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_apj-FZmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apjXBpmLEe-rD7iKiBuQww" successor_AbstractAction="_apj-FpmLEe-rD7iKiBuQww">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apj-EpmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_apj-FJmLEe-rD7iKiBuQww">
            <steps_Behaviour xsi:type="seff:StartAction" id="_apjXB5mLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apj-EJmLEe-rD7iKiBuQww"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_apj-EJmLEe-rD7iKiBuQww" entityName="If Branch" predecessor_AbstractAction="_apjXB5mLEe-rD7iKiBuQww" successor_AbstractAction="_apj-EZmLEe-rD7iKiBuQww">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apjXDJmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_apjXDpmLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apjXCJmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apjXCZmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_apjXCZmLEe-rD7iKiBuQww" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_apjXCJmLEe-rD7iKiBuQww" successor_AbstractAction="_apjXCpmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apjXCpmLEe-rD7iKiBuQww" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_apjXCZmLEe-rD7iKiBuQww" successor_AbstractAction="_apjXC5mLEe-rD7iKiBuQww">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apjXC5mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apjXCpmLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_apjXEZmLEe-rD7iKiBuQww" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_apjXE5mLEe-rD7iKiBuQww">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_apjXD5mLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apjXEJmLEe-rD7iKiBuQww"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_apjXEJmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apjXD5mLEe-rD7iKiBuQww"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_apj-EZmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apj-EJmLEe-rD7iKiBuQww"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_apj-FpmLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apj-FZmLEe-rD7iKiBuQww"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_apj-HJmLEe-rD7iKiBuQww" describedService__SEFF="_aj8eQpmLEe-rD7iKiBuQww">
      <steps_Behaviour xsi:type="seff:StartAction" id="_apj-GZmLEe-rD7iKiBuQww" entityName="Start Action" successor_AbstractAction="_apj-GpmLEe-rD7iKiBuQww"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_apj-GpmLEe-rD7iKiBuQww" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_apj-GZmLEe-rD7iKiBuQww" successor_AbstractAction="_apj-G5mLEe-rD7iKiBuQww">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_apj-G5mLEe-rD7iKiBuQww" entityName="Stop Action" predecessor_AbstractAction="_apj-GpmLEe-rD7iKiBuQww"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_aqfLIJmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_aqgZRJmLEe-rD7iKiBuQww" encapsulatedComponent__AssemblyContext="_aqXPW5mLEe-rD7iKiBuQww"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_aqfLIpmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_aqgZQpmLEe-rD7iKiBuQww" encapsulatedComponent__AssemblyContext="_aqPTh5mLEe-rD7iKiBuQww"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_aqhAUpmLEe-rD7iKiBuQww" innerProvidedRole_ProvidedDelegationConnector="_aqPThpmLEe-rD7iKiBuQww" outerProvidedRole_ProvidedDelegationConnector="_aqfLIZmLEe-rD7iKiBuQww" assemblyContext_ProvidedDelegationConnector="_aqgZQpmLEe-rD7iKiBuQww"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqfLIZmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_aqPThJmLEe-rD7iKiBuQww"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_aqfLJJmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_aqfyNpmLEe-rD7iKiBuQww" encapsulatedComponent__AssemblyContext="_aqSW3ZmLEe-rD7iKiBuQww"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_aqhAU5mLEe-rD7iKiBuQww" innerProvidedRole_ProvidedDelegationConnector="_aqSW3JmLEe-rD7iKiBuQww" outerProvidedRole_ProvidedDelegationConnector="_aqfLI5mLEe-rD7iKiBuQww" assemblyContext_ProvidedDelegationConnector="_aqfyNpmLEe-rD7iKiBuQww"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqfLI5mLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_aqPThZmLEe-rD7iKiBuQww"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_aqfLJpmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_aqgZQJmLEe-rD7iKiBuQww" encapsulatedComponent__AssemblyContext="_aqXPXZmLEe-rD7iKiBuQww"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_aqhAVJmLEe-rD7iKiBuQww" innerProvidedRole_ProvidedDelegationConnector="_aqXPXJmLEe-rD7iKiBuQww" outerProvidedRole_ProvidedDelegationConnector="_aqfLJZmLEe-rD7iKiBuQww" assemblyContext_ProvidedDelegationConnector="_aqgZQJmLEe-rD7iKiBuQww"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqfLJZmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_aqPTgZmLEe-rD7iKiBuQww"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_aqfLKZmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_aqfyNJmLEe-rD7iKiBuQww" encapsulatedComponent__AssemblyContext="_aqZrlZmLEe-rD7iKiBuQww"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_aqhAUJmLEe-rD7iKiBuQww" innerProvidedRole_ProvidedDelegationConnector="_aqZrk5mLEe-rD7iKiBuQww" outerProvidedRole_ProvidedDelegationConnector="_aqfLJ5mLEe-rD7iKiBuQww" assemblyContext_ProvidedDelegationConnector="_aqfyNJmLEe-rD7iKiBuQww"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_aqhAVZmLEe-rD7iKiBuQww" innerProvidedRole_ProvidedDelegationConnector="_aqZrlJmLEe-rD7iKiBuQww" outerProvidedRole_ProvidedDelegationConnector="_aqfLKJmLEe-rD7iKiBuQww" assemblyContext_ProvidedDelegationConnector="_aqfyNJmLEe-rD7iKiBuQww"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqfLJ5mLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_aqPTgJmLEe-rD7iKiBuQww"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqfLKJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_aqPTg5mLEe-rD7iKiBuQww"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_aqfyMZmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_aqfyMpmLEe-rD7iKiBuQww" encapsulatedComponent__AssemblyContext="_aqUzHpmLEe-rD7iKiBuQww"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_aqhAUZmLEe-rD7iKiBuQww" innerProvidedRole_ProvidedDelegationConnector="_aqUzHZmLEe-rD7iKiBuQww" outerProvidedRole_ProvidedDelegationConnector="_aqfyMJmLEe-rD7iKiBuQww" assemblyContext_ProvidedDelegationConnector="_aqfyMpmLEe-rD7iKiBuQww"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_aqfyMJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_aqPTgpmLEe-rD7iKiBuQww"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_aqPTgJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_aj-TdJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_aj8eQZmLEe-rD7iKiBuQww">
      <parameters__OperationSignature dataType__Parameter="_aj-TcpmLEe-rD7iKiBuQww" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_aj-Tc5mLEe-rD7iKiBuQww" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_aqPTgZmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_aj9FUJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_aj8eQZmLEe-rD7iKiBuQww">
      <parameters__OperationSignature dataType__Parameter="_ajRv4JmLEe-rD7iKiBuQww" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_aqPTgpmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_ajTlEJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_ajS-AJmLEe-rD7iKiBuQww">
      <parameters__OperationSignature dataType__Parameter="_ajRv4JmLEe-rD7iKiBuQww" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_aqPTg5mLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_aj8eQpmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_aj8eQZmLEe-rD7iKiBuQww">
      <parameters__OperationSignature dataType__Parameter="_aj8eQJmLEe-rD7iKiBuQww" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_aqPThJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_aj9sY5mLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_ajS-AJmLEe-rD7iKiBuQww">
      <parameters__OperationSignature dataType__Parameter="_ajRv4JmLEe-rD7iKiBuQww" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_aqPThZmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_aj9sYJmLEe-rD7iKiBuQww" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_ajS-AJmLEe-rD7iKiBuQww">
      <parameters__OperationSignature dataType__Parameter="_aj9FU5mLEe-rD7iKiBuQww" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ajRv4JmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ajS-AJmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_aj8eQJmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_aj8eQZmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_aj9FU5mLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_aj-TcpmLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_aj-Tc5mLEe-rD7iKiBuQww" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
