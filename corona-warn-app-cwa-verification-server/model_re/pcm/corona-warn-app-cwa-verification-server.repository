<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_-Zc5zLqMEe-007z3TBZmLQ">
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZMbFbqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZMbE7qMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_-ZL0C7qMEe-007z3TBZmLQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZMbFLqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_-ZMbELqMEe-007z3TBZmLQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-Yjh4rqMEe-007z3TBZmLQ" describedService__SEFF="_-Ssxg7qMEe-007z3TBZmLQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-Yi62rqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yjh4LqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-Yjh4LqMEe-007z3TBZmLQ" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_-Yi62rqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yjh4bqMEe-007z3TBZmLQ">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-Yjh4bqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yjh4LqMEe-007z3TBZmLQ"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-YkwB7qMEe-007z3TBZmLQ" describedService__SEFF="_-SsKdrqMEe-007z3TBZmLQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-Yjh5LqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YkI9LqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YkI9LqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-Yjh5LqMEe-007z3TBZmLQ" successor_AbstractAction="_-YkwBbqMEe-007z3TBZmLQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-Yjh6LqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-Yjh6rqMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-Yjh5bqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yjh5rqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yjh5rqMEe-007z3TBZmLQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_-Yjh5bqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yjh57qMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-Yjh57qMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yjh5rqMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YkI8bqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YkI87qMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-Yjh67qMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yjh7LqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yjh7LqMEe-007z3TBZmLQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_-Yjh67qMEe-007z3TBZmLQ" successor_AbstractAction="_-YkI8LqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YkI8LqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yjh7LqMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YkwBbqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YkI9LqMEe-007z3TBZmLQ" successor_AbstractAction="_-YkwBrqMEe-007z3TBZmLQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YkwArqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YkwBLqMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YkI9bqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YkwALqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YkwALqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YkI9bqMEe-007z3TBZmLQ" successor_AbstractAction="_-YkwAbqMEe-007z3TBZmLQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YkI-rqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-YkI_LqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YkI9rqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YkI97qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YkI97qMEe-007z3TBZmLQ" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_-YkI9rqMEe-007z3TBZmLQ" successor_AbstractAction="_-YkI-LqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YkI-LqMEe-007z3TBZmLQ" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_-YkI97qMEe-007z3TBZmLQ" successor_AbstractAction="_-YkI-bqMEe-007z3TBZmLQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YkI-bqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YkI-LqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YkI_7qMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-YkJAbqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YkI_bqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YkI_rqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YkI_rqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YkI_bqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YkwAbqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YkwALqMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-YkwBrqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YkwBbqMEe-007z3TBZmLQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZR6obqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZR6oLqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_-ZL0CrqMEe-007z3TBZmLQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-YdbQ7qMEe-007z3TBZmLQ" describedService__SEFF="_-St_oLqMEe-007z3TBZmLQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-TGaIbqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YZw4LqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YZw4LqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-TGaIbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YaX8LqMEe-007z3TBZmLQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YYiwLqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YZJ0LqMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-TIPULqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YX7sLqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YX7sLqMEe-007z3TBZmLQ" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_-TIPULqMEe-007z3TBZmLQ" successor_AbstractAction="_-YX7sbqMEe-007z3TBZmLQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YX7sbqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YX7sLqMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-YaX8LqMEe-007z3TBZmLQ" entityName="stopWatch.start()" predecessor_AbstractAction="_-YZw4LqMEe-007z3TBZmLQ" successor_AbstractAction="_-YdbQbqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YdbQbqMEe-007z3TBZmLQ" entityName="Switch Branch" predecessor_AbstractAction="_-YaX8LqMEe-007z3TBZmLQ" successor_AbstractAction="_-YdbQrqMEe-007z3TBZmLQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YcNJLqMEe-007z3TBZmLQ">
          <branchBehaviour_BranchTransition id="_-YcNJrqMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-Ya_ALqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Ya_AbqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-Ya_AbqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-Ya_ALqMEe-007z3TBZmLQ" successor_AbstractAction="_-Ya_ArqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-Ya_ArqMEe-007z3TBZmLQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-Ya_AbqMEe-007z3TBZmLQ" successor_AbstractAction="_-Ya_A7qMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-Ya_A7qMEe-007z3TBZmLQ" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_-Ya_ArqMEe-007z3TBZmLQ" successor_AbstractAction="_-Ya_BLqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-Ya_BLqMEe-007z3TBZmLQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_-Ya_A7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YbmELqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YbmELqMEe-007z3TBZmLQ" entityName="deferredResult" predecessor_AbstractAction="_-Ya_BLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YcNILqMEe-007z3TBZmLQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YcNILqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YbmELqMEe-007z3TBZmLQ" successor_AbstractAction="_-YcNIbqMEe-007z3TBZmLQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YbmGrqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-YbmHLqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YbmEbqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YbmErqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YbmErqMEe-007z3TBZmLQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_-YbmEbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YbmE7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YbmE7qMEe-007z3TBZmLQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_-YbmErqMEe-007z3TBZmLQ" successor_AbstractAction="_-YbmFLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YbmFLqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YbmE7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YbmFbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YbmFbqMEe-007z3TBZmLQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YbmFLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YbmFrqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YbmFrqMEe-007z3TBZmLQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_-YbmFbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YbmF7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YbmF7qMEe-007z3TBZmLQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_-YbmFrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YbmGLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YbmGLqMEe-007z3TBZmLQ" entityName="deferredResult" predecessor_AbstractAction="_-YbmF7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YbmGbqMEe-007z3TBZmLQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YbmGbqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YbmGLqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YcNIbqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YcNILqMEe-007z3TBZmLQ" successor_AbstractAction="_-YcNIrqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YcNIrqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YcNIbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YcNI7qMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YcNI7qMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YcNIrqMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-Yc0O7qMEe-007z3TBZmLQ">
          <branchBehaviour_BranchTransition id="_-Yc0PbqMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YcNJ7qMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yc0N7qMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-Yc0N7qMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YcNJ7qMEe-007z3TBZmLQ" successor_AbstractAction="_-Yc0OLqMEe-007z3TBZmLQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-Yc0NLqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-Yc0NrqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YcNKLqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YcNKbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YcNKbqMEe-007z3TBZmLQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_-YcNKLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YcNKrqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YcNKrqMEe-007z3TBZmLQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_-YcNKbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YcNK7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YcNK7qMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YcNKrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YcNLLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YcNLLqMEe-007z3TBZmLQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YcNK7qMEe-007z3TBZmLQ" successor_AbstractAction="_-Yc0MLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yc0MLqMEe-007z3TBZmLQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_-YcNLLqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yc0MbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yc0MbqMEe-007z3TBZmLQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_-Yc0MLqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yc0MrqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-Yc0MrqMEe-007z3TBZmLQ" entityName="deferredResult" predecessor_AbstractAction="_-Yc0MbqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yc0M7qMEe-007z3TBZmLQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-Yc0M7qMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yc0MrqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yc0OLqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-Yc0N7qMEe-007z3TBZmLQ" successor_AbstractAction="_-Yc0ObqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yc0ObqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-Yc0OLqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yc0OrqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-Yc0OrqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yc0ObqMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-Yc0QbqMEe-007z3TBZmLQ">
          <branchBehaviour_BranchTransition id="_-YdbQLqMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-Yc0PrqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yc0P7qMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yc0P7qMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-Yc0PrqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yc0QLqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-Yc0QLqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yc0P7qMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-YdbQrqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YdbQbqMEe-007z3TBZmLQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZUW4bqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZUW4LqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_-ZMbErqMEe-007z3TBZmLQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-Yf3grqMEe-007z3TBZmLQ" describedService__SEFF="_-StYkbqMEe-007z3TBZmLQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-YdbRbqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YdbTLqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YdbTLqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YdbRbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YdbTbqMEe-007z3TBZmLQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YdbSbqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YdbS7qMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YdbRrqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YdbR7qMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YdbR7qMEe-007z3TBZmLQ" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_-YdbRrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YdbSLqMEe-007z3TBZmLQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YdbSLqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YdbR7qMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-YdbTbqMEe-007z3TBZmLQ" entityName="stopWatch.start()" predecessor_AbstractAction="_-YdbTLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YfQgrqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YfQgrqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YdbTbqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yf3gLqMEe-007z3TBZmLQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YfQf7qMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YfQgbqMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YdbTrqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YfQfbqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YfQfbqMEe-007z3TBZmLQ" entityName="Switch Branch" predecessor_AbstractAction="_-YdbTrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YfQfrqMEe-007z3TBZmLQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YepZ7qMEe-007z3TBZmLQ">
                <branchBehaviour_BranchTransition id="_-YepabqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YeCULqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YeCUbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YeCUbqMEe-007z3TBZmLQ" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_-YeCULqMEe-007z3TBZmLQ" successor_AbstractAction="_-YeCXbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_-YeCXbqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YeCUbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YeCXrqMEe-007z3TBZmLQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YeCWrqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_-YeCXLqMEe-007z3TBZmLQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-YeCUrqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YeCWLqMEe-007z3TBZmLQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_-YeCWLqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YeCUrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YeCWbqMEe-007z3TBZmLQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YeCVbqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_-YeCV7qMEe-007z3TBZmLQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_-YeCU7qMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YeCVLqMEe-007z3TBZmLQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_-YeCVLqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YeCU7qMEe-007z3TBZmLQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-YeCWbqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YeCWLqMEe-007z3TBZmLQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YeCXrqMEe-007z3TBZmLQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_-YeCXbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YeCX7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YeCX7qMEe-007z3TBZmLQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_-YeCXrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YeCYLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YeCYLqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YeCX7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YeCYbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YeCYbqMEe-007z3TBZmLQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YeCYLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YeCYrqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YeCYrqMEe-007z3TBZmLQ" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_-YeCYbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YeCY7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YeCY7qMEe-007z3TBZmLQ" entityName="deferredResult" predecessor_AbstractAction="_-YeCYrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YepYLqMEe-007z3TBZmLQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YepYLqMEe-007z3TBZmLQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_-YeCY7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YepYbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YepYbqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YepYLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YepYrqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YepYrqMEe-007z3TBZmLQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YepYbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YepY7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YepY7qMEe-007z3TBZmLQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_-YepYrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YepZLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YepZLqMEe-007z3TBZmLQ" entityName="deferredResult" predecessor_AbstractAction="_-YepY7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YepZbqMEe-007z3TBZmLQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YepZbqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YepZLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YepZrqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YepZrqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YepZbqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YfQdLqMEe-007z3TBZmLQ">
                <branchBehaviour_BranchTransition id="_-YfQdrqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YeparqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yepa7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yepa7qMEe-007z3TBZmLQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_-YeparqMEe-007z3TBZmLQ" successor_AbstractAction="_-YepbLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YepbLqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-Yepa7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YepbbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YepbbqMEe-007z3TBZmLQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YepbLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YfQcLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YfQcLqMEe-007z3TBZmLQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_-YepbbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YfQcbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YfQcbqMEe-007z3TBZmLQ" entityName="deferredResult" predecessor_AbstractAction="_-YfQcLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YfQcrqMEe-007z3TBZmLQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YfQcrqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YfQcbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YfQc7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YfQc7qMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YfQcrqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YfQerqMEe-007z3TBZmLQ">
                <branchBehaviour_BranchTransition id="_-YfQfLqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YfQd7qMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YfQeLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YfQeLqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YfQd7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YfQebqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YfQebqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YfQeLqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YfQfrqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YfQfbqMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yf3gLqMEe-007z3TBZmLQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_-YfQgrqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yf3gbqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-Yf3gbqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yf3gLqMEe-007z3TBZmLQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZWMHrqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZWMHbqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_-ZMbEbqMEe-007z3TBZmLQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-YhFp7qMEe-007z3TBZmLQ" describedService__SEFF="_-SsKcbqMEe-007z3TBZmLQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-Yf3hLqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YhFpLqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YhFpLqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-Yf3hLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YhFpbqMEe-007z3TBZmLQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YhFobqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YhFo7qMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-Yf3hbqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YgeorqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YgeorqMEe-007z3TBZmLQ" entityName="Switch Branch" predecessor_AbstractAction="_-Yf3hbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YhFoLqMEe-007z3TBZmLQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YgelLqMEe-007z3TBZmLQ">
                <branchBehaviour_BranchTransition id="_-YgelrqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-Yf3hrqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yf3krqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_-Yf3krqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-Yf3hrqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yf3k7qMEe-007z3TBZmLQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-Yf3j7qMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_-Yf3kbqMEe-007z3TBZmLQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-Yf3h7qMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yf3jbqMEe-007z3TBZmLQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_-Yf3jbqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-Yf3h7qMEe-007z3TBZmLQ" successor_AbstractAction="_-Yf3jrqMEe-007z3TBZmLQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-Yf3irqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_-Yf3jLqMEe-007z3TBZmLQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_-Yf3iLqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yf3ibqMEe-007z3TBZmLQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_-Yf3ibqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yf3iLqMEe-007z3TBZmLQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-Yf3jrqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yf3jbqMEe-007z3TBZmLQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-Yf3k7qMEe-007z3TBZmLQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_-Yf3krqMEe-007z3TBZmLQ" successor_AbstractAction="_-YgekLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YgekLqMEe-007z3TBZmLQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_-Yf3k7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YgekbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YgekbqMEe-007z3TBZmLQ" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_-YgekLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YgekrqMEe-007z3TBZmLQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YgekrqMEe-007z3TBZmLQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_-YgekbqMEe-007z3TBZmLQ" successor_AbstractAction="_-Ygek7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-Ygek7qMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YgekrqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YgemrqMEe-007z3TBZmLQ">
                <branchBehaviour_BranchTransition id="_-YgenLqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-Ygel7qMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YgemLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YgemLqMEe-007z3TBZmLQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_-Ygel7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YgembqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YgembqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YgemLqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-Ygen7qMEe-007z3TBZmLQ">
                <branchBehaviour_BranchTransition id="_-YgeobqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YgenbqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YgenrqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YgenrqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YgenbqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YhFoLqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YgeorqMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-YhFpbqMEe-007z3TBZmLQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_-YhFpLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YhFprqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-YhFprqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YhFpbqMEe-007z3TBZmLQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZYoUbqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZYoULqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_-ZL0CbqMEe-007z3TBZmLQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-Yi62LqMEe-007z3TBZmLQ" describedService__SEFF="_-SDRQLqMEe-007z3TBZmLQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-YhFqbqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YhFsLqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YhFsLqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YhFqbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YhFsbqMEe-007z3TBZmLQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YhFrbqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YhFr7qMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YhFqrqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YhFq7qMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YhFq7qMEe-007z3TBZmLQ" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_-YhFqrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YhFrLqMEe-007z3TBZmLQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YhFrLqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YhFq7qMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-YhFsbqMEe-007z3TBZmLQ" entityName="stopWatch.start()" predecessor_AbstractAction="_-YhFsLqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yi61rqMEe-007z3TBZmLQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-Yi61rqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YhFsbqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yi617qMEe-007z3TBZmLQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-Yi607qMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-Yi61bqMEe-007z3TBZmLQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YhssLqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-Yi60bqMEe-007z3TBZmLQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-Yi60bqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YhssLqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yi60rqMEe-007z3TBZmLQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YiTz7qMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-Yi60LqMEe-007z3TBZmLQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YhssbqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YiTxbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_-YiTxbqMEe-007z3TBZmLQ" entityName="Switch Branch" predecessor_AbstractAction="_-YhssbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTxrqMEe-007z3TBZmLQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YhsvLqMEe-007z3TBZmLQ">
                      <branchBehaviour_BranchTransition id="_-YhsvrqMEe-007z3TBZmLQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-YhssrqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YhsubqMEe-007z3TBZmLQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_-YhsubqMEe-007z3TBZmLQ" entityName="If Branch" predecessor_AbstractAction="_-YhssrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YhsurqMEe-007z3TBZmLQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YhstrqMEe-007z3TBZmLQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_-YhsuLqMEe-007z3TBZmLQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_-Yhss7qMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YhstLqMEe-007z3TBZmLQ"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_-YhstLqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-Yhss7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YhstbqMEe-007z3TBZmLQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_-YhstbqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YhstLqMEe-007z3TBZmLQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_-YhsurqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YhsubqMEe-007z3TBZmLQ" successor_AbstractAction="_-Yhsu7qMEe-007z3TBZmLQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-Yhsu7qMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YhsurqMEe-007z3TBZmLQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YhswrqMEe-007z3TBZmLQ">
                      <branchBehaviour_BranchTransition id="_-YhsxLqMEe-007z3TBZmLQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-Yhsv7qMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YhswLqMEe-007z3TBZmLQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_-YhswLqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-Yhsv7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YhswbqMEe-007z3TBZmLQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-YhswbqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YhswLqMEe-007z3TBZmLQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YiTwrqMEe-007z3TBZmLQ">
                      <branchBehaviour_BranchTransition id="_-YiTxLqMEe-007z3TBZmLQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-YhsxbqMEe-007z3TBZmLQ" entityName="Start Action" successor_AbstractAction="_-YiTwLqMEe-007z3TBZmLQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_-YiTwLqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YhsxbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTwbqMEe-007z3TBZmLQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-YiTwbqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YiTwLqMEe-007z3TBZmLQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YiTxrqMEe-007z3TBZmLQ" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_-YiTxbqMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTx7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YiTx7qMEe-007z3TBZmLQ" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_-YiTxrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTyLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YiTyLqMEe-007z3TBZmLQ" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_-YiTx7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTybqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YiTybqMEe-007z3TBZmLQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YiTyLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTyrqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YiTyrqMEe-007z3TBZmLQ" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YiTybqMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTy7qMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YiTy7qMEe-007z3TBZmLQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_-YiTyrqMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTzLqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YiTzLqMEe-007z3TBZmLQ" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_-YiTy7qMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTzbqMEe-007z3TBZmLQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YiTzbqMEe-007z3TBZmLQ" entityName="deferredResult" predecessor_AbstractAction="_-YiTzLqMEe-007z3TBZmLQ" successor_AbstractAction="_-YiTzrqMEe-007z3TBZmLQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YiTzrqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-YiTzbqMEe-007z3TBZmLQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-Yi60rqMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yi60bqMEe-007z3TBZmLQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-Yi617qMEe-007z3TBZmLQ" entityName="Stop Action" predecessor_AbstractAction="_-Yi61rqMEe-007z3TBZmLQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZadjLqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZcSsbqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_-Zc5xrqMEe-007z3TBZmLQ" encapsulatedComponent__AssemblyContext="_-ZUW4bqMEe-007z3TBZmLQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZeH4bqMEe-007z3TBZmLQ" innerProvidedRole_ProvidedDelegationConnector="_-ZUW4LqMEe-007z3TBZmLQ" outerProvidedRole_ProvidedDelegationConnector="_-ZcSsLqMEe-007z3TBZmLQ" assemblyContext_ProvidedDelegationConnector="_-Zc5xrqMEe-007z3TBZmLQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZcSsLqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_-ZMbErqMEe-007z3TBZmLQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZcSsrqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_-Zc5yrqMEe-007z3TBZmLQ" encapsulatedComponent__AssemblyContext="_-ZadjLqMEe-007z3TBZmLQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZcStLqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_-Zc5yLqMEe-007z3TBZmLQ" encapsulatedComponent__AssemblyContext="_-ZR6obqMEe-007z3TBZmLQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZeH4rqMEe-007z3TBZmLQ" innerProvidedRole_ProvidedDelegationConnector="_-ZR6oLqMEe-007z3TBZmLQ" outerProvidedRole_ProvidedDelegationConnector="_-ZcSs7qMEe-007z3TBZmLQ" assemblyContext_ProvidedDelegationConnector="_-Zc5yLqMEe-007z3TBZmLQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZcSs7qMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_-ZL0CrqMEe-007z3TBZmLQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZcStrqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_-Zc5wLqMEe-007z3TBZmLQ" encapsulatedComponent__AssemblyContext="_-ZYoUbqMEe-007z3TBZmLQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-Zdg0LqMEe-007z3TBZmLQ" innerProvidedRole_ProvidedDelegationConnector="_-ZYoULqMEe-007z3TBZmLQ" outerProvidedRole_ProvidedDelegationConnector="_-ZcStbqMEe-007z3TBZmLQ" assemblyContext_ProvidedDelegationConnector="_-Zc5wLqMEe-007z3TBZmLQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZcStbqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_-ZL0CbqMEe-007z3TBZmLQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZcSubqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_-Zc5wrqMEe-007z3TBZmLQ" encapsulatedComponent__AssemblyContext="_-ZMbFbqMEe-007z3TBZmLQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZeH4LqMEe-007z3TBZmLQ" innerProvidedRole_ProvidedDelegationConnector="_-ZMbE7qMEe-007z3TBZmLQ" outerProvidedRole_ProvidedDelegationConnector="_-ZcSt7qMEe-007z3TBZmLQ" assemblyContext_ProvidedDelegationConnector="_-Zc5wrqMEe-007z3TBZmLQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZeH47qMEe-007z3TBZmLQ" innerProvidedRole_ProvidedDelegationConnector="_-ZMbFLqMEe-007z3TBZmLQ" outerProvidedRole_ProvidedDelegationConnector="_-ZcSuLqMEe-007z3TBZmLQ" assemblyContext_ProvidedDelegationConnector="_-Zc5wrqMEe-007z3TBZmLQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZcSt7qMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_-ZL0C7qMEe-007z3TBZmLQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZcSuLqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_-ZMbELqMEe-007z3TBZmLQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZcSu7qMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_-Zc5xLqMEe-007z3TBZmLQ" encapsulatedComponent__AssemblyContext="_-ZWMHrqMEe-007z3TBZmLQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZeH5LqMEe-007z3TBZmLQ" innerProvidedRole_ProvidedDelegationConnector="_-ZWMHbqMEe-007z3TBZmLQ" outerProvidedRole_ProvidedDelegationConnector="_-ZcSurqMEe-007z3TBZmLQ" assemblyContext_ProvidedDelegationConnector="_-Zc5xLqMEe-007z3TBZmLQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZcSurqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_-ZMbEbqMEe-007z3TBZmLQ"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZL0CbqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_-SDRQLqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_-SCDILqMEe-007z3TBZmLQ">
      <parameters__OperationSignature dataType__Parameter="_-SA1ALqMEe-007z3TBZmLQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZL0CrqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_-St_oLqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_-SCDILqMEe-007z3TBZmLQ">
      <parameters__OperationSignature dataType__Parameter="_-StYlLqMEe-007z3TBZmLQ" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZL0C7qMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_-Ssxg7qMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_-SsKcLqMEe-007z3TBZmLQ">
      <parameters__OperationSignature dataType__Parameter="_-SsxgrqMEe-007z3TBZmLQ" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZMbELqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_-SsKdrqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_-SsKcLqMEe-007z3TBZmLQ">
      <parameters__OperationSignature dataType__Parameter="_-SsKdLqMEe-007z3TBZmLQ" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_-SsKdbqMEe-007z3TBZmLQ" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZMbEbqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_-SsKcbqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_-SsKcLqMEe-007z3TBZmLQ">
      <parameters__OperationSignature dataType__Parameter="_-SA1ALqMEe-007z3TBZmLQ" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZMbErqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_-StYkbqMEe-007z3TBZmLQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_-SCDILqMEe-007z3TBZmLQ">
      <parameters__OperationSignature dataType__Parameter="_-SA1ALqMEe-007z3TBZmLQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-SA1ALqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-SCDILqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-SsKcLqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-SsKdLqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-SsKdbqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-SsxgrqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-StYlLqMEe-007z3TBZmLQ" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
