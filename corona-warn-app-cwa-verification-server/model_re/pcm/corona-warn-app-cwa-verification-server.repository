<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_8HLGKNYMEe-vrsy29_9aSQ">
  <components__Repository xsi:type="repository:BasicComponent" id="_8G6AZdYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8G6AZNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_8G6AYtYMEe-vrsy29_9aSQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8GP5JNYMEe-vrsy29_9aSQ" describedService__SEFF="_8AXTgNYMEe-vrsy29_9aSQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8GOD4dYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GOD6NYMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8GOD6NYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GOD4dYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOD6dYMEe-vrsy29_9aSQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GOD5dYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8GOD59YMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GOD4tYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GOD49YMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GOD49YMEe-vrsy29_9aSQ" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_8GOD4tYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOD5NYMEe-vrsy29_9aSQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GOD5NYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GOD49YMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8GOD6dYMEe-vrsy29_9aSQ" entityName="stopWatch.start()" predecessor_AbstractAction="_8GOD6NYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GP5IdYMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8GP5IdYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GOD6dYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GP5ItYMEe-vrsy29_9aSQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GP5HtYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8GP5INYMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GOD6tYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GP5HNYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8GP5HNYMEe-vrsy29_9aSQ" entityName="Switch Branch" predecessor_AbstractAction="_8GOD6tYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GP5HdYMEe-vrsy29_9aSQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GPSBtYMEe-vrsy29_9aSQ">
                <branchBehaviour_BranchTransition id="_8GPSCNYMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GOq8NYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GOq8dYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GOq8dYMEe-vrsy29_9aSQ" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_8GOq8NYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOq_dYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_8GOq_dYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GOq8dYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOq_tYMEe-vrsy29_9aSQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GOq-tYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_8GOq_NYMEe-vrsy29_9aSQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8GOq8tYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GOq-NYMEe-vrsy29_9aSQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_8GOq-NYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GOq8tYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOq-dYMEe-vrsy29_9aSQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GOq9dYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_8GOq99YMEe-vrsy29_9aSQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_8GOq89YMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GOq9NYMEe-vrsy29_9aSQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_8GOq9NYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GOq89YMEe-vrsy29_9aSQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8GOq-dYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GOq-NYMEe-vrsy29_9aSQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GOq_tYMEe-vrsy29_9aSQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_8GOq_dYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOq_9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GOq_9YMEe-vrsy29_9aSQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_8GOq_tYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOrANYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GOrANYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GOq_9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOrAdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GOrAdYMEe-vrsy29_9aSQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8GOrANYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOrAtYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GOrAtYMEe-vrsy29_9aSQ" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_8GOrAdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOrA9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GOrA9YMEe-vrsy29_9aSQ" entityName="deferredResult" predecessor_AbstractAction="_8GOrAtYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GOrBNYMEe-vrsy29_9aSQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GOrBNYMEe-vrsy29_9aSQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_8GOrA9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GPSANYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GPSANYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GOrBNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GPSAdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GPSAdYMEe-vrsy29_9aSQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8GPSANYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GPSAtYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GPSAtYMEe-vrsy29_9aSQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_8GPSAdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GPSA9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GPSA9YMEe-vrsy29_9aSQ" entityName="deferredResult" predecessor_AbstractAction="_8GPSAtYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GPSBNYMEe-vrsy29_9aSQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GPSBNYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GPSA9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GPSBdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GPSBdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GPSBNYMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GP5E9YMEe-vrsy29_9aSQ">
                <branchBehaviour_BranchTransition id="_8GP5FdYMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GPSCdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GPSCtYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GPSCtYMEe-vrsy29_9aSQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_8GPSCdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GPSC9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GPSC9YMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GPSCtYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GPSDNYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GPSDNYMEe-vrsy29_9aSQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8GPSC9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GPSDdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GPSDdYMEe-vrsy29_9aSQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_8GPSDNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GP5ENYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GP5ENYMEe-vrsy29_9aSQ" entityName="deferredResult" predecessor_AbstractAction="_8GPSDdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GP5EdYMEe-vrsy29_9aSQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GP5EdYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GP5ENYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GP5EtYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GP5EtYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GP5EdYMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GP5GdYMEe-vrsy29_9aSQ">
                <branchBehaviour_BranchTransition id="_8GP5G9YMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GP5FtYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GP5F9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GP5F9YMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GP5FtYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GP5GNYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GP5GNYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GP5F9YMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GP5HdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GP5HNYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8GP5ItYMEe-vrsy29_9aSQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_8GP5IdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GP5I9YMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8GP5I9YMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GP5ItYMEe-vrsy29_9aSQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_8G9Ds9YMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_8G9DttYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8G9DtNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_8G5ZWNYMEe-vrsy29_9aSQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8G9DtdYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_8G6AYdYMEe-vrsy29_9aSQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8GRuRtYMEe-vrsy29_9aSQ" describedService__SEFF="_8AYhoNYMEe-vrsy29_9aSQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8GRuQ9YMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GRuRNYMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GRuRNYMEe-vrsy29_9aSQ" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_8GRuQ9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GRuRdYMEe-vrsy29_9aSQ">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8GRuRdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GRuRNYMEe-vrsy29_9aSQ"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8GS8cNYMEe-vrsy29_9aSQ" describedService__SEFF="_7_lQYNYMEe-vrsy29_9aSQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8GRuSNYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GSVW9YMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8GSVW9YMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GRuSNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GS8btYMEe-vrsy29_9aSQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GSVUtYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8GSVVNYMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GRuSdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GSVUNYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GSVUNYMEe-vrsy29_9aSQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_8GRuSdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GSVUdYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GSVUdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GSVUNYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GSVWNYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8GSVWtYMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GSVVdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GSVVtYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GSVVtYMEe-vrsy29_9aSQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_8GSVVdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GSVV9YMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GSVV9YMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GSVVtYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8GS8btYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GSVW9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GS8b9YMEe-vrsy29_9aSQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GS8a9YMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8GS8bdYMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GSVXNYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GS8adYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8GS8adYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GSVXNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GS8atYMEe-vrsy29_9aSQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GS8YdYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8GS8Y9YMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GSVXdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GSVXtYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GSVXtYMEe-vrsy29_9aSQ" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_8GSVXdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GSVX9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GSVX9YMEe-vrsy29_9aSQ" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_8GSVXtYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GS8YNYMEe-vrsy29_9aSQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GS8YNYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GSVX9YMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GS8ZtYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8GS8aNYMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GS8ZNYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GS8ZdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GS8ZdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GS8ZNYMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GS8atYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GS8adYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8GS8b9YMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GS8btYMEe-vrsy29_9aSQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_8HB8MdYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8HB8MNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_8G5ZV9YMEe-vrsy29_9aSQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8GRuQdYMEe-vrsy29_9aSQ" describedService__SEFF="_8AX6kdYMEe-vrsy29_9aSQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8GQgIdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GRHQ9YMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8GRHQ9YMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GQgIdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GRHRNYMEe-vrsy29_9aSQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GRHQNYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8GRHQtYMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GQgItYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GRHPtYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8GRHPtYMEe-vrsy29_9aSQ" entityName="Switch Branch" predecessor_AbstractAction="_8GQgItYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GRHP9YMEe-vrsy29_9aSQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GRHMNYMEe-vrsy29_9aSQ">
                <branchBehaviour_BranchTransition id="_8GRHMtYMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GQgI9YMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GQgL9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_8GQgL9YMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GQgI9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GQgMNYMEe-vrsy29_9aSQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GQgLNYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_8GQgLtYMEe-vrsy29_9aSQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8GQgJNYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GQgKtYMEe-vrsy29_9aSQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_8GQgKtYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GQgJNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GQgK9YMEe-vrsy29_9aSQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GQgJ9YMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_8GQgKdYMEe-vrsy29_9aSQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_8GQgJdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GQgJtYMEe-vrsy29_9aSQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_8GQgJtYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GQgJdYMEe-vrsy29_9aSQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8GQgK9YMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GQgKtYMEe-vrsy29_9aSQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GQgMNYMEe-vrsy29_9aSQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_8GQgL9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GQgMdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GQgMdYMEe-vrsy29_9aSQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_8GQgMNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GQgMtYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GQgMtYMEe-vrsy29_9aSQ" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_8GQgMdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GQgM9YMEe-vrsy29_9aSQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GQgM9YMEe-vrsy29_9aSQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_8GQgMtYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GQgNNYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GQgNNYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GQgM9YMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GRHNtYMEe-vrsy29_9aSQ">
                <branchBehaviour_BranchTransition id="_8GRHONYMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GRHM9YMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GRHNNYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GRHNNYMEe-vrsy29_9aSQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_8GRHM9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GRHNdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GRHNdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GRHNNYMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GRHO9YMEe-vrsy29_9aSQ">
                <branchBehaviour_BranchTransition id="_8GRHPdYMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GRHOdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GRHOtYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GRHOtYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GRHOdYMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GRHP9YMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GRHPtYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8GRHRNYMEe-vrsy29_9aSQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_8GRHQ9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GRuQNYMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8GRuQNYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GRHRNYMEe-vrsy29_9aSQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_8HDxbdYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8HDxbNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_8G6AY9YMEe-vrsy29_9aSQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8GNc4NYMEe-vrsy29_9aSQ" describedService__SEFF="_8AXThNYMEe-vrsy29_9aSQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8AxjMdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GKZgNYMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8GKZgNYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8AxjMdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GLAkNYMEe-vrsy29_9aSQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GJLYNYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8GJycNYMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8Az_cNYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GIkUNYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GIkUNYMEe-vrsy29_9aSQ" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_8Az_cNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GIkUdYMEe-vrsy29_9aSQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GIkUdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GIkUNYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8GLAkNYMEe-vrsy29_9aSQ" entityName="stopWatch.start()" predecessor_AbstractAction="_8GKZgNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GNc3tYMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8GNc3tYMEe-vrsy29_9aSQ" entityName="Switch Branch" predecessor_AbstractAction="_8GLAkNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GNc39YMEe-vrsy29_9aSQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GM1wtYMEe-vrsy29_9aSQ">
          <branchBehaviour_BranchTransition id="_8GM1xNYMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GLnoNYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GLnodYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GLnodYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GLnoNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GLnotYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GLnotYMEe-vrsy29_9aSQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8GLnodYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GLno9YMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GLno9YMEe-vrsy29_9aSQ" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_8GLnotYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GLnpNYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GLnpNYMEe-vrsy29_9aSQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_8GLno9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GLnpdYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GLnpdYMEe-vrsy29_9aSQ" entityName="deferredResult" predecessor_AbstractAction="_8GLnpNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GMOvNYMEe-vrsy29_9aSQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8GMOvNYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GLnpdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GMOvdYMEe-vrsy29_9aSQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GMOudYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8GMOu9YMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GMOsNYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GMOsdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GMOsdYMEe-vrsy29_9aSQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_8GMOsNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GMOstYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GMOstYMEe-vrsy29_9aSQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_8GMOsdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GMOs9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GMOs9YMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GMOstYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GMOtNYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GMOtNYMEe-vrsy29_9aSQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8GMOs9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GMOtdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GMOtdYMEe-vrsy29_9aSQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_8GMOtNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GMOttYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GMOttYMEe-vrsy29_9aSQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_8GMOtdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GMOt9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GMOt9YMEe-vrsy29_9aSQ" entityName="deferredResult" predecessor_AbstractAction="_8GMOttYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GMOuNYMEe-vrsy29_9aSQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GMOuNYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GMOt9YMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GMOvdYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GMOvNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GM1wNYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GM1wNYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GMOvdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GM1wdYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GM1wdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GM1wNYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GNc1dYMEe-vrsy29_9aSQ">
          <branchBehaviour_BranchTransition id="_8GNc19YMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GM1xdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GNc0dYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8GNc0dYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GM1xdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GNc0tYMEe-vrsy29_9aSQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GM1z9YMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8GNc0NYMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GM1xtYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GM1x9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GM1x9YMEe-vrsy29_9aSQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_8GM1xtYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GM1yNYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GM1yNYMEe-vrsy29_9aSQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_8GM1x9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GM1ydYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GM1ydYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GM1yNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GM1ytYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GM1ytYMEe-vrsy29_9aSQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8GM1ydYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GM1y9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GM1y9YMEe-vrsy29_9aSQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_8GM1ytYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GM1zNYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GM1zNYMEe-vrsy29_9aSQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_8GM1y9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GM1zdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GM1zdYMEe-vrsy29_9aSQ" entityName="deferredResult" predecessor_AbstractAction="_8GM1zNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GM1ztYMEe-vrsy29_9aSQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GM1ztYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GM1zdYMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GNc0tYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GNc0dYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GNc09YMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GNc09YMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GNc0tYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GNc1NYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GNc1NYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GNc09YMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GNc29YMEe-vrsy29_9aSQ">
          <branchBehaviour_BranchTransition id="_8GNc3dYMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GNc2NYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GNc2dYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8GNc2dYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GNc2NYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GNc2tYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GNc2tYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GNc2dYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8GNc39YMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GNc3tYMEe-vrsy29_9aSQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_8HGNqNYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8HGNp9YMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_8G6AYNYMEe-vrsy29_9aSQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8GUxl9YMEe-vrsy29_9aSQ" describedService__SEFF="_8AWscdYMEe-vrsy29_9aSQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8GS8ctYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GTjdNYMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8GTjdNYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GS8ctYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GTjddYMEe-vrsy29_9aSQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GTjcdYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8GTjc9YMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GS8c9YMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GS8dNYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GS8dNYMEe-vrsy29_9aSQ" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_8GS8c9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GTjcNYMEe-vrsy29_9aSQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GTjcNYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GS8dNYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8GTjddYMEe-vrsy29_9aSQ" entityName="stopWatch.start()" predecessor_AbstractAction="_8GTjdNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUxldYMEe-vrsy29_9aSQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8GUxldYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GTjddYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUxltYMEe-vrsy29_9aSQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GUxktYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8GUxlNYMEe-vrsy29_9aSQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8GTjdtYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GUxkNYMEe-vrsy29_9aSQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8GUxkNYMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GTjdtYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUxkdYMEe-vrsy29_9aSQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GUKlNYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8GUKltYMEe-vrsy29_9aSQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8GTjd9YMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GUKitYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_8GUKitYMEe-vrsy29_9aSQ" entityName="Switch Branch" predecessor_AbstractAction="_8GTjd9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKi9YMEe-vrsy29_9aSQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GTjgtYMEe-vrsy29_9aSQ">
                      <branchBehaviour_BranchTransition id="_8GTjhNYMEe-vrsy29_9aSQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8GTjeNYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GTjf9YMEe-vrsy29_9aSQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_8GTjf9YMEe-vrsy29_9aSQ" entityName="If Branch" predecessor_AbstractAction="_8GTjeNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GTjgNYMEe-vrsy29_9aSQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GTjfNYMEe-vrsy29_9aSQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_8GTjftYMEe-vrsy29_9aSQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_8GTjedYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GTjetYMEe-vrsy29_9aSQ"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_8GTjetYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GTjedYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GTje9YMEe-vrsy29_9aSQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_8GTje9YMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GTjetYMEe-vrsy29_9aSQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_8GTjgNYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GTjf9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GTjgdYMEe-vrsy29_9aSQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8GTjgdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GTjgNYMEe-vrsy29_9aSQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GUKgdYMEe-vrsy29_9aSQ">
                      <branchBehaviour_BranchTransition id="_8GUKg9YMEe-vrsy29_9aSQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8GTjhdYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GTjhtYMEe-vrsy29_9aSQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_8GTjhtYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GTjhdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKgNYMEe-vrsy29_9aSQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8GUKgNYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GTjhtYMEe-vrsy29_9aSQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8GUKh9YMEe-vrsy29_9aSQ">
                      <branchBehaviour_BranchTransition id="_8GUKidYMEe-vrsy29_9aSQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8GUKhNYMEe-vrsy29_9aSQ" entityName="Start Action" successor_AbstractAction="_8GUKhdYMEe-vrsy29_9aSQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_8GUKhdYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GUKhNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKhtYMEe-vrsy29_9aSQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8GUKhtYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GUKhdYMEe-vrsy29_9aSQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GUKi9YMEe-vrsy29_9aSQ" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_8GUKitYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKjNYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GUKjNYMEe-vrsy29_9aSQ" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_8GUKi9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKjdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GUKjdYMEe-vrsy29_9aSQ" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_8GUKjNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKjtYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GUKjtYMEe-vrsy29_9aSQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_8GUKjdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKj9YMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GUKj9YMEe-vrsy29_9aSQ" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8GUKjtYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKkNYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GUKkNYMEe-vrsy29_9aSQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_8GUKj9YMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKkdYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8GUKkdYMEe-vrsy29_9aSQ" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_8GUKkNYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKktYMEe-vrsy29_9aSQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8GUKktYMEe-vrsy29_9aSQ" entityName="deferredResult" predecessor_AbstractAction="_8GUKkdYMEe-vrsy29_9aSQ" successor_AbstractAction="_8GUKk9YMEe-vrsy29_9aSQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8GUKk9YMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GUKktYMEe-vrsy29_9aSQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8GUxkdYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GUxkNYMEe-vrsy29_9aSQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8GUxltYMEe-vrsy29_9aSQ" entityName="Stop Action" predecessor_AbstractAction="_8GUxldYMEe-vrsy29_9aSQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8HJ4ANYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_8HLGJtYMEe-vrsy29_9aSQ" encapsulatedComponent__AssemblyContext="_8G9Ds9YMEe-vrsy29_9aSQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8HJ4AtYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_8HLGJNYMEe-vrsy29_9aSQ" encapsulatedComponent__AssemblyContext="_8G6AZdYMEe-vrsy29_9aSQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8HLtM9YMEe-vrsy29_9aSQ" innerProvidedRole_ProvidedDelegationConnector="_8G6AZNYMEe-vrsy29_9aSQ" outerProvidedRole_ProvidedDelegationConnector="_8HJ4AdYMEe-vrsy29_9aSQ" assemblyContext_ProvidedDelegationConnector="_8HLGJNYMEe-vrsy29_9aSQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8HJ4AdYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_8G6AYtYMEe-vrsy29_9aSQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8HJ4BdYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_8HKfFtYMEe-vrsy29_9aSQ" encapsulatedComponent__AssemblyContext="_8G9DttYMEe-vrsy29_9aSQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8HLtMdYMEe-vrsy29_9aSQ" innerProvidedRole_ProvidedDelegationConnector="_8G9DtdYMEe-vrsy29_9aSQ" outerProvidedRole_ProvidedDelegationConnector="_8HJ4BNYMEe-vrsy29_9aSQ" assemblyContext_ProvidedDelegationConnector="_8HKfFtYMEe-vrsy29_9aSQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8HLtMtYMEe-vrsy29_9aSQ" innerProvidedRole_ProvidedDelegationConnector="_8G9DtNYMEe-vrsy29_9aSQ" outerProvidedRole_ProvidedDelegationConnector="_8HJ4A9YMEe-vrsy29_9aSQ" assemblyContext_ProvidedDelegationConnector="_8HKfFtYMEe-vrsy29_9aSQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8HJ4A9YMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_8G5ZWNYMEe-vrsy29_9aSQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8HJ4BNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_8G6AYdYMEe-vrsy29_9aSQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8HJ4B9YMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_8HLGItYMEe-vrsy29_9aSQ" encapsulatedComponent__AssemblyContext="_8HDxbdYMEe-vrsy29_9aSQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8HLtMNYMEe-vrsy29_9aSQ" innerProvidedRole_ProvidedDelegationConnector="_8HDxbNYMEe-vrsy29_9aSQ" outerProvidedRole_ProvidedDelegationConnector="_8HJ4BtYMEe-vrsy29_9aSQ" assemblyContext_ProvidedDelegationConnector="_8HLGItYMEe-vrsy29_9aSQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8HJ4BtYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_8G6AY9YMEe-vrsy29_9aSQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8HKfEdYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_8HLGINYMEe-vrsy29_9aSQ" encapsulatedComponent__AssemblyContext="_8HGNqNYMEe-vrsy29_9aSQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8HLtNNYMEe-vrsy29_9aSQ" innerProvidedRole_ProvidedDelegationConnector="_8HGNp9YMEe-vrsy29_9aSQ" outerProvidedRole_ProvidedDelegationConnector="_8HKfENYMEe-vrsy29_9aSQ" assemblyContext_ProvidedDelegationConnector="_8HLGINYMEe-vrsy29_9aSQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8HKfENYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_8G6AYNYMEe-vrsy29_9aSQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8HKfE9YMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_8HKfFNYMEe-vrsy29_9aSQ" encapsulatedComponent__AssemblyContext="_8HB8MdYMEe-vrsy29_9aSQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8HLtNdYMEe-vrsy29_9aSQ" innerProvidedRole_ProvidedDelegationConnector="_8HB8MNYMEe-vrsy29_9aSQ" outerProvidedRole_ProvidedDelegationConnector="_8HKfEtYMEe-vrsy29_9aSQ" assemblyContext_ProvidedDelegationConnector="_8HKfFNYMEe-vrsy29_9aSQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8HKfEtYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_8G5ZV9YMEe-vrsy29_9aSQ"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8G5ZV9YMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_8AX6kdYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_7_kpUdYMEe-vrsy29_9aSQ">
      <parameters__OperationSignature dataType__Parameter="_8AWFYNYMEe-vrsy29_9aSQ" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8G5ZWNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_8AYhoNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_7_kpUdYMEe-vrsy29_9aSQ">
      <parameters__OperationSignature dataType__Parameter="_8AX6lNYMEe-vrsy29_9aSQ" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8G6AYNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_8AWscdYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_8AWscNYMEe-vrsy29_9aSQ">
      <parameters__OperationSignature dataType__Parameter="_8AWFYNYMEe-vrsy29_9aSQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8G6AYdYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_7_lQYNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_7_kpUdYMEe-vrsy29_9aSQ">
      <parameters__OperationSignature dataType__Parameter="_7_jbMNYMEe-vrsy29_9aSQ" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_7_kpUNYMEe-vrsy29_9aSQ" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8G6AYtYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_8AXTgNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_8AWscNYMEe-vrsy29_9aSQ">
      <parameters__OperationSignature dataType__Parameter="_8AWFYNYMEe-vrsy29_9aSQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8G6AY9YMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_8AXThNYMEe-vrsy29_9aSQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_8AWscNYMEe-vrsy29_9aSQ">
      <parameters__OperationSignature dataType__Parameter="_8AXTg9YMEe-vrsy29_9aSQ" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_7_jbMNYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_7_kpUNYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_7_kpUdYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8AWFYNYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8AWscNYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8AXTg9YMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8AX6lNYMEe-vrsy29_9aSQ" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
