<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_gXWWwdteEe6HRO8Gs67-BA">
  <components__Repository xsi:type="repository:BasicComponent" id="_gXEC6dteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXEC6NteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_gXEC4tteEe6HRO8Gs67-BA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gWXfV9teEe6HRO8Gs67-BA" describedService__SEFF="_gQsVINteEe6HRO8Gs67-BA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gWVqJtteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWVqLdteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gWVqLdteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWVqJtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWWRMNteEe6HRO8Gs67-BA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWVqKtteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gWVqLNteEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWVqJ9teEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWVqKNteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWVqKNteEe6HRO8Gs67-BA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_gWVqJ9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWVqKdteEe6HRO8Gs67-BA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWVqKdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWVqKNteEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_gWWRMNteEe6HRO8Gs67-BA" entityName="stopWatch.start()" predecessor_AbstractAction="_gWVqLdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWXfVdteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gWXfVdteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWWRMNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWXfVtteEe6HRO8Gs67-BA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWXfUtteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gWXfVNteEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWWRMdteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWXfUNteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gWXfUNteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWWRMdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWXfUdteEe6HRO8Gs67-BA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWW4T9teEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gWW4UdteEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWWRMtteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWW4RdteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_gWW4RdteEe6HRO8Gs67-BA" entityName="Switch Branch" predecessor_AbstractAction="_gWWRMtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4RtteEe6HRO8Gs67-BA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWWRPdteEe6HRO8Gs67-BA">
                      <branchBehaviour_BranchTransition id="_gWWRP9teEe6HRO8Gs67-BA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_gWWRM9teEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWWROtteEe6HRO8Gs67-BA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_gWWROtteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWWRM9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWWRO9teEe6HRO8Gs67-BA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWWRN9teEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_gWWROdteEe6HRO8Gs67-BA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_gWWRNNteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWWRNdteEe6HRO8Gs67-BA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_gWWRNdteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWWRNNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWWRNtteEe6HRO8Gs67-BA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_gWWRNtteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWWRNdteEe6HRO8Gs67-BA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_gWWRO9teEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWWROtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWWRPNteEe6HRO8Gs67-BA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_gWWRPNteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWWRO9teEe6HRO8Gs67-BA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWWRQ9teEe6HRO8Gs67-BA">
                      <branchBehaviour_BranchTransition id="_gWWRRdteEe6HRO8Gs67-BA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_gWWRQNteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWWRQdteEe6HRO8Gs67-BA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_gWWRQdteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWWRQNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWWRQtteEe6HRO8Gs67-BA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_gWWRQtteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWWRQdteEe6HRO8Gs67-BA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWW4QtteEe6HRO8Gs67-BA">
                      <branchBehaviour_BranchTransition id="_gWW4RNteEe6HRO8Gs67-BA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_gWWRRtteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWW4QNteEe6HRO8Gs67-BA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_gWW4QNteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWWRRtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4QdteEe6HRO8Gs67-BA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_gWW4QdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWW4QNteEe6HRO8Gs67-BA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWW4RtteEe6HRO8Gs67-BA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_gWW4RdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4R9teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWW4R9teEe6HRO8Gs67-BA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_gWW4RtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4SNteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWW4SNteEe6HRO8Gs67-BA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_gWW4R9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4SdteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWW4SdteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWW4SNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4StteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWW4StteEe6HRO8Gs67-BA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gWW4SdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4S9teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWW4S9teEe6HRO8Gs67-BA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_gWW4StteEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4TNteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWW4TNteEe6HRO8Gs67-BA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_gWW4S9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4TdteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWW4TdteEe6HRO8Gs67-BA" entityName="deferredResult" predecessor_AbstractAction="_gWW4TNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWW4TtteEe6HRO8Gs67-BA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWW4TtteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWW4TdteEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWXfUdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWXfUNteEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gWXfVtteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWXfVdteEe6HRO8Gs67-BA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_gXHtQ9teEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_gXHtRdteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXHtRNteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_gXEC49teEe6HRO8Gs67-BA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gWdl-dteEe6HRO8Gs67-BA" describedService__SEFF="_gQvYcNteEe6HRO8Gs67-BA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gWbJwNteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWbwxdteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gWbwxdteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWbJwNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbwxtteEe6HRO8Gs67-BA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWbwwtteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gWbwxNteEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWbJwdteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWbwwNteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWbwwNteEe6HRO8Gs67-BA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_gWbJwdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbwwdteEe6HRO8Gs67-BA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWbwwdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWbwwNteEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_gWbwxtteEe6HRO8Gs67-BA" entityName="stopWatch.start()" predecessor_AbstractAction="_gWbwxdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWdl9tteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gWdl9tteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWbwxtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWdl99teEe6HRO8Gs67-BA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWdl89teEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gWdl9dteEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWbwx9teEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWdl8dteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gWdl8dteEe6HRO8Gs67-BA" entityName="Switch Branch" predecessor_AbstractAction="_gWbwx9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWdl8tteEe6HRO8Gs67-BA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWcX29teEe6HRO8Gs67-BA">
                <branchBehaviour_BranchTransition id="_gWcX3dteEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWbwyNteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWbwydteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWbwydteEe6HRO8Gs67-BA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_gWbwyNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbw1dteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_gWbw1dteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWbwydteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbw1tteEe6HRO8Gs67-BA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWbw0tteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_gWbw1NteEe6HRO8Gs67-BA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_gWbwytteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWbw0NteEe6HRO8Gs67-BA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_gWbw0NteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWbwytteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbw0dteEe6HRO8Gs67-BA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWbwzdteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_gWbwz9teEe6HRO8Gs67-BA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_gWbwy9teEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWbwzNteEe6HRO8Gs67-BA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_gWbwzNteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWbwy9teEe6HRO8Gs67-BA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_gWbw0dteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWbw0NteEe6HRO8Gs67-BA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWbw1tteEe6HRO8Gs67-BA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_gWbw1dteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbw19teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWbw19teEe6HRO8Gs67-BA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_gWbw1tteEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX0NteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWcX0NteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWbw19teEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX0dteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWcX0dteEe6HRO8Gs67-BA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gWcX0NteEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX0tteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWcX0tteEe6HRO8Gs67-BA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_gWcX0dteEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX09teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWcX09teEe6HRO8Gs67-BA" entityName="deferredResult" predecessor_AbstractAction="_gWcX0tteEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX1NteEe6HRO8Gs67-BA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWcX1NteEe6HRO8Gs67-BA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_gWcX09teEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX1dteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWcX1dteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWcX1NteEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX1tteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWcX1tteEe6HRO8Gs67-BA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gWcX1dteEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX19teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWcX19teEe6HRO8Gs67-BA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_gWcX1tteEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX2NteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWcX2NteEe6HRO8Gs67-BA" entityName="deferredResult" predecessor_AbstractAction="_gWcX19teEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX2dteEe6HRO8Gs67-BA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWcX2dteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWcX2NteEe6HRO8Gs67-BA" successor_AbstractAction="_gWcX2tteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWcX2tteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWcX2dteEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWc-6NteEe6HRO8Gs67-BA">
                <branchBehaviour_BranchTransition id="_gWc-6tteEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWc-4NteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWc-4dteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWc-4dteEe6HRO8Gs67-BA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_gWc-4NteEe6HRO8Gs67-BA" successor_AbstractAction="_gWc-4tteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWc-4tteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWc-4dteEe6HRO8Gs67-BA" successor_AbstractAction="_gWc-49teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWc-49teEe6HRO8Gs67-BA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gWc-4tteEe6HRO8Gs67-BA" successor_AbstractAction="_gWc-5NteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWc-5NteEe6HRO8Gs67-BA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_gWc-49teEe6HRO8Gs67-BA" successor_AbstractAction="_gWc-5dteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWc-5dteEe6HRO8Gs67-BA" entityName="deferredResult" predecessor_AbstractAction="_gWc-5NteEe6HRO8Gs67-BA" successor_AbstractAction="_gWc-5tteEe6HRO8Gs67-BA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWc-5tteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWc-5dteEe6HRO8Gs67-BA" successor_AbstractAction="_gWc-59teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWc-59teEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWc-5tteEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWc-7tteEe6HRO8Gs67-BA">
                <branchBehaviour_BranchTransition id="_gWdl8NteEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWc-69teEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWc-7NteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWc-7NteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWc-69teEe6HRO8Gs67-BA" successor_AbstractAction="_gWc-7dteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWc-7dteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWc-7NteEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWdl8tteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWdl8dteEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_gWdl99teEe6HRO8Gs67-BA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_gWdl9tteEe6HRO8Gs67-BA" successor_AbstractAction="_gWdl-NteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gWdl-NteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWdl99teEe6HRO8Gs67-BA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_gXKJgtteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXKJgNteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_gXEC59teEe6HRO8Gs67-BA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXKJgdteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_gXEC5tteEe6HRO8Gs67-BA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gWYteNteEe6HRO8Gs67-BA" describedService__SEFF="_gPe0MNteEe6HRO8Gs67-BA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gWYtddteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWYtdtteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWYtdtteEe6HRO8Gs67-BA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_gWYtddteEe6HRO8Gs67-BA" successor_AbstractAction="_gWYtd9teEe6HRO8Gs67-BA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gWYtd9teEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWYtdtteEe6HRO8Gs67-BA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gWYtc9teEe6HRO8Gs67-BA" describedService__SEFF="_gQtjQdteEe6HRO8Gs67-BA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gWXfWdteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWYGZdteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gWYGZdteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWXfWdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWYtcdteEe6HRO8Gs67-BA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWXfXdteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gWXfX9teEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWXfWtteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWXfW9teEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWXfW9teEe6HRO8Gs67-BA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_gWXfWtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWXfXNteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWXfXNteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWXfW9teEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWYGYtteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gWYGZNteEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWXfYNteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWYGYNteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWYGYNteEe6HRO8Gs67-BA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_gWXfYNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWYGYdteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWYGYdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWYGYNteEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gWYtcdteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWYGZdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWYtctteEe6HRO8Gs67-BA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWYGddteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gWYtcNteEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWYGZtteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWYGc9teEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gWYGc9teEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWYGZtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWYGdNteEe6HRO8Gs67-BA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWYGa9teEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gWYGbdteEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWYGZ9teEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWYGaNteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWYGaNteEe6HRO8Gs67-BA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_gWYGZ9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWYGadteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWYGadteEe6HRO8Gs67-BA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_gWYGaNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWYGatteEe6HRO8Gs67-BA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWYGatteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWYGadteEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWYGcNteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gWYGctteEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWYGbtteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWYGb9teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWYGb9teEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWYGbtteEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWYGdNteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWYGc9teEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gWYtctteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWYtcdteEe6HRO8Gs67-BA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_gXOa_dteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXOa_NteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_gXEC5dteEe6HRO8Gs67-BA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gWbJvtteEe6HRO8Gs67-BA" describedService__SEFF="_gQuKUNteEe6HRO8Gs67-BA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gWZUgdteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWZUiNteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gWZUiNteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWZUgdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZUidteEe6HRO8Gs67-BA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWZUhdteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gWZUh9teEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWZUgtteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWZUg9teEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWZUg9teEe6HRO8Gs67-BA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_gWZUgtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZUhNteEe6HRO8Gs67-BA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWZUhNteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWZUg9teEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZUidteEe6HRO8Gs67-BA" entityName="stopWatch.start()" predecessor_AbstractAction="_gWZUiNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbJvNteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gWbJvNteEe6HRO8Gs67-BA" entityName="Switch Branch" predecessor_AbstractAction="_gWZUidteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbJvdteEe6HRO8Gs67-BA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWZ7nNteEe6HRO8Gs67-BA">
          <branchBehaviour_BranchTransition id="_gWZ7ntteEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWZUitteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWZUi9teEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZUi9teEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWZUitteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZUjNteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZUjNteEe6HRO8Gs67-BA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gWZUi9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWZUjdteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZUjdteEe6HRO8Gs67-BA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_gWZUjNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZUjtteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZUjtteEe6HRO8Gs67-BA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_gWZUjdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZUj9teEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWZUj9teEe6HRO8Gs67-BA" entityName="deferredResult" predecessor_AbstractAction="_gWZUjtteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZ7mNteEe6HRO8Gs67-BA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gWZ7mNteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWZUj9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWZ7mdteEe6HRO8Gs67-BA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWZ7ldteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gWZ7l9teEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWZUkNteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWZUkdteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZUkdteEe6HRO8Gs67-BA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_gWZUkNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZUktteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZUktteEe6HRO8Gs67-BA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_gWZUkdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZUk9teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZUk9teEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWZUktteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZ7kNteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZ7kNteEe6HRO8Gs67-BA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gWZUk9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWZ7kdteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZ7kdteEe6HRO8Gs67-BA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_gWZ7kNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZ7ktteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZ7ktteEe6HRO8Gs67-BA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_gWZ7kdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZ7k9teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWZ7k9teEe6HRO8Gs67-BA" entityName="deferredResult" predecessor_AbstractAction="_gWZ7ktteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZ7lNteEe6HRO8Gs67-BA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWZ7lNteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWZ7k9teEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZ7mdteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWZ7mNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZ7mtteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWZ7mtteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWZ7mdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWZ7m9teEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWZ7m9teEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWZ7mtteEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWbJs9teEe6HRO8Gs67-BA">
          <branchBehaviour_BranchTransition id="_gWbJtdteEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWaioNteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWairdteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gWairdteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gWaioNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbJsNteEe6HRO8Gs67-BA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWaiqtteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gWairNteEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWaiodteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWaiotteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWaiotteEe6HRO8Gs67-BA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_gWaiodteEe6HRO8Gs67-BA" successor_AbstractAction="_gWaio9teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWaio9teEe6HRO8Gs67-BA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_gWaiotteEe6HRO8Gs67-BA" successor_AbstractAction="_gWaipNteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWaipNteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWaio9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWaipdteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWaipdteEe6HRO8Gs67-BA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gWaipNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWaiptteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWaiptteEe6HRO8Gs67-BA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_gWaipdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWaip9teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWaip9teEe6HRO8Gs67-BA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_gWaiptteEe6HRO8Gs67-BA" successor_AbstractAction="_gWaiqNteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWaiqNteEe6HRO8Gs67-BA" entityName="deferredResult" predecessor_AbstractAction="_gWaip9teEe6HRO8Gs67-BA" successor_AbstractAction="_gWaiqdteEe6HRO8Gs67-BA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWaiqdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWaiqNteEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWbJsNteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWairdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbJsdteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWbJsdteEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWbJsNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbJstteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWbJstteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWbJsdteEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWbJudteEe6HRO8Gs67-BA">
          <branchBehaviour_BranchTransition id="_gWbJu9teEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gWbJttteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWbJt9teEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gWbJt9teEe6HRO8Gs67-BA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gWbJttteEe6HRO8Gs67-BA" successor_AbstractAction="_gWbJuNteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWbJuNteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWbJt9teEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gWbJvdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWbJvNteEe6HRO8Gs67-BA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_gXQ3NtteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXQ3NdteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_gXEC5NteEe6HRO8Gs67-BA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gWVqJNteEe6HRO8Gs67-BA" describedService__SEFF="_gQqf8dteEe6HRO8Gs67-BA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gRJoIdteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWVqIdteEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gWVqIdteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gRJoIdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWVqItteEe6HRO8Gs67-BA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWVDItteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gWVqINteEe6HRO8Gs67-BA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gRLdUNteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWVDINteEe6HRO8Gs67-BA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gWVDINteEe6HRO8Gs67-BA" entityName="Switch Branch" predecessor_AbstractAction="_gRLdUNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWVDIdteEe6HRO8Gs67-BA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWVDEtteEe6HRO8Gs67-BA">
                <branchBehaviour_BranchTransition id="_gWVDFNteEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gRMEYNteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWRYtdteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_gWRYtdteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gRMEYNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWR_wNteEe6HRO8Gs67-BA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWRYstteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_gWRYtNteEe6HRO8Gs67-BA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_gRMEYdteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWRYsNteEe6HRO8Gs67-BA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_gWRYsNteEe6HRO8Gs67-BA" entityName="If Branch" predecessor_AbstractAction="_gRMEYdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWRYsdteEe6HRO8Gs67-BA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gRMrcNteEe6HRO8Gs67-BA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_gRNSgNteEe6HRO8Gs67-BA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_gRMEYtteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gRMEY9teEe6HRO8Gs67-BA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_gRMEY9teEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gRMEYtteEe6HRO8Gs67-BA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_gWRYsdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWRYsNteEe6HRO8Gs67-BA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWR_wNteEe6HRO8Gs67-BA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_gWRYtdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWR_wdteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWR_wdteEe6HRO8Gs67-BA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_gWR_wNteEe6HRO8Gs67-BA" successor_AbstractAction="_gWUcANteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gWUcANteEe6HRO8Gs67-BA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_gWR_wdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWVDENteEe6HRO8Gs67-BA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWVDENteEe6HRO8Gs67-BA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_gWUcANteEe6HRO8Gs67-BA" successor_AbstractAction="_gWVDEdteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWVDEdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWVDENteEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWVDGNteEe6HRO8Gs67-BA">
                <branchBehaviour_BranchTransition id="_gWVDGtteEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWVDFdteEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWVDFtteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gWVDFtteEe6HRO8Gs67-BA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_gWVDFdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWVDF9teEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWVDF9teEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWVDFtteEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gWVDHdteEe6HRO8Gs67-BA">
                <branchBehaviour_BranchTransition id="_gWVDH9teEe6HRO8Gs67-BA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gWVDG9teEe6HRO8Gs67-BA" entityName="Start Action" successor_AbstractAction="_gWVDHNteEe6HRO8Gs67-BA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gWVDHNteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWVDG9teEe6HRO8Gs67-BA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gWVDIdteEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWVDINteEe6HRO8Gs67-BA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_gWVqItteEe6HRO8Gs67-BA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_gWVqIdteEe6HRO8Gs67-BA" successor_AbstractAction="_gWVqI9teEe6HRO8Gs67-BA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gWVqI9teEe6HRO8Gs67-BA" entityName="Stop Action" predecessor_AbstractAction="_gWVqItteEe6HRO8Gs67-BA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gXVIodteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_gXVvstteEe6HRO8Gs67-BA" encapsulatedComponent__AssemblyContext="_gXQ3NtteEe6HRO8Gs67-BA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gXW90dteEe6HRO8Gs67-BA" innerProvidedRole_ProvidedDelegationConnector="_gXQ3NdteEe6HRO8Gs67-BA" outerProvidedRole_ProvidedDelegationConnector="_gXVIoNteEe6HRO8Gs67-BA" assemblyContext_ProvidedDelegationConnector="_gXVvstteEe6HRO8Gs67-BA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXVIoNteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_gXEC5NteEe6HRO8Gs67-BA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gXVIo9teEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_gXVvsNteEe6HRO8Gs67-BA" encapsulatedComponent__AssemblyContext="_gXEC6dteEe6HRO8Gs67-BA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gXW909teEe6HRO8Gs67-BA" innerProvidedRole_ProvidedDelegationConnector="_gXEC6NteEe6HRO8Gs67-BA" outerProvidedRole_ProvidedDelegationConnector="_gXVIotteEe6HRO8Gs67-BA" assemblyContext_ProvidedDelegationConnector="_gXVvsNteEe6HRO8Gs67-BA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXVIotteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_gXEC4tteEe6HRO8Gs67-BA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gXVIpdteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_gXVvutteEe6HRO8Gs67-BA" encapsulatedComponent__AssemblyContext="_gXOa_dteEe6HRO8Gs67-BA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gXW90tteEe6HRO8Gs67-BA" innerProvidedRole_ProvidedDelegationConnector="_gXOa_NteEe6HRO8Gs67-BA" outerProvidedRole_ProvidedDelegationConnector="_gXVIpNteEe6HRO8Gs67-BA" assemblyContext_ProvidedDelegationConnector="_gXVvutteEe6HRO8Gs67-BA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXVIpNteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_gXEC5dteEe6HRO8Gs67-BA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gXVIptteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_gXVvttteEe6HRO8Gs67-BA" encapsulatedComponent__AssemblyContext="_gXHtQ9teEe6HRO8Gs67-BA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gXVIqdteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_gXVvuNteEe6HRO8Gs67-BA" encapsulatedComponent__AssemblyContext="_gXKJgtteEe6HRO8Gs67-BA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gXW91NteEe6HRO8Gs67-BA" innerProvidedRole_ProvidedDelegationConnector="_gXKJgNteEe6HRO8Gs67-BA" outerProvidedRole_ProvidedDelegationConnector="_gXVIqNteEe6HRO8Gs67-BA" assemblyContext_ProvidedDelegationConnector="_gXVvuNteEe6HRO8Gs67-BA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gXW91dteEe6HRO8Gs67-BA" innerProvidedRole_ProvidedDelegationConnector="_gXKJgdteEe6HRO8Gs67-BA" outerProvidedRole_ProvidedDelegationConnector="_gXVIp9teEe6HRO8Gs67-BA" assemblyContext_ProvidedDelegationConnector="_gXVvuNteEe6HRO8Gs67-BA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXVIp9teEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_gXEC5tteEe6HRO8Gs67-BA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXVIqNteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_gXEC59teEe6HRO8Gs67-BA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gXVIq9teEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_gXVvtNteEe6HRO8Gs67-BA" encapsulatedComponent__AssemblyContext="_gXHtRdteEe6HRO8Gs67-BA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gXW90NteEe6HRO8Gs67-BA" innerProvidedRole_ProvidedDelegationConnector="_gXHtRNteEe6HRO8Gs67-BA" outerProvidedRole_ProvidedDelegationConnector="_gXVIqtteEe6HRO8Gs67-BA" assemblyContext_ProvidedDelegationConnector="_gXVvtNteEe6HRO8Gs67-BA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gXVIqtteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_gXEC49teEe6HRO8Gs67-BA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gXEC4tteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_gQsVINteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_gQruENteEe6HRO8Gs67-BA">
      <parameters__OperationSignature dataType__Parameter="_gQqf8NteEe6HRO8Gs67-BA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gXEC49teEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_gQvYcNteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_gQruENteEe6HRO8Gs67-BA">
      <parameters__OperationSignature dataType__Parameter="_gQqf8NteEe6HRO8Gs67-BA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gXEC5NteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_gQqf8dteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_gPeNINteEe6HRO8Gs67-BA">
      <parameters__OperationSignature dataType__Parameter="_gQqf8NteEe6HRO8Gs67-BA" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gXEC5dteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_gQuKUNteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_gQruENteEe6HRO8Gs67-BA">
      <parameters__OperationSignature dataType__Parameter="_gQtjRNteEe6HRO8Gs67-BA" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gXEC5tteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_gQtjQdteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_gPeNINteEe6HRO8Gs67-BA">
      <parameters__OperationSignature dataType__Parameter="_gQs8MtteEe6HRO8Gs67-BA" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_gQtjQNteEe6HRO8Gs67-BA" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gXEC59teEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_gPe0MNteEe6HRO8Gs67-BA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_gPeNINteEe6HRO8Gs67-BA">
      <parameters__OperationSignature dataType__Parameter="_gPc_ANteEe6HRO8Gs67-BA" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gPc_ANteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gPeNINteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gQqf8NteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gQruENteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gQs8MtteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gQtjQNteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gQtjRNteEe6HRO8Gs67-BA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
