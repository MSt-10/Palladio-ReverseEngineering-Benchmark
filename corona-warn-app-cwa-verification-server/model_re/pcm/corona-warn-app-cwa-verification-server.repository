<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_3cjeikSrEe-RhqKyYA6V0g">
  <components__Repository xsi:type="repository:BasicComponent" id="_3cP8hkSrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_3cP8iESrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3cP8h0SrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_3cP8gUSrEe-RhqKyYA6V0g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3bjY8kSrEe-RhqKyYA6V0g" describedService__SEFF="_3VaUskSrEe-RhqKyYA6V0g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3bhjw0SrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bhjykSrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3bhjykSrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bhjw0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bhjy0SrEe-RhqKyYA6V0g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bhjx0SrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3bhjyUSrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bhjxESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bhjxUSrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bhjxUSrEe-RhqKyYA6V0g" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_3bhjxESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bhjxkSrEe-RhqKyYA6V0g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bhjxkSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bhjxUSrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3bhjy0SrEe-RhqKyYA6V0g" entityName="stopWatch.start()" predecessor_AbstractAction="_3bhjykSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bjY8ESrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3bjY8ESrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bhjy0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bjY8USrEe-RhqKyYA6V0g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bix7kSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3bix8ESrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bhjzESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bix7ESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3bix7ESrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bhjzESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix7USrEe-RhqKyYA6V0g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bix6USrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3bix60SrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bhjzUSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3biK4kSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_3biK4kSrEe-RhqKyYA6V0g" entityName="Switch Branch" predecessor_AbstractAction="_3bhjzUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix4ESrEe-RhqKyYA6V0g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3biK00SrEe-RhqKyYA6V0g">
                      <branchBehaviour_BranchTransition id="_3biK1USrEe-RhqKyYA6V0g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3bhjzkSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3biK0ESrEe-RhqKyYA6V0g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_3biK0ESrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bhjzkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3biK0USrEe-RhqKyYA6V0g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bhj0kSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_3bhj1ESrEe-RhqKyYA6V0g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_3bhjz0SrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bhj0ESrEe-RhqKyYA6V0g"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_3bhj0ESrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bhjz0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bhj0USrEe-RhqKyYA6V0g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_3bhj0USrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bhj0ESrEe-RhqKyYA6V0g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_3biK0USrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3biK0ESrEe-RhqKyYA6V0g" successor_AbstractAction="_3biK0kSrEe-RhqKyYA6V0g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3biK0kSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3biK0USrEe-RhqKyYA6V0g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3biK2USrEe-RhqKyYA6V0g">
                      <branchBehaviour_BranchTransition id="_3biK20SrEe-RhqKyYA6V0g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3biK1kSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3biK10SrEe-RhqKyYA6V0g"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_3biK10SrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3biK1kSrEe-RhqKyYA6V0g" successor_AbstractAction="_3biK2ESrEe-RhqKyYA6V0g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3biK2ESrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3biK10SrEe-RhqKyYA6V0g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3biK30SrEe-RhqKyYA6V0g">
                      <branchBehaviour_BranchTransition id="_3biK4USrEe-RhqKyYA6V0g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3biK3ESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3biK3USrEe-RhqKyYA6V0g"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_3biK3USrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3biK3ESrEe-RhqKyYA6V0g" successor_AbstractAction="_3biK3kSrEe-RhqKyYA6V0g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3biK3kSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3biK3USrEe-RhqKyYA6V0g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bix4ESrEe-RhqKyYA6V0g" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_3biK4kSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix4USrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bix4USrEe-RhqKyYA6V0g" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_3bix4ESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix4kSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bix4kSrEe-RhqKyYA6V0g" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_3bix4USrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix40SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bix40SrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bix4kSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix5ESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bix5ESrEe-RhqKyYA6V0g" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3bix40SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix5USrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bix5USrEe-RhqKyYA6V0g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_3bix5ESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix5kSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bix5kSrEe-RhqKyYA6V0g" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_3bix5USrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix50SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bix50SrEe-RhqKyYA6V0g" entityName="deferredResult" predecessor_AbstractAction="_3bix5kSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bix6ESrEe-RhqKyYA6V0g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bix6ESrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bix50SrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bix7USrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bix7ESrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3bjY8USrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bjY8ESrEe-RhqKyYA6V0g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_3cUN8USrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3cUN8ESrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_3cP8gESrEe-RhqKyYA6V0g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3bknGESrEe-RhqKyYA6V0g" describedService__SEFF="_3UkAIESrEe-RhqKyYA6V0g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3bjY9ESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bknFUSrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3bknFUSrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bjY9ESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bknFkSrEe-RhqKyYA6V0g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bknEkSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3bknFESrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bjY9USrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bknEESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3bknEESrEe-RhqKyYA6V0g" entityName="Switch Branch" predecessor_AbstractAction="_3bjY9USrEe-RhqKyYA6V0g" successor_AbstractAction="_3bknEUSrEe-RhqKyYA6V0g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bkAA0SrEe-RhqKyYA6V0g">
                <branchBehaviour_BranchTransition id="_3bkABUSrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bjY9kSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bjZAkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_3bjZAkSrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bjY9kSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bjZA0SrEe-RhqKyYA6V0g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bjY_0SrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_3bjZAUSrEe-RhqKyYA6V0g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3bjY90SrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bjY_USrEe-RhqKyYA6V0g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_3bjY_USrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bjY90SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bjY_kSrEe-RhqKyYA6V0g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bjY-kSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_3bjY_ESrEe-RhqKyYA6V0g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_3bjY-ESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bjY-USrEe-RhqKyYA6V0g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_3bjY-USrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bjY-ESrEe-RhqKyYA6V0g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3bjY_kSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bjY_USrEe-RhqKyYA6V0g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bjZA0SrEe-RhqKyYA6V0g" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_3bjZAkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bjZBESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bjZBESrEe-RhqKyYA6V0g" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_3bjZA0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bkAAESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bkAAESrEe-RhqKyYA6V0g" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_3bjZBESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bkAAUSrEe-RhqKyYA6V0g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bkAAUSrEe-RhqKyYA6V0g" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_3bkAAESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bkAAkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bkAAkSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bkAAUSrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bkACUSrEe-RhqKyYA6V0g">
                <branchBehaviour_BranchTransition id="_3bkAC0SrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bkABkSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bkAB0SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bkAB0SrEe-RhqKyYA6V0g" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_3bkABkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bkACESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bkACESrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bkAB0SrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bkADkSrEe-RhqKyYA6V0g">
                <branchBehaviour_BranchTransition id="_3bkAEESrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bkADESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bkADUSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bkADUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bkADESrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bknEUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bknEESrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3bknFkSrEe-RhqKyYA6V0g" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_3bknFUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bknF0SrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3bknF0SrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bknFkSrEe-RhqKyYA6V0g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_3cWqNUSrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3cWqM0SrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_3cP8gkSrEe-RhqKyYA6V0g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3cWqNESrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_3cP8g0SrEe-RhqKyYA6V0g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3bhjwUSrEe-RhqKyYA6V0g" describedService__SEFF="_3VZtpUSrEe-RhqKyYA6V0g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3bgVpESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bg8tESrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3bg8tESrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bgVpESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bg8x0SrEe-RhqKyYA6V0g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bgVqESrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3bgVqkSrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bgVpUSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bgVpkSrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3bgVpkSrEe-RhqKyYA6V0g" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_3bgVpUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bgVp0SrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bgVp0SrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bgVpkSrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bg8sUSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3bg8s0SrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bgVq0SrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bgVrESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3bgVrESrEe-RhqKyYA6V0g" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_3bgVq0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bg8sESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bg8sESrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bgVrESrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3bg8x0SrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bg8tESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bhjwESrEe-RhqKyYA6V0g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bg8xESrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3bg8xkSrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bg8tUSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bg8wkSrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3bg8wkSrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bg8tUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bg8w0SrEe-RhqKyYA6V0g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bg8ukSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3bg8vESrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bg8tkSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bg8t0SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bg8t0SrEe-RhqKyYA6V0g" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_3bg8tkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bg8uESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bg8uESrEe-RhqKyYA6V0g" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_3bg8t0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bg8uUSrEe-RhqKyYA6V0g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bg8uUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bg8uESrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bg8v0SrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3bg8wUSrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bg8vUSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bg8vkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bg8vkSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bg8vUSrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bg8w0SrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bg8wkSrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3bhjwESrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bg8x0SrEe-RhqKyYA6V0g"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3bgVokSrEe-RhqKyYA6V0g" describedService__SEFF="_3Va7wUSrEe-RhqKyYA6V0g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3bfuoUSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bgVoESrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bgVoESrEe-RhqKyYA6V0g" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_3bfuoUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bgVoUSrEe-RhqKyYA6V0g">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3bgVoUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bgVoESrEe-RhqKyYA6V0g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_3cbisESrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3ca7rUSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_3cP8hUSrEe-RhqKyYA6V0g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3bnDWESrEe-RhqKyYA6V0g" describedService__SEFF="_3VZtoESrEe-RhqKyYA6V0g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3bknGkSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bknIUSrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3bknIUSrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bknGkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bknIkSrEe-RhqKyYA6V0g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bknHkSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3bknIESrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bknG0SrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bknHESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bknHESrEe-RhqKyYA6V0g" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_3bknG0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bknHUSrEe-RhqKyYA6V0g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bknHUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bknHESrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3bknIkSrEe-RhqKyYA6V0g" entityName="stopWatch.start()" predecessor_AbstractAction="_3bknIUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bnDVUSrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3bnDVUSrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bknIkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bnDVkSrEe-RhqKyYA6V0g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bnDUkSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3bnDVESrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bknI0SrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bnDUESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3bnDUESrEe-RhqKyYA6V0g" entityName="Switch Branch" predecessor_AbstractAction="_3bknI0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bnDUUSrEe-RhqKyYA6V0g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bl1N0SrEe-RhqKyYA6V0g">
                <branchBehaviour_BranchTransition id="_3bl1OUSrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bknJESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3blOIESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3blOIESrEe-RhqKyYA6V0g" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_3bknJESrEe-RhqKyYA6V0g" successor_AbstractAction="_3blOLESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_3blOLESrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3blOIESrEe-RhqKyYA6V0g" successor_AbstractAction="_3blOLUSrEe-RhqKyYA6V0g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3blOKUSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_3blOK0SrEe-RhqKyYA6V0g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3blOIUSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3blOJ0SrEe-RhqKyYA6V0g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_3blOJ0SrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3blOIUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3blOKESrEe-RhqKyYA6V0g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3blOJESrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_3blOJkSrEe-RhqKyYA6V0g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_3blOIkSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3blOI0SrEe-RhqKyYA6V0g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_3blOI0SrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3blOIkSrEe-RhqKyYA6V0g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3blOKESrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3blOJ0SrEe-RhqKyYA6V0g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3blOLUSrEe-RhqKyYA6V0g" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_3blOLESrEe-RhqKyYA6V0g" successor_AbstractAction="_3blOLkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3blOLkSrEe-RhqKyYA6V0g" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_3blOLUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3blOL0SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3blOL0SrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3blOLkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3blOMESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3blOMESrEe-RhqKyYA6V0g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3blOL0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3blOMUSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3blOMUSrEe-RhqKyYA6V0g" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_3blOMESrEe-RhqKyYA6V0g" successor_AbstractAction="_3blOMkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3blOMkSrEe-RhqKyYA6V0g" entityName="deferredResult" predecessor_AbstractAction="_3blOMUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bl1MESrEe-RhqKyYA6V0g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bl1MESrEe-RhqKyYA6V0g" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_3blOMkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bl1MUSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bl1MUSrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bl1MESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bl1MkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bl1MkSrEe-RhqKyYA6V0g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3bl1MUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bl1M0SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bl1M0SrEe-RhqKyYA6V0g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_3bl1MkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bl1NESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bl1NESrEe-RhqKyYA6V0g" entityName="deferredResult" predecessor_AbstractAction="_3bl1M0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bl1NUSrEe-RhqKyYA6V0g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bl1NUSrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bl1NESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bl1NkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bl1NkSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bl1NUSrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bmcR0SrEe-RhqKyYA6V0g">
                <branchBehaviour_BranchTransition id="_3bmcSUSrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bl1OkSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bmcQESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bmcQESrEe-RhqKyYA6V0g" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_3bl1OkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bmcQUSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bmcQUSrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bmcQESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bmcQkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bmcQkSrEe-RhqKyYA6V0g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3bmcQUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bmcQ0SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bmcQ0SrEe-RhqKyYA6V0g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_3bmcQkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bmcRESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bmcRESrEe-RhqKyYA6V0g" entityName="deferredResult" predecessor_AbstractAction="_3bmcQ0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bmcRUSrEe-RhqKyYA6V0g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bmcRUSrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bmcRESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bmcRkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bmcRkSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bmcRUSrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bmcTUSrEe-RhqKyYA6V0g">
                <branchBehaviour_BranchTransition id="_3bmcT0SrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bmcSkSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bmcS0SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bmcS0SrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bmcSkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bmcTESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bmcTESrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bmcS0SrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bnDUUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bnDUESrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3bnDVkSrEe-RhqKyYA6V0g" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_3bnDVUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bnDV0SrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3bnDV0SrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bnDVkSrEe-RhqKyYA6V0g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_3cdX7kSrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3cdX7USrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_3cP8hESrEe-RhqKyYA6V0g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3bfun0SrEe-RhqKyYA6V0g" describedService__SEFF="_3VZGkkSrEe-RhqKyYA6V0g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3V1ygUSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bYZ0ESrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3bYZ0ESrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3V1ygUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bZA4ESrEe-RhqKyYA6V0g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bXLsESrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3bXywESrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3V3nsESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bWkoESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bWkoESrEe-RhqKyYA6V0g" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_3V3nsESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bWkoUSrEe-RhqKyYA6V0g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bWkoUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bWkoESrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3bZA4ESrEe-RhqKyYA6V0g" entityName="stopWatch.start()" predecessor_AbstractAction="_3bYZ0ESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfunUSrEe-RhqKyYA6V0g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3bfunUSrEe-RhqKyYA6V0g" entityName="Switch Branch" predecessor_AbstractAction="_3bZA4ESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfunkSrEe-RhqKyYA6V0g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3begeUSrEe-RhqKyYA6V0g">
          <branchBehaviour_BranchTransition id="_3bege0SrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bdSUESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bdSUUSrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3bdSUUSrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bdSUESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bdSUkSrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3bdSUkSrEe-RhqKyYA6V0g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3bdSUUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bd5YESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3bd5YESrEe-RhqKyYA6V0g" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_3bdSUkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bd5YUSrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3bd5YUSrEe-RhqKyYA6V0g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_3bd5YESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bd5YkSrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bd5YkSrEe-RhqKyYA6V0g" entityName="deferredResult" predecessor_AbstractAction="_3bd5YUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3begdUSrEe-RhqKyYA6V0g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3begdUSrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bd5YkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3begdkSrEe-RhqKyYA6V0g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3begckSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3begdESrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bd5Y0SrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bd5ZESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bd5ZESrEe-RhqKyYA6V0g" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_3bd5Y0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bd5ZUSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bd5ZUSrEe-RhqKyYA6V0g" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_3bd5ZESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bd5ZkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bd5ZkSrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bd5ZUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bd5Z0SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bd5Z0SrEe-RhqKyYA6V0g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3bd5ZkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bd5aESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bd5aESrEe-RhqKyYA6V0g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_3bd5Z0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bd5aUSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bd5aUSrEe-RhqKyYA6V0g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_3bd5aESrEe-RhqKyYA6V0g" successor_AbstractAction="_3begcESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3begcESrEe-RhqKyYA6V0g" entityName="deferredResult" predecessor_AbstractAction="_3bd5aUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3begcUSrEe-RhqKyYA6V0g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3begcUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3begcESrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3begdkSrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3begdUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3begd0SrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3begd0SrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3begdkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3begeESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3begeESrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3begd0SrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bfulESrEe-RhqKyYA6V0g">
          <branchBehaviour_BranchTransition id="_3bfulkSrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bfHgESrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bfukESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3bfukESrEe-RhqKyYA6V0g" entityName="If Branch" predecessor_AbstractAction="_3bfHgESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfukUSrEe-RhqKyYA6V0g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bfHikSrEe-RhqKyYA6V0g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3bfHjESrEe-RhqKyYA6V0g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3bfHgUSrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bfHgkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bfHgkSrEe-RhqKyYA6V0g" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_3bfHgUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfHg0SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bfHg0SrEe-RhqKyYA6V0g" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_3bfHgkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfHhESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bfHhESrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bfHg0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfHhUSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bfHhUSrEe-RhqKyYA6V0g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3bfHhESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfHhkSrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bfHhkSrEe-RhqKyYA6V0g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_3bfHhUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfHh0SrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3bfHh0SrEe-RhqKyYA6V0g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_3bfHhkSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfHiESrEe-RhqKyYA6V0g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3bfHiESrEe-RhqKyYA6V0g" entityName="deferredResult" predecessor_AbstractAction="_3bfHh0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfHiUSrEe-RhqKyYA6V0g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3bfHiUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bfHiESrEe-RhqKyYA6V0g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3bfukUSrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bfukESrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfukkSrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3bfukkSrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bfukUSrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfuk0SrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bfuk0SrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bfukkSrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3bfumkSrEe-RhqKyYA6V0g">
          <branchBehaviour_BranchTransition id="_3bfunESrEe-RhqKyYA6V0g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3bful0SrEe-RhqKyYA6V0g" entityName="Start Action" successor_AbstractAction="_3bfumESrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3bfumESrEe-RhqKyYA6V0g" entityName="stopWatch.stop()" predecessor_AbstractAction="_3bful0SrEe-RhqKyYA6V0g" successor_AbstractAction="_3bfumUSrEe-RhqKyYA6V0g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3bfumUSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bfumESrEe-RhqKyYA6V0g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3bfunkSrEe-RhqKyYA6V0g" entityName="Stop Action" predecessor_AbstractAction="_3bfunUSrEe-RhqKyYA6V0g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3ciQYUSrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_3cjegESrEe-RhqKyYA6V0g" encapsulatedComponent__AssemblyContext="_3cP8iESrEe-RhqKyYA6V0g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3ckso0SrEe-RhqKyYA6V0g" innerProvidedRole_ProvidedDelegationConnector="_3cP8h0SrEe-RhqKyYA6V0g" outerProvidedRole_ProvidedDelegationConnector="_3ciQYESrEe-RhqKyYA6V0g" assemblyContext_ProvidedDelegationConnector="_3cjegESrEe-RhqKyYA6V0g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3ciQYESrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_3cP8gUSrEe-RhqKyYA6V0g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3ciQZESrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_3ci3cESrEe-RhqKyYA6V0g" encapsulatedComponent__AssemblyContext="_3cWqNUSrEe-RhqKyYA6V0g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3ckFkUSrEe-RhqKyYA6V0g" innerProvidedRole_ProvidedDelegationConnector="_3cWqM0SrEe-RhqKyYA6V0g" outerProvidedRole_ProvidedDelegationConnector="_3ciQYkSrEe-RhqKyYA6V0g" assemblyContext_ProvidedDelegationConnector="_3ci3cESrEe-RhqKyYA6V0g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3cksoUSrEe-RhqKyYA6V0g" innerProvidedRole_ProvidedDelegationConnector="_3cWqNESrEe-RhqKyYA6V0g" outerProvidedRole_ProvidedDelegationConnector="_3ciQY0SrEe-RhqKyYA6V0g" assemblyContext_ProvidedDelegationConnector="_3ci3cESrEe-RhqKyYA6V0g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3ciQYkSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_3cP8gkSrEe-RhqKyYA6V0g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3ciQY0SrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_3cP8g0SrEe-RhqKyYA6V0g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3ciQZUSrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_3cjehkSrEe-RhqKyYA6V0g" encapsulatedComponent__AssemblyContext="_3cP8hkSrEe-RhqKyYA6V0g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3ciQZ0SrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_3cjehESrEe-RhqKyYA6V0g" encapsulatedComponent__AssemblyContext="_3cbisESrEe-RhqKyYA6V0g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3cksokSrEe-RhqKyYA6V0g" innerProvidedRole_ProvidedDelegationConnector="_3ca7rUSrEe-RhqKyYA6V0g" outerProvidedRole_ProvidedDelegationConnector="_3ciQZkSrEe-RhqKyYA6V0g" assemblyContext_ProvidedDelegationConnector="_3cjehESrEe-RhqKyYA6V0g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3ciQZkSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_3cP8hUSrEe-RhqKyYA6V0g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3ciQaUSrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_3cjegkSrEe-RhqKyYA6V0g" encapsulatedComponent__AssemblyContext="_3cdX7kSrEe-RhqKyYA6V0g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3ckFkESrEe-RhqKyYA6V0g" innerProvidedRole_ProvidedDelegationConnector="_3cdX7USrEe-RhqKyYA6V0g" outerProvidedRole_ProvidedDelegationConnector="_3ciQaESrEe-RhqKyYA6V0g" assemblyContext_ProvidedDelegationConnector="_3cjegkSrEe-RhqKyYA6V0g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3ciQaESrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_3cP8hESrEe-RhqKyYA6V0g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3ciQa0SrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_3cjeiESrEe-RhqKyYA6V0g" encapsulatedComponent__AssemblyContext="_3cUN8USrEe-RhqKyYA6V0g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3cksoESrEe-RhqKyYA6V0g" innerProvidedRole_ProvidedDelegationConnector="_3cUN8ESrEe-RhqKyYA6V0g" outerProvidedRole_ProvidedDelegationConnector="_3ciQakSrEe-RhqKyYA6V0g" assemblyContext_ProvidedDelegationConnector="_3cjeiESrEe-RhqKyYA6V0g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3ciQakSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_3cP8gESrEe-RhqKyYA6V0g"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3cP8gESrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_3UkAIESrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_3UjZEESrEe-RhqKyYA6V0g">
      <parameters__OperationSignature dataType__Parameter="_3UiK8ESrEe-RhqKyYA6V0g" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3cP8gUSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_3VaUskSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_3VZGkUSrEe-RhqKyYA6V0g">
      <parameters__OperationSignature dataType__Parameter="_3UiK8ESrEe-RhqKyYA6V0g" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3cP8gkSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_3VZtpUSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_3UjZEESrEe-RhqKyYA6V0g">
      <parameters__OperationSignature dataType__Parameter="_3VZto0SrEe-RhqKyYA6V0g" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_3VZtpESrEe-RhqKyYA6V0g" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3cP8g0SrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_3Va7wUSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_3UjZEESrEe-RhqKyYA6V0g">
      <parameters__OperationSignature dataType__Parameter="_3Va7wESrEe-RhqKyYA6V0g" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3cP8hESrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_3VZGkkSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_3VZGkUSrEe-RhqKyYA6V0g">
      <parameters__OperationSignature dataType__Parameter="_3VZGkESrEe-RhqKyYA6V0g" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3cP8hUSrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_3VZtoESrEe-RhqKyYA6V0g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_3VZGkUSrEe-RhqKyYA6V0g">
      <parameters__OperationSignature dataType__Parameter="_3UiK8ESrEe-RhqKyYA6V0g" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3UiK8ESrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3UjZEESrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3VZGkESrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3VZGkUSrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3VZto0SrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3VZtpESrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3Va7wESrEe-RhqKyYA6V0g" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
