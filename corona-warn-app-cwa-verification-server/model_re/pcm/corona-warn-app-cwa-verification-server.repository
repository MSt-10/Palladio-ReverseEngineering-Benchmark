<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="__sI3_A2pEe-qoa3sx2ZQ4g">
  <components__Repository xsi:type="repository:BasicComponent" id="__r3yMA2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="__r3yMg2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__r3yMQ2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="__r3LKg2pEe-qoa3sx2ZQ4g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__rOR_g2pEe-qoa3sx2ZQ4g" describedService__SEFF="__le2UA2pEe-qoa3sx2ZQ4g">
      <steps_Behaviour xsi:type="seff:StartAction" id="__rL1uw2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rMcxA2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__rMcxA2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rL1uw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rMcxQ2pEe-qoa3sx2ZQ4g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rMcwQ2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__rMcww2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rL1vA2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rL1vQ2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rL1vQ2pEe-qoa3sx2ZQ4g" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="__rL1vA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rMcwA2pEe-qoa3sx2ZQ4g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rMcwA2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rL1vQ2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__rMcxQ2pEe-qoa3sx2ZQ4g" entityName="stopWatch.start()" predecessor_AbstractAction="__rMcxA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rOR-w2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__rOR-w2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rMcxQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rOR_A2pEe-qoa3sx2ZQ4g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rOR-A2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__rOR-g2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rMcxg2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rOR9g2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__rOR9g2pEe-qoa3sx2ZQ4g" entityName="Switch Branch" predecessor_AbstractAction="__rMcxg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rOR9w2pEe-qoa3sx2ZQ4g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rNq4A2pEe-qoa3sx2ZQ4g">
                <branchBehaviour_BranchTransition id="__rNq4g2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rMcxw2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rMcyA2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rMcyA2pEe-qoa3sx2ZQ4g" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="__rMcxw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rMc1A2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="__rMc1A2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rMcyA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND0A2pEe-qoa3sx2ZQ4g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rMc0Q2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="__rMc0w2pEe-qoa3sx2ZQ4g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__rMcyQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rMczw2pEe-qoa3sx2ZQ4g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="__rMczw2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rMcyQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rMc0A2pEe-qoa3sx2ZQ4g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rMczA2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="__rMczg2pEe-qoa3sx2ZQ4g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="__rMcyg2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rMcyw2pEe-qoa3sx2ZQ4g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="__rMcyw2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rMcyg2pEe-qoa3sx2ZQ4g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__rMc0A2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rMczw2pEe-qoa3sx2ZQ4g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND0A2pEe-qoa3sx2ZQ4g" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="__rMc1A2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND0Q2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND0Q2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="__rND0A2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND0g2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND0g2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rND0Q2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND0w2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND0w2pEe-qoa3sx2ZQ4g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__rND0g2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND1A2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND1A2pEe-qoa3sx2ZQ4g" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="__rND0w2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND1Q2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rND1Q2pEe-qoa3sx2ZQ4g" entityName="deferredResult" predecessor_AbstractAction="__rND1A2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND1g2pEe-qoa3sx2ZQ4g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND1g2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="__rND1Q2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND1w2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND1w2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rND1g2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND2A2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND2A2pEe-qoa3sx2ZQ4g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__rND1w2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND2Q2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND2Q2pEe-qoa3sx2ZQ4g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="__rND2A2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND2g2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rND2g2pEe-qoa3sx2ZQ4g" entityName="deferredResult" predecessor_AbstractAction="__rND2Q2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND2w2pEe-qoa3sx2ZQ4g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rND2w2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rND2g2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rND3A2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rND3A2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rND2w2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rNq6w2pEe-qoa3sx2ZQ4g">
                <branchBehaviour_BranchTransition id="__rNq7Q2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rNq4w2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rNq5A2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rNq5A2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="__rNq4w2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rNq5Q2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rNq5Q2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rNq5A2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rNq5g2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rNq5g2pEe-qoa3sx2ZQ4g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__rNq5Q2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rNq5w2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rNq5w2pEe-qoa3sx2ZQ4g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="__rNq5g2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rNq6A2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rNq6A2pEe-qoa3sx2ZQ4g" entityName="deferredResult" predecessor_AbstractAction="__rNq5w2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rNq6Q2pEe-qoa3sx2ZQ4g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rNq6Q2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rNq6A2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rNq6g2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rNq6g2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rNq6Q2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rOR8w2pEe-qoa3sx2ZQ4g">
                <branchBehaviour_BranchTransition id="__rOR9Q2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rOR8A2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rOR8Q2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rOR8Q2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rOR8A2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rOR8g2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rOR8g2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rOR8Q2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rOR9w2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rOR9g2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__rOR_A2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="__rOR-w2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rOR_Q2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="__rOR_Q2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rOR_A2pEe-qoa3sx2ZQ4g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__r6OfQ2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__r6Oew2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="__r3LKw2pEe-qoa3sx2ZQ4g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__r6OfA2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="__r3LKA2pEe-qoa3sx2ZQ4g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__rR8Uw2pEe-qoa3sx2ZQ4g" describedService__SEFF="__ldoMA2pEe-qoa3sx2ZQ4g">
      <steps_Behaviour xsi:type="seff:StartAction" id="__rQuPA2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rRVSw2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__rRVSw2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rQuPA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rR8UQ2pEe-qoa3sx2ZQ4g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rRVQg2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__rRVRA2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rQuPQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rRVQA2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rRVQA2pEe-qoa3sx2ZQ4g" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="__rQuPQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rRVQQ2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rRVQQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rRVQA2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rRVSA2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__rRVSg2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rRVRQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rRVRg2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rRVRg2pEe-qoa3sx2ZQ4g" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="__rRVRQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rRVRw2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rRVRw2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rRVRg2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__rR8UQ2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rRVSw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rR8Ug2pEe-qoa3sx2ZQ4g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rRVWw2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__rR8UA2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rRVTA2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rRVWQ2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__rRVWQ2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rRVTA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rRVWg2pEe-qoa3sx2ZQ4g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rRVUQ2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__rRVUw2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rRVTQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rRVTg2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rRVTg2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="__rRVTQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rRVTw2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rRVTw2pEe-qoa3sx2ZQ4g" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="__rRVTg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rRVUA2pEe-qoa3sx2ZQ4g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rRVUA2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rRVTw2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rRVVg2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__rRVWA2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rRVVA2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rRVVQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rRVVQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rRVVA2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rRVWg2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rRVWQ2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__rR8Ug2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rR8UQ2pEe-qoa3sx2ZQ4g"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__rQuOg2pEe-qoa3sx2ZQ4g" describedService__SEFF="__ldoNA2pEe-qoa3sx2ZQ4g">
      <steps_Behaviour xsi:type="seff:StartAction" id="__rQuNw2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rQuOA2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rQuOA2pEe-qoa3sx2ZQ4g" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="__rQuNw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQuOQ2pEe-qoa3sx2ZQ4g">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__rQuOQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rQuOA2pEe-qoa3sx2ZQ4g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__r_G-w2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__r_G-g2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="__r3LKQ2pEe-qoa3sx2ZQ4g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__rL1uQ2pEe-qoa3sx2ZQ4g" describedService__SEFF="__kv2gA2pEe-qoa3sx2ZQ4g">
      <steps_Behaviour xsi:type="seff:StartAction" id="__l4e8A2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rL1tg2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__rL1tg2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__l4e8A2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rL1tw2pEe-qoa3sx2ZQ4g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rL1sw2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__rL1tQ2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__l6UIA2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rL1sQ2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__rL1sQ2pEe-qoa3sx2ZQ4g" entityName="Switch Branch" predecessor_AbstractAction="__l6UIA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rL1sg2pEe-qoa3sx2ZQ4g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rLOow2pEe-qoa3sx2ZQ4g">
                <branchBehaviour_BranchTransition id="__rLOpQ2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__l6UIQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rHkRQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="__rHkRQ2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__l6UIQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rILUA2pEe-qoa3sx2ZQ4g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rHkQg2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="__rHkRA2pEe-qoa3sx2ZQ4g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__l6UIg2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rHkQA2pEe-qoa3sx2ZQ4g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="__rHkQA2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__l6UIg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rHkQQ2pEe-qoa3sx2ZQ4g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__l7iQA2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="__l7iQg2pEe-qoa3sx2ZQ4g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="__l6UIw2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__l67MA2pEe-qoa3sx2ZQ4g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="__l67MA2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__l6UIw2pEe-qoa3sx2ZQ4g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__rHkQQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rHkQA2pEe-qoa3sx2ZQ4g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rILUA2pEe-qoa3sx2ZQ4g" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="__rHkRQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rILUQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rILUQ2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="__rILUA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rLOoA2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rLOoA2pEe-qoa3sx2ZQ4g" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="__rILUQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rLOoQ2pEe-qoa3sx2ZQ4g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rLOoQ2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="__rLOoA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rLOog2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rLOog2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rLOoQ2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rLOqQ2pEe-qoa3sx2ZQ4g">
                <branchBehaviour_BranchTransition id="__rLOqw2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rLOpg2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rLOpw2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rLOpw2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="__rLOpg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rLOqA2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rLOqA2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rLOpw2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rLOrg2pEe-qoa3sx2ZQ4g">
                <branchBehaviour_BranchTransition id="__rL1sA2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rLOrA2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rLOrQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rLOrQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rLOrA2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rL1sg2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rL1sQ2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__rL1tw2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="__rL1tg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rL1uA2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="__rL1uA2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rL1tw2pEe-qoa3sx2ZQ4g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__sBjPg2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__sBjPQ2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="__r3LLA2pEe-qoa3sx2ZQ4g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__rTxgg2pEe-qoa3sx2ZQ4g" describedService__SEFF="__le2Uw2pEe-qoa3sx2ZQ4g">
      <steps_Behaviour xsi:type="seff:StartAction" id="__rR8VQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rR8XA2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__rR8XA2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rR8VQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rR8XQ2pEe-qoa3sx2ZQ4g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rR8WQ2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__rR8Ww2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rR8Vg2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rR8Vw2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rR8Vw2pEe-qoa3sx2ZQ4g" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="__rR8Vg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rR8WA2pEe-qoa3sx2ZQ4g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rR8WA2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rR8Vw2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__rR8XQ2pEe-qoa3sx2ZQ4g" entityName="stopWatch.start()" predecessor_AbstractAction="__rR8XA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rTxgA2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__rTxgA2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rR8XQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rTxgQ2pEe-qoa3sx2ZQ4g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rTKeQ2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__rTKew2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rR8Xg2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rTKdw2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__rTKdw2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rR8Xg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rTKeA2pEe-qoa3sx2ZQ4g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rTKdA2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__rTKdg2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rR8Xw2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rSjcQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="__rSjcQ2pEe-qoa3sx2ZQ4g" entityName="Switch Branch" predecessor_AbstractAction="__rR8Xw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rSjcg2pEe-qoa3sx2ZQ4g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rSjYg2pEe-qoa3sx2ZQ4g">
                      <branchBehaviour_BranchTransition id="__rSjZA2pEe-qoa3sx2ZQ4g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__rR8YA2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rR8Zw2pEe-qoa3sx2ZQ4g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="__rR8Zw2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rR8YA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rSjYA2pEe-qoa3sx2ZQ4g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rR8ZA2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="__rR8Zg2pEe-qoa3sx2ZQ4g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="__rR8YQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rR8Yg2pEe-qoa3sx2ZQ4g"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="__rR8Yg2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rR8YQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rR8Yw2pEe-qoa3sx2ZQ4g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="__rR8Yw2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rR8Yg2pEe-qoa3sx2ZQ4g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="__rSjYA2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rR8Zw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rSjYQ2pEe-qoa3sx2ZQ4g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__rSjYQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rSjYA2pEe-qoa3sx2ZQ4g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rSjaA2pEe-qoa3sx2ZQ4g">
                      <branchBehaviour_BranchTransition id="__rSjag2pEe-qoa3sx2ZQ4g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__rSjZQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rSjZg2pEe-qoa3sx2ZQ4g"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="__rSjZg2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rSjZQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rSjZw2pEe-qoa3sx2ZQ4g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__rSjZw2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rSjZg2pEe-qoa3sx2ZQ4g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rSjbg2pEe-qoa3sx2ZQ4g">
                      <branchBehaviour_BranchTransition id="__rSjcA2pEe-qoa3sx2ZQ4g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__rSjaw2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rSjbA2pEe-qoa3sx2ZQ4g"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="__rSjbA2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rSjaw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rSjbQ2pEe-qoa3sx2ZQ4g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__rSjbQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rSjbA2pEe-qoa3sx2ZQ4g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rSjcg2pEe-qoa3sx2ZQ4g" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="__rSjcQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rSjcw2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rSjcw2pEe-qoa3sx2ZQ4g" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="__rSjcg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rSjdA2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rSjdA2pEe-qoa3sx2ZQ4g" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="__rSjcw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rSjdQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rSjdQ2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rSjdA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rSjdg2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rSjdg2pEe-qoa3sx2ZQ4g" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__rSjdQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rTKcA2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rTKcA2pEe-qoa3sx2ZQ4g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="__rSjdg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rTKcQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rTKcQ2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="__rTKcA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rTKcg2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rTKcg2pEe-qoa3sx2ZQ4g" entityName="deferredResult" predecessor_AbstractAction="__rTKcQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rTKcw2pEe-qoa3sx2ZQ4g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rTKcw2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rTKcg2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rTKeA2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rTKdw2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__rTxgQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rTxgA2pEe-qoa3sx2ZQ4g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__sD_eg2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__sD_eQ2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="__r3LLQ2pEe-qoa3sx2ZQ4g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__rQuNQ2pEe-qoa3sx2ZQ4g" describedService__SEFF="__lePQg2pEe-qoa3sx2ZQ4g">
      <steps_Behaviour xsi:type="seff:StartAction" id="__rOSAA2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rO5BQ2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__rO5BQ2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rOSAA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rO5Bg2pEe-qoa3sx2ZQ4g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rO5Ag2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__rO5BA2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rOSAQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rO5AA2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rO5AA2pEe-qoa3sx2ZQ4g" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="__rOSAQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rO5AQ2pEe-qoa3sx2ZQ4g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rO5AQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rO5AA2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__rO5Bg2pEe-qoa3sx2ZQ4g" entityName="stopWatch.start()" predecessor_AbstractAction="__rO5BQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQuMw2pEe-qoa3sx2ZQ4g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__rQuMw2pEe-qoa3sx2ZQ4g" entityName="Switch Branch" predecessor_AbstractAction="__rO5Bg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQuNA2pEe-qoa3sx2ZQ4g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rPgHA2pEe-qoa3sx2ZQ4g">
          <branchBehaviour_BranchTransition id="__rPgHg2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rO5Bw2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rO5CA2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rO5CA2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rO5Bw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rO5CQ2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rO5CQ2pEe-qoa3sx2ZQ4g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__rO5CA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rO5Cg2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rO5Cg2pEe-qoa3sx2ZQ4g" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="__rO5CQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rO5Cw2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rO5Cw2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="__rO5Cg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rO5DA2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rO5DA2pEe-qoa3sx2ZQ4g" entityName="deferredResult" predecessor_AbstractAction="__rO5Cw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rPgGA2pEe-qoa3sx2ZQ4g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__rPgGA2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rO5DA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rPgGQ2pEe-qoa3sx2ZQ4g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rPgFQ2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__rPgFw2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rO5DQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rO5Dg2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rO5Dg2pEe-qoa3sx2ZQ4g" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="__rO5DQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rO5Dw2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rO5Dw2pEe-qoa3sx2ZQ4g" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="__rO5Dg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rO5EA2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rO5EA2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rO5Dw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rPgEA2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rPgEA2pEe-qoa3sx2ZQ4g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__rO5EA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rPgEQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rPgEQ2pEe-qoa3sx2ZQ4g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="__rPgEA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rPgEg2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rPgEg2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="__rPgEQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rPgEw2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rPgEw2pEe-qoa3sx2ZQ4g" entityName="deferredResult" predecessor_AbstractAction="__rPgEg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rPgFA2pEe-qoa3sx2ZQ4g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rPgFA2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rPgEw2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rPgGQ2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rPgGA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rPgGg2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rPgGg2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rPgGQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rPgGw2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rPgGw2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rPgGg2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rQHLg2pEe-qoa3sx2ZQ4g">
          <branchBehaviour_BranchTransition id="__rQHMA2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rPgHw2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rQHKg2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__rQHKg2pEe-qoa3sx2ZQ4g" entityName="If Branch" predecessor_AbstractAction="__rPgHw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHKw2pEe-qoa3sx2ZQ4g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rQHJw2pEe-qoa3sx2ZQ4g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__rQHKQ2pEe-qoa3sx2ZQ4g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__rPgIA2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rPgIQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rPgIQ2pEe-qoa3sx2ZQ4g" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="__rPgIA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHIA2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rQHIA2pEe-qoa3sx2ZQ4g" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="__rPgIQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHIQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rQHIQ2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rQHIA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHIg2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rQHIg2pEe-qoa3sx2ZQ4g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__rQHIQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHIw2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rQHIw2pEe-qoa3sx2ZQ4g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="__rQHIg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHJA2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__rQHJA2pEe-qoa3sx2ZQ4g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="__rQHIw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHJQ2pEe-qoa3sx2ZQ4g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__rQHJQ2pEe-qoa3sx2ZQ4g" entityName="deferredResult" predecessor_AbstractAction="__rQHJA2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHJg2pEe-qoa3sx2ZQ4g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__rQHJg2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rQHJQ2pEe-qoa3sx2ZQ4g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rQHKw2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rQHKg2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHLA2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rQHLA2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rQHKw2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHLQ2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rQHLQ2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rQHLA2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__rQuMA2pEe-qoa3sx2ZQ4g">
          <branchBehaviour_BranchTransition id="__rQuMg2pEe-qoa3sx2ZQ4g">
            <steps_Behaviour xsi:type="seff:StartAction" id="__rQHMQ2pEe-qoa3sx2ZQ4g" entityName="Start Action" successor_AbstractAction="__rQHMg2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__rQHMg2pEe-qoa3sx2ZQ4g" entityName="stopWatch.stop()" predecessor_AbstractAction="__rQHMQ2pEe-qoa3sx2ZQ4g" successor_AbstractAction="__rQHMw2pEe-qoa3sx2ZQ4g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__rQHMw2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rQHMg2pEe-qoa3sx2ZQ4g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__rQuNA2pEe-qoa3sx2ZQ4g" entityName="Stop Action" predecessor_AbstractAction="__rQuMw2pEe-qoa3sx2ZQ4g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__sIQ4Q2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="__sI39g2pEe-qoa3sx2ZQ4g" encapsulatedComponent__AssemblyContext="__r3yMg2pEe-qoa3sx2ZQ4g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__sKGEg2pEe-qoa3sx2ZQ4g" innerProvidedRole_ProvidedDelegationConnector="__r3yMQ2pEe-qoa3sx2ZQ4g" outerProvidedRole_ProvidedDelegationConnector="__sIQ4A2pEe-qoa3sx2ZQ4g" assemblyContext_ProvidedDelegationConnector="__sI39g2pEe-qoa3sx2ZQ4g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__sIQ4A2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="__r3LKg2pEe-qoa3sx2ZQ4g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__sIQ4g2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="__sI3-A2pEe-qoa3sx2ZQ4g" encapsulatedComponent__AssemblyContext="__r3yMA2pEe-qoa3sx2ZQ4g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__sIQ5Q2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="__sI3-g2pEe-qoa3sx2ZQ4g" encapsulatedComponent__AssemblyContext="__r6OfQ2pEe-qoa3sx2ZQ4g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__sKGEA2pEe-qoa3sx2ZQ4g" innerProvidedRole_ProvidedDelegationConnector="__r6OfA2pEe-qoa3sx2ZQ4g" outerProvidedRole_ProvidedDelegationConnector="__sIQ5A2pEe-qoa3sx2ZQ4g" assemblyContext_ProvidedDelegationConnector="__sI3-g2pEe-qoa3sx2ZQ4g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__sKGEw2pEe-qoa3sx2ZQ4g" innerProvidedRole_ProvidedDelegationConnector="__r6Oew2pEe-qoa3sx2ZQ4g" outerProvidedRole_ProvidedDelegationConnector="__sIQ4w2pEe-qoa3sx2ZQ4g" assemblyContext_ProvidedDelegationConnector="__sI3-g2pEe-qoa3sx2ZQ4g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__sIQ4w2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="__r3LKw2pEe-qoa3sx2ZQ4g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__sIQ5A2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="__r3LKA2pEe-qoa3sx2ZQ4g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__sIQ5w2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="__sI38A2pEe-qoa3sx2ZQ4g" encapsulatedComponent__AssemblyContext="__r_G-w2pEe-qoa3sx2ZQ4g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__sKGEQ2pEe-qoa3sx2ZQ4g" innerProvidedRole_ProvidedDelegationConnector="__r_G-g2pEe-qoa3sx2ZQ4g" outerProvidedRole_ProvidedDelegationConnector="__sIQ5g2pEe-qoa3sx2ZQ4g" assemblyContext_ProvidedDelegationConnector="__sI38A2pEe-qoa3sx2ZQ4g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__sIQ5g2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="__r3LKQ2pEe-qoa3sx2ZQ4g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__sIQ6Q2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="__sI39A2pEe-qoa3sx2ZQ4g" encapsulatedComponent__AssemblyContext="__sD_eg2pEe-qoa3sx2ZQ4g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__sKGFQ2pEe-qoa3sx2ZQ4g" innerProvidedRole_ProvidedDelegationConnector="__sD_eQ2pEe-qoa3sx2ZQ4g" outerProvidedRole_ProvidedDelegationConnector="__sIQ6A2pEe-qoa3sx2ZQ4g" assemblyContext_ProvidedDelegationConnector="__sI39A2pEe-qoa3sx2ZQ4g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__sIQ6A2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="__r3LLQ2pEe-qoa3sx2ZQ4g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__sIQ6w2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="__sI38g2pEe-qoa3sx2ZQ4g" encapsulatedComponent__AssemblyContext="__sBjPg2pEe-qoa3sx2ZQ4g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__sKGFA2pEe-qoa3sx2ZQ4g" innerProvidedRole_ProvidedDelegationConnector="__sBjPQ2pEe-qoa3sx2ZQ4g" outerProvidedRole_ProvidedDelegationConnector="__sIQ6g2pEe-qoa3sx2ZQ4g" assemblyContext_ProvidedDelegationConnector="__sI38g2pEe-qoa3sx2ZQ4g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__sIQ6g2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="__r3LLA2pEe-qoa3sx2ZQ4g"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__r3LKA2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="__ldoNA2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="__kvPcA2pEe-qoa3sx2ZQ4g">
      <parameters__OperationSignature dataType__Parameter="__ldoMw2pEe-qoa3sx2ZQ4g" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__r3LKQ2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="__kv2gA2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="__kvPcA2pEe-qoa3sx2ZQ4g">
      <parameters__OperationSignature dataType__Parameter="__kszMA2pEe-qoa3sx2ZQ4g" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__r3LKg2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="__le2UA2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="__lePQQ2pEe-qoa3sx2ZQ4g">
      <parameters__OperationSignature dataType__Parameter="__kszMA2pEe-qoa3sx2ZQ4g" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__r3LKw2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="__ldoMA2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="__kvPcA2pEe-qoa3sx2ZQ4g">
      <parameters__OperationSignature dataType__Parameter="__ldBIA2pEe-qoa3sx2ZQ4g" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="__ldBIQ2pEe-qoa3sx2ZQ4g" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__r3LLA2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="__le2Uw2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="__lePQQ2pEe-qoa3sx2ZQ4g">
      <parameters__OperationSignature dataType__Parameter="__kszMA2pEe-qoa3sx2ZQ4g" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__r3LLQ2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="__lePQg2pEe-qoa3sx2ZQ4g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="__lePQQ2pEe-qoa3sx2ZQ4g">
      <parameters__OperationSignature dataType__Parameter="__lePQA2pEe-qoa3sx2ZQ4g" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__kszMA2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__kvPcA2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__ldBIA2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__ldBIQ2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__ldoMw2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__lePQA2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__lePQQ2pEe-qoa3sx2ZQ4g" entityName="app_coronawarn_verification_controller_DeferredResult"/>
</repository:Repository>
