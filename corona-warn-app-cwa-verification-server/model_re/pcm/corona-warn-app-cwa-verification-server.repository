<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_9GCcS3CtEe-pZd4vk01Nrw">
  <components__Repository xsi:type="repository:BasicComponent" id="_9FykpHCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9Fyko3CtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_9Fx9nHCtEe-pZd4vk01Nrw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9FMHxHCtEe-pZd4vk01Nrw" describedService__SEFF="_8_MNYXCtEe-pZd4vk01Nrw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9FK5pnCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FMHwXCtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9FMHwXCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FK5pnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FMHwnCtEe-pZd4vk01Nrw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FMHvnCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9FMHwHCtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FLgoHCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FMHvHCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9FMHvHCtEe-pZd4vk01Nrw" entityName="Switch Branch" predecessor_AbstractAction="_9FLgoHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FMHvXCtEe-pZd4vk01Nrw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FLgs3CtEe-pZd4vk01Nrw">
                <branchBehaviour_BranchTransition id="_9FMHsHCtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FLgoXCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FLgrXCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_9FLgrXCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FLgoXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FLgrnCtEe-pZd4vk01Nrw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FLgqnCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_9FLgrHCtEe-pZd4vk01Nrw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9FLgonCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FLgqHCtEe-pZd4vk01Nrw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_9FLgqHCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FLgonCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FLgqXCtEe-pZd4vk01Nrw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FLgpXCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_9FLgp3CtEe-pZd4vk01Nrw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_9FLgo3CtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FLgpHCtEe-pZd4vk01Nrw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_9FLgpHCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FLgo3CtEe-pZd4vk01Nrw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9FLgqXCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FLgqHCtEe-pZd4vk01Nrw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FLgrnCtEe-pZd4vk01Nrw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_9FLgrXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FLgr3CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FLgr3CtEe-pZd4vk01Nrw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_9FLgrnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FLgsHCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FLgsHCtEe-pZd4vk01Nrw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_9FLgr3CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FLgsXCtEe-pZd4vk01Nrw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FLgsXCtEe-pZd4vk01Nrw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_9FLgsHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FLgsnCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FLgsnCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FLgsXCtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FMHtHCtEe-pZd4vk01Nrw">
                <branchBehaviour_BranchTransition id="_9FMHtnCtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FMHsXCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FMHsnCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FMHsnCtEe-pZd4vk01Nrw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_9FMHsXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FMHs3CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FMHs3CtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FMHsnCtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FMHuXCtEe-pZd4vk01Nrw">
                <branchBehaviour_BranchTransition id="_9FMHu3CtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FMHt3CtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FMHuHCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FMHuHCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FMHt3CtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FMHvXCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FMHvHCtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9FMHwnCtEe-pZd4vk01Nrw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_9FMHwXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FMHw3CtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9FMHw3CtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FMHwnCtEe-pZd4vk01Nrw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_9F1A5HCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9F1A43CtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_9Fx9m3CtEe-pZd4vk01Nrw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9FJEZ3CtEe-pZd4vk01Nrw" describedService__SEFF="_8_OCkHCtEe-pZd4vk01Nrw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8_o5UXCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FGBEHCtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9FGBEHCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_8_o5UXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FGoIHCtEe-pZd4vk01Nrw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FEy8HCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9FFaAHCtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8_qugHCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FEL4HCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FEL4HCtEe-pZd4vk01Nrw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_8_qugHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FEL4XCtEe-pZd4vk01Nrw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FEL4XCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FEL4HCtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9FGoIHCtEe-pZd4vk01Nrw" entityName="stopWatch.start()" predecessor_AbstractAction="_9FGBEHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJEZXCtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9FJEZXCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FGoIHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJEZnCtEe-pZd4vk01Nrw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FJEYnCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9FJEZHCtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FGoIXCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FJEYHCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9FJEYHCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FGoIXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJEYXCtEe-pZd4vk01Nrw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FIdWXCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9FIdW3CtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FGoInCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FH2UnCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_9FH2UnCtEe-pZd4vk01Nrw" entityName="Switch Branch" predecessor_AbstractAction="_9FGoInCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FIdUHCtEe-pZd4vk01Nrw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FH2Q3CtEe-pZd4vk01Nrw">
                      <branchBehaviour_BranchTransition id="_9FH2RXCtEe-pZd4vk01Nrw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9FHPMHCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FH2QHCtEe-pZd4vk01Nrw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_9FH2QHCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FHPMHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FH2QXCtEe-pZd4vk01Nrw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FHPNHCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_9FHPNnCtEe-pZd4vk01Nrw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_9FHPMXCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FHPMnCtEe-pZd4vk01Nrw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_9FHPMnCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FHPMXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FHPM3CtEe-pZd4vk01Nrw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_9FHPM3CtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FHPMnCtEe-pZd4vk01Nrw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_9FH2QXCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FH2QHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FH2QnCtEe-pZd4vk01Nrw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9FH2QnCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FH2QXCtEe-pZd4vk01Nrw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FH2SXCtEe-pZd4vk01Nrw">
                      <branchBehaviour_BranchTransition id="_9FH2S3CtEe-pZd4vk01Nrw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9FH2RnCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FH2R3CtEe-pZd4vk01Nrw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_9FH2R3CtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FH2RnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FH2SHCtEe-pZd4vk01Nrw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9FH2SHCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FH2R3CtEe-pZd4vk01Nrw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FH2T3CtEe-pZd4vk01Nrw">
                      <branchBehaviour_BranchTransition id="_9FH2UXCtEe-pZd4vk01Nrw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9FH2THCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FH2TXCtEe-pZd4vk01Nrw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_9FH2TXCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FH2THCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FH2TnCtEe-pZd4vk01Nrw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9FH2TnCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FH2TXCtEe-pZd4vk01Nrw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FIdUHCtEe-pZd4vk01Nrw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_9FH2UnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FIdUXCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FIdUXCtEe-pZd4vk01Nrw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_9FIdUHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FIdUnCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FIdUnCtEe-pZd4vk01Nrw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_9FIdUXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FIdU3CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FIdU3CtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FIdUnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FIdVHCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FIdVHCtEe-pZd4vk01Nrw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9FIdU3CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FIdVXCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FIdVXCtEe-pZd4vk01Nrw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_9FIdVHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FIdVnCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FIdVnCtEe-pZd4vk01Nrw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_9FIdVXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FIdV3CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FIdV3CtEe-pZd4vk01Nrw" entityName="deferredResult" predecessor_AbstractAction="_9FIdVnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FIdWHCtEe-pZd4vk01Nrw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FIdWHCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FIdV3CtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FJEYXCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FJEYHCtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9FJEZnCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FJEZXCtEe-pZd4vk01Nrw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_9F22HXCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_9F22IHCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9F22HnCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_9FykonCtEe-pZd4vk01Nrw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9F22H3CtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_9FykoHCtEe-pZd4vk01Nrw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9FOj9XCtEe-pZd4vk01Nrw" describedService__SEFF="_8_M0dHCtEe-pZd4vk01Nrw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9FOj8nCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FOj83CtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FOj83CtEe-pZd4vk01Nrw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_9FOj8nCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FOj9HCtEe-pZd4vk01Nrw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9FOj9HCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FOj83CtEe-pZd4vk01Nrw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9FPLGnCtEe-pZd4vk01Nrw" describedService__SEFF="_8_M0cHCtEe-pZd4vk01Nrw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9FOj93CtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FPLBXCtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9FPLBXCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FOj93CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FPLGHCtEe-pZd4vk01Nrw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FOj-3CtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9FOj_XCtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FOj-HCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FOj-XCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FOj-XCtEe-pZd4vk01Nrw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_9FOj-HCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FOj-nCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FOj-nCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FOj-XCtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FPLAnCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9FPLBHCtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FOj_nCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FPLAHCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FPLAHCtEe-pZd4vk01Nrw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_9FOj_nCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FPLAXCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FPLAXCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FPLAHCtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9FPLGHCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FPLBXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FPLGXCtEe-pZd4vk01Nrw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FPLFXCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9FPLF3CtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FPLBnCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FPLE3CtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9FPLE3CtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FPLBnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FPLFHCtEe-pZd4vk01Nrw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FPLC3CtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9FPLDXCtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FPLB3CtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FPLCHCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FPLCHCtEe-pZd4vk01Nrw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_9FPLB3CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FPLCXCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FPLCXCtEe-pZd4vk01Nrw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_9FPLCHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FPLCnCtEe-pZd4vk01Nrw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FPLCnCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FPLCXCtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FPLEHCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9FPLEnCtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FPLDnCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FPLD3CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FPLD3CtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FPLDnCtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FPLFHCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FPLE3CtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9FPLGXCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FPLGHCtEe-pZd4vk01Nrw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_9F7HjnCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9F7HjXCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_9FykoXCtEe-pZd4vk01Nrw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9FK5pHCtEe-pZd4vk01Nrw" describedService__SEFF="_8_Nbg3CtEe-pZd4vk01Nrw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9FJEaXCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FJEcHCtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9FJEcHCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FJEaXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrcHCtEe-pZd4vk01Nrw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FJEbXCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9FJEb3CtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FJEanCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FJEa3CtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FJEa3CtEe-pZd4vk01Nrw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_9FJEanCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJEbHCtEe-pZd4vk01Nrw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FJEbHCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FJEa3CtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJrcHCtEe-pZd4vk01Nrw" entityName="stopWatch.start()" predecessor_AbstractAction="_9FJEcHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FK5onCtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9FK5onCtEe-pZd4vk01Nrw" entityName="Switch Branch" predecessor_AbstractAction="_9FJrcHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FK5o3CtEe-pZd4vk01Nrw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FKShHCtEe-pZd4vk01Nrw">
          <branchBehaviour_BranchTransition id="_9FKShnCtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FJrcXCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FJrcnCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJrcnCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FJrcXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrc3CtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJrc3CtEe-pZd4vk01Nrw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9FJrcnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrdHCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJrdHCtEe-pZd4vk01Nrw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_9FJrc3CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrdXCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJrdXCtEe-pZd4vk01Nrw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_9FJrdHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrdnCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FJrdnCtEe-pZd4vk01Nrw" entityName="deferredResult" predecessor_AbstractAction="_9FJrdXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FKSgHCtEe-pZd4vk01Nrw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9FKSgHCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FJrdnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FKSgXCtEe-pZd4vk01Nrw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FJrgHCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9FJrgnCtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FJrd3CtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FJreHCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJreHCtEe-pZd4vk01Nrw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_9FJrd3CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJreXCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJreXCtEe-pZd4vk01Nrw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_9FJreHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrenCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJrenCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FJreXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJre3CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJre3CtEe-pZd4vk01Nrw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9FJrenCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrfHCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJrfHCtEe-pZd4vk01Nrw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_9FJre3CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrfXCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FJrfXCtEe-pZd4vk01Nrw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_9FJrfHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrfnCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FJrfnCtEe-pZd4vk01Nrw" entityName="deferredResult" predecessor_AbstractAction="_9FJrfXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FJrf3CtEe-pZd4vk01Nrw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FJrf3CtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FJrfnCtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FKSgXCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FKSgHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FKSgnCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FKSgnCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FKSgXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FKSg3CtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FKSg3CtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FKSgnCtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FK5mXCtEe-pZd4vk01Nrw">
          <branchBehaviour_BranchTransition id="_9FK5m3CtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FKSh3CtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FK5lXCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9FK5lXCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FKSh3CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FK5lnCtEe-pZd4vk01Nrw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FK5knCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9FK5lHCtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FKSiHCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FKSiXCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FKSiXCtEe-pZd4vk01Nrw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_9FKSiHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FKSinCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FKSinCtEe-pZd4vk01Nrw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_9FKSiXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FKSi3CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FKSi3CtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FKSinCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FKSjHCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FKSjHCtEe-pZd4vk01Nrw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9FKSi3CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FKSjXCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FKSjXCtEe-pZd4vk01Nrw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_9FKSjHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FKSjnCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FKSjnCtEe-pZd4vk01Nrw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_9FKSjXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FK5kHCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FK5kHCtEe-pZd4vk01Nrw" entityName="deferredResult" predecessor_AbstractAction="_9FKSjnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FK5kXCtEe-pZd4vk01Nrw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FK5kXCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FK5kHCtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FK5lnCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FK5lXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FK5l3CtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FK5l3CtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FK5lnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FK5mHCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FK5mHCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FK5l3CtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FK5n3CtEe-pZd4vk01Nrw">
          <branchBehaviour_BranchTransition id="_9FK5oXCtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FK5nHCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FK5nXCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9FK5nXCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FK5nHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FK5nnCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FK5nnCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FK5nXCtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9FK5o3CtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FK5onCtEe-pZd4vk01Nrw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_9F88vnCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9F88vXCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_9Fx9mnCtEe-pZd4vk01Nrw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9FOj8HCtEe-pZd4vk01Nrw" describedService__SEFF="_8-iGEHCtEe-pZd4vk01Nrw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9FMuwXCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FMuyHCtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9FMuyHCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FMuwXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FMuyXCtEe-pZd4vk01Nrw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FMuxXCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9FMux3CtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FMuwnCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FMuw3CtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FMuw3CtEe-pZd4vk01Nrw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_9FMuwnCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FMuxHCtEe-pZd4vk01Nrw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FMuxHCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FMuw3CtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9FMuyXCtEe-pZd4vk01Nrw" entityName="stopWatch.start()" predecessor_AbstractAction="_9FMuyHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN89nCtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9FN89nCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FMuyXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN893CtEe-pZd4vk01Nrw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FN883CtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9FN89XCtEe-pZd4vk01Nrw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9FMuynCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FN88XCtEe-pZd4vk01Nrw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9FN88XCtEe-pZd4vk01Nrw" entityName="Switch Branch" predecessor_AbstractAction="_9FMuynCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN88nCtEe-pZd4vk01Nrw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FNV3XCtEe-pZd4vk01Nrw">
                <branchBehaviour_BranchTransition id="_9FNV33CtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FMuy3CtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FMuzHCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FMuzHCtEe-pZd4vk01Nrw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_9FMuy3CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FMu2HCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_9FMu2HCtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FMuzHCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV0HCtEe-pZd4vk01Nrw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FMu1XCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_9FMu13CtEe-pZd4vk01Nrw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9FMuzXCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FMu03CtEe-pZd4vk01Nrw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_9FMu03CtEe-pZd4vk01Nrw" entityName="If Branch" predecessor_AbstractAction="_9FMuzXCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FMu1HCtEe-pZd4vk01Nrw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FMu0HCtEe-pZd4vk01Nrw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_9FMu0nCtEe-pZd4vk01Nrw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_9FMuznCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FMuz3CtEe-pZd4vk01Nrw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_9FMuz3CtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FMuznCtEe-pZd4vk01Nrw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9FMu1HCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FMu03CtEe-pZd4vk01Nrw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV0HCtEe-pZd4vk01Nrw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_9FMu2HCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV0XCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV0XCtEe-pZd4vk01Nrw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_9FNV0HCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV0nCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV0nCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FNV0XCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV03CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV03CtEe-pZd4vk01Nrw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9FNV0nCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV1HCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV1HCtEe-pZd4vk01Nrw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_9FNV03CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV1XCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FNV1XCtEe-pZd4vk01Nrw" entityName="deferredResult" predecessor_AbstractAction="_9FNV1HCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV1nCtEe-pZd4vk01Nrw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV1nCtEe-pZd4vk01Nrw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_9FNV1XCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV13CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV13CtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FNV1nCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV2HCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV2HCtEe-pZd4vk01Nrw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9FNV13CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV2XCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV2XCtEe-pZd4vk01Nrw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_9FNV2HCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV2nCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FNV2nCtEe-pZd4vk01Nrw" entityName="deferredResult" predecessor_AbstractAction="_9FNV2XCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV23CtEe-pZd4vk01Nrw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FNV23CtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FNV2nCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FNV3HCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FNV3HCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FNV23CtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FN86HCtEe-pZd4vk01Nrw">
                <branchBehaviour_BranchTransition id="_9FN86nCtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FN84HCtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FN84XCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FN84XCtEe-pZd4vk01Nrw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_9FN84HCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN84nCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FN84nCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FN84XCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN843CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FN843CtEe-pZd4vk01Nrw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9FN84nCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN85HCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FN85HCtEe-pZd4vk01Nrw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_9FN843CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN85XCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9FN85XCtEe-pZd4vk01Nrw" entityName="deferredResult" predecessor_AbstractAction="_9FN85HCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN85nCtEe-pZd4vk01Nrw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FN85nCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FN85XCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN853CtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FN853CtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FN85nCtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9FN87nCtEe-pZd4vk01Nrw">
                <branchBehaviour_BranchTransition id="_9FN88HCtEe-pZd4vk01Nrw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9FN863CtEe-pZd4vk01Nrw" entityName="Start Action" successor_AbstractAction="_9FN87HCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9FN87HCtEe-pZd4vk01Nrw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9FN863CtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN87XCtEe-pZd4vk01Nrw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9FN87XCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FN87HCtEe-pZd4vk01Nrw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9FN88nCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FN88XCtEe-pZd4vk01Nrw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9FN893CtEe-pZd4vk01Nrw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_9FN89nCtEe-pZd4vk01Nrw" successor_AbstractAction="_9FN8-HCtEe-pZd4vk01Nrw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9FN8-HCtEe-pZd4vk01Nrw" entityName="Stop Action" predecessor_AbstractAction="_9FN893CtEe-pZd4vk01Nrw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9GBOIXCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_9GCcQ3CtEe-pZd4vk01Nrw" encapsulatedComponent__AssemblyContext="_9FykpHCtEe-pZd4vk01Nrw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9GDDUnCtEe-pZd4vk01Nrw" innerProvidedRole_ProvidedDelegationConnector="_9Fyko3CtEe-pZd4vk01Nrw" outerProvidedRole_ProvidedDelegationConnector="_9GBOIHCtEe-pZd4vk01Nrw" assemblyContext_ProvidedDelegationConnector="_9GCcQ3CtEe-pZd4vk01Nrw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9GBOIHCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_9Fx9nHCtEe-pZd4vk01Nrw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9GBOI3CtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_9GCcQXCtEe-pZd4vk01Nrw" encapsulatedComponent__AssemblyContext="_9F88vnCtEe-pZd4vk01Nrw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9GDDU3CtEe-pZd4vk01Nrw" innerProvidedRole_ProvidedDelegationConnector="_9F88vXCtEe-pZd4vk01Nrw" outerProvidedRole_ProvidedDelegationConnector="_9GBOInCtEe-pZd4vk01Nrw" assemblyContext_ProvidedDelegationConnector="_9GCcQXCtEe-pZd4vk01Nrw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9GBOInCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_9Fx9mnCtEe-pZd4vk01Nrw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9GB1MnCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_9GCcSXCtEe-pZd4vk01Nrw" encapsulatedComponent__AssemblyContext="_9F22IHCtEe-pZd4vk01Nrw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9GDDUHCtEe-pZd4vk01Nrw" innerProvidedRole_ProvidedDelegationConnector="_9F22H3CtEe-pZd4vk01Nrw" outerProvidedRole_ProvidedDelegationConnector="_9GB1MHCtEe-pZd4vk01Nrw" assemblyContext_ProvidedDelegationConnector="_9GCcSXCtEe-pZd4vk01Nrw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9GDDUXCtEe-pZd4vk01Nrw" innerProvidedRole_ProvidedDelegationConnector="_9F22HnCtEe-pZd4vk01Nrw" outerProvidedRole_ProvidedDelegationConnector="_9GB1MXCtEe-pZd4vk01Nrw" assemblyContext_ProvidedDelegationConnector="_9GCcSXCtEe-pZd4vk01Nrw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9GB1MHCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_9FykoHCtEe-pZd4vk01Nrw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9GB1MXCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_9FykonCtEe-pZd4vk01Nrw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9GB1M3CtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_9GB1OHCtEe-pZd4vk01Nrw" encapsulatedComponent__AssemblyContext="_9F22HXCtEe-pZd4vk01Nrw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9GB1NXCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_9GCcR3CtEe-pZd4vk01Nrw" encapsulatedComponent__AssemblyContext="_9F1A5HCtEe-pZd4vk01Nrw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9GDqYXCtEe-pZd4vk01Nrw" innerProvidedRole_ProvidedDelegationConnector="_9F1A43CtEe-pZd4vk01Nrw" outerProvidedRole_ProvidedDelegationConnector="_9GB1NHCtEe-pZd4vk01Nrw" assemblyContext_ProvidedDelegationConnector="_9GCcR3CtEe-pZd4vk01Nrw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9GB1NHCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_9Fx9m3CtEe-pZd4vk01Nrw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9GB1N3CtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_9GCcRXCtEe-pZd4vk01Nrw" encapsulatedComponent__AssemblyContext="_9F7HjnCtEe-pZd4vk01Nrw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9GDqYHCtEe-pZd4vk01Nrw" innerProvidedRole_ProvidedDelegationConnector="_9F7HjXCtEe-pZd4vk01Nrw" outerProvidedRole_ProvidedDelegationConnector="_9GB1NnCtEe-pZd4vk01Nrw" assemblyContext_ProvidedDelegationConnector="_9GCcRXCtEe-pZd4vk01Nrw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9GB1NnCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_9FykoXCtEe-pZd4vk01Nrw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9Fx9mnCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_8-iGEHCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_8-hfAHCtEe-pZd4vk01Nrw">
      <parameters__OperationSignature dataType__Parameter="_8-fp0HCtEe-pZd4vk01Nrw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9Fx9m3CtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_8_OCkHCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_8-hfAHCtEe-pZd4vk01Nrw">
      <parameters__OperationSignature dataType__Parameter="_8-fp0HCtEe-pZd4vk01Nrw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9Fx9nHCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_8_MNYXCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_8_MNYHCtEe-pZd4vk01Nrw">
      <parameters__OperationSignature dataType__Parameter="_8-fp0HCtEe-pZd4vk01Nrw" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9FykoHCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_8_M0cHCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_8_MNYHCtEe-pZd4vk01Nrw">
      <parameters__OperationSignature dataType__Parameter="_8_MNZHCtEe-pZd4vk01Nrw" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_8_MNZXCtEe-pZd4vk01Nrw" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9FykoXCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_8_Nbg3CtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_8-hfAHCtEe-pZd4vk01Nrw">
      <parameters__OperationSignature dataType__Parameter="_8_NbgnCtEe-pZd4vk01Nrw" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9FykonCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_8_M0dHCtEe-pZd4vk01Nrw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_8_MNYHCtEe-pZd4vk01Nrw">
      <parameters__OperationSignature dataType__Parameter="_8_M0c3CtEe-pZd4vk01Nrw" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8-fp0HCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8-hfAHCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8_MNYHCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8_MNZHCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8_MNZXCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8_M0c3CtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8_NbgnCtEe-pZd4vk01Nrw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
