<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_6xgCSssMEe-vmoKSUIT5-Q">
  <components__Repository xsi:type="repository:BasicComponent" id="_6xOVeMsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xOVdssMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_6xOVcssMEe-vmoKSUIT5-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xOVd8sMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_6xOVccsMEe-vmoKSUIT5-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_6wf8sssMEe-vmoKSUIT5-Q" describedService__SEFF="_6qhQhMsMEe-vmoKSUIT5-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_6wfVs8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wf8sMsMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wf8sMsMEe-vmoKSUIT5-Q" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_6wfVs8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wf8scsMEe-vmoKSUIT5-Q">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_6wf8scsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wf8sMsMEe-vmoKSUIT5-Q"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_6wfVscsMEe-vmoKSUIT5-Q" describedService__SEFF="_6qhQgMsMEe-vmoKSUIT5-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_6weulMsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6weuocsMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_6weuocsMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6weulMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wfVr8sMEe-vmoKSUIT5-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6weumMsMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_6weumssMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6weulcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6weulssMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6weulssMEe-vmoKSUIT5-Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_6weulcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weul8sMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6weul8sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6weulssMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6weunssMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_6weuoMsMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6weum8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6weunMsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6weunMsMEe-vmoKSUIT5-Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_6weum8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weuncsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6weuncsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6weunMsMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_6wfVr8sMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6weuocsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wfVsMsMEe-vmoKSUIT5-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wfVrMsMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_6wfVrssMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6weuossMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wfVqssMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_6wfVqssMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6weuossMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wfVq8sMEe-vmoKSUIT5-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wfVossMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_6wfVpMsMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6weuo8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6weupMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6weupMsMEe-vmoKSUIT5-Q" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_6weuo8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wfVoMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wfVoMsMEe-vmoKSUIT5-Q" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_6weupMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wfVocsMEe-vmoKSUIT5-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6wfVocsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wfVoMsMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wfVp8sMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_6wfVqcsMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6wfVpcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wfVpssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6wfVpssMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wfVpcsMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6wfVq8sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wfVqssMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_6wfVsMsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wfVr8sMEe-vmoKSUIT5-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_6xUcEcsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xUcEMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_6xOVc8sMEe-vmoKSUIT5-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_6wcSX8sMEe-vmoKSUIT5-Q" describedService__SEFF="_6qgCYssMEe-vmoKSUIT5-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_6q8uUcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wZPAMsMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_6wZPAMsMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6q8uUcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wZ2EMsMEe-vmoKSUIT5-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wYA4MsMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_6wYn8MsMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6q-jgMsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wXZ0MsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wXZ0MsMEe-vmoKSUIT5-Q" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_6q-jgMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wXZ0csMEe-vmoKSUIT5-Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6wXZ0csMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wXZ0MsMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_6wZ2EMsMEe-vmoKSUIT5-Q" entityName="stopWatch.start()" predecessor_AbstractAction="_6wZPAMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wcSXMsMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_6wcSXMsMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wZ2EMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wcSXcsMEe-vmoKSUIT5-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wcSWcsMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_6wcSW8sMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6wZ2EcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wcSV8sMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_6wcSV8sMEe-vmoKSUIT5-Q" entityName="Switch Branch" predecessor_AbstractAction="_6wZ2EcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wcSWMsMEe-vmoKSUIT5-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wbrQMsMEe-vmoKSUIT5-Q">
                <branchBehaviour_BranchTransition id="_6wbrQssMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6wadIMsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wadIcsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wadIcsMEe-vmoKSUIT5-Q" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_6wadIMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wadLcsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_6wadLcsMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wadIcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wadLssMEe-vmoKSUIT5-Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wadKssMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_6wadLMsMEe-vmoKSUIT5-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_6wadIssMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wadKMsMEe-vmoKSUIT5-Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_6wadKMsMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wadIssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wadKcsMEe-vmoKSUIT5-Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wadJcsMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_6wadJ8sMEe-vmoKSUIT5-Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_6wadI8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wadJMsMEe-vmoKSUIT5-Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_6wadJMsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wadI8sMEe-vmoKSUIT5-Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_6wadKcsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wadKMsMEe-vmoKSUIT5-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wadLssMEe-vmoKSUIT5-Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_6wadLcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbEMMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbEMMsMEe-vmoKSUIT5-Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_6wadLssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbEMcsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbEMcsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wbEMMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbEMssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbEMssMEe-vmoKSUIT5-Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_6wbEMcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbEM8sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbEM8sMEe-vmoKSUIT5-Q" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_6wbEMssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbENMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wbENMsMEe-vmoKSUIT5-Q" entityName="deferredResult" predecessor_AbstractAction="_6wbEM8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbENcsMEe-vmoKSUIT5-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbENcsMEe-vmoKSUIT5-Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_6wbENMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbENssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbENssMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wbENcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbEN8sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbEN8sMEe-vmoKSUIT5-Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_6wbENssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbEOMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbEOMsMEe-vmoKSUIT5-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_6wbEN8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbEOcsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wbEOcsMEe-vmoKSUIT5-Q" entityName="deferredResult" predecessor_AbstractAction="_6wbEOMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbEOssMEe-vmoKSUIT5-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbEOssMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wbEOcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbEO8sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6wbEO8sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wbEOssMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wbrS8sMEe-vmoKSUIT5-Q">
                <branchBehaviour_BranchTransition id="_6wcSUMsMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6wbrQ8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wbrRMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbrRMsMEe-vmoKSUIT5-Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_6wbrQ8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbrRcsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbrRcsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wbrRMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbrRssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbrRssMEe-vmoKSUIT5-Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_6wbrRcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbrR8sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbrR8sMEe-vmoKSUIT5-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_6wbrRssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbrSMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wbrSMsMEe-vmoKSUIT5-Q" entityName="deferredResult" predecessor_AbstractAction="_6wbrR8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbrScsMEe-vmoKSUIT5-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wbrScsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wbrSMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wbrSssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6wbrSssMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wbrScsMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wcSVMsMEe-vmoKSUIT5-Q">
                <branchBehaviour_BranchTransition id="_6wcSVssMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6wcSUcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wcSUssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wcSUssMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wcSUcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wcSU8sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6wcSU8sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wcSUssMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6wcSWMsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wcSV8sMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_6wcSXcsMEe-vmoKSUIT5-Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_6wcSXMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wcSXssMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_6wcSXssMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wcSXcsMEe-vmoKSUIT5-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_6xWRTcsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_6xW4UcsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xW4UMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_6xOVcMsMEe-vmoKSUIT5-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_6wjAEMsMEe-vmoKSUIT5-Q" describedService__SEFF="_6pofsMsMEe-vmoKSUIT5-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_6whx6csMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wjADcsMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_6wjADcsMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6whx6csMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wjADssMEe-vmoKSUIT5-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wjACssMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_6wjADMsMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6whx6ssMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wjACMsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_6wjACMsMEe-vmoKSUIT5-Q" entityName="Switch Branch" predecessor_AbstractAction="_6whx6ssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wjACcsMEe-vmoKSUIT5-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wiY-csMEe-vmoKSUIT5-Q">
                <branchBehaviour_BranchTransition id="_6wiY-8sMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6whx68sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wiY88sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_6wiY88sMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6whx68sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wiY9MsMEe-vmoKSUIT5-Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wiY8MsMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_6wiY8ssMEe-vmoKSUIT5-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_6whx7MsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6whx8ssMEe-vmoKSUIT5-Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_6whx8ssMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6whx7MsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whx88sMEe-vmoKSUIT5-Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6whx78sMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_6whx8csMEe-vmoKSUIT5-Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_6whx7csMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6whx7ssMEe-vmoKSUIT5-Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_6whx7ssMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6whx7csMEe-vmoKSUIT5-Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_6whx88sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6whx8ssMEe-vmoKSUIT5-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wiY9MsMEe-vmoKSUIT5-Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_6wiY88sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wiY9csMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wiY9csMEe-vmoKSUIT5-Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_6wiY9MsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wiY9ssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wiY9ssMEe-vmoKSUIT5-Q" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_6wiY9csMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wiY98sMEe-vmoKSUIT5-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wiY98sMEe-vmoKSUIT5-Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_6wiY9ssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wiY-MsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6wiY-MsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wiY98sMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wjAAMsMEe-vmoKSUIT5-Q">
                <branchBehaviour_BranchTransition id="_6wjAAssMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6wiY_MsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wiY_csMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wiY_csMEe-vmoKSUIT5-Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_6wiY_MsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wiY_ssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6wiY_ssMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wiY_csMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wjABcsMEe-vmoKSUIT5-Q">
                <branchBehaviour_BranchTransition id="_6wjAB8sMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6wjAA8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wjABMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6wjABMsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wjAA8sMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6wjACcsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wjACMsMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_6wjADssMEe-vmoKSUIT5-Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_6wjADcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wjAD8sMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_6wjAD8sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wjADssMEe-vmoKSUIT5-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_6xZUkcsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xZUkMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_6xOVdMsMEe-vmoKSUIT5-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_6whx58sMEe-vmoKSUIT5-Q" describedService__SEFF="_6qfbUcsMEe-vmoKSUIT5-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_6wf8tMsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wf8u8sMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_6wf8u8sMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wf8tMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wf8vMsMEe-vmoKSUIT5-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wf8uMsMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_6wf8ussMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6wf8tcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wf8tssMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wf8tssMEe-vmoKSUIT5-Q" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_6wf8tcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wf8t8sMEe-vmoKSUIT5-Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6wf8t8sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wf8tssMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_6wf8vMsMEe-vmoKSUIT5-Q" entityName="stopWatch.start()" predecessor_AbstractAction="_6wf8u8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whx5csMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_6whx5csMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wf8vMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whx5ssMEe-vmoKSUIT5-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6whx4ssMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_6whx5MsMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6wgjwMsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6whx4MsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_6whx4MsMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wgjwMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whx4csMEe-vmoKSUIT5-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6whK3csMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_6whK38sMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6wgjwcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6whK08sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_6whK08sMEe-vmoKSUIT5-Q" entityName="Switch Branch" predecessor_AbstractAction="_6wgjwcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whK1MsMEe-vmoKSUIT5-Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wgjzMsMEe-vmoKSUIT5-Q">
                      <branchBehaviour_BranchTransition id="_6wgjzssMEe-vmoKSUIT5-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_6wgjwssMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wgjycsMEe-vmoKSUIT5-Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_6wgjycsMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wgjwssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wgjyssMEe-vmoKSUIT5-Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wgjxssMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_6wgjyMsMEe-vmoKSUIT5-Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_6wgjw8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wgjxMsMEe-vmoKSUIT5-Q"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_6wgjxMsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wgjw8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wgjxcsMEe-vmoKSUIT5-Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_6wgjxcsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wgjxMsMEe-vmoKSUIT5-Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_6wgjyssMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wgjycsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wgjy8sMEe-vmoKSUIT5-Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_6wgjy8sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wgjyssMEe-vmoKSUIT5-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wgj0ssMEe-vmoKSUIT5-Q">
                      <branchBehaviour_BranchTransition id="_6wgj1MsMEe-vmoKSUIT5-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_6wgjz8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wgj0MsMEe-vmoKSUIT5-Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_6wgj0MsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wgjz8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wgj0csMEe-vmoKSUIT5-Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_6wgj0csMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wgj0MsMEe-vmoKSUIT5-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6whK0MsMEe-vmoKSUIT5-Q">
                      <branchBehaviour_BranchTransition id="_6whK0ssMEe-vmoKSUIT5-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_6wgj1csMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wgj1ssMEe-vmoKSUIT5-Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_6wgj1ssMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wgj1csMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wgj18sMEe-vmoKSUIT5-Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_6wgj18sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wgj1ssMEe-vmoKSUIT5-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6whK1MsMEe-vmoKSUIT5-Q" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_6whK08sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whK1csMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6whK1csMEe-vmoKSUIT5-Q" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_6whK1MsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whK1ssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6whK1ssMEe-vmoKSUIT5-Q" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_6whK1csMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whK18sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6whK18sMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6whK1ssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whK2MsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6whK2MsMEe-vmoKSUIT5-Q" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_6whK18sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whK2csMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6whK2csMEe-vmoKSUIT5-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_6whK2MsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whK2ssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6whK2ssMEe-vmoKSUIT5-Q" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_6whK2csMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whK28sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6whK28sMEe-vmoKSUIT5-Q" entityName="deferredResult" predecessor_AbstractAction="_6whK2ssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6whK3MsMEe-vmoKSUIT5-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6whK3MsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6whK28sMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6whx4csMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6whx4MsMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_6whx5ssMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6whx5csMEe-vmoKSUIT5-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_6xbJycsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xbJyMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_6xOVdcsMEe-vmoKSUIT5-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_6weukssMEe-vmoKSUIT5-Q" describedService__SEFF="_6qgpccsMEe-vmoKSUIT5-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_6wcSYcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wc5ZcsMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_6wc5ZcsMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wcSYcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wc5ZssMEe-vmoKSUIT5-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wc5YssMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_6wc5ZMsMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6wcSYssMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wc5YMsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wc5YMsMEe-vmoKSUIT5-Q" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_6wcSYssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wc5YcsMEe-vmoKSUIT5-Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6wc5YcsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wc5YMsMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_6wc5ZssMEe-vmoKSUIT5-Q" entityName="stopWatch.start()" predecessor_AbstractAction="_6wc5ZcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weukMsMEe-vmoKSUIT5-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_6weukMsMEe-vmoKSUIT5-Q" entityName="Switch Branch" predecessor_AbstractAction="_6wc5ZssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weukcsMEe-vmoKSUIT5-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wdge8sMEe-vmoKSUIT5-Q">
          <branchBehaviour_BranchTransition id="_6wdgfcsMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6wc5Z8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wc5aMsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6wc5aMsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wc5Z8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wc5acsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6wc5acsMEe-vmoKSUIT5-Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_6wc5aMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wc5assMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6wc5assMEe-vmoKSUIT5-Q" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_6wc5acsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wc5a8sMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6wc5a8sMEe-vmoKSUIT5-Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_6wc5assMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wc5bMsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wc5bMsMEe-vmoKSUIT5-Q" entityName="deferredResult" predecessor_AbstractAction="_6wc5a8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wdgd8sMEe-vmoKSUIT5-Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_6wdgd8sMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wc5bMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wdgeMsMEe-vmoKSUIT5-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6wdgdMsMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_6wdgdssMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6wc5bcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wc5bssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wc5bssMEe-vmoKSUIT5-Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_6wc5bcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wc5b8sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wc5b8sMEe-vmoKSUIT5-Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_6wc5bssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wc5cMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wc5cMsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wc5b8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wc5ccsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wc5ccsMEe-vmoKSUIT5-Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_6wc5cMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wdgcMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wdgcMsMEe-vmoKSUIT5-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_6wc5ccsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wdgccsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wdgccsMEe-vmoKSUIT5-Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_6wdgcMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wdgcssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6wdgcssMEe-vmoKSUIT5-Q" entityName="deferredResult" predecessor_AbstractAction="_6wdgccsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wdgc8sMEe-vmoKSUIT5-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6wdgc8sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wdgcssMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6wdgeMsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wdgd8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wdgecsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6wdgecsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6wdgeMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6wdgessMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6wdgessMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6wdgecsMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6weHjssMEe-vmoKSUIT5-Q">
          <branchBehaviour_BranchTransition id="_6weHkMsMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6wdgfssMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6weHissMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_6weHissMEe-vmoKSUIT5-Q" entityName="If Branch" predecessor_AbstractAction="_6wdgfssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHi8sMEe-vmoKSUIT5-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6weHh8sMEe-vmoKSUIT5-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_6weHicsMEe-vmoKSUIT5-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_6wdgf8sMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6wdggMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6wdggMsMEe-vmoKSUIT5-Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_6wdgf8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHgMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6weHgMsMEe-vmoKSUIT5-Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_6wdggMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHgcsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6weHgcsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6weHgMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHgssMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6weHgssMEe-vmoKSUIT5-Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_6weHgcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHg8sMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6weHg8sMEe-vmoKSUIT5-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_6weHgssMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHhMsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_6weHhMsMEe-vmoKSUIT5-Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_6weHg8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHhcsMEe-vmoKSUIT5-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_6weHhcsMEe-vmoKSUIT5-Q" entityName="deferredResult" predecessor_AbstractAction="_6weHhMsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHhssMEe-vmoKSUIT5-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_6weHhssMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6weHhcsMEe-vmoKSUIT5-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6weHi8sMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6weHissMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHjMsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6weHjMsMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6weHi8sMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHjcsMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6weHjcsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6weHjMsMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_6weHlMsMEe-vmoKSUIT5-Q">
          <branchBehaviour_BranchTransition id="_6weHlssMEe-vmoKSUIT5-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_6weHkcsMEe-vmoKSUIT5-Q" entityName="Start Action" successor_AbstractAction="_6weHkssMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_6weHkssMEe-vmoKSUIT5-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_6weHkcsMEe-vmoKSUIT5-Q" successor_AbstractAction="_6weHk8sMEe-vmoKSUIT5-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_6weHk8sMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6weHkssMEe-vmoKSUIT5-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_6weukcsMEe-vmoKSUIT5-Q" entityName="Stop Action" predecessor_AbstractAction="_6weukMsMEe-vmoKSUIT5-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_6xe0IcsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_6xgCQMsMEe-vmoKSUIT5-Q" encapsulatedComponent__AssemblyContext="_6xUcEcsMEe-vmoKSUIT5-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_6xgpVMsMEe-vmoKSUIT5-Q" innerProvidedRole_ProvidedDelegationConnector="_6xUcEMsMEe-vmoKSUIT5-Q" outerProvidedRole_ProvidedDelegationConnector="_6xe0IMsMEe-vmoKSUIT5-Q" assemblyContext_ProvidedDelegationConnector="_6xgCQMsMEe-vmoKSUIT5-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xe0IMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_6xOVc8sMEe-vmoKSUIT5-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_6xe0I8sMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_6xgCRMsMEe-vmoKSUIT5-Q" encapsulatedComponent__AssemblyContext="_6xZUkcsMEe-vmoKSUIT5-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_6xgpU8sMEe-vmoKSUIT5-Q" innerProvidedRole_ProvidedDelegationConnector="_6xZUkMsMEe-vmoKSUIT5-Q" outerProvidedRole_ProvidedDelegationConnector="_6xe0IssMEe-vmoKSUIT5-Q" assemblyContext_ProvidedDelegationConnector="_6xgCRMsMEe-vmoKSUIT5-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xe0IssMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_6xOVdMsMEe-vmoKSUIT5-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_6xe0JMsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_6xgCSMsMEe-vmoKSUIT5-Q" encapsulatedComponent__AssemblyContext="_6xWRTcsMEe-vmoKSUIT5-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_6xfbMMsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_6xgCQssMEe-vmoKSUIT5-Q" encapsulatedComponent__AssemblyContext="_6xbJycsMEe-vmoKSUIT5-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_6xgpUMsMEe-vmoKSUIT5-Q" innerProvidedRole_ProvidedDelegationConnector="_6xbJyMsMEe-vmoKSUIT5-Q" outerProvidedRole_ProvidedDelegationConnector="_6xe0JcsMEe-vmoKSUIT5-Q" assemblyContext_ProvidedDelegationConnector="_6xgCQssMEe-vmoKSUIT5-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xe0JcsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_6xOVdcsMEe-vmoKSUIT5-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_6xfbM8sMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_6xgCRssMEe-vmoKSUIT5-Q" encapsulatedComponent__AssemblyContext="_6xOVeMsMEe-vmoKSUIT5-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_6xgpUssMEe-vmoKSUIT5-Q" innerProvidedRole_ProvidedDelegationConnector="_6xOVdssMEe-vmoKSUIT5-Q" outerProvidedRole_ProvidedDelegationConnector="_6xfbMcsMEe-vmoKSUIT5-Q" assemblyContext_ProvidedDelegationConnector="_6xgCRssMEe-vmoKSUIT5-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_6xgpVcsMEe-vmoKSUIT5-Q" innerProvidedRole_ProvidedDelegationConnector="_6xOVd8sMEe-vmoKSUIT5-Q" outerProvidedRole_ProvidedDelegationConnector="_6xfbMssMEe-vmoKSUIT5-Q" assemblyContext_ProvidedDelegationConnector="_6xgCRssMEe-vmoKSUIT5-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xfbMcsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_6xOVcssMEe-vmoKSUIT5-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xfbMssMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_6xOVccsMEe-vmoKSUIT5-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_6xfbNcsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_6xfbNssMEe-vmoKSUIT5-Q" encapsulatedComponent__AssemblyContext="_6xW4UcsMEe-vmoKSUIT5-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_6xgpUcsMEe-vmoKSUIT5-Q" innerProvidedRole_ProvidedDelegationConnector="_6xW4UMsMEe-vmoKSUIT5-Q" outerProvidedRole_ProvidedDelegationConnector="_6xfbNMsMEe-vmoKSUIT5-Q" assemblyContext_ProvidedDelegationConnector="_6xfbNssMEe-vmoKSUIT5-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_6xfbNMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_6xOVcMsMEe-vmoKSUIT5-Q"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_6xOVcMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_6pofsMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_6pn4oMsMEe-vmoKSUIT5-Q">
      <parameters__OperationSignature dataType__Parameter="_6pmqgMsMEe-vmoKSUIT5-Q" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_6xOVccsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_6qhQgMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_6pn4oMsMEe-vmoKSUIT5-Q">
      <parameters__OperationSignature dataType__Parameter="_6qgpdMsMEe-vmoKSUIT5-Q" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_6qgpdcsMEe-vmoKSUIT5-Q" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_6xOVcssMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_6qhQhMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_6pn4oMsMEe-vmoKSUIT5-Q">
      <parameters__OperationSignature dataType__Parameter="_6qhQg8sMEe-vmoKSUIT5-Q" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_6xOVc8sMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_6qgCYssMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_6qfbUMsMEe-vmoKSUIT5-Q">
      <parameters__OperationSignature dataType__Parameter="_6pmqgMsMEe-vmoKSUIT5-Q" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_6xOVdMsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_6qfbUcsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_6qfbUMsMEe-vmoKSUIT5-Q">
      <parameters__OperationSignature dataType__Parameter="_6pmqgMsMEe-vmoKSUIT5-Q" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_6xOVdcsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_6qgpccsMEe-vmoKSUIT5-Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_6qfbUMsMEe-vmoKSUIT5-Q">
      <parameters__OperationSignature dataType__Parameter="_6qgpcMsMEe-vmoKSUIT5-Q" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_6pmqgMsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_6pn4oMsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_6qfbUMsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_6qgpcMsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_6qgpdMsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_6qgpdcsMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_6qhQg8sMEe-vmoKSUIT5-Q" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
