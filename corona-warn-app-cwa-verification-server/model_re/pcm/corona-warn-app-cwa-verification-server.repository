<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_0rG8jABNEe-YX8v2Vr9EJw">
  <components__Repository xsi:type="repository:BasicComponent" id="_0q12wQBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0q12wABNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_0q1PugBNEe-YX8v2Vr9EJw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_0qOLwQBNEe-YX8v2Vr9EJw" describedService__SEFF="_0kpIJABNEe-YX8v2Vr9EJw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_0qM9nwBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qM9pgBNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_0qM9pgBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qM9nwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qM9pwBNEe-YX8v2Vr9EJw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qM9owBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_0qM9pQBNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qM9oABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qM9oQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qM9oQBNEe-YX8v2Vr9EJw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_0qM9oABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qM9ogBNEe-YX8v2Vr9EJw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qM9ogBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qM9oQBNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_0qM9pwBNEe-YX8v2Vr9EJw" entityName="stopWatch.start()" predecessor_AbstractAction="_0qM9pgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLvwBNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_0qOLvwBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qM9pwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLwABNEe-YX8v2Vr9EJw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qOLvABNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_0qOLvgBNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qM9qABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qOLugBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_0qOLugBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qM9qABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLuwBNEe-YX8v2Vr9EJw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qOLtwBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_0qOLuQBNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qM9qQBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qNkuABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_0qNkuABNEe-YX8v2Vr9EJw" entityName="Switch Branch" predecessor_AbstractAction="_0qM9qQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qNkuQBNEe-YX8v2Vr9EJw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qNkqQBNEe-YX8v2Vr9EJw">
                      <branchBehaviour_BranchTransition id="_0qNkqwBNEe-YX8v2Vr9EJw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_0qM9qgBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qNkpgBNEe-YX8v2Vr9EJw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_0qNkpgBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qM9qgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qNkpwBNEe-YX8v2Vr9EJw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qNkowBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_0qNkpQBNEe-YX8v2Vr9EJw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_0qNkoABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qNkoQBNEe-YX8v2Vr9EJw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_0qNkoQBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qNkoABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qNkogBNEe-YX8v2Vr9EJw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_0qNkogBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qNkoQBNEe-YX8v2Vr9EJw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_0qNkpwBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qNkpgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qNkqABNEe-YX8v2Vr9EJw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_0qNkqABNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qNkpwBNEe-YX8v2Vr9EJw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qNkrwBNEe-YX8v2Vr9EJw">
                      <branchBehaviour_BranchTransition id="_0qNksQBNEe-YX8v2Vr9EJw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_0qNkrABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qNkrQBNEe-YX8v2Vr9EJw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_0qNkrQBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qNkrABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qNkrgBNEe-YX8v2Vr9EJw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_0qNkrgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qNkrQBNEe-YX8v2Vr9EJw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qNktQBNEe-YX8v2Vr9EJw">
                      <branchBehaviour_BranchTransition id="_0qNktwBNEe-YX8v2Vr9EJw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_0qNksgBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qNkswBNEe-YX8v2Vr9EJw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_0qNkswBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qNksgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qNktABNEe-YX8v2Vr9EJw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_0qNktABNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qNkswBNEe-YX8v2Vr9EJw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qNkuQBNEe-YX8v2Vr9EJw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_0qNkuABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qNkugBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qNkugBNEe-YX8v2Vr9EJw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_0qNkuQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLsABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qOLsABNEe-YX8v2Vr9EJw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_0qNkugBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLsQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qOLsQBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qOLsABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLsgBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qOLsgBNEe-YX8v2Vr9EJw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_0qOLsQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLswBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qOLswBNEe-YX8v2Vr9EJw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_0qOLsgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLtABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qOLtABNEe-YX8v2Vr9EJw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_0qOLswBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLtQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qOLtQBNEe-YX8v2Vr9EJw" entityName="deferredResult" predecessor_AbstractAction="_0qOLtABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qOLtgBNEe-YX8v2Vr9EJw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qOLtgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qOLtQBNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qOLuwBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qOLugBNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_0qOLwABNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qOLvwBNEe-YX8v2Vr9EJw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_0q46EQBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0q46EABNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_0q1PtwBNEe-YX8v2Vr9EJw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_0qJTOQBNEe-YX8v2Vr9EJw" describedService__SEFF="_0kqWQABNEe-YX8v2Vr9EJw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_0qHeBABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qJTNgBNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_0qJTNgBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qHeBABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJTNwBNEe-YX8v2Vr9EJw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qJTMwBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_0qJTNQBNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qHeBQBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qJTMQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_0qJTMQBNEe-YX8v2Vr9EJw" entityName="Switch Branch" predecessor_AbstractAction="_0qHeBQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJTMgBNEe-YX8v2Vr9EJw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qIsKABNEe-YX8v2Vr9EJw">
                <branchBehaviour_BranchTransition id="_0qIsKgBNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qIFEABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qIsIgBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_0qIsIgBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qIFEABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qIsIwBNEe-YX8v2Vr9EJw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qIFGQBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_0qIsIQBNEe-YX8v2Vr9EJw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_0qIFEQBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qIFFwBNEe-YX8v2Vr9EJw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_0qIFFwBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qIFEQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qIFGABNEe-YX8v2Vr9EJw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qIFFABNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_0qIFFgBNEe-YX8v2Vr9EJw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_0qIFEgBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qIFEwBNEe-YX8v2Vr9EJw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_0qIFEwBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qIFEgBNEe-YX8v2Vr9EJw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_0qIFGABNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qIFFwBNEe-YX8v2Vr9EJw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qIsIwBNEe-YX8v2Vr9EJw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_0qIsIgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qIsJABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qIsJABNEe-YX8v2Vr9EJw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_0qIsIwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qIsJQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qIsJQBNEe-YX8v2Vr9EJw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_0qIsJABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qIsJgBNEe-YX8v2Vr9EJw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qIsJgBNEe-YX8v2Vr9EJw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_0qIsJQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qIsJwBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qIsJwBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qIsJgBNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qIsLgBNEe-YX8v2Vr9EJw">
                <branchBehaviour_BranchTransition id="_0qIsMABNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qIsKwBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qIsLABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qIsLABNEe-YX8v2Vr9EJw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_0qIsKwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qIsLQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qIsLQBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qIsLABNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qIsMwBNEe-YX8v2Vr9EJw">
                <branchBehaviour_BranchTransition id="_0qJTMABNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qIsMQBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qIsMgBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qIsMgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qIsMQBNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qJTMgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qJTMQBNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJTNwBNEe-YX8v2Vr9EJw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_0qJTNgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJTOABNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_0qJTOABNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qJTNwBNEe-YX8v2Vr9EJw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_0q6vSABNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0q6vRwBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_0q1PtQBNEe-YX8v2Vr9EJw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_0qM9nQBNEe-YX8v2Vr9EJw" describedService__SEFF="_0j3FAABNEe-YX8v2Vr9EJw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_0qLIbQBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qLIdABNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_0qLIdABNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qLIbQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLIdQBNEe-YX8v2Vr9EJw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qLIcQBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_0qLIcwBNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qLIbgBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qLIbwBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qLIbwBNEe-YX8v2Vr9EJw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_0qLIbgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLIcABNEe-YX8v2Vr9EJw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qLIcABNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qLIbwBNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLIdQBNEe-YX8v2Vr9EJw" entityName="stopWatch.start()" predecessor_AbstractAction="_0qLIdABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qM9mgBNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_0qM9mgBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qLIdQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qM9mwBNEe-YX8v2Vr9EJw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qM9lwBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_0qM9mQBNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qLIdgBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qM9lQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_0qM9lQBNEe-YX8v2Vr9EJw" entityName="Switch Branch" predecessor_AbstractAction="_0qLIdgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qM9lgBNEe-YX8v2Vr9EJw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qMWggBNEe-YX8v2Vr9EJw">
                <branchBehaviour_BranchTransition id="_0qMWhABNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qLIdwBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qLIeABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLIeABNEe-YX8v2Vr9EJw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_0qLIdwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvewBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_0qLvewBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qLIeABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvfABNEe-YX8v2Vr9EJw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qLveABNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_0qLvegBNEe-YX8v2Vr9EJw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_0qLvcABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qLvdgBNEe-YX8v2Vr9EJw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_0qLvdgBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qLvcABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvdwBNEe-YX8v2Vr9EJw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qLvcwBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_0qLvdQBNEe-YX8v2Vr9EJw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_0qLvcQBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qLvcgBNEe-YX8v2Vr9EJw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_0qLvcgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qLvcQBNEe-YX8v2Vr9EJw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_0qLvdwBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qLvdgBNEe-YX8v2Vr9EJw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLvfABNEe-YX8v2Vr9EJw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_0qLvewBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvfQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLvfQBNEe-YX8v2Vr9EJw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_0qLvfABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvfgBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLvfgBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qLvfQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvfwBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLvfwBNEe-YX8v2Vr9EJw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_0qLvfgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvgABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLvgABNEe-YX8v2Vr9EJw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_0qLvfwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvgQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qLvgQBNEe-YX8v2Vr9EJw" entityName="deferredResult" predecessor_AbstractAction="_0qLvgABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvggBNEe-YX8v2Vr9EJw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLvggBNEe-YX8v2Vr9EJw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_0qLvgQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvgwBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLvgwBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qLvggBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvhABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLvhABNEe-YX8v2Vr9EJw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_0qLvgwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvhQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLvhQBNEe-YX8v2Vr9EJw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_0qLvhABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLvhgBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qLvhgBNEe-YX8v2Vr9EJw" entityName="deferredResult" predecessor_AbstractAction="_0qLvhQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qMWgABNEe-YX8v2Vr9EJw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qMWgABNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qLvhgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qMWgQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qMWgQBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qMWgABNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qMWjQBNEe-YX8v2Vr9EJw">
                <branchBehaviour_BranchTransition id="_0qMWjwBNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qMWhQBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qMWhgBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qMWhgBNEe-YX8v2Vr9EJw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_0qMWhQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qMWhwBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qMWhwBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qMWhgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qMWiABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qMWiABNEe-YX8v2Vr9EJw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_0qMWhwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qMWiQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qMWiQBNEe-YX8v2Vr9EJw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_0qMWiABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qMWigBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qMWigBNEe-YX8v2Vr9EJw" entityName="deferredResult" predecessor_AbstractAction="_0qMWiQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qMWiwBNEe-YX8v2Vr9EJw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qMWiwBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qMWigBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qMWjABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qMWjABNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qMWiwBNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qM9kgBNEe-YX8v2Vr9EJw">
                <branchBehaviour_BranchTransition id="_0qM9lABNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qMWkABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qM9kABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qM9kABNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qMWkABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qM9kQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qM9kQBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qM9kABNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qM9lgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qM9lQBNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_0qM9mwBNEe-YX8v2Vr9EJw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_0qM9mgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qM9nABNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_0qM9nABNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qM9mwBNEe-YX8v2Vr9EJw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_0q8kfwBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0q8kfQBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_0q1PuABNEe-YX8v2Vr9EJw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0q8kfgBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_0q1PuQBNEe-YX8v2Vr9EJw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_0qG2_ABNEe-YX8v2Vr9EJw" describedService__SEFF="_0kohEwBNEe-YX8v2Vr9EJw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_0lDX0QBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qDzoABNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_0qDzoABNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0lDX0QBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qG2-gBNEe-YX8v2Vr9EJw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0lGbIABNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_0lHCMABNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0lFNAABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0lF0EABNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0lF0EABNEe-YX8v2Vr9EJw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_0lFNAABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0lF0EQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0lF0EQBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0lF0EABNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qDMkwBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_0qDMlQBNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qDMkABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qDMkQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qDMkQBNEe-YX8v2Vr9EJw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_0qDMkABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qDMkgBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qDMkgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qDMkQBNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_0qG2-gBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qDzoABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qG2-wBNEe-YX8v2Vr9EJw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qG29wBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_0qG2-QBNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qDzoQBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qG29QBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_0qG29QBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qDzoQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qG29gBNEe-YX8v2Vr9EJw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qGP4gBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_0qGP5ABNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qDzogBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qDzowBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qDzowBNEe-YX8v2Vr9EJw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_0qDzogBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qGP4ABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qGP4ABNEe-YX8v2Vr9EJw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_0qDzowBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qGP4QBNEe-YX8v2Vr9EJw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qGP4QBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qGP4ABNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qG28gBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_0qG29ABNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qG28ABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qG28QBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qG28QBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qG28ABNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qG29gBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qG29QBNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_0qG2-wBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qG2-gBNEe-YX8v2Vr9EJw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_0qHeAgBNEe-YX8v2Vr9EJw" describedService__SEFF="_0kpIIQBNEe-YX8v2Vr9EJw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_0qG2_gBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qHeAABNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qHeAABNEe-YX8v2Vr9EJw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_0qG2_gBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qHeAQBNEe-YX8v2Vr9EJw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_0qHeAQBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qHeAABNEe-YX8v2Vr9EJw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_0rBc_QBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_0rBc_wBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0rBc_gBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_0q1PtgBNEe-YX8v2Vr9EJw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_0qLIawBNEe-YX8v2Vr9EJw" describedService__SEFF="_0kpvMwBNEe-YX8v2Vr9EJw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_0qJTOwBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qJTQgBNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_0qJTQgBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qJTOwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJTQwBNEe-YX8v2Vr9EJw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qJTPwBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_0qJTQQBNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qJTPABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qJTPQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qJTPQBNEe-YX8v2Vr9EJw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_0qJTPABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJTPgBNEe-YX8v2Vr9EJw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qJTPgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qJTPQBNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJTQwBNEe-YX8v2Vr9EJw" entityName="stopWatch.start()" predecessor_AbstractAction="_0qJTQgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLIaQBNEe-YX8v2Vr9EJw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_0qLIaQBNEe-YX8v2Vr9EJw" entityName="Switch Branch" predecessor_AbstractAction="_0qJTQwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLIagBNEe-YX8v2Vr9EJw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qKhUgBNEe-YX8v2Vr9EJw">
          <branchBehaviour_BranchTransition id="_0qKhVABNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qJTRABNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qJTRQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJTRQBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qJTRABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJTRgBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJTRgBNEe-YX8v2Vr9EJw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_0qJTRQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJTRwBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJTRwBNEe-YX8v2Vr9EJw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_0qJTRgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6QABNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJ6QABNEe-YX8v2Vr9EJw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_0qJTRwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6QQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qJ6QQBNEe-YX8v2Vr9EJw" entityName="deferredResult" predecessor_AbstractAction="_0qJ6QABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6TgBNEe-YX8v2Vr9EJw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_0qJ6TgBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qJ6QQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6TwBNEe-YX8v2Vr9EJw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qJ6SwBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_0qJ6TQBNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qJ6QgBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qJ6QwBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJ6QwBNEe-YX8v2Vr9EJw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_0qJ6QgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6RABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJ6RABNEe-YX8v2Vr9EJw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_0qJ6QwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6RQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJ6RQBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qJ6RABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6RgBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJ6RgBNEe-YX8v2Vr9EJw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_0qJ6RQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6RwBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJ6RwBNEe-YX8v2Vr9EJw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_0qJ6RgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6SABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJ6SABNEe-YX8v2Vr9EJw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_0qJ6RwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6SQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qJ6SQBNEe-YX8v2Vr9EJw" entityName="deferredResult" predecessor_AbstractAction="_0qJ6SABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qJ6SgBNEe-YX8v2Vr9EJw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qJ6SgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qJ6SQBNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qJ6TwBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qJ6TgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhUABNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qKhUABNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qJ6TwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhUQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qKhUQBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qKhUABNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qLIYABNEe-YX8v2Vr9EJw">
          <branchBehaviour_BranchTransition id="_0qLIYgBNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qKhVQBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qKhYgBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_0qKhYgBNEe-YX8v2Vr9EJw" entityName="If Branch" predecessor_AbstractAction="_0qKhVQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhYwBNEe-YX8v2Vr9EJw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qKhXwBNEe-YX8v2Vr9EJw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_0qKhYQBNEe-YX8v2Vr9EJw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_0qKhVgBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qKhVwBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qKhVwBNEe-YX8v2Vr9EJw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_0qKhVgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhWABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qKhWABNEe-YX8v2Vr9EJw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_0qKhVwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhWQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qKhWQBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qKhWABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhWgBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qKhWgBNEe-YX8v2Vr9EJw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_0qKhWQBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhWwBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qKhWwBNEe-YX8v2Vr9EJw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_0qKhWgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhXABNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_0qKhXABNEe-YX8v2Vr9EJw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_0qKhWwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhXQBNEe-YX8v2Vr9EJw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_0qKhXQBNEe-YX8v2Vr9EJw" entityName="deferredResult" predecessor_AbstractAction="_0qKhXABNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhXgBNEe-YX8v2Vr9EJw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_0qKhXgBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qKhXQBNEe-YX8v2Vr9EJw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qKhYwBNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qKhYgBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhZABNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qKhZABNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qKhYwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qKhZQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qKhZQBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qKhZABNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_0qLIZgBNEe-YX8v2Vr9EJw">
          <branchBehaviour_BranchTransition id="_0qLIaABNEe-YX8v2Vr9EJw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_0qLIYwBNEe-YX8v2Vr9EJw" entityName="Start Action" successor_AbstractAction="_0qLIZABNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_0qLIZABNEe-YX8v2Vr9EJw" entityName="stopWatch.stop()" predecessor_AbstractAction="_0qLIYwBNEe-YX8v2Vr9EJw" successor_AbstractAction="_0qLIZQBNEe-YX8v2Vr9EJw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_0qLIZQBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qLIZABNEe-YX8v2Vr9EJw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_0qLIagBNEe-YX8v2Vr9EJw" entityName="Stop Action" predecessor_AbstractAction="_0qLIaQBNEe-YX8v2Vr9EJw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_0rFuYQBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_0rG8hgBNEe-YX8v2Vr9EJw" encapsulatedComponent__AssemblyContext="_0rBc_wBNEe-YX8v2Vr9EJw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_0rIKoQBNEe-YX8v2Vr9EJw" innerProvidedRole_ProvidedDelegationConnector="_0rBc_gBNEe-YX8v2Vr9EJw" outerProvidedRole_ProvidedDelegationConnector="_0rFuYABNEe-YX8v2Vr9EJw" assemblyContext_ProvidedDelegationConnector="_0rG8hgBNEe-YX8v2Vr9EJw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0rFuYABNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_0q1PtgBNEe-YX8v2Vr9EJw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_0rGVcgBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_0rG8ggBNEe-YX8v2Vr9EJw" encapsulatedComponent__AssemblyContext="_0q8kfwBNEe-YX8v2Vr9EJw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_0rIKowBNEe-YX8v2Vr9EJw" innerProvidedRole_ProvidedDelegationConnector="_0q8kfgBNEe-YX8v2Vr9EJw" outerProvidedRole_ProvidedDelegationConnector="_0rGVcABNEe-YX8v2Vr9EJw" assemblyContext_ProvidedDelegationConnector="_0rG8ggBNEe-YX8v2Vr9EJw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_0rIKpABNEe-YX8v2Vr9EJw" innerProvidedRole_ProvidedDelegationConnector="_0q8kfQBNEe-YX8v2Vr9EJw" outerProvidedRole_ProvidedDelegationConnector="_0rGVcQBNEe-YX8v2Vr9EJw" assemblyContext_ProvidedDelegationConnector="_0rG8ggBNEe-YX8v2Vr9EJw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0rGVcABNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_0q1PuQBNEe-YX8v2Vr9EJw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0rGVcQBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_0q1PuABNEe-YX8v2Vr9EJw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_0rGVdABNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_0rG8igBNEe-YX8v2Vr9EJw" encapsulatedComponent__AssemblyContext="_0q46EQBNEe-YX8v2Vr9EJw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_0rIKoABNEe-YX8v2Vr9EJw" innerProvidedRole_ProvidedDelegationConnector="_0q46EABNEe-YX8v2Vr9EJw" outerProvidedRole_ProvidedDelegationConnector="_0rGVcwBNEe-YX8v2Vr9EJw" assemblyContext_ProvidedDelegationConnector="_0rG8igBNEe-YX8v2Vr9EJw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0rGVcwBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_0q1PtwBNEe-YX8v2Vr9EJw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_0rGVdgBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_0rG8iABNEe-YX8v2Vr9EJw" encapsulatedComponent__AssemblyContext="_0q6vSABNEe-YX8v2Vr9EJw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_0rHjkABNEe-YX8v2Vr9EJw" innerProvidedRole_ProvidedDelegationConnector="_0q6vRwBNEe-YX8v2Vr9EJw" outerProvidedRole_ProvidedDelegationConnector="_0rGVdQBNEe-YX8v2Vr9EJw" assemblyContext_ProvidedDelegationConnector="_0rG8iABNEe-YX8v2Vr9EJw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0rGVdQBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_0q1PtQBNEe-YX8v2Vr9EJw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_0rGVdwBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_0rG8gABNEe-YX8v2Vr9EJw" encapsulatedComponent__AssemblyContext="_0rBc_QBNEe-YX8v2Vr9EJw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_0rGVeQBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_0rG8hABNEe-YX8v2Vr9EJw" encapsulatedComponent__AssemblyContext="_0q12wQBNEe-YX8v2Vr9EJw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_0rIKogBNEe-YX8v2Vr9EJw" innerProvidedRole_ProvidedDelegationConnector="_0q12wABNEe-YX8v2Vr9EJw" outerProvidedRole_ProvidedDelegationConnector="_0rGVeABNEe-YX8v2Vr9EJw" assemblyContext_ProvidedDelegationConnector="_0rG8hABNEe-YX8v2Vr9EJw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_0rGVeABNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_0q1PugBNEe-YX8v2Vr9EJw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_0q1PtQBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_0j3FAABNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_0j2d8ABNEe-YX8v2Vr9EJw">
      <parameters__OperationSignature dataType__Parameter="_0j1P0ABNEe-YX8v2Vr9EJw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_0q1PtgBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_0kpvMwBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_0j2d8ABNEe-YX8v2Vr9EJw">
      <parameters__OperationSignature dataType__Parameter="_0kpvMgBNEe-YX8v2Vr9EJw" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_0q1PtwBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_0kqWQABNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_0kohEgBNEe-YX8v2Vr9EJw">
      <parameters__OperationSignature dataType__Parameter="_0j1P0ABNEe-YX8v2Vr9EJw" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_0q1PuABNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_0kohEwBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_0kohEgBNEe-YX8v2Vr9EJw">
      <parameters__OperationSignature dataType__Parameter="_0kohEABNEe-YX8v2Vr9EJw" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_0kohEQBNEe-YX8v2Vr9EJw" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_0q1PuQBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_0kpIIQBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_0kohEgBNEe-YX8v2Vr9EJw">
      <parameters__OperationSignature dataType__Parameter="_0kpIIABNEe-YX8v2Vr9EJw" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_0q1PugBNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_0kpIJABNEe-YX8v2Vr9EJw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_0j2d8ABNEe-YX8v2Vr9EJw">
      <parameters__OperationSignature dataType__Parameter="_0j1P0ABNEe-YX8v2Vr9EJw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_0j1P0ABNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_0j2d8ABNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_0kohEABNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_0kohEQBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_0kohEgBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_0kpIIABNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_0kpvMgBNEe-YX8v2Vr9EJw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
