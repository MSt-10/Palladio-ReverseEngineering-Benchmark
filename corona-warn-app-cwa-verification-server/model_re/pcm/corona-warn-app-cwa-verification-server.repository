<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_OObkTKoMEe-OGrSbuJmc3Q">
  <components__Repository xsi:type="repository:BasicComponent" id="_OOJQY6oMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOJQYqoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_OOIpWaoMEe-OGrSbuJmc3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONbevqoMEe-OGrSbuJmc3Q" describedService__SEFF="_OHaWQKoMEe-OGrSbuJmc3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONZCcaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONZCeKoMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONZCeKoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONZCcaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZCeaoMEe-OGrSbuJmc3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONZCdaoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONZCd6oMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONZCcqoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONZCc6oMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONZCc6oMEe-OGrSbuJmc3Q" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_ONZCcqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZCdKoMEe-OGrSbuJmc3Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONZCdKoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONZCc6oMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONZCeaoMEe-OGrSbuJmc3Q" entityName="stopWatch.start()" predecessor_AbstractAction="_ONZCeKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONbeu6oMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONbeu6oMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONZCeaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONbevKoMEe-OGrSbuJmc3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONbeuKoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONbeuqoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONZCeqoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONbetqoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONbetqoMEe-OGrSbuJmc3Q" entityName="Switch Branch" predecessor_AbstractAction="_ONZCeqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONbet6oMEe-OGrSbuJmc3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONaQl6oMEe-OGrSbuJmc3Q">
                <branchBehaviour_BranchTransition id="_ONa3oKoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONZCe6oMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONZCfKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONZCfKoMEe-OGrSbuJmc3Q" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_ONZCe6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZphaoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_ONZphaoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONZCfKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZphqoMEe-OGrSbuJmc3Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONZpgqoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_ONZphKoMEe-OGrSbuJmc3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONZCfaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONZpgKoMEe-OGrSbuJmc3Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_ONZpgKoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONZCfaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZpgaoMEe-OGrSbuJmc3Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONZCgKoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_ONZCgqoMEe-OGrSbuJmc3Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_ONZCfqoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONZCf6oMEe-OGrSbuJmc3Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_ONZCf6oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONZCfqoMEe-OGrSbuJmc3Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONZpgaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONZpgKoMEe-OGrSbuJmc3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONZphqoMEe-OGrSbuJmc3Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_ONZphaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZph6oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONZph6oMEe-OGrSbuJmc3Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_ONZphqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZpiKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONZpiKoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONZph6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZpiaoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONZpiaoMEe-OGrSbuJmc3Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONZpiKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZpiqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONZpiqoMEe-OGrSbuJmc3Q" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_ONZpiaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONZpi6oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONZpi6oMEe-OGrSbuJmc3Q" entityName="deferredResult" predecessor_AbstractAction="_ONZpiqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONaQkKoMEe-OGrSbuJmc3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONaQkKoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_ONZpi6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONaQkaoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONaQkaoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONaQkKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONaQkqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONaQkqoMEe-OGrSbuJmc3Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONaQkaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONaQk6oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONaQk6oMEe-OGrSbuJmc3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_ONaQkqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONaQlKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONaQlKoMEe-OGrSbuJmc3Q" entityName="deferredResult" predecessor_AbstractAction="_ONaQk6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONaQlaoMEe-OGrSbuJmc3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONaQlaoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONaQlKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONaQlqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONaQlqoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONaQlaoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONa3qaoMEe-OGrSbuJmc3Q">
                <branchBehaviour_BranchTransition id="_ONa3q6oMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONa3oaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONa3oqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONa3oqoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_ONa3oaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONa3o6oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONa3o6oMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONa3oqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONa3pKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONa3pKoMEe-OGrSbuJmc3Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONa3o6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONa3paoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONa3paoMEe-OGrSbuJmc3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_ONa3pKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONa3pqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONa3pqoMEe-OGrSbuJmc3Q" entityName="deferredResult" predecessor_AbstractAction="_ONa3paoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONa3p6oMEe-OGrSbuJmc3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONa3p6oMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONa3pqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONa3qKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONa3qKoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONa3p6oMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONbes6oMEe-OGrSbuJmc3Q">
                <branchBehaviour_BranchTransition id="_ONbetaoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONbesKoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONbesaoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONbesaoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONbesKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONbesqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONbesqoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONbesaoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONbet6oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONbetqoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONbevKoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_ONbeu6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONbevaoMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONbevaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONbevKoMEe-OGrSbuJmc3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OOMTtaoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOMTtKoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_OOJQYKoMEe-OGrSbuJmc3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONYbdqoMEe-OGrSbuJmc3Q" describedService__SEFF="_OHZIIqoMEe-OGrSbuJmc3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONXNUaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONYbc6oMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONYbc6oMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONXNUaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONYbdKoMEe-OGrSbuJmc3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONYbcKoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONYbcqoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONX0UKoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONYbbqoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONYbbqoMEe-OGrSbuJmc3Q" entityName="Switch Branch" predecessor_AbstractAction="_ONX0UKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONYbb6oMEe-OGrSbuJmc3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONYbYKoMEe-OGrSbuJmc3Q">
                <branchBehaviour_BranchTransition id="_ONYbYqoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONX0UaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONX0XaoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_ONX0XaoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONX0UaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONX0XqoMEe-OGrSbuJmc3Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONX0WqoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_ONX0XKoMEe-OGrSbuJmc3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONX0UqoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONX0WKoMEe-OGrSbuJmc3Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_ONX0WKoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONX0UqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONX0WaoMEe-OGrSbuJmc3Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONX0VaoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_ONX0V6oMEe-OGrSbuJmc3Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_ONX0U6oMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONX0VKoMEe-OGrSbuJmc3Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_ONX0VKoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONX0U6oMEe-OGrSbuJmc3Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONX0WaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONX0WKoMEe-OGrSbuJmc3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONX0XqoMEe-OGrSbuJmc3Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_ONX0XaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONX0X6oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONX0X6oMEe-OGrSbuJmc3Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_ONX0XqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONX0YKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONX0YKoMEe-OGrSbuJmc3Q" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_ONX0X6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONX0YaoMEe-OGrSbuJmc3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONX0YaoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_ONX0YKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONX0YqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONX0YqoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONX0YaoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONYbZqoMEe-OGrSbuJmc3Q">
                <branchBehaviour_BranchTransition id="_ONYbaKoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONYbY6oMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONYbZKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONYbZKoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_ONYbY6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONYbZaoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONYbZaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONYbZKoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONYba6oMEe-OGrSbuJmc3Q">
                <branchBehaviour_BranchTransition id="_ONYbbaoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONYbaaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONYbaqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONYbaqoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONYbaaoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONYbb6oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONYbbqoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONYbdKoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_ONYbc6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONYbdaoMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONYbdaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONYbdKoMEe-OGrSbuJmc3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OOOv_qoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOOv_aoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_OOJQYaoMEe-OGrSbuJmc3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONXNT6oMEe-OGrSbuJmc3Q" describedService__SEFF="_OGoTIKoMEe-OGrSbuJmc3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONUxCKoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONVYEKoMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONVYEKoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONUxCKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONVYEaoMEe-OGrSbuJmc3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONUxDKoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONUxDqoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONUxCaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONUxCqoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONUxCqoMEe-OGrSbuJmc3Q" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_ONUxCaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUxC6oMEe-OGrSbuJmc3Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONUxC6oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONUxCqoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONVYEaoMEe-OGrSbuJmc3Q" entityName="stopWatch.start()" predecessor_AbstractAction="_ONVYEKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONXNTaoMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONXNTaoMEe-OGrSbuJmc3Q" entityName="Switch Branch" predecessor_AbstractAction="_ONVYEaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONXNTqoMEe-OGrSbuJmc3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONV_K6oMEe-OGrSbuJmc3Q">
          <branchBehaviour_BranchTransition id="_ONV_LaoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONVYEqoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONVYE6oMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONVYE6oMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONVYEqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONVYFKoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONVYFKoMEe-OGrSbuJmc3Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONVYE6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONVYFaoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONVYFaoMEe-OGrSbuJmc3Q" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_ONVYFKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONVYFqoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONVYFqoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ONVYFaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONVYF6oMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONVYF6oMEe-OGrSbuJmc3Q" entityName="deferredResult" predecessor_AbstractAction="_ONVYFqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONV_J6oMEe-OGrSbuJmc3Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONV_J6oMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONVYF6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONV_KKoMEe-OGrSbuJmc3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONV_JKoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONV_JqoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONVYGKoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONVYGaoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONVYGaoMEe-OGrSbuJmc3Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_ONVYGKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONVYGqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONVYGqoMEe-OGrSbuJmc3Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_ONVYGaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONVYG6oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONVYG6oMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONVYGqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONVYHKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONVYHKoMEe-OGrSbuJmc3Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONVYG6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONV_IKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONV_IKoMEe-OGrSbuJmc3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_ONVYHKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONV_IaoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONV_IaoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ONV_IKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONV_IqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONV_IqoMEe-OGrSbuJmc3Q" entityName="deferredResult" predecessor_AbstractAction="_ONV_IaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONV_I6oMEe-OGrSbuJmc3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONV_I6oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONV_IqoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONV_KKoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONV_J6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONV_KaoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONV_KaoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONV_KKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONV_KqoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONV_KqoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONV_KaoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONXNRKoMEe-OGrSbuJmc3Q">
          <branchBehaviour_BranchTransition id="_ONXNRqoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONWmMKoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONXNQKoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONXNQKoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONWmMKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONXNQaoMEe-OGrSbuJmc3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONWmOqoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONWmPKoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONWmMaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONWmMqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONWmMqoMEe-OGrSbuJmc3Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_ONWmMaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONWmM6oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONWmM6oMEe-OGrSbuJmc3Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_ONWmMqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONWmNKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONWmNKoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONWmM6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONWmNaoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONWmNaoMEe-OGrSbuJmc3Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONWmNKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONWmNqoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONWmNqoMEe-OGrSbuJmc3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_ONWmNaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONWmN6oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONWmN6oMEe-OGrSbuJmc3Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ONWmNqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONWmOKoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONWmOKoMEe-OGrSbuJmc3Q" entityName="deferredResult" predecessor_AbstractAction="_ONWmN6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONWmOaoMEe-OGrSbuJmc3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONWmOaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONWmOKoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONXNQaoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONXNQKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONXNQqoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONXNQqoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONXNQaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONXNQ6oMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONXNQ6oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONXNQqoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONXNSqoMEe-OGrSbuJmc3Q">
          <branchBehaviour_BranchTransition id="_ONXNTKoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONXNR6oMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONXNSKoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONXNSKoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONXNR6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONXNSaoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONXNSaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONXNSKoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONXNTqoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONXNTaoMEe-OGrSbuJmc3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OORMPaoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_OORMP6oMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OORMPqoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_OOIpWqoMEe-OGrSbuJmc3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONUxBqoMEe-OGrSbuJmc3Q" describedService__SEFF="_OHZvMqoMEe-OGrSbuJmc3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OH1NB6oMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONRtsKoMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONRtsKoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_OH1NB6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONSUwKoMEe-OGrSbuJmc3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONQfkKoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONRGoKoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OH3CMKoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONP4gKoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONP4gKoMEe-OGrSbuJmc3Q" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_OH3CMKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONP4gaoMEe-OGrSbuJmc3Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONP4gaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONP4gKoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONSUwKoMEe-OGrSbuJmc3Q" entityName="stopWatch.start()" predecessor_AbstractAction="_ONRtsKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUxBKoMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONUxBKoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONSUwKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUxBaoMEe-OGrSbuJmc3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONUxAaoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONUxA6oMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONSUwaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONUJ-qoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONUJ-qoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONSUwaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUxAKoMEe-OGrSbuJmc3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONUJ96oMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONUJ-aoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONSUwqoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONTi76oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_ONTi76oMEe-OGrSbuJmc3Q" entityName="Switch Branch" predecessor_AbstractAction="_ONSUwqoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONTi8KoMEe-OGrSbuJmc3Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONTi4KoMEe-OGrSbuJmc3Q">
                      <branchBehaviour_BranchTransition id="_ONTi4qoMEe-OGrSbuJmc3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONS70KoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONS716oMEe-OGrSbuJmc3Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_ONS716oMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONS70KoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONS72KoMEe-OGrSbuJmc3Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONS71KoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_ONS71qoMEe-OGrSbuJmc3Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_ONS70aoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONS70qoMEe-OGrSbuJmc3Q"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_ONS70qoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONS70aoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONS706oMEe-OGrSbuJmc3Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_ONS706oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONS70qoMEe-OGrSbuJmc3Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ONS72KoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONS716oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONS72aoMEe-OGrSbuJmc3Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONS72aoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONS72KoMEe-OGrSbuJmc3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONTi5qoMEe-OGrSbuJmc3Q">
                      <branchBehaviour_BranchTransition id="_ONTi6KoMEe-OGrSbuJmc3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONTi46oMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONTi5KoMEe-OGrSbuJmc3Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ONTi5KoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONTi46oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONTi5aoMEe-OGrSbuJmc3Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONTi5aoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONTi5KoMEe-OGrSbuJmc3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONTi7KoMEe-OGrSbuJmc3Q">
                      <branchBehaviour_BranchTransition id="_ONTi7qoMEe-OGrSbuJmc3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONTi6aoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONTi6qoMEe-OGrSbuJmc3Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ONTi6qoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONTi6aoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONTi66oMEe-OGrSbuJmc3Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONTi66oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONTi6qoMEe-OGrSbuJmc3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONTi8KoMEe-OGrSbuJmc3Q" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_ONTi76oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONTi8aoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONTi8aoMEe-OGrSbuJmc3Q" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_ONTi8KoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUJ8KoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONUJ8KoMEe-OGrSbuJmc3Q" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_ONTi8aoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUJ8aoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONUJ8aoMEe-OGrSbuJmc3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONUJ8KoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUJ8qoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONUJ8qoMEe-OGrSbuJmc3Q" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONUJ8aoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUJ86oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONUJ86oMEe-OGrSbuJmc3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_ONUJ8qoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUJ9KoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONUJ9KoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_ONUJ86oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUJ9aoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONUJ9aoMEe-OGrSbuJmc3Q" entityName="deferredResult" predecessor_AbstractAction="_ONUJ9KoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONUJ9qoMEe-OGrSbuJmc3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONUJ9qoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONUJ9aoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONUxAKoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONUJ-qoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONUxBaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONUxBKoMEe-OGrSbuJmc3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OOToeqoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOToeKoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_OOIpW6oMEe-OGrSbuJmc3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOToeaoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_OOIpXKoMEe-OGrSbuJmc3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONdT56oMEe-OGrSbuJmc3Q" describedService__SEFF="_OHaWRaoMEe-OGrSbuJmc3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONcFxKoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONcs1aoMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONcs1aoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONcFxKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONdT5aoMEe-OGrSbuJmc3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONcFyKoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONcFyqoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONcFxaoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONcFxqoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONcFxqoMEe-OGrSbuJmc3Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_ONcFxaoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONcFx6oMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONcFx6oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONcFxqoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONcs0qoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONcs1KoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONcFy6oMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONcs0KoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONcs0KoMEe-OGrSbuJmc3Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_ONcFy6oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONcs0aoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONcs0aoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONcs0KoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONdT5aoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONcs1aoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONdT5qoMEe-OGrSbuJmc3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONdT4qoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONdT5KoMEe-OGrSbuJmc3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONcs1qoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONdT4KoMEe-OGrSbuJmc3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONdT4KoMEe-OGrSbuJmc3Q" entityName="If Branch" predecessor_AbstractAction="_ONcs1qoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONdT4aoMEe-OGrSbuJmc3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONcs26oMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONcs3aoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONcs16oMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONcs2KoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONcs2KoMEe-OGrSbuJmc3Q" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_ONcs16oMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONcs2aoMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONcs2aoMEe-OGrSbuJmc3Q" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_ONcs2KoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONcs2qoMEe-OGrSbuJmc3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONcs2qoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONcs2aoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONcs4KoMEe-OGrSbuJmc3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONcs4qoMEe-OGrSbuJmc3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONcs3qoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONcs36oMEe-OGrSbuJmc3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONcs36oMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONcs3qoMEe-OGrSbuJmc3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONdT4aoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONdT4KoMEe-OGrSbuJmc3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONdT5qoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONdT5aoMEe-OGrSbuJmc3Q"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONcFwqoMEe-OGrSbuJmc3Q" describedService__SEFF="_OHa9U6oMEe-OGrSbuJmc3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONbewKoMEe-OGrSbuJmc3Q" entityName="Start Action" successor_AbstractAction="_ONcFwKoMEe-OGrSbuJmc3Q"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONcFwKoMEe-OGrSbuJmc3Q" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_ONbewKoMEe-OGrSbuJmc3Q" successor_AbstractAction="_ONcFwaoMEe-OGrSbuJmc3Q">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONcFwaoMEe-OGrSbuJmc3Q" entityName="Stop Action" predecessor_AbstractAction="_ONcFwKoMEe-OGrSbuJmc3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOaWIaoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_OObkRqoMEe-OGrSbuJmc3Q" encapsulatedComponent__AssemblyContext="_OOJQY6oMEe-OGrSbuJmc3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOcLUKoMEe-OGrSbuJmc3Q" innerProvidedRole_ProvidedDelegationConnector="_OOJQYqoMEe-OGrSbuJmc3Q" outerProvidedRole_ProvidedDelegationConnector="_OOaWIKoMEe-OGrSbuJmc3Q" assemblyContext_ProvidedDelegationConnector="_OObkRqoMEe-OGrSbuJmc3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOaWIKoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_OOIpWaoMEe-OGrSbuJmc3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOa9MaoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_OObkQqoMEe-OGrSbuJmc3Q" encapsulatedComponent__AssemblyContext="_OOToeqoMEe-OGrSbuJmc3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOcyY6oMEe-OGrSbuJmc3Q" innerProvidedRole_ProvidedDelegationConnector="_OOToeKoMEe-OGrSbuJmc3Q" outerProvidedRole_ProvidedDelegationConnector="_OOaWIqoMEe-OGrSbuJmc3Q" assemblyContext_ProvidedDelegationConnector="_OObkQqoMEe-OGrSbuJmc3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOcyZKoMEe-OGrSbuJmc3Q" innerProvidedRole_ProvidedDelegationConnector="_OOToeaoMEe-OGrSbuJmc3Q" outerProvidedRole_ProvidedDelegationConnector="_OOa9MKoMEe-OGrSbuJmc3Q" assemblyContext_ProvidedDelegationConnector="_OObkQqoMEe-OGrSbuJmc3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOaWIqoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_OOIpW6oMEe-OGrSbuJmc3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOa9MKoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_OOIpXKoMEe-OGrSbuJmc3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOa9M6oMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_OObkQKoMEe-OGrSbuJmc3Q" encapsulatedComponent__AssemblyContext="_OOOv_qoMEe-OGrSbuJmc3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOcyYKoMEe-OGrSbuJmc3Q" innerProvidedRole_ProvidedDelegationConnector="_OOOv_aoMEe-OGrSbuJmc3Q" outerProvidedRole_ProvidedDelegationConnector="_OOa9MqoMEe-OGrSbuJmc3Q" assemblyContext_ProvidedDelegationConnector="_OObkQKoMEe-OGrSbuJmc3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOa9MqoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_OOJQYaoMEe-OGrSbuJmc3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOa9NKoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_OObkSqoMEe-OGrSbuJmc3Q" encapsulatedComponent__AssemblyContext="_OORMPaoMEe-OGrSbuJmc3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOa9NqoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_OObkRKoMEe-OGrSbuJmc3Q" encapsulatedComponent__AssemblyContext="_OORMP6oMEe-OGrSbuJmc3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOcyYqoMEe-OGrSbuJmc3Q" innerProvidedRole_ProvidedDelegationConnector="_OORMPqoMEe-OGrSbuJmc3Q" outerProvidedRole_ProvidedDelegationConnector="_OOa9NaoMEe-OGrSbuJmc3Q" assemblyContext_ProvidedDelegationConnector="_OObkRKoMEe-OGrSbuJmc3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOa9NaoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_OOIpWqoMEe-OGrSbuJmc3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOa9OKoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_OObkSKoMEe-OGrSbuJmc3Q" encapsulatedComponent__AssemblyContext="_OOMTtaoMEe-OGrSbuJmc3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOcyYaoMEe-OGrSbuJmc3Q" innerProvidedRole_ProvidedDelegationConnector="_OOMTtKoMEe-OGrSbuJmc3Q" outerProvidedRole_ProvidedDelegationConnector="_OOa9N6oMEe-OGrSbuJmc3Q" assemblyContext_ProvidedDelegationConnector="_OObkSKoMEe-OGrSbuJmc3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOa9N6oMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_OOJQYKoMEe-OGrSbuJmc3Q"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOIpWaoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_OHaWQKoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_OGnsEKoMEe-OGrSbuJmc3Q">
      <parameters__OperationSignature dataType__Parameter="_OHZIIKoMEe-OGrSbuJmc3Q" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOIpWqoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_OHZvMqoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_OGnsEKoMEe-OGrSbuJmc3Q">
      <parameters__OperationSignature dataType__Parameter="_OHZIIKoMEe-OGrSbuJmc3Q" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOIpW6oMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_OHaWRaoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_OHZIIaoMEe-OGrSbuJmc3Q">
      <parameters__OperationSignature dataType__Parameter="_OHaWQ6oMEe-OGrSbuJmc3Q" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_OHaWRKoMEe-OGrSbuJmc3Q" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOIpXKoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_OHa9U6oMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_OHZIIaoMEe-OGrSbuJmc3Q">
      <parameters__OperationSignature dataType__Parameter="_OHa9UqoMEe-OGrSbuJmc3Q" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOJQYKoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_OHZIIqoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_OHZIIaoMEe-OGrSbuJmc3Q">
      <parameters__OperationSignature dataType__Parameter="_OHZIIKoMEe-OGrSbuJmc3Q" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOJQYaoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_OGoTIKoMEe-OGrSbuJmc3Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_OGnsEKoMEe-OGrSbuJmc3Q">
      <parameters__OperationSignature dataType__Parameter="_OGmd8KoMEe-OGrSbuJmc3Q" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OGmd8KoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OGnsEKoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHZIIKoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHZIIaoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHaWQ6oMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHaWRKoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHa9UqoMEe-OGrSbuJmc3Q" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
