<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_OJgQViq9Ee-wYN1x3o8hQg">
  <components__Repository xsi:type="repository:BasicComponent" id="_OJPKlyq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJPKliq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_OJPKkyq9Ee-wYN1x3o8hQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OIpUxSq9Ee-wYN1x3o8hQg" describedService__SEFF="_OCZiwCq9Ee-wYN1x3o8hQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OIoGpiq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIoGrSq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OIoGrSq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIoGpiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGriq9Ee-wYN1x3o8hQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIoGqiq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OIoGrCq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OIoGpyq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIoGqCq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIoGqCq9Ee-wYN1x3o8hQg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_OIoGpyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGqSq9Ee-wYN1x3o8hQg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OIoGqSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIoGqCq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_OIoGriq9Ee-wYN1x3o8hQg" entityName="stopWatch.start()" predecessor_AbstractAction="_OIoGrSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIpUwiq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OIpUwiq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIoGriq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIpUwyq9Ee-wYN1x3o8hQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIpUvyq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OIpUwSq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OIoGryq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIpUvSq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OIpUvSq9Ee-wYN1x3o8hQg" entityName="Switch Branch" predecessor_AbstractAction="_OIoGryq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIpUviq9Ee-wYN1x3o8hQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIotuSq9Ee-wYN1x3o8hQg">
                <branchBehaviour_BranchTransition id="_OIotuyq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OIoGsCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIoGsSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIoGsSq9Ee-wYN1x3o8hQg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_OIoGsCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotqyq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_OIotqyq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIoGsSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotrCq9Ee-wYN1x3o8hQg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIotqCq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_OIotqiq9Ee-wYN1x3o8hQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_OIotoCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIotpiq9Ee-wYN1x3o8hQg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_OIotpiq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIotoCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotpyq9Ee-wYN1x3o8hQg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIotoyq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_OIotpSq9Ee-wYN1x3o8hQg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_OIotoSq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIotoiq9Ee-wYN1x3o8hQg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_OIotoiq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIotoSq9Ee-wYN1x3o8hQg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_OIotpyq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIotpiq9Ee-wYN1x3o8hQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotrCq9Ee-wYN1x3o8hQg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_OIotqyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotrSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotrSq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_OIotrCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotriq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotriq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIotrSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotryq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotryq9Ee-wYN1x3o8hQg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OIotriq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotsCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotsCq9Ee-wYN1x3o8hQg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_OIotryq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotsSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIotsSq9Ee-wYN1x3o8hQg" entityName="deferredResult" predecessor_AbstractAction="_OIotsCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotsiq9Ee-wYN1x3o8hQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotsiq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_OIotsSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotsyq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotsyq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIotsiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIottCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIottCq9Ee-wYN1x3o8hQg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OIotsyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIottSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIottSq9Ee-wYN1x3o8hQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_OIottCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIottiq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIottiq9Ee-wYN1x3o8hQg" entityName="deferredResult" predecessor_AbstractAction="_OIottSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIottyq9Ee-wYN1x3o8hQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIottyq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIottiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotuCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIotuCq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIottyq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIpUtCq9Ee-wYN1x3o8hQg">
                <branchBehaviour_BranchTransition id="_OIpUtiq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OIotvCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIotvSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotvSq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_OIotvCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotviq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotviq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIotvSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIotvyq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIotvyq9Ee-wYN1x3o8hQg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OIotviq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIpUsCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIpUsCq9Ee-wYN1x3o8hQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_OIotvyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIpUsSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIpUsSq9Ee-wYN1x3o8hQg" entityName="deferredResult" predecessor_AbstractAction="_OIpUsCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIpUsiq9Ee-wYN1x3o8hQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIpUsiq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIpUsSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIpUsyq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIpUsyq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIpUsiq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIpUuiq9Ee-wYN1x3o8hQg">
                <branchBehaviour_BranchTransition id="_OIpUvCq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OIpUtyq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIpUuCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIpUuCq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIpUtyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIpUuSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIpUuSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIpUuCq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OIpUviq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIpUvSq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_OIpUwyq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_OIpUwiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIpUxCq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OIpUxCq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIpUwyq9Ee-wYN1x3o8hQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OJSN5Sq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJSN4yq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_OJPKkCq9Ee-wYN1x3o8hQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJSN5Cq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_OJPKkiq9Ee-wYN1x3o8hQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OIbSQyq9Ee-wYN1x3o8hQg" describedService__SEFF="_OCaJ0Cq9Ee-wYN1x3o8hQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OIbSQCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIbSQSq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIbSQSq9Ee-wYN1x3o8hQg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_OIbSQCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIbSQiq9Ee-wYN1x3o8hQg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OIbSQiq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIbSQSq9Ee-wYN1x3o8hQg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OIarMCq9Ee-wYN1x3o8hQg" describedService__SEFF="_OCY7tCq9Ee-wYN1x3o8hQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OCzLYSq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIUkkCq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OIUkkCq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OCzLYSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIZdESq9Ee-wYN1x3o8hQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OC2OsCq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OC21wCq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OC1AkCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OC1noCq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OC1noCq9Ee-wYN1x3o8hQg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_OC1AkCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OC1noSq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OC1noSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OC1noCq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIT9giq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OIT9hCq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OITWcCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIT9gCq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OIT9gCq9Ee-wYN1x3o8hQg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_OITWcCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIT9gSq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OIT9gSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIT9gCq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OIZdESq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIUkkCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIaEICq9Ee-wYN1x3o8hQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIY2Cyq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OIZdECq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OIUkkSq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIY2CSq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OIY2CSq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIUkkSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIY2Ciq9Ee-wYN1x3o8hQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIY2ASq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OIY2Ayq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OIUkkiq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIVysCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIVysCq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_OIUkkiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIYO8Cq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIYO8Cq9Ee-wYN1x3o8hQg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_OIVysCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIY2ACq9Ee-wYN1x3o8hQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIY2ACq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIYO8Cq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIY2Biq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OIY2CCq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OIY2BCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIY2BSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIY2BSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIY2BCq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OIY2Ciq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIY2CSq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OIaEICq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIZdESq9Ee-wYN1x3o8hQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OJXGYSq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJXGYCq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_OJPKlCq9Ee-wYN1x3o8hQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OIh_8iq9Ee-wYN1x3o8hQg" describedService__SEFF="_OBotwCq9Ee-wYN1x3o8hQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OIbSRSq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIhY5iq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OIhY5iq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIbSRSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIh_8Cq9Ee-wYN1x3o8hQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIhY4yq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OIhY5Sq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OIbSRiq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIhY4Sq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OIhY4Sq9Ee-wYN1x3o8hQg" entityName="Switch Branch" predecessor_AbstractAction="_OIbSRiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIhY4iq9Ee-wYN1x3o8hQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIeVkyq9Ee-wYN1x3o8hQg">
                <branchBehaviour_BranchTransition id="_OIfjsCq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OIb5UCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIduhiq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_OIduhiq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIb5UCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIduhyq9Ee-wYN1x3o8hQg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIdugyq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_OIduhSq9Ee-wYN1x3o8hQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_OIb5USq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIdugSq9Ee-wYN1x3o8hQg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_OIdugSq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIb5USq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIdugiq9Ee-wYN1x3o8hQg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIcgYSq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_OIdugCq9Ee-wYN1x3o8hQg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_OIb5Uiq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIcgYCq9Ee-wYN1x3o8hQg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_OIcgYCq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIb5Uiq9Ee-wYN1x3o8hQg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_OIdugiq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIdugSq9Ee-wYN1x3o8hQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIduhyq9Ee-wYN1x3o8hQg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_OIduhiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIduiCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIduiCq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_OIduhyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIeVkCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIeVkCq9Ee-wYN1x3o8hQg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_OIduiCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIeVkSq9Ee-wYN1x3o8hQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIeVkSq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_OIeVkCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIeVkiq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIeVkiq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIeVkSq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIgKwiq9Ee-wYN1x3o8hQg">
                <branchBehaviour_BranchTransition id="_OIgx0Cq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OIfjsSq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIgKwCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIgKwCq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_OIfjsSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIgKwSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIgKwSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIgKwCq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIgx0yq9Ee-wYN1x3o8hQg">
                <branchBehaviour_BranchTransition id="_OIhY4Cq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OIgx0Sq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIgx0iq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIgx0iq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIgx0Sq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OIhY4iq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIhY4Sq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_OIh_8Cq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_OIhY5iq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIh_8Sq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OIh_8Sq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIh_8Cq9Ee-wYN1x3o8hQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OJY7niq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJY7nSq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_OJPKlSq9Ee-wYN1x3o8hQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OImRZiq9Ee-wYN1x3o8hQg" describedService__SEFF="_OCYUoSq9Ee-wYN1x3o8hQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OIh_9Cq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIh_-yq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OIh_-yq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIh_9Cq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIinACq9Ee-wYN1x3o8hQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIh_-Cq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OIh_-iq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OIh_9Sq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIh_9iq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIh_9iq9Ee-wYN1x3o8hQg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_OIh_9Sq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIh_9yq9Ee-wYN1x3o8hQg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OIh_9yq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIh_9iq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_OIinACq9Ee-wYN1x3o8hQg" entityName="stopWatch.start()" predecessor_AbstractAction="_OIh_-yq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImRZCq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OImRZCq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIinACq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImRZSq9Ee-wYN1x3o8hQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OImRYSq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OImRYyq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OIinASq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIlqViq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OIlqViq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIinASq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImRYCq9Ee-wYN1x3o8hQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIlqUyq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OIlqVSq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OIinAiq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIj1ICq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_OIj1ICq9Ee-wYN1x3o8hQg" entityName="Switch Branch" predecessor_AbstractAction="_OIinAiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIj1ISq9Ee-wYN1x3o8hQg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIjOGCq9Ee-wYN1x3o8hQg">
                      <branchBehaviour_BranchTransition id="_OIjOGiq9Ee-wYN1x3o8hQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_OIinAyq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIjOFSq9Ee-wYN1x3o8hQg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_OIjOFSq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OIinAyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIjOFiq9Ee-wYN1x3o8hQg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIjOEiq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_OIjOFCq9Ee-wYN1x3o8hQg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_OIinBCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIjOECq9Ee-wYN1x3o8hQg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_OIjOECq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIinBCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIjOESq9Ee-wYN1x3o8hQg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_OIjOESq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIjOECq9Ee-wYN1x3o8hQg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_OIjOFiq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIjOFSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIjOFyq9Ee-wYN1x3o8hQg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_OIjOFyq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIjOFiq9Ee-wYN1x3o8hQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIjOHiq9Ee-wYN1x3o8hQg">
                      <branchBehaviour_BranchTransition id="_OIjOICq9Ee-wYN1x3o8hQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_OIjOGyq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIjOHCq9Ee-wYN1x3o8hQg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_OIjOHCq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIjOGyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIjOHSq9Ee-wYN1x3o8hQg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_OIjOHSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIjOHCq9Ee-wYN1x3o8hQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIjOJCq9Ee-wYN1x3o8hQg">
                      <branchBehaviour_BranchTransition id="_OIjOJiq9Ee-wYN1x3o8hQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_OIjOISq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIjOIiq9Ee-wYN1x3o8hQg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_OIjOIiq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIjOISq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIjOIyq9Ee-wYN1x3o8hQg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_OIjOIyq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIjOIiq9Ee-wYN1x3o8hQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIj1ISq9Ee-wYN1x3o8hQg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_OIj1ICq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIj1Iiq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIj1Iiq9Ee-wYN1x3o8hQg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_OIj1ISq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIkcMCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIkcMCq9Ee-wYN1x3o8hQg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_OIj1Iiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIkcMSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIkcMSq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIkcMCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIkcMiq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIkcMiq9Ee-wYN1x3o8hQg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OIkcMSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIlDQCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIlDQCq9Ee-wYN1x3o8hQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_OIkcMiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIlqUCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIlqUCq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_OIlDQCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIlqUSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIlqUSq9Ee-wYN1x3o8hQg" entityName="deferredResult" predecessor_AbstractAction="_OIlqUCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIlqUiq9Ee-wYN1x3o8hQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIlqUiq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIlqUSq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OImRYCq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIlqViq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OImRZSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OImRZCq9Ee-wYN1x3o8hQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OJbX2Sq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJbX2Cq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_OJPKkSq9Ee-wYN1x3o8hQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OIoGpCq9Ee-wYN1x3o8hQg" describedService__SEFF="_OCYUpSq9Ee-wYN1x3o8hQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OImRaCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OImRbyq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OImRbyq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OImRaCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImRcCq9Ee-wYN1x3o8hQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OImRbCq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OImRbiq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OImRaSq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OImRaiq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OImRaiq9Ee-wYN1x3o8hQg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_OImRaSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImRayq9Ee-wYN1x3o8hQg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OImRayq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OImRaiq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_OImRcCq9Ee-wYN1x3o8hQg" entityName="stopWatch.start()" predecessor_AbstractAction="_OImRbyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGoiq9Ee-wYN1x3o8hQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OIoGoiq9Ee-wYN1x3o8hQg" entityName="Switch Branch" predecessor_AbstractAction="_OImRcCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGoyq9Ee-wYN1x3o8hQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OInfgCq9Ee-wYN1x3o8hQg">
          <branchBehaviour_BranchTransition id="_OInfgiq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OImRcSq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OImRciq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OImRciq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OImRcSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImRcyq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OImRcyq9Ee-wYN1x3o8hQg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OImRciq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImRdCq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OImRdCq9Ee-wYN1x3o8hQg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_OImRcyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImRdSq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OImRdSq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_OImRdCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImRdiq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OImRdiq9Ee-wYN1x3o8hQg" entityName="deferredResult" predecessor_AbstractAction="_OImRdSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4eSq9Ee-wYN1x3o8hQg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OIm4eSq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OImRdiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4eiq9Ee-wYN1x3o8hQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIm4diq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OIm4eCq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OImRdyq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OImReCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OImReCq9Ee-wYN1x3o8hQg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_OImRdyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OImReSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OImReSq9Ee-wYN1x3o8hQg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_OImReCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4cCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIm4cCq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OImReSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4cSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIm4cSq9Ee-wYN1x3o8hQg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OIm4cCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4ciq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIm4ciq9Ee-wYN1x3o8hQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_OIm4cSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4cyq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OIm4cyq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_OIm4ciq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4dCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIm4dCq9Ee-wYN1x3o8hQg" entityName="deferredResult" predecessor_AbstractAction="_OIm4cyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4dSq9Ee-wYN1x3o8hQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIm4dSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIm4dCq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OIm4eiq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIm4eSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4eyq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OIm4eyq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIm4eiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIm4fCq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OIm4fCq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIm4eyq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIoGmSq9Ee-wYN1x3o8hQg">
          <branchBehaviour_BranchTransition id="_OIoGmyq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OInfgyq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIoGlSq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OIoGlSq9Ee-wYN1x3o8hQg" entityName="If Branch" predecessor_AbstractAction="_OInfgyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGliq9Ee-wYN1x3o8hQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIoGkiq9Ee-wYN1x3o8hQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OIoGlCq9Ee-wYN1x3o8hQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OInfhCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OInfhSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OInfhSq9Ee-wYN1x3o8hQg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_OInfhCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OInfhiq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OInfhiq9Ee-wYN1x3o8hQg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_OInfhSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OInfhyq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OInfhyq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OInfhiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OInfiCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OInfiCq9Ee-wYN1x3o8hQg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OInfhyq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OInfiSq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OInfiSq9Ee-wYN1x3o8hQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_OInfiCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OInfiiq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OInfiiq9Ee-wYN1x3o8hQg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_OInfiSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGkCq9Ee-wYN1x3o8hQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OIoGkCq9Ee-wYN1x3o8hQg" entityName="deferredResult" predecessor_AbstractAction="_OInfiiq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGkSq9Ee-wYN1x3o8hQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OIoGkSq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIoGkCq9Ee-wYN1x3o8hQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OIoGliq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIoGlSq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGlyq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OIoGlyq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIoGliq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGmCq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OIoGmCq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIoGlyq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OIoGnyq9Ee-wYN1x3o8hQg">
          <branchBehaviour_BranchTransition id="_OIoGoSq9Ee-wYN1x3o8hQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OIoGnCq9Ee-wYN1x3o8hQg" entityName="Start Action" successor_AbstractAction="_OIoGnSq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OIoGnSq9Ee-wYN1x3o8hQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_OIoGnCq9Ee-wYN1x3o8hQg" successor_AbstractAction="_OIoGniq9Ee-wYN1x3o8hQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OIoGniq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIoGnSq9Ee-wYN1x3o8hQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OIoGoyq9Ee-wYN1x3o8hQg" entityName="Stop Action" predecessor_AbstractAction="_OIoGoiq9Ee-wYN1x3o8hQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OJdNBiq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OJfCMSq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_OJgQUiq9Ee-wYN1x3o8hQg" encapsulatedComponent__AssemblyContext="_OJPKlyq9Ee-wYN1x3o8hQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OJg3YCq9Ee-wYN1x3o8hQg" innerProvidedRole_ProvidedDelegationConnector="_OJPKliq9Ee-wYN1x3o8hQg" outerProvidedRole_ProvidedDelegationConnector="_OJfCMCq9Ee-wYN1x3o8hQg" assemblyContext_ProvidedDelegationConnector="_OJgQUiq9Ee-wYN1x3o8hQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJfCMCq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_OJPKkyq9Ee-wYN1x3o8hQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OJfCNCq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_OJfpQCq9Ee-wYN1x3o8hQg" encapsulatedComponent__AssemblyContext="_OJSN5Sq9Ee-wYN1x3o8hQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OJg3Yiq9Ee-wYN1x3o8hQg" innerProvidedRole_ProvidedDelegationConnector="_OJSN4yq9Ee-wYN1x3o8hQg" outerProvidedRole_ProvidedDelegationConnector="_OJfCMiq9Ee-wYN1x3o8hQg" assemblyContext_ProvidedDelegationConnector="_OJfpQCq9Ee-wYN1x3o8hQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OJg3ZCq9Ee-wYN1x3o8hQg" innerProvidedRole_ProvidedDelegationConnector="_OJSN5Cq9Ee-wYN1x3o8hQg" outerProvidedRole_ProvidedDelegationConnector="_OJfCMyq9Ee-wYN1x3o8hQg" assemblyContext_ProvidedDelegationConnector="_OJfpQCq9Ee-wYN1x3o8hQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJfCMiq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_OJPKkCq9Ee-wYN1x3o8hQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJfCMyq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_OJPKkiq9Ee-wYN1x3o8hQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OJfCNiq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_OJfpQiq9Ee-wYN1x3o8hQg" encapsulatedComponent__AssemblyContext="_OJbX2Sq9Ee-wYN1x3o8hQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OJg3Yyq9Ee-wYN1x3o8hQg" innerProvidedRole_ProvidedDelegationConnector="_OJbX2Cq9Ee-wYN1x3o8hQg" outerProvidedRole_ProvidedDelegationConnector="_OJfCNSq9Ee-wYN1x3o8hQg" assemblyContext_ProvidedDelegationConnector="_OJfpQiq9Ee-wYN1x3o8hQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJfCNSq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_OJPKkSq9Ee-wYN1x3o8hQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OJfCOCq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_OJgQVCq9Ee-wYN1x3o8hQg" encapsulatedComponent__AssemblyContext="_OJXGYSq9Ee-wYN1x3o8hQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OJg3ZSq9Ee-wYN1x3o8hQg" innerProvidedRole_ProvidedDelegationConnector="_OJXGYCq9Ee-wYN1x3o8hQg" outerProvidedRole_ProvidedDelegationConnector="_OJfCNyq9Ee-wYN1x3o8hQg" assemblyContext_ProvidedDelegationConnector="_OJgQVCq9Ee-wYN1x3o8hQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJfCNyq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_OJPKlCq9Ee-wYN1x3o8hQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OJfCOSq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_OJgQUCq9Ee-wYN1x3o8hQg" encapsulatedComponent__AssemblyContext="_OJdNBiq9Ee-wYN1x3o8hQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OJfCOyq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_OJfpRCq9Ee-wYN1x3o8hQg" encapsulatedComponent__AssemblyContext="_OJY7niq9Ee-wYN1x3o8hQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OJg3YSq9Ee-wYN1x3o8hQg" innerProvidedRole_ProvidedDelegationConnector="_OJY7nSq9Ee-wYN1x3o8hQg" outerProvidedRole_ProvidedDelegationConnector="_OJfCOiq9Ee-wYN1x3o8hQg" assemblyContext_ProvidedDelegationConnector="_OJfpRCq9Ee-wYN1x3o8hQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OJfCOiq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_OJPKlSq9Ee-wYN1x3o8hQg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OJPKkCq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_OCaJ0Cq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_OBoGsCq9Ee-wYN1x3o8hQg">
      <parameters__OperationSignature dataType__Parameter="_OCZiwyq9Ee-wYN1x3o8hQg" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OJPKkSq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_OCYUpSq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_OCYUoCq9Ee-wYN1x3o8hQg">
      <parameters__OperationSignature dataType__Parameter="_OCYUpCq9Ee-wYN1x3o8hQg" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OJPKkiq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_OCY7tCq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_OBoGsCq9Ee-wYN1x3o8hQg">
      <parameters__OperationSignature dataType__Parameter="_OCY7siq9Ee-wYN1x3o8hQg" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_OCY7syq9Ee-wYN1x3o8hQg" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OJPKkyq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_OCZiwCq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_OCYUoCq9Ee-wYN1x3o8hQg">
      <parameters__OperationSignature dataType__Parameter="_OBm4kCq9Ee-wYN1x3o8hQg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OJPKlCq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_OBotwCq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_OBoGsCq9Ee-wYN1x3o8hQg">
      <parameters__OperationSignature dataType__Parameter="_OBm4kCq9Ee-wYN1x3o8hQg" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OJPKlSq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_OCYUoSq9Ee-wYN1x3o8hQg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_OCYUoCq9Ee-wYN1x3o8hQg">
      <parameters__OperationSignature dataType__Parameter="_OBm4kCq9Ee-wYN1x3o8hQg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OBm4kCq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OBoGsCq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OCYUoCq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OCYUpCq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OCY7siq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OCY7syq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OCZiwyq9Ee-wYN1x3o8hQg" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
