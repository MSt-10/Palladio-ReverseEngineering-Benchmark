<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_2wc3ivxfEe6SUsew-sDdoA">
  <components__Repository xsi:type="repository:BasicComponent" id="_2wJVg_xfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wJVgvxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_2wJVgfxfEe6SUsew-sDdoA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2vdZGfxfEe6SUsew-sDdoA" describedService__SEFF="_2pt9YfxfEe6SUsew-sDdoA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2vcK5PxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vdZFvxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2vdZFvxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2vcK5PxfEe6SUsew-sDdoA" successor_AbstractAction="_2vdZF_xfEe6SUsew-sDdoA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vdZE_xfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2vdZFfxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2vcK5fxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vdZEfxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2vdZEfxfEe6SUsew-sDdoA" entityName="Switch Branch" predecessor_AbstractAction="_2vcK5fxfEe6SUsew-sDdoA" successor_AbstractAction="_2vdZEvxfEe6SUsew-sDdoA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vdZA_xfEe6SUsew-sDdoA">
                <branchBehaviour_BranchTransition id="_2vdZBfxfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2vcx8PxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vcx_PxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_2vcx_PxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2vcx8PxfEe6SUsew-sDdoA" successor_AbstractAction="_2vcx_fxfEe6SUsew-sDdoA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vcx-fxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_2vcx-_xfEe6SUsew-sDdoA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2vcx8fxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vcx9_xfEe6SUsew-sDdoA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_2vcx9_xfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2vcx8fxfEe6SUsew-sDdoA" successor_AbstractAction="_2vcx-PxfEe6SUsew-sDdoA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vcx9PxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_2vcx9vxfEe6SUsew-sDdoA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_2vcx8vxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vcx8_xfEe6SUsew-sDdoA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_2vcx8_xfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vcx8vxfEe6SUsew-sDdoA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2vcx-PxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vcx9_xfEe6SUsew-sDdoA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vcx_fxfEe6SUsew-sDdoA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_2vcx_PxfEe6SUsew-sDdoA" successor_AbstractAction="_2vcx_vxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vcx_vxfEe6SUsew-sDdoA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_2vcx_fxfEe6SUsew-sDdoA" successor_AbstractAction="_2vdZAPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2vdZAPxfEe6SUsew-sDdoA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_2vcx_vxfEe6SUsew-sDdoA" successor_AbstractAction="_2vdZAfxfEe6SUsew-sDdoA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vdZAfxfEe6SUsew-sDdoA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_2vdZAPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vdZAvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vdZAvxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vdZAfxfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vdZCfxfEe6SUsew-sDdoA">
                <branchBehaviour_BranchTransition id="_2vdZC_xfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2vdZBvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vdZB_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vdZB_xfEe6SUsew-sDdoA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_2vdZBvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vdZCPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vdZCPxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vdZB_xfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vdZDvxfEe6SUsew-sDdoA">
                <branchBehaviour_BranchTransition id="_2vdZEPxfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2vdZDPxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vdZDfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vdZDfxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vdZDPxfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2vdZEvxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vdZEfxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2vdZF_xfEe6SUsew-sDdoA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_2vdZFvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vdZGPxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2vdZGPxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vdZF_xfEe6SUsew-sDdoA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_2wLxyfxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wLxyPxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_2wIuevxfEe6SUsew-sDdoA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2viRhPxfEe6SUsew-sDdoA" describedService__SEFF="_2o5eAPxfEe6SUsew-sDdoA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2vf1RfxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vf1TPxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2vf1TPxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2vf1RfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vf1TfxfEe6SUsew-sDdoA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vf1SfxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2vf1S_xfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2vf1RvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vf1R_xfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2vf1R_xfEe6SUsew-sDdoA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_2vf1RvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vf1SPxfEe6SUsew-sDdoA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2vf1SPxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vf1R_xfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2vf1TfxfEe6SUsew-sDdoA" entityName="stopWatch.start()" predecessor_AbstractAction="_2vf1TPxfEe6SUsew-sDdoA" successor_AbstractAction="_2viRgfxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2viRgfxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2vf1TfxfEe6SUsew-sDdoA" successor_AbstractAction="_2viRgvxfEe6SUsew-sDdoA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vhqgvxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2viRgPxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2vf1TvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vhqgPxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2vhqgPxfEe6SUsew-sDdoA" entityName="Switch Branch" predecessor_AbstractAction="_2vf1TvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vhqgfxfEe6SUsew-sDdoA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vgcY_xfEe6SUsew-sDdoA">
                <branchBehaviour_BranchTransition id="_2vhDYPxfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2vf1T_xfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vf1UPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vf1UPxfEe6SUsew-sDdoA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_2vf1T_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcVfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_2vgcVfxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2vf1UPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcVvxfEe6SUsew-sDdoA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vgcUvxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_2vgcVPxfEe6SUsew-sDdoA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2vf1UfxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vgcUPxfEe6SUsew-sDdoA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_2vgcUPxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2vf1UfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcUfxfEe6SUsew-sDdoA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vf1VPxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_2vf1VvxfEe6SUsew-sDdoA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_2vf1UvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vf1U_xfEe6SUsew-sDdoA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_2vf1U_xfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vf1UvxfEe6SUsew-sDdoA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2vgcUfxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vgcUPxfEe6SUsew-sDdoA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcVvxfEe6SUsew-sDdoA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_2vgcVfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcV_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcV_xfEe6SUsew-sDdoA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_2vgcVvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcWPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcWPxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vgcV_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcWfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcWfxfEe6SUsew-sDdoA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2vgcWPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcWvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcWvxfEe6SUsew-sDdoA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_2vgcWfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcW_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2vgcW_xfEe6SUsew-sDdoA" entityName="deferredResult" predecessor_AbstractAction="_2vgcWvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcXPxfEe6SUsew-sDdoA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcXPxfEe6SUsew-sDdoA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_2vgcW_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcXfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcXfxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vgcXPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcXvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcXvxfEe6SUsew-sDdoA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2vgcXfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcX_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcX_xfEe6SUsew-sDdoA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_2vgcXvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcYPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2vgcYPxfEe6SUsew-sDdoA" entityName="deferredResult" predecessor_AbstractAction="_2vgcX_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcYfxfEe6SUsew-sDdoA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vgcYfxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vgcYPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vgcYvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vgcYvxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vgcYfxfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vhqd_xfEe6SUsew-sDdoA">
                <branchBehaviour_BranchTransition id="_2vhqefxfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2vhDYfxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vhqcPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vhqcPxfEe6SUsew-sDdoA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_2vhDYfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vhqcfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vhqcfxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vhqcPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vhqcvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vhqcvxfEe6SUsew-sDdoA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2vhqcfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vhqc_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vhqc_xfEe6SUsew-sDdoA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_2vhqcvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vhqdPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2vhqdPxfEe6SUsew-sDdoA" entityName="deferredResult" predecessor_AbstractAction="_2vhqc_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vhqdfxfEe6SUsew-sDdoA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vhqdfxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vhqdPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vhqdvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vhqdvxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vhqdfxfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vhqffxfEe6SUsew-sDdoA">
                <branchBehaviour_BranchTransition id="_2vhqf_xfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2vhqevxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vhqe_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vhqe_xfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vhqevxfEe6SUsew-sDdoA" successor_AbstractAction="_2vhqfPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vhqfPxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vhqe_xfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2vhqgfxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vhqgPxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2viRgvxfEe6SUsew-sDdoA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_2viRgfxfEe6SUsew-sDdoA" successor_AbstractAction="_2viRg_xfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2viRg_xfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2viRgvxfEe6SUsew-sDdoA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_2wR4bfxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wR4a_xfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_2wIufPxfEe6SUsew-sDdoA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wR4bPxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_2wJVgPxfEe6SUsew-sDdoA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2vcK4vxfEe6SUsew-sDdoA" describedService__SEFF="_2ptWVPxfEe6SUsew-sDdoA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2vbj4vxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vcK4PxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2vcK4PxfEe6SUsew-sDdoA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_2vbj4vxfEe6SUsew-sDdoA" successor_AbstractAction="_2vcK4fxfEe6SUsew-sDdoA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2vcK4fxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vcK4PxfEe6SUsew-sDdoA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2vbj4PxfEe6SUsew-sDdoA" describedService__SEFF="_2psvRfxfEe6SUsew-sDdoA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2qG-8fxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vYggPxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2vYggPxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2qG-8fxfEe6SUsew-sDdoA" successor_AbstractAction="_2vbj3vxfEe6SUsew-sDdoA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2qKCQPxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2qKpUPxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2qI0IPxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2qJbMPxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2qJbMPxfEe6SUsew-sDdoA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_2qI0IPxfEe6SUsew-sDdoA" successor_AbstractAction="_2qJbMfxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2qJbMfxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2qJbMPxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vX5c_xfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2vX5dfxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2vX5cPxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vX5cfxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2vX5cfxfEe6SUsew-sDdoA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_2vX5cPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vX5cvxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2vX5cvxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vX5cfxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2vbj3vxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2vYggPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vbj3_xfEe6SUsew-sDdoA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vbj2_xfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2vbj3fxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2vYggfxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vbj2fxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2vbj2fxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2vYggfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vbj2vxfEe6SUsew-sDdoA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vbj0fxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2vbj0_xfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2vYggvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vYgg_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vYgg_xfEe6SUsew-sDdoA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_2vYggvxfEe6SUsew-sDdoA" successor_AbstractAction="_2va8wPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2va8wPxfEe6SUsew-sDdoA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_2vYgg_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vbj0PxfEe6SUsew-sDdoA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vbj0PxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2va8wPxfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vbj1vxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2vbj2PxfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2vbj1PxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vbj1fxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vbj1fxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vbj1PxfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2vbj2vxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vbj2fxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2vbj3_xfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vbj3vxfEe6SUsew-sDdoA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_2wWJ3fxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wWJ3PxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_2wIue_xfEe6SUsew-sDdoA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2vkGt_xfEe6SUsew-sDdoA" describedService__SEFF="_2ptWUPxfEe6SUsew-sDdoA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2viRhvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2viRjfxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2viRjfxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2viRhvxfEe6SUsew-sDdoA" successor_AbstractAction="_2viRjvxfEe6SUsew-sDdoA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2viRivxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2viRjPxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2viRh_xfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2viRiPxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2viRiPxfEe6SUsew-sDdoA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_2viRh_xfEe6SUsew-sDdoA" successor_AbstractAction="_2viRifxfEe6SUsew-sDdoA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2viRifxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2viRiPxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2viRjvxfEe6SUsew-sDdoA" entityName="stopWatch.start()" predecessor_AbstractAction="_2viRjfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vkGtfxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2vkGtfxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2viRjvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vkGtvxfEe6SUsew-sDdoA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vkGsvxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2vkGtPxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2viRj_xfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vkGsPxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2vkGsPxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2viRj_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vkGsfxfEe6SUsew-sDdoA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vjfrvxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2vjfsPxfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2viRkPxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vjfpPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_2vjfpPxfEe6SUsew-sDdoA" entityName="Switch Branch" predecessor_AbstractAction="_2viRkPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfpfxfEe6SUsew-sDdoA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vi4l_xfEe6SUsew-sDdoA">
                      <branchBehaviour_BranchTransition id="_2vi4mfxfEe6SUsew-sDdoA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2viRkfxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vi4lPxfEe6SUsew-sDdoA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_2vi4lPxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2viRkfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vi4lfxfEe6SUsew-sDdoA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vi4kfxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_2vi4k_xfEe6SUsew-sDdoA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_2viRkvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2viRk_xfEe6SUsew-sDdoA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_2viRk_xfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2viRkvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vi4kPxfEe6SUsew-sDdoA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_2vi4kPxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2viRk_xfEe6SUsew-sDdoA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_2vi4lfxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vi4lPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vi4lvxfEe6SUsew-sDdoA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2vi4lvxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vi4lfxfEe6SUsew-sDdoA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vi4nfxfEe6SUsew-sDdoA">
                      <branchBehaviour_BranchTransition id="_2vi4n_xfEe6SUsew-sDdoA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2vi4mvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vi4m_xfEe6SUsew-sDdoA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_2vi4m_xfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vi4mvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vi4nPxfEe6SUsew-sDdoA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2vi4nPxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vi4m_xfEe6SUsew-sDdoA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vjfofxfEe6SUsew-sDdoA">
                      <branchBehaviour_BranchTransition id="_2vjfo_xfEe6SUsew-sDdoA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2vi4oPxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vi4ofxfEe6SUsew-sDdoA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_2vi4ofxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vi4oPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfoPxfEe6SUsew-sDdoA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2vjfoPxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vi4ofxfEe6SUsew-sDdoA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vjfpfxfEe6SUsew-sDdoA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_2vjfpPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfpvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vjfpvxfEe6SUsew-sDdoA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_2vjfpfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfp_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vjfp_xfEe6SUsew-sDdoA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_2vjfpvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfqPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vjfqPxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vjfp_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfqfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vjfqfxfEe6SUsew-sDdoA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2vjfqPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfqvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vjfqvxfEe6SUsew-sDdoA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_2vjfqfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfq_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vjfq_xfEe6SUsew-sDdoA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_2vjfqvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfrPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2vjfrPxfEe6SUsew-sDdoA" entityName="deferredResult" predecessor_AbstractAction="_2vjfq_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vjfrfxfEe6SUsew-sDdoA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vjfrfxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vjfrPxfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2vkGsfxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vkGsPxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2vkGtvxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vkGtfxfEe6SUsew-sDdoA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_2wX_DfxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_2wX_D_xfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wX_DvxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_2wIuefxfEe6SUsew-sDdoA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2vf1Q_xfEe6SUsew-sDdoA" describedService__SEFF="_2psIMfxfEe6SUsew-sDdoA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2veAEfxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2veAGPxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2veAGPxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2veAEfxfEe6SUsew-sDdoA" successor_AbstractAction="_2veAGfxfEe6SUsew-sDdoA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2veAFfxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2veAF_xfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2veAEvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2veAE_xfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2veAE_xfEe6SUsew-sDdoA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_2veAEvxfEe6SUsew-sDdoA" successor_AbstractAction="_2veAFPxfEe6SUsew-sDdoA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2veAFPxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2veAE_xfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2veAGfxfEe6SUsew-sDdoA" entityName="stopWatch.start()" predecessor_AbstractAction="_2veAGPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vf1QfxfEe6SUsew-sDdoA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2vf1QfxfEe6SUsew-sDdoA" entityName="Switch Branch" predecessor_AbstractAction="_2veAGfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vf1QvxfEe6SUsew-sDdoA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2venLPxfEe6SUsew-sDdoA">
          <branchBehaviour_BranchTransition id="_2venLvxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2veAGvxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2veAG_xfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2veAG_xfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2veAGvxfEe6SUsew-sDdoA" successor_AbstractAction="_2veAHPxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2veAHPxfEe6SUsew-sDdoA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2veAG_xfEe6SUsew-sDdoA" successor_AbstractAction="_2veAHfxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2veAHfxfEe6SUsew-sDdoA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_2veAHPxfEe6SUsew-sDdoA" successor_AbstractAction="_2veAHvxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2veAHvxfEe6SUsew-sDdoA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_2veAHfxfEe6SUsew-sDdoA" successor_AbstractAction="_2veAH_xfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2veAH_xfEe6SUsew-sDdoA" entityName="deferredResult" predecessor_AbstractAction="_2veAHvxfEe6SUsew-sDdoA" successor_AbstractAction="_2venKPxfEe6SUsew-sDdoA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2venKPxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2veAH_xfEe6SUsew-sDdoA" successor_AbstractAction="_2venKfxfEe6SUsew-sDdoA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2venJfxfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2venJ_xfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2veAIPxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2veAIfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2veAIfxfEe6SUsew-sDdoA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_2veAIPxfEe6SUsew-sDdoA" successor_AbstractAction="_2veAIvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2veAIvxfEe6SUsew-sDdoA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_2veAIfxfEe6SUsew-sDdoA" successor_AbstractAction="_2veAI_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2veAI_xfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2veAIvxfEe6SUsew-sDdoA" successor_AbstractAction="_2venIPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2venIPxfEe6SUsew-sDdoA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2veAI_xfEe6SUsew-sDdoA" successor_AbstractAction="_2venIfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2venIfxfEe6SUsew-sDdoA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_2venIPxfEe6SUsew-sDdoA" successor_AbstractAction="_2venIvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2venIvxfEe6SUsew-sDdoA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_2venIfxfEe6SUsew-sDdoA" successor_AbstractAction="_2venI_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2venI_xfEe6SUsew-sDdoA" entityName="deferredResult" predecessor_AbstractAction="_2venIvxfEe6SUsew-sDdoA" successor_AbstractAction="_2venJPxfEe6SUsew-sDdoA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2venJPxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2venI_xfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2venKfxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2venKPxfEe6SUsew-sDdoA" successor_AbstractAction="_2venKvxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2venKvxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2venKfxfEe6SUsew-sDdoA" successor_AbstractAction="_2venK_xfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2venK_xfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2venKvxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vfOPvxfEe6SUsew-sDdoA">
          <branchBehaviour_BranchTransition id="_2vfOQPxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2venL_xfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vfOOvxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2vfOOvxfEe6SUsew-sDdoA" entityName="If Branch" predecessor_AbstractAction="_2venL_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vfOO_xfEe6SUsew-sDdoA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vfON_xfEe6SUsew-sDdoA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2vfOOfxfEe6SUsew-sDdoA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2venMPxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2venMfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2venMfxfEe6SUsew-sDdoA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_2venMPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vfOMPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vfOMPxfEe6SUsew-sDdoA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_2venMfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vfOMfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vfOMfxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vfOMPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vfOMvxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vfOMvxfEe6SUsew-sDdoA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2vfOMfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vfOM_xfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vfOM_xfEe6SUsew-sDdoA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_2vfOMvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vfONPxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2vfONPxfEe6SUsew-sDdoA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_2vfOM_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vfONfxfEe6SUsew-sDdoA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2vfONfxfEe6SUsew-sDdoA" entityName="deferredResult" predecessor_AbstractAction="_2vfONPxfEe6SUsew-sDdoA" successor_AbstractAction="_2vfONvxfEe6SUsew-sDdoA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2vfONvxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vfONfxfEe6SUsew-sDdoA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2vfOO_xfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vfOOvxfEe6SUsew-sDdoA" successor_AbstractAction="_2vfOPPxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2vfOPPxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vfOO_xfEe6SUsew-sDdoA" successor_AbstractAction="_2vfOPfxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2vfOPfxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vfOPPxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2vfORPxfEe6SUsew-sDdoA">
          <branchBehaviour_BranchTransition id="_2vf1QPxfEe6SUsew-sDdoA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2vfOQfxfEe6SUsew-sDdoA" entityName="Start Action" successor_AbstractAction="_2vfOQvxfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2vfOQvxfEe6SUsew-sDdoA" entityName="stopWatch.stop()" predecessor_AbstractAction="_2vfOQfxfEe6SUsew-sDdoA" successor_AbstractAction="_2vfOQ_xfEe6SUsew-sDdoA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2vfOQ_xfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vfOQvxfEe6SUsew-sDdoA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2vf1QvxfEe6SUsew-sDdoA" entityName="Stop Action" predecessor_AbstractAction="_2vf1QfxfEe6SUsew-sDdoA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2wbpYfxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_2wcQc_xfEe6SUsew-sDdoA" encapsulatedComponent__AssemblyContext="_2wJVg_xfEe6SUsew-sDdoA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2weFofxfEe6SUsew-sDdoA" innerProvidedRole_ProvidedDelegationConnector="_2wJVgvxfEe6SUsew-sDdoA" outerProvidedRole_ProvidedDelegationConnector="_2wbpYPxfEe6SUsew-sDdoA" assemblyContext_ProvidedDelegationConnector="_2wcQc_xfEe6SUsew-sDdoA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wbpYPxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_2wJVgfxfEe6SUsew-sDdoA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2wbpYvxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_2wc3iPxfEe6SUsew-sDdoA" encapsulatedComponent__AssemblyContext="_2wX_DfxfEe6SUsew-sDdoA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2wbpZPxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_2wc3gPxfEe6SUsew-sDdoA" encapsulatedComponent__AssemblyContext="_2wWJ3fxfEe6SUsew-sDdoA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2wdekvxfEe6SUsew-sDdoA" innerProvidedRole_ProvidedDelegationConnector="_2wWJ3PxfEe6SUsew-sDdoA" outerProvidedRole_ProvidedDelegationConnector="_2wbpY_xfEe6SUsew-sDdoA" assemblyContext_ProvidedDelegationConnector="_2wc3gPxfEe6SUsew-sDdoA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wbpY_xfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_2wIue_xfEe6SUsew-sDdoA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2wbpZ_xfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_2wc3hPxfEe6SUsew-sDdoA" encapsulatedComponent__AssemblyContext="_2wR4bfxfEe6SUsew-sDdoA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2weFoPxfEe6SUsew-sDdoA" innerProvidedRole_ProvidedDelegationConnector="_2wR4bPxfEe6SUsew-sDdoA" outerProvidedRole_ProvidedDelegationConnector="_2wbpZvxfEe6SUsew-sDdoA" assemblyContext_ProvidedDelegationConnector="_2wc3hPxfEe6SUsew-sDdoA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2weFovxfEe6SUsew-sDdoA" innerProvidedRole_ProvidedDelegationConnector="_2wR4a_xfEe6SUsew-sDdoA" outerProvidedRole_ProvidedDelegationConnector="_2wbpZfxfEe6SUsew-sDdoA" assemblyContext_ProvidedDelegationConnector="_2wc3hPxfEe6SUsew-sDdoA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wbpZfxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_2wIufPxfEe6SUsew-sDdoA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wbpZvxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_2wJVgPxfEe6SUsew-sDdoA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2wcQcPxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_2wc3gvxfEe6SUsew-sDdoA" encapsulatedComponent__AssemblyContext="_2wLxyfxfEe6SUsew-sDdoA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2wdekfxfEe6SUsew-sDdoA" innerProvidedRole_ProvidedDelegationConnector="_2wLxyPxfEe6SUsew-sDdoA" outerProvidedRole_ProvidedDelegationConnector="_2wbpaPxfEe6SUsew-sDdoA" assemblyContext_ProvidedDelegationConnector="_2wc3gvxfEe6SUsew-sDdoA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wbpaPxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_2wIuevxfEe6SUsew-sDdoA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2wcQcvxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_2wc3hvxfEe6SUsew-sDdoA" encapsulatedComponent__AssemblyContext="_2wX_D_xfEe6SUsew-sDdoA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2wdekPxfEe6SUsew-sDdoA" innerProvidedRole_ProvidedDelegationConnector="_2wX_DvxfEe6SUsew-sDdoA" outerProvidedRole_ProvidedDelegationConnector="_2wcQcfxfEe6SUsew-sDdoA" assemblyContext_ProvidedDelegationConnector="_2wc3hvxfEe6SUsew-sDdoA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2wcQcfxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_2wIuefxfEe6SUsew-sDdoA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2wIuefxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_2psIMfxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_2o428PxfEe6SUsew-sDdoA">
      <parameters__OperationSignature dataType__Parameter="_2psIMPxfEe6SUsew-sDdoA" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2wIuevxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_2o5eAPxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_2o428PxfEe6SUsew-sDdoA">
      <parameters__OperationSignature dataType__Parameter="_2o3o0PxfEe6SUsew-sDdoA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2wIue_xfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_2ptWUPxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_2o428PxfEe6SUsew-sDdoA">
      <parameters__OperationSignature dataType__Parameter="_2o3o0PxfEe6SUsew-sDdoA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2wIufPxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_2ptWVPxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_2psvRPxfEe6SUsew-sDdoA">
      <parameters__OperationSignature dataType__Parameter="_2ptWU_xfEe6SUsew-sDdoA" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2wJVgPxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_2psvRfxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_2psvRPxfEe6SUsew-sDdoA">
      <parameters__OperationSignature dataType__Parameter="_2psvQvxfEe6SUsew-sDdoA" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_2psvQ_xfEe6SUsew-sDdoA" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2wJVgfxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_2pt9YfxfEe6SUsew-sDdoA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_2psvRPxfEe6SUsew-sDdoA">
      <parameters__OperationSignature dataType__Parameter="_2o3o0PxfEe6SUsew-sDdoA" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2o3o0PxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2o428PxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2psIMPxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2psvQvxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2psvQ_xfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2psvRPxfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2ptWU_xfEe6SUsew-sDdoA" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
