<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_3tFGMtLnEe-bsbPtoaNcrA">
  <components__Repository xsi:type="repository:BasicComponent" id="_3s0AdtLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_3s0AeNLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3s0Ad9LnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_3s0AddLnEe-bsbPtoaNcrA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3sFAo9LnEe-bsbPtoaNcrA" describedService__SEFF="_3mA04dLnEe-bsbPtoaNcrA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3mfWAtLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sBWQdLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3sBWQdLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3mfWAtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sCkYNLnEe-bsbPtoaNcrA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sAvMNLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3sBWQNLnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3mhyQNLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sAIINLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sAIINLnEe-bsbPtoaNcrA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_3mhyQNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sAIIdLnEe-bsbPtoaNcrA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sAIIdLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sAIINLnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3sCkYNLnEe-bsbPtoaNcrA" entityName="stopWatch.start()" predecessor_AbstractAction="_3sBWQdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sFAodLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3sFAodLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sCkYNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sFAotLnEe-bsbPtoaNcrA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sEZmtLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3sFAoNLnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sCkYdLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sEZmNLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3sEZmNLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sCkYdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sEZmdLnEe-bsbPtoaNcrA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sEZldLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3sEZl9LnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sCkYtLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sDyi9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_3sDyi9LnEe-bsbPtoaNcrA" entityName="Switch Branch" predecessor_AbstractAction="_3sCkYtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sDyjNLnEe-bsbPtoaNcrA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sDLetLnEe-bsbPtoaNcrA">
                      <branchBehaviour_BranchTransition id="_3sDLfNLnEe-bsbPtoaNcrA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3sDLcNLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sDLd9LnEe-bsbPtoaNcrA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_3sDLd9LnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sDLcNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sDLeNLnEe-bsbPtoaNcrA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sDLdNLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_3sDLdtLnEe-bsbPtoaNcrA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_3sDLcdLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sDLctLnEe-bsbPtoaNcrA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_3sDLctLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sDLcdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sDLc9LnEe-bsbPtoaNcrA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_3sDLc9LnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sDLctLnEe-bsbPtoaNcrA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_3sDLeNLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sDLd9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sDLedLnEe-bsbPtoaNcrA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3sDLedLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sDLeNLnEe-bsbPtoaNcrA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sDygtLnEe-bsbPtoaNcrA">
                      <branchBehaviour_BranchTransition id="_3sDyhNLnEe-bsbPtoaNcrA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3sDLfdLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sDygNLnEe-bsbPtoaNcrA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_3sDygNLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sDLfdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sDygdLnEe-bsbPtoaNcrA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3sDygdLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sDygNLnEe-bsbPtoaNcrA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sDyiNLnEe-bsbPtoaNcrA">
                      <branchBehaviour_BranchTransition id="_3sDyitLnEe-bsbPtoaNcrA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3sDyhdLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sDyhtLnEe-bsbPtoaNcrA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_3sDyhtLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sDyhdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sDyh9LnEe-bsbPtoaNcrA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3sDyh9LnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sDyhtLnEe-bsbPtoaNcrA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sDyjNLnEe-bsbPtoaNcrA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_3sDyi9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sDyjdLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sDyjdLnEe-bsbPtoaNcrA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_3sDyjNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sDyjtLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sDyjtLnEe-bsbPtoaNcrA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_3sDyjdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sDyj9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sDyj9LnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sDyjtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sEZkNLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sEZkNLnEe-bsbPtoaNcrA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3sDyj9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sEZkdLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sEZkdLnEe-bsbPtoaNcrA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_3sEZkNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sEZktLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sEZktLnEe-bsbPtoaNcrA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_3sEZkdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sEZk9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sEZk9LnEe-bsbPtoaNcrA" entityName="deferredResult" predecessor_AbstractAction="_3sEZktLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sEZlNLnEe-bsbPtoaNcrA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sEZlNLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sEZk9LnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sEZmdLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sEZmNLnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3sFAotLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sFAodLnEe-bsbPtoaNcrA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_3s3q0dLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3s3q0NLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_3s0ActLnEe-bsbPtoaNcrA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3sIrE9LnEe-bsbPtoaNcrA" describedService__SEFF="_3lOxwNLnEe-bsbPtoaNcrA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3sHc89LnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sIrENLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3sIrENLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sHc89LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sIrEdLnEe-bsbPtoaNcrA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sIrDdLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3sIrD9LnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sID8NLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sIrC9LnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3sIrC9LnEe-bsbPtoaNcrA" entityName="Switch Branch" predecessor_AbstractAction="_3sID8NLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sIrDNLnEe-bsbPtoaNcrA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sIEA9LnEe-bsbPtoaNcrA">
                <branchBehaviour_BranchTransition id="_3sIEBdLnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sID8dLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sID_dLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_3sID_dLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sID8dLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sID_tLnEe-bsbPtoaNcrA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sID-tLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_3sID_NLnEe-bsbPtoaNcrA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3sID8tLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sID-NLnEe-bsbPtoaNcrA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_3sID-NLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sID8tLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sID-dLnEe-bsbPtoaNcrA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sID9dLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_3sID99LnEe-bsbPtoaNcrA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_3sID89LnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sID9NLnEe-bsbPtoaNcrA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_3sID9NLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sID89LnEe-bsbPtoaNcrA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3sID-dLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sID-NLnEe-bsbPtoaNcrA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sID_tLnEe-bsbPtoaNcrA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_3sID_dLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sID_9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sID_9LnEe-bsbPtoaNcrA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_3sID_tLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sIEANLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sIEANLnEe-bsbPtoaNcrA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_3sID_9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sIEAdLnEe-bsbPtoaNcrA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sIEAdLnEe-bsbPtoaNcrA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_3sIEANLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sIEAtLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sIEAtLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sIEAdLnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sIrA9LnEe-bsbPtoaNcrA">
                <branchBehaviour_BranchTransition id="_3sIrBdLnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sIrANLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sIrAdLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sIrAdLnEe-bsbPtoaNcrA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_3sIrANLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sIrAtLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sIrAtLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sIrAdLnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sIrCNLnEe-bsbPtoaNcrA">
                <branchBehaviour_BranchTransition id="_3sIrCtLnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sIrBtLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sIrB9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sIrB9LnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sIrBtLnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sIrDNLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sIrC9LnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3sIrEdLnEe-bsbPtoaNcrA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_3sIrENLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sIrEtLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3sIrEtLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sIrEdLnEe-bsbPtoaNcrA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_3s6HEtLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3s6HENLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_3s0Ac9LnEe-bsbPtoaNcrA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3s6HEdLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_3s0AcNLnEe-bsbPtoaNcrA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3sM8ddLnEe-bsbPtoaNcrA" describedService__SEFF="_3mCqEdLnEe-bsbPtoaNcrA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3sLuVdLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sMVZtLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3sMVZtLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sLuVdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sM8c9LnEe-bsbPtoaNcrA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sLuWdLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3sLuW9LnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sLuVtLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sLuV9LnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sLuV9LnEe-bsbPtoaNcrA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_3sLuVtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sLuWNLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sLuWNLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sLuV9LnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sMVY9LnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3sMVZdLnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sMVYNLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sMVYdLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sMVYdLnEe-bsbPtoaNcrA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_3sMVYNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sMVYtLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sMVYtLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sMVYdLnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3sM8c9LnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sMVZtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sM8dNLnEe-bsbPtoaNcrA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sM8cNLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3sM8ctLnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sMVZ9LnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sMVdNLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3sMVdNLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sMVZ9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sMVddLnEe-bsbPtoaNcrA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sMVbNLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3sMVbtLnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sMVaNLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sMVadLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sMVadLnEe-bsbPtoaNcrA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_3sMVaNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sMVatLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sMVatLnEe-bsbPtoaNcrA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_3sMVadLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sMVa9LnEe-bsbPtoaNcrA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sMVa9LnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sMVatLnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sMVcdLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3sMVc9LnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sMVb9LnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sMVcNLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sMVcNLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sMVb9LnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sMVddLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sMVdNLnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3sM8dNLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sM8c9LnEe-bsbPtoaNcrA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3sLuU9LnEe-bsbPtoaNcrA" describedService__SEFF="_3mBb89LnEe-bsbPtoaNcrA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3sLuUNLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sLuUdLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sLuUdLnEe-bsbPtoaNcrA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_3sLuUNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sLuUtLnEe-bsbPtoaNcrA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3sLuUtLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sLuUdLnEe-bsbPtoaNcrA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_3s-YgdLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3s-YgNLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_3s0AdNLnEe-bsbPtoaNcrA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3sLHT9LnEe-bsbPtoaNcrA" describedService__SEFF="_3mCDAdLnEe-bsbPtoaNcrA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3sJSEdLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sJSGNLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3sJSGNLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sJSEdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJSGdLnEe-bsbPtoaNcrA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sJSFdLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3sJSF9LnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sJSEtLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sJSE9LnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sJSE9LnEe-bsbPtoaNcrA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_3sJSEtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJSFNLnEe-bsbPtoaNcrA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sJSFNLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sJSE9LnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJSGdLnEe-bsbPtoaNcrA" entityName="stopWatch.start()" predecessor_AbstractAction="_3sJSGNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sLHTdLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3sLHTdLnEe-bsbPtoaNcrA" entityName="Switch Branch" predecessor_AbstractAction="_3sJSGdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sLHTtLnEe-bsbPtoaNcrA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sKgMtLnEe-bsbPtoaNcrA">
          <branchBehaviour_BranchTransition id="_3sKgNNLnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sJSGtLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sJSG9LnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJSG9LnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sJSGtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJSHNLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJSHNLnEe-bsbPtoaNcrA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3sJSG9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJSHdLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJSHdLnEe-bsbPtoaNcrA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_3sJSHNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJSHtLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJSHtLnEe-bsbPtoaNcrA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_3sJSHdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJSH9LnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sJSH9LnEe-bsbPtoaNcrA" entityName="deferredResult" predecessor_AbstractAction="_3sJSHtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJ5LNLnEe-bsbPtoaNcrA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3sJ5LNLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sJSH9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJ5LdLnEe-bsbPtoaNcrA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sJ5KdLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3sJ5K9LnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sJ5INLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sJ5IdLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJ5IdLnEe-bsbPtoaNcrA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_3sJ5INLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJ5ItLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJ5ItLnEe-bsbPtoaNcrA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_3sJ5IdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJ5I9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJ5I9LnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sJ5ItLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJ5JNLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJ5JNLnEe-bsbPtoaNcrA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3sJ5I9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJ5JdLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJ5JdLnEe-bsbPtoaNcrA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_3sJ5JNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJ5JtLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJ5JtLnEe-bsbPtoaNcrA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_3sJ5JdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJ5J9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sJ5J9LnEe-bsbPtoaNcrA" entityName="deferredResult" predecessor_AbstractAction="_3sJ5JtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sJ5KNLnEe-bsbPtoaNcrA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sJ5KNLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sJ5J9LnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sJ5LdLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sJ5LNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sKgMNLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sKgMNLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sJ5LdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sKgMdLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sKgMdLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sKgMNLnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sLHRNLnEe-bsbPtoaNcrA">
          <branchBehaviour_BranchTransition id="_3sLHRtLnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sKgNdLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sLHQNLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3sLHQNLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sKgNdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sLHQdLnEe-bsbPtoaNcrA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sKgP9LnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_3sKgQdLnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sKgNtLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sKgN9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sKgN9LnEe-bsbPtoaNcrA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_3sKgNtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sKgONLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sKgONLnEe-bsbPtoaNcrA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_3sKgN9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sKgOdLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sKgOdLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sKgONLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sKgOtLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sKgOtLnEe-bsbPtoaNcrA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3sKgOdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sKgO9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sKgO9LnEe-bsbPtoaNcrA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_3sKgOtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sKgPNLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sKgPNLnEe-bsbPtoaNcrA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_3sKgO9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sKgPdLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sKgPdLnEe-bsbPtoaNcrA" entityName="deferredResult" predecessor_AbstractAction="_3sKgPNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sKgPtLnEe-bsbPtoaNcrA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sKgPtLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sKgPdLnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sLHQdLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sLHQNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sLHQtLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sLHQtLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sLHQdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sLHQ9LnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sLHQ9LnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sLHQtLnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sLHStLnEe-bsbPtoaNcrA">
          <branchBehaviour_BranchTransition id="_3sLHTNLnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sLHR9LnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sLHSNLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_3sLHSNLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sLHR9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sLHSdLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sLHSdLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sLHSNLnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3sLHTtLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sLHTdLnEe-bsbPtoaNcrA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_3tANvNLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3tANu9LnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_3s0AcdLnEe-bsbPtoaNcrA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_3sHc8dLnEe-bsbPtoaNcrA" describedService__SEFF="_3mCqFNLnEe-bsbPtoaNcrA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_3sFApdLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sFnsNLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3sFnsNLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sFApdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sFnsdLnEe-bsbPtoaNcrA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sFAqdLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3sFAq9LnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sFAptLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sFAp9LnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sFAp9LnEe-bsbPtoaNcrA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_3sFAptLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sFAqNLnEe-bsbPtoaNcrA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sFAqNLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sFAp9LnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3sFnsdLnEe-bsbPtoaNcrA" entityName="stopWatch.start()" predecessor_AbstractAction="_3sFnsNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sHc7tLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_3sHc7tLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sFnsdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sHc79LnEe-bsbPtoaNcrA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sHc69LnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_3sHc7dLnEe-bsbPtoaNcrA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_3sFnstLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sHc6dLnEe-bsbPtoaNcrA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_3sHc6dLnEe-bsbPtoaNcrA" entityName="Switch Branch" predecessor_AbstractAction="_3sFnstLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sHc6tLnEe-bsbPtoaNcrA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sG10NLnEe-bsbPtoaNcrA">
                <branchBehaviour_BranchTransition id="_3sG10tLnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sFns9LnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sFntNLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sFntNLnEe-bsbPtoaNcrA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_3sFns9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sFnwNLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_3sFnwNLnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sFntNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sFnwdLnEe-bsbPtoaNcrA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sFnvdLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_3sFnv9LnEe-bsbPtoaNcrA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_3sFntdLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sFnu9LnEe-bsbPtoaNcrA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_3sFnu9LnEe-bsbPtoaNcrA" entityName="If Branch" predecessor_AbstractAction="_3sFntdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sFnvNLnEe-bsbPtoaNcrA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sFnuNLnEe-bsbPtoaNcrA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_3sFnutLnEe-bsbPtoaNcrA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_3sFnttLnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sFnt9LnEe-bsbPtoaNcrA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_3sFnt9LnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sFnttLnEe-bsbPtoaNcrA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_3sFnvNLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sFnu9LnEe-bsbPtoaNcrA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sFnwdLnEe-bsbPtoaNcrA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_3sFnwNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOwNLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sGOwNLnEe-bsbPtoaNcrA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_3sFnwdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOwdLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sGOwdLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sGOwNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOwtLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sGOwtLnEe-bsbPtoaNcrA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3sGOwdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOw9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sGOw9LnEe-bsbPtoaNcrA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_3sGOwtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOxNLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sGOxNLnEe-bsbPtoaNcrA" entityName="deferredResult" predecessor_AbstractAction="_3sGOw9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOxdLnEe-bsbPtoaNcrA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sGOxdLnEe-bsbPtoaNcrA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_3sGOxNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOxtLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sGOxtLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sGOxdLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOx9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sGOx9LnEe-bsbPtoaNcrA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3sGOxtLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOyNLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sGOyNLnEe-bsbPtoaNcrA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_3sGOx9LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOydLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sGOydLnEe-bsbPtoaNcrA" entityName="deferredResult" predecessor_AbstractAction="_3sGOyNLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOytLnEe-bsbPtoaNcrA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sGOytLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sGOydLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sGOy9LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sGOy9LnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sGOytLnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sHc4NLnEe-bsbPtoaNcrA">
                <branchBehaviour_BranchTransition id="_3sHc4tLnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sG109LnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sG11NLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sG11NLnEe-bsbPtoaNcrA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_3sG109LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sG11dLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sG11dLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sG11NLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sG11tLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sG11tLnEe-bsbPtoaNcrA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_3sG11dLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sG119LnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sG119LnEe-bsbPtoaNcrA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_3sG11tLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sG12NLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_3sG12NLnEe-bsbPtoaNcrA" entityName="deferredResult" predecessor_AbstractAction="_3sG119LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sG12dLnEe-bsbPtoaNcrA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sG12dLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sG12NLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sG12tLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sG12tLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sG12dLnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_3sHc5tLnEe-bsbPtoaNcrA">
                <branchBehaviour_BranchTransition id="_3sHc6NLnEe-bsbPtoaNcrA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_3sHc49LnEe-bsbPtoaNcrA" entityName="Start Action" successor_AbstractAction="_3sHc5NLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_3sHc5NLnEe-bsbPtoaNcrA" entityName="stopWatch.stop()" predecessor_AbstractAction="_3sHc49LnEe-bsbPtoaNcrA" successor_AbstractAction="_3sHc5dLnEe-bsbPtoaNcrA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_3sHc5dLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sHc5NLnEe-bsbPtoaNcrA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_3sHc6tLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sHc6dLnEe-bsbPtoaNcrA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_3sHc79LnEe-bsbPtoaNcrA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_3sHc7tLnEe-bsbPtoaNcrA" successor_AbstractAction="_3sHc8NLnEe-bsbPtoaNcrA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_3sHc8NLnEe-bsbPtoaNcrA" entityName="Stop Action" predecessor_AbstractAction="_3sHc79LnEe-bsbPtoaNcrA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3tD4ENLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_3tEfKNLnEe-bsbPtoaNcrA" encapsulatedComponent__AssemblyContext="_3s0AdtLnEe-bsbPtoaNcrA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3tD4E9LnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_3tEfItLnEe-bsbPtoaNcrA" encapsulatedComponent__AssemblyContext="_3s6HEtLnEe-bsbPtoaNcrA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3tFtQdLnEe-bsbPtoaNcrA" innerProvidedRole_ProvidedDelegationConnector="_3s6HENLnEe-bsbPtoaNcrA" outerProvidedRole_ProvidedDelegationConnector="_3tD4EdLnEe-bsbPtoaNcrA" assemblyContext_ProvidedDelegationConnector="_3tEfItLnEe-bsbPtoaNcrA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3tFtQ9LnEe-bsbPtoaNcrA" innerProvidedRole_ProvidedDelegationConnector="_3s6HEdLnEe-bsbPtoaNcrA" outerProvidedRole_ProvidedDelegationConnector="_3tD4EtLnEe-bsbPtoaNcrA" assemblyContext_ProvidedDelegationConnector="_3tEfItLnEe-bsbPtoaNcrA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3tD4EdLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_3s0Ac9LnEe-bsbPtoaNcrA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3tD4EtLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_3s0AcNLnEe-bsbPtoaNcrA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3tD4FdLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_3tEfINLnEe-bsbPtoaNcrA" encapsulatedComponent__AssemblyContext="_3tANvNLnEe-bsbPtoaNcrA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3tFtQtLnEe-bsbPtoaNcrA" innerProvidedRole_ProvidedDelegationConnector="_3tANu9LnEe-bsbPtoaNcrA" outerProvidedRole_ProvidedDelegationConnector="_3tD4FNLnEe-bsbPtoaNcrA" assemblyContext_ProvidedDelegationConnector="_3tEfINLnEe-bsbPtoaNcrA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3tD4FNLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_3s0AcdLnEe-bsbPtoaNcrA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3tD4F9LnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_3tEfJtLnEe-bsbPtoaNcrA" encapsulatedComponent__AssemblyContext="_3s3q0dLnEe-bsbPtoaNcrA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3tFtRNLnEe-bsbPtoaNcrA" innerProvidedRole_ProvidedDelegationConnector="_3s3q0NLnEe-bsbPtoaNcrA" outerProvidedRole_ProvidedDelegationConnector="_3tD4FtLnEe-bsbPtoaNcrA" assemblyContext_ProvidedDelegationConnector="_3tEfJtLnEe-bsbPtoaNcrA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3tD4FtLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_3s0ActLnEe-bsbPtoaNcrA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3tD4GdLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_3tEfJNLnEe-bsbPtoaNcrA" encapsulatedComponent__AssemblyContext="_3s-YgdLnEe-bsbPtoaNcrA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3tFtRdLnEe-bsbPtoaNcrA" innerProvidedRole_ProvidedDelegationConnector="_3s-YgNLnEe-bsbPtoaNcrA" outerProvidedRole_ProvidedDelegationConnector="_3tD4GNLnEe-bsbPtoaNcrA" assemblyContext_ProvidedDelegationConnector="_3tEfJNLnEe-bsbPtoaNcrA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3tD4GNLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_3s0AdNLnEe-bsbPtoaNcrA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_3tD4G9LnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_3tFGMNLnEe-bsbPtoaNcrA" encapsulatedComponent__AssemblyContext="_3s0AeNLnEe-bsbPtoaNcrA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_3tFtQNLnEe-bsbPtoaNcrA" innerProvidedRole_ProvidedDelegationConnector="_3s0Ad9LnEe-bsbPtoaNcrA" outerProvidedRole_ProvidedDelegationConnector="_3tD4GtLnEe-bsbPtoaNcrA" assemblyContext_ProvidedDelegationConnector="_3tFGMNLnEe-bsbPtoaNcrA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_3tD4GtLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_3s0AddLnEe-bsbPtoaNcrA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3s0AcNLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_3mBb89LnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_3lOKsNLnEe-bsbPtoaNcrA">
      <parameters__OperationSignature dataType__Parameter="_3mBb8tLnEe-bsbPtoaNcrA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3s0AcdLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_3mCqFNLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_3mA04NLnEe-bsbPtoaNcrA">
      <parameters__OperationSignature dataType__Parameter="_3lM8kNLnEe-bsbPtoaNcrA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3s0ActLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_3lOxwNLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_3lOKsNLnEe-bsbPtoaNcrA">
      <parameters__OperationSignature dataType__Parameter="_3lM8kNLnEe-bsbPtoaNcrA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3s0Ac9LnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_3mCqEdLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_3lOKsNLnEe-bsbPtoaNcrA">
      <parameters__OperationSignature dataType__Parameter="_3mCDBNLnEe-bsbPtoaNcrA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_3mCqENLnEe-bsbPtoaNcrA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3s0AdNLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_3mCDAdLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_3mA04NLnEe-bsbPtoaNcrA">
      <parameters__OperationSignature dataType__Parameter="_3mCDANLnEe-bsbPtoaNcrA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_3s0AddLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_3mA04dLnEe-bsbPtoaNcrA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_3mA04NLnEe-bsbPtoaNcrA">
      <parameters__OperationSignature dataType__Parameter="_3lM8kNLnEe-bsbPtoaNcrA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3lM8kNLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3lOKsNLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3mA04NLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3mBb8tLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3mCDANLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3mCDBNLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3mCqENLnEe-bsbPtoaNcrA" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
