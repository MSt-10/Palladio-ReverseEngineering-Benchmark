<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_WTSbrNXeEe6YrvJhqo27Pg">
  <components__Repository xsi:type="repository:BasicComponent" id="_WTAu0NXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTAHydXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_WTAHxdXeEe6YrvJhqo27Pg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WSX1rtXeEe6YrvJhqo27Pg" describedService__SEFF="_WLIlMNXeEe6YrvJhqo27Pg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WSVZcNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSWAdtXeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WSWAdtXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSVZcNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWAd9XeEe6YrvJhqo27Pg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSWAc9XeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WSWAddXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSWAcNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSWAcdXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSWAcdXeEe6YrvJhqo27Pg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_WSWAcNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWActXeEe6YrvJhqo27Pg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSWActXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSWAcdXeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWAd9XeEe6YrvJhqo27Pg" entityName="stopWatch.start()" predecessor_AbstractAction="_WSWAdtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSX1rNXeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WSX1rNXeEe6YrvJhqo27Pg" entityName="Switch Branch" predecessor_AbstractAction="_WSWAd9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSX1rdXeEe6YrvJhqo27Pg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSWnjdXeEe6YrvJhqo27Pg">
          <branchBehaviour_BranchTransition id="_WSXOkNXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSWAeNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSWAedXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWAedXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSWAeNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWAetXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWAetXeEe6YrvJhqo27Pg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WSWAedXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWAe9XeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWAe9XeEe6YrvJhqo27Pg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_WSWAetXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWAfNXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWAfNXeEe6YrvJhqo27Pg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_WSWAe9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWAfdXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSWAfdXeEe6YrvJhqo27Pg" entityName="deferredResult" predecessor_AbstractAction="_WSWAfNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWnidXeEe6YrvJhqo27Pg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WSWnidXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSWAfdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWnitXeEe6YrvJhqo27Pg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSWnhtXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WSWniNXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSWAftXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSWAf9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWAf9XeEe6YrvJhqo27Pg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_WSWAftXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWAgNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWAgNXeEe6YrvJhqo27Pg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_WSWAf9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWngNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWngNXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSWAgNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWngdXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWngdXeEe6YrvJhqo27Pg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WSWngNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWngtXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWngtXeEe6YrvJhqo27Pg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_WSWngdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWng9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWng9XeEe6YrvJhqo27Pg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_WSWngtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWnhNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSWnhNXeEe6YrvJhqo27Pg" entityName="deferredResult" predecessor_AbstractAction="_WSWng9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWnhdXeEe6YrvJhqo27Pg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSWnhdXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSWnhNXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWnitXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSWnidXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWni9XeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSWni9XeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSWnitXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSWnjNXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSWnjNXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSWni9XeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSX1o9XeEe6YrvJhqo27Pg">
          <branchBehaviour_BranchTransition id="_WSX1pdXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSXOkdXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSXOntXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WSXOntXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSXOkdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSX1oNXeEe6YrvJhqo27Pg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSXOm9XeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WSXOndXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSXOktXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSXOk9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSXOk9XeEe6YrvJhqo27Pg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_WSXOktXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSXOlNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSXOlNXeEe6YrvJhqo27Pg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_WSXOk9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSXOldXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSXOldXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSXOlNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSXOltXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSXOltXeEe6YrvJhqo27Pg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WSXOldXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSXOl9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSXOl9XeEe6YrvJhqo27Pg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_WSXOltXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSXOmNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSXOmNXeEe6YrvJhqo27Pg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_WSXOl9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSXOmdXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSXOmdXeEe6YrvJhqo27Pg" entityName="deferredResult" predecessor_AbstractAction="_WSXOmNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSXOmtXeEe6YrvJhqo27Pg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSXOmtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSXOmdXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSX1oNXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSXOntXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSX1odXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSX1odXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSX1oNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSX1otXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSX1otXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSX1odXeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSX1qdXeEe6YrvJhqo27Pg">
          <branchBehaviour_BranchTransition id="_WSX1q9XeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSX1ptXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSX1p9XeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSX1p9XeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSX1ptXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSX1qNXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSX1qNXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSX1p9XeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WSX1rdXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSX1rNXeEe6YrvJhqo27Pg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_WTDyKNXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_WTDyKtXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTDyKdXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_WTAHxNXeEe6YrvJhqo27Pg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WSTkRNXeEe6YrvJhqo27Pg" describedService__SEFF="_WL8dgtXeEe6YrvJhqo27Pg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WSRvD9XeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSRvFtXeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WSRvFtXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSRvD9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSSWENXeEe6YrvJhqo27Pg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSRvE9XeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WSRvFdXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSRvENXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSRvEdXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSRvEdXeEe6YrvJhqo27Pg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_WSRvENXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRvEtXeEe6YrvJhqo27Pg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSRvEtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSRvEdXeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WSSWENXeEe6YrvJhqo27Pg" entityName="stopWatch.start()" predecessor_AbstractAction="_WSRvFtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSTkQdXeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WSTkQdXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSSWENXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSTkQtXeEe6YrvJhqo27Pg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSTkPtXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WSTkQNXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSSWEdXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSTkPNXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WSTkPNXeEe6YrvJhqo27Pg" entityName="Switch Branch" predecessor_AbstractAction="_WSSWEdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSTkPdXeEe6YrvJhqo27Pg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSS9J9XeEe6YrvJhqo27Pg">
                <branchBehaviour_BranchTransition id="_WSS9KdXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSSWEtXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSSWE9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSSWE9XeEe6YrvJhqo27Pg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_WSSWEtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSSWH9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_WSSWH9XeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSSWE9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSSWINXeEe6YrvJhqo27Pg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSSWHNXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_WSSWHtXeEe6YrvJhqo27Pg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WSSWFNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSSWGtXeEe6YrvJhqo27Pg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_WSSWGtXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSSWFNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSSWG9XeEe6YrvJhqo27Pg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSSWF9XeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_WSSWGdXeEe6YrvJhqo27Pg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_WSSWFdXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSSWFtXeEe6YrvJhqo27Pg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_WSSWFtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSSWFdXeEe6YrvJhqo27Pg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WSSWG9XeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSSWGtXeEe6YrvJhqo27Pg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSSWINXeEe6YrvJhqo27Pg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_WSSWH9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSSWIdXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSSWIdXeEe6YrvJhqo27Pg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_WSSWINXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSSWItXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSSWItXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSSWIdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSSWI9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSSWI9XeEe6YrvJhqo27Pg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WSSWItXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSSWJNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSSWJNXeEe6YrvJhqo27Pg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_WSSWI9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSSWJdXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSSWJdXeEe6YrvJhqo27Pg" entityName="deferredResult" predecessor_AbstractAction="_WSSWJNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9INXeEe6YrvJhqo27Pg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSS9INXeEe6YrvJhqo27Pg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_WSSWJdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9IdXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSS9IdXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSS9INXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9ItXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSS9ItXeEe6YrvJhqo27Pg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WSS9IdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9I9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSS9I9XeEe6YrvJhqo27Pg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_WSS9ItXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9JNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSS9JNXeEe6YrvJhqo27Pg" entityName="deferredResult" predecessor_AbstractAction="_WSS9I9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9JdXeEe6YrvJhqo27Pg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSS9JdXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSS9JNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9JtXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSS9JtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSS9JdXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSTkM9XeEe6YrvJhqo27Pg">
                <branchBehaviour_BranchTransition id="_WSTkNdXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSS9KtXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSS9K9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSS9K9XeEe6YrvJhqo27Pg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_WSS9KtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9LNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSS9LNXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSS9K9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9LdXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSS9LdXeEe6YrvJhqo27Pg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WSS9LNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSS9LtXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSS9LtXeEe6YrvJhqo27Pg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_WSS9LdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSTkMNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSTkMNXeEe6YrvJhqo27Pg" entityName="deferredResult" predecessor_AbstractAction="_WSS9LtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSTkMdXeEe6YrvJhqo27Pg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSTkMdXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSTkMNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSTkMtXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSTkMtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSTkMdXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSTkOdXeEe6YrvJhqo27Pg">
                <branchBehaviour_BranchTransition id="_WSTkO9XeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSTkNtXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSTkN9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSTkN9XeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSTkNtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSTkONXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSTkONXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSTkN9XeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSTkPdXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSTkPNXeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WSTkQtXeEe6YrvJhqo27Pg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_WSTkQdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSTkQ9XeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WSTkQ9XeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSTkQtXeEe6YrvJhqo27Pg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_WTGObtXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTGObdXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_WTAHyNXeEe6YrvJhqo27Pg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WSRvDdXeEe6YrvJhqo27Pg" describedService__SEFF="_WL9Ek9XeEe6YrvJhqo27Pg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WSP51tXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSRvCtXeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WSRvCtXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSP51tXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRvC9XeEe6YrvJhqo27Pg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSRvB9XeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WSRvCdXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSP519XeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSRvBdXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WSRvBdXeEe6YrvJhqo27Pg" entityName="Switch Branch" predecessor_AbstractAction="_WSP519XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRvBtXeEe6YrvJhqo27Pg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSRH-NXeEe6YrvJhqo27Pg">
                <branchBehaviour_BranchTransition id="_WSRH-tXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSQg4NXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSRH8tXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_WSRH8tXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSQg4NXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRH89XeEe6YrvJhqo27Pg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSQg6dXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_WSRH8dXeEe6YrvJhqo27Pg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WSQg4dXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSQg59XeEe6YrvJhqo27Pg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_WSQg59XeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSQg4dXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSQg6NXeEe6YrvJhqo27Pg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSQg5NXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_WSQg5tXeEe6YrvJhqo27Pg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_WSQg4tXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSQg49XeEe6YrvJhqo27Pg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_WSQg49XeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSQg4tXeEe6YrvJhqo27Pg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WSQg6NXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSQg59XeEe6YrvJhqo27Pg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSRH89XeEe6YrvJhqo27Pg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_WSRH8tXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRH9NXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSRH9NXeEe6YrvJhqo27Pg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_WSRH89XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRH9dXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSRH9dXeEe6YrvJhqo27Pg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_WSRH9NXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRH9tXeEe6YrvJhqo27Pg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSRH9tXeEe6YrvJhqo27Pg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_WSRH9dXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRH99XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSRH99XeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSRH9tXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSRH_tXeEe6YrvJhqo27Pg">
                <branchBehaviour_BranchTransition id="_WSRIANXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSRH-9XeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSRH_NXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSRH_NXeEe6YrvJhqo27Pg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_WSRH-9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRH_dXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSRH_dXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSRH_NXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSRvAtXeEe6YrvJhqo27Pg">
                <branchBehaviour_BranchTransition id="_WSRvBNXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSRvANXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSRvAdXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSRvAdXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSRvANXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSRvBtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSRvBdXeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WSRvC9XeEe6YrvJhqo27Pg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_WSRvCtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSRvDNXeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WSRvDNXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSRvC9XeEe6YrvJhqo27Pg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_WTJRsdXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTIqrdXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_WTAHx9XeEe6YrvJhqo27Pg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTJRsNXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_WTAHxtXeEe6YrvJhqo27Pg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WSPS0dXeEe6YrvJhqo27Pg" describedService__SEFF="_WL72ctXeEe6YrvJhqo27Pg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WMXUQNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSMPcNXeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WSMPcNXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WMXUQNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSPSz9XeEe6YrvJhqo27Pg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WMaXkNXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WMa-oNXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WMZJcNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WMZwgNXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WMZwgNXeEe6YrvJhqo27Pg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_WMZJcNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WMZwgdXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WMZwgdXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WMZwgNXeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSLoY9XeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WSLoZdXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSLoYNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSLoYdXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WSLoYdXeEe6YrvJhqo27Pg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_WSLoYNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSLoYtXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSLoYtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSLoYdXeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WSPSz9XeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSMPcNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSPS0NXeEe6YrvJhqo27Pg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSPSzNXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WSPSztXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSMPcdXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSPSytXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WSPSytXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSMPcdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSPSy9XeEe6YrvJhqo27Pg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSPSwtXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WSPSxNXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSMPctXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSMPc9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSMPc9XeEe6YrvJhqo27Pg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_WSMPctXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSPSwNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSPSwNXeEe6YrvJhqo27Pg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_WSMPc9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSPSwdXeEe6YrvJhqo27Pg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSPSwdXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSPSwNXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSPSx9XeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WSPSydXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSPSxdXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSPSxtXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSPSxtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSPSxdXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSPSy9XeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSPSytXeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WSPS0NXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSPSz9XeEe6YrvJhqo27Pg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WSP51NXeEe6YrvJhqo27Pg" describedService__SEFF="_WL9EkNXeEe6YrvJhqo27Pg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WSP50dXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSP50tXeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSP50tXeEe6YrvJhqo27Pg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_WSP50dXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSP509XeEe6YrvJhqo27Pg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WSP509XeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSP50tXeEe6YrvJhqo27Pg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_WTNjLdXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTNjLNXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_WTAHw9XeEe6YrvJhqo27Pg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WSVZbtXeEe6YrvJhqo27Pg" describedService__SEFF="_WL72dtXeEe6YrvJhqo27Pg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WSULQNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSULR9XeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WSULR9XeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSULQNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSULSNXeEe6YrvJhqo27Pg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSULRNXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WSULRtXeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSULQdXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSULQtXeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSULQtXeEe6YrvJhqo27Pg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_WSULQdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSULQ9XeEe6YrvJhqo27Pg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSULQ9XeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSULQtXeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WSULSNXeEe6YrvJhqo27Pg" entityName="stopWatch.start()" predecessor_AbstractAction="_WSULR9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSVZbNXeEe6YrvJhqo27Pg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WSVZbNXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSULSNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSVZbdXeEe6YrvJhqo27Pg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSVZadXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WSVZa9XeEe6YrvJhqo27Pg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WSULSdXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSVZZ9XeEe6YrvJhqo27Pg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WSVZZ9XeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSULSdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSVZaNXeEe6YrvJhqo27Pg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSVZZNXeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WSVZZtXeEe6YrvJhqo27Pg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WSULStXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSUyXNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_WSUyXNXeEe6YrvJhqo27Pg" entityName="Switch Branch" predecessor_AbstractAction="_WSULStXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSUyXdXeEe6YrvJhqo27Pg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSULVdXeEe6YrvJhqo27Pg">
                      <branchBehaviour_BranchTransition id="_WSULV9XeEe6YrvJhqo27Pg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WSULS9XeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSULUtXeEe6YrvJhqo27Pg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_WSULUtXeEe6YrvJhqo27Pg" entityName="If Branch" predecessor_AbstractAction="_WSULS9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSULU9XeEe6YrvJhqo27Pg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSULT9XeEe6YrvJhqo27Pg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_WSULUdXeEe6YrvJhqo27Pg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_WSULTNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSULTdXeEe6YrvJhqo27Pg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_WSULTdXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSULTNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSULTtXeEe6YrvJhqo27Pg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_WSULTtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSULTdXeEe6YrvJhqo27Pg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_WSULU9XeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSULUtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSULVNXeEe6YrvJhqo27Pg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WSULVNXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSULU9XeEe6YrvJhqo27Pg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSUyU9XeEe6YrvJhqo27Pg">
                      <branchBehaviour_BranchTransition id="_WSUyVdXeEe6YrvJhqo27Pg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WSUyUNXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSUyUdXeEe6YrvJhqo27Pg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_WSUyUdXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSUyUNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSUyUtXeEe6YrvJhqo27Pg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WSUyUtXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSUyUdXeEe6YrvJhqo27Pg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WSUyWdXeEe6YrvJhqo27Pg">
                      <branchBehaviour_BranchTransition id="_WSUyW9XeEe6YrvJhqo27Pg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WSUyVtXeEe6YrvJhqo27Pg" entityName="Start Action" successor_AbstractAction="_WSUyV9XeEe6YrvJhqo27Pg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_WSUyV9XeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSUyVtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSUyWNXeEe6YrvJhqo27Pg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WSUyWNXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSUyV9XeEe6YrvJhqo27Pg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSUyXdXeEe6YrvJhqo27Pg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_WSUyXNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSUyXtXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSUyXtXeEe6YrvJhqo27Pg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_WSUyXdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSUyX9XeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSUyX9XeEe6YrvJhqo27Pg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_WSUyXtXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSUyYNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSUyYNXeEe6YrvJhqo27Pg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WSUyX9XeEe6YrvJhqo27Pg" successor_AbstractAction="_WSUyYdXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSUyYdXeEe6YrvJhqo27Pg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WSUyYNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSVZYNXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSVZYNXeEe6YrvJhqo27Pg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_WSUyYdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSVZYdXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WSVZYdXeEe6YrvJhqo27Pg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_WSVZYNXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSVZYtXeEe6YrvJhqo27Pg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WSVZYtXeEe6YrvJhqo27Pg" entityName="deferredResult" predecessor_AbstractAction="_WSVZYdXeEe6YrvJhqo27Pg" successor_AbstractAction="_WSVZY9XeEe6YrvJhqo27Pg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WSVZY9XeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSVZYtXeEe6YrvJhqo27Pg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WSVZaNXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSVZZ9XeEe6YrvJhqo27Pg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WSVZbdXeEe6YrvJhqo27Pg" entityName="Stop Action" predecessor_AbstractAction="_WSVZbNXeEe6YrvJhqo27Pg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WTR0kdXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_WTSbqNXeEe6YrvJhqo27Pg" encapsulatedComponent__AssemblyContext="_WTDyKtXeEe6YrvJhqo27Pg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WTTpwdXeEe6YrvJhqo27Pg" innerProvidedRole_ProvidedDelegationConnector="_WTDyKdXeEe6YrvJhqo27Pg" outerProvidedRole_ProvidedDelegationConnector="_WTR0kNXeEe6YrvJhqo27Pg" assemblyContext_ProvidedDelegationConnector="_WTSbqNXeEe6YrvJhqo27Pg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTR0kNXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_WTAHxNXeEe6YrvJhqo27Pg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WTR0ktXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_WTSboNXeEe6YrvJhqo27Pg" encapsulatedComponent__AssemblyContext="_WTDyKNXeEe6YrvJhqo27Pg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WTR0lNXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_WTSbptXeEe6YrvJhqo27Pg" encapsulatedComponent__AssemblyContext="_WTAu0NXeEe6YrvJhqo27Pg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WTTpwtXeEe6YrvJhqo27Pg" innerProvidedRole_ProvidedDelegationConnector="_WTAHydXeEe6YrvJhqo27Pg" outerProvidedRole_ProvidedDelegationConnector="_WTR0k9XeEe6YrvJhqo27Pg" assemblyContext_ProvidedDelegationConnector="_WTSbptXeEe6YrvJhqo27Pg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTR0k9XeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_WTAHxdXeEe6YrvJhqo27Pg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WTR0ltXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_WTSbpNXeEe6YrvJhqo27Pg" encapsulatedComponent__AssemblyContext="_WTGObtXeEe6YrvJhqo27Pg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WTTpw9XeEe6YrvJhqo27Pg" innerProvidedRole_ProvidedDelegationConnector="_WTGObdXeEe6YrvJhqo27Pg" outerProvidedRole_ProvidedDelegationConnector="_WTR0ldXeEe6YrvJhqo27Pg" assemblyContext_ProvidedDelegationConnector="_WTSbpNXeEe6YrvJhqo27Pg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTR0ldXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_WTAHyNXeEe6YrvJhqo27Pg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WTR0mdXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_WTSbqtXeEe6YrvJhqo27Pg" encapsulatedComponent__AssemblyContext="_WTJRsdXeEe6YrvJhqo27Pg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WTTCsNXeEe6YrvJhqo27Pg" innerProvidedRole_ProvidedDelegationConnector="_WTJRsNXeEe6YrvJhqo27Pg" outerProvidedRole_ProvidedDelegationConnector="_WTR0l9XeEe6YrvJhqo27Pg" assemblyContext_ProvidedDelegationConnector="_WTSbqtXeEe6YrvJhqo27Pg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WTTpwNXeEe6YrvJhqo27Pg" innerProvidedRole_ProvidedDelegationConnector="_WTIqrdXeEe6YrvJhqo27Pg" outerProvidedRole_ProvidedDelegationConnector="_WTR0mNXeEe6YrvJhqo27Pg" assemblyContext_ProvidedDelegationConnector="_WTSbqtXeEe6YrvJhqo27Pg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTR0l9XeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_WTAHxtXeEe6YrvJhqo27Pg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTR0mNXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_WTAHx9XeEe6YrvJhqo27Pg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WTR0m9XeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_WTSbotXeEe6YrvJhqo27Pg" encapsulatedComponent__AssemblyContext="_WTNjLdXeEe6YrvJhqo27Pg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WTTpxNXeEe6YrvJhqo27Pg" innerProvidedRole_ProvidedDelegationConnector="_WTNjLNXeEe6YrvJhqo27Pg" outerProvidedRole_ProvidedDelegationConnector="_WTR0mtXeEe6YrvJhqo27Pg" assemblyContext_ProvidedDelegationConnector="_WTSbotXeEe6YrvJhqo27Pg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WTR0mtXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_WTAHw9XeEe6YrvJhqo27Pg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WTAHw9XeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_WL72dtXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_WLH-INXeEe6YrvJhqo27Pg">
      <parameters__OperationSignature dataType__Parameter="_WL72ddXeEe6YrvJhqo27Pg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WTAHxNXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_WL8dgtXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_WLH-INXeEe6YrvJhqo27Pg">
      <parameters__OperationSignature dataType__Parameter="_WL72ddXeEe6YrvJhqo27Pg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WTAHxdXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_WLIlMNXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_WLH-INXeEe6YrvJhqo27Pg">
      <parameters__OperationSignature dataType__Parameter="_WLGwANXeEe6YrvJhqo27Pg" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WTAHxtXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_WL9EkNXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_WL72cdXeEe6YrvJhqo27Pg">
      <parameters__OperationSignature dataType__Parameter="_WL8dhdXeEe6YrvJhqo27Pg" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WTAHx9XeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_WL72ctXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_WL72cdXeEe6YrvJhqo27Pg">
      <parameters__OperationSignature dataType__Parameter="_WL7PYNXeEe6YrvJhqo27Pg" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_WL72cNXeEe6YrvJhqo27Pg" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WTAHyNXeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_WL9Ek9XeEe6YrvJhqo27Pg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_WL72cdXeEe6YrvJhqo27Pg">
      <parameters__OperationSignature dataType__Parameter="_WL72ddXeEe6YrvJhqo27Pg" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WLGwANXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WLH-INXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WL7PYNXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WL72cNXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WL72cdXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WL72ddXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WL8dhdXeEe6YrvJhqo27Pg" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
