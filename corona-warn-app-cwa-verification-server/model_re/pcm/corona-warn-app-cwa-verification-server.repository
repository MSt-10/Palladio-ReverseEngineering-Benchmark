<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_jjWCJBGXEe-28vwVppGp3Q">
  <components__Repository xsi:type="repository:BasicComponent" id="_jjFjdxGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjFjdhGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_jjFjcRGXEe-28vwVppGp3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jiXKvRGXEe-28vwVppGp3Q" describedService__SEFF="_jc1xghGXEe-28vwVppGp3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jdOzERGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiXKuhGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jiXKuhGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jdOzERGXEe-28vwVppGp3Q" successor_AbstractAction="_jiXKuxGXEe-28vwVppGp3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiXKtxGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jiXKuRGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jdQoQBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiXKtRGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jiXKtRGXEe-28vwVppGp3Q" entityName="Switch Branch" predecessor_AbstractAction="_jdQoQBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiXKthGXEe-28vwVppGp3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiWjoxGXEe-28vwVppGp3Q">
                <branchBehaviour_BranchTransition id="_jiWjpRGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jdQoQRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiQdBRGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_jiQdBRGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jdQoQRGXEe-28vwVppGp3Q" successor_AbstractAction="_jiREEBGXEe-28vwVppGp3Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiQdAhGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_jiQdBBGXEe-28vwVppGp3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jdQoQhGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiQdABGXEe-28vwVppGp3Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_jiQdABGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jdQoQhGXEe-28vwVppGp3Q" successor_AbstractAction="_jiQdARGXEe-28vwVppGp3Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jdRPUBGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_jdR2YBGXEe-28vwVppGp3Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_jdQoQxGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jdQoRBGXEe-28vwVppGp3Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_jdQoRBGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jdQoQxGXEe-28vwVppGp3Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jiQdARGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiQdABGXEe-28vwVppGp3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiREEBGXEe-28vwVppGp3Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_jiQdBRGXEe-28vwVppGp3Q" successor_AbstractAction="_jiRrIBGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiRrIBGXEe-28vwVppGp3Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_jiREEBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiWjoBGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jiWjoBGXEe-28vwVppGp3Q" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_jiRrIBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiWjoRGXEe-28vwVppGp3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiWjoRGXEe-28vwVppGp3Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_jiWjoBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiWjohGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jiWjohGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiWjoRGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiWjqRGXEe-28vwVppGp3Q">
                <branchBehaviour_BranchTransition id="_jiWjqxGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jiWjphGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiWjpxGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiWjpxGXEe-28vwVppGp3Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_jiWjphGXEe-28vwVppGp3Q" successor_AbstractAction="_jiWjqBGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jiWjqBGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiWjpxGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiXKshGXEe-28vwVppGp3Q">
                <branchBehaviour_BranchTransition id="_jiXKtBGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jiXKsBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiXKsRGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jiXKsRGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiXKsBGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jiXKthGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiXKtRGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jiXKuxGXEe-28vwVppGp3Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_jiXKuhGXEe-28vwVppGp3Q" successor_AbstractAction="_jiXKvBGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jiXKvBGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiXKuxGXEe-28vwVppGp3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_jjImwRGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjImwBGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_jjFjdRGXEe-28vwVppGp3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jid4YhGXEe-28vwVppGp3Q" describedService__SEFF="_jc2YkRGXEe-28vwVppGp3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jibcJBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jibcKxGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jibcKxGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jibcJBGXEe-28vwVppGp3Q" successor_AbstractAction="_jibcLBGXEe-28vwVppGp3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jibcKBGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jibcKhGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jibcJRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jibcJhGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jibcJhGXEe-28vwVppGp3Q" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_jibcJRGXEe-28vwVppGp3Q" successor_AbstractAction="_jibcJxGXEe-28vwVppGp3Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jibcJxGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jibcJhGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jibcLBGXEe-28vwVppGp3Q" entityName="stopWatch.start()" predecessor_AbstractAction="_jibcKxGXEe-28vwVppGp3Q" successor_AbstractAction="_jid4YBGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jid4YBGXEe-28vwVppGp3Q" entityName="Switch Branch" predecessor_AbstractAction="_jibcLBGXEe-28vwVppGp3Q" successor_AbstractAction="_jid4YRGXEe-28vwVppGp3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jicqQhGXEe-28vwVppGp3Q">
          <branchBehaviour_BranchTransition id="_jicqRBGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jibcLRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jibcLhGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jibcLhGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jibcLRGXEe-28vwVppGp3Q" successor_AbstractAction="_jibcLxGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jibcLxGXEe-28vwVppGp3Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jibcLhGXEe-28vwVppGp3Q" successor_AbstractAction="_jibcMBGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jibcMBGXEe-28vwVppGp3Q" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_jibcLxGXEe-28vwVppGp3Q" successor_AbstractAction="_jibcMRGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jibcMRGXEe-28vwVppGp3Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_jibcMBGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDMBGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jicDMBGXEe-28vwVppGp3Q" entityName="deferredResult" predecessor_AbstractAction="_jibcMRGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDPRGXEe-28vwVppGp3Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jicDPRGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jicDMBGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDPhGXEe-28vwVppGp3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jicDOhGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jicDPBGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jicDMRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jicDMhGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicDMhGXEe-28vwVppGp3Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_jicDMRGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDMxGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicDMxGXEe-28vwVppGp3Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_jicDMhGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDNBGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicDNBGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jicDMxGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDNRGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicDNRGXEe-28vwVppGp3Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jicDNBGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDNhGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicDNhGXEe-28vwVppGp3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_jicDNRGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDNxGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicDNxGXEe-28vwVppGp3Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_jicDNhGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDOBGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jicDOBGXEe-28vwVppGp3Q" entityName="deferredResult" predecessor_AbstractAction="_jicDNxGXEe-28vwVppGp3Q" successor_AbstractAction="_jicDORGXEe-28vwVppGp3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jicDORGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jicDOBGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jicDPhGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jicDPRGXEe-28vwVppGp3Q" successor_AbstractAction="_jicqQBGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jicqQBGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jicDPhGXEe-28vwVppGp3Q" successor_AbstractAction="_jicqQRGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jicqQRGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jicqQBGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jidRVRGXEe-28vwVppGp3Q">
          <branchBehaviour_BranchTransition id="_jidRVxGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jicqRRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jidRURGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jidRURGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jicqRRGXEe-28vwVppGp3Q" successor_AbstractAction="_jidRUhGXEe-28vwVppGp3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jicqTxGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jidRUBGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jicqRhGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jicqRxGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicqRxGXEe-28vwVppGp3Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_jicqRhGXEe-28vwVppGp3Q" successor_AbstractAction="_jicqSBGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicqSBGXEe-28vwVppGp3Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_jicqRxGXEe-28vwVppGp3Q" successor_AbstractAction="_jicqSRGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicqSRGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jicqSBGXEe-28vwVppGp3Q" successor_AbstractAction="_jicqShGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicqShGXEe-28vwVppGp3Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jicqSRGXEe-28vwVppGp3Q" successor_AbstractAction="_jicqSxGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicqSxGXEe-28vwVppGp3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_jicqShGXEe-28vwVppGp3Q" successor_AbstractAction="_jicqTBGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jicqTBGXEe-28vwVppGp3Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_jicqSxGXEe-28vwVppGp3Q" successor_AbstractAction="_jicqTRGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jicqTRGXEe-28vwVppGp3Q" entityName="deferredResult" predecessor_AbstractAction="_jicqTBGXEe-28vwVppGp3Q" successor_AbstractAction="_jicqThGXEe-28vwVppGp3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jicqThGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jicqTRGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jidRUhGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jidRURGXEe-28vwVppGp3Q" successor_AbstractAction="_jidRUxGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jidRUxGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jidRUhGXEe-28vwVppGp3Q" successor_AbstractAction="_jidRVBGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jidRVBGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jidRUxGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jidRWxGXEe-28vwVppGp3Q">
          <branchBehaviour_BranchTransition id="_jidRXRGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jidRWBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jidRWRGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jidRWRGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jidRWBGXEe-28vwVppGp3Q" successor_AbstractAction="_jidRWhGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jidRWhGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jidRWRGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jid4YRGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jid4YBGXEe-28vwVppGp3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_jjKb_RGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjKb_BGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_jjFjchGXEe-28vwVppGp3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jiZnBBGXEe-28vwVppGp3Q" describedService__SEFF="_jc1KcBGXEe-28vwVppGp3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jiXxwBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiXxxxGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jiXxxxGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jiXxwBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiXxyBGXEe-28vwVppGp3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiXxxBGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jiXxxhGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jiXxwRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiXxwhGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jiXxwhGXEe-28vwVppGp3Q" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_jiXxwRGXEe-28vwVppGp3Q" successor_AbstractAction="_jiXxwxGXEe-28vwVppGp3Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jiXxwxGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiXxwhGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jiXxyBGXEe-28vwVppGp3Q" entityName="stopWatch.start()" predecessor_AbstractAction="_jiXxxxGXEe-28vwVppGp3Q" successor_AbstractAction="_jiZnARGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jiZnARGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jiXxyBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiZnAhGXEe-28vwVppGp3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiZm_hGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jiZnABGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jiXxyRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiZm_BGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jiZm_BGXEe-28vwVppGp3Q" entityName="Switch Branch" predecessor_AbstractAction="_jiXxyRGXEe-28vwVppGp3Q" successor_AbstractAction="_jiZm_RGXEe-28vwVppGp3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiY_5BGXEe-28vwVppGp3Q">
                <branchBehaviour_BranchTransition id="_jiY_5hGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jiXxyhGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiXxyxGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiXxyxGXEe-28vwVppGp3Q" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_jiXxyhGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY1RGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_jiYY1RGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jiXxyxGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY1hGXEe-28vwVppGp3Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiYY0hGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_jiYY1BGXEe-28vwVppGp3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jiXxzBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiYY0BGXEe-28vwVppGp3Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_jiYY0BGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jiXxzBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY0RGXEe-28vwVppGp3Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiXxzxGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_jiXx0RGXEe-28vwVppGp3Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_jiXxzRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiXxzhGXEe-28vwVppGp3Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_jiXxzhGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiXxzRGXEe-28vwVppGp3Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jiYY0RGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiYY0BGXEe-28vwVppGp3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiYY1hGXEe-28vwVppGp3Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_jiYY1RGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY1xGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiYY1xGXEe-28vwVppGp3Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_jiYY1hGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY2BGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiYY2BGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jiYY1xGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY2RGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiYY2RGXEe-28vwVppGp3Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jiYY2BGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY2hGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiYY2hGXEe-28vwVppGp3Q" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_jiYY2RGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY2xGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jiYY2xGXEe-28vwVppGp3Q" entityName="deferredResult" predecessor_AbstractAction="_jiYY2hGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY3BGXEe-28vwVppGp3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiYY3BGXEe-28vwVppGp3Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_jiYY2xGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY3RGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiYY3RGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jiYY3BGXEe-28vwVppGp3Q" successor_AbstractAction="_jiYY3hGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiYY3hGXEe-28vwVppGp3Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jiYY3RGXEe-28vwVppGp3Q" successor_AbstractAction="_jiY_4BGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiY_4BGXEe-28vwVppGp3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_jiYY3hGXEe-28vwVppGp3Q" successor_AbstractAction="_jiY_4RGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jiY_4RGXEe-28vwVppGp3Q" entityName="deferredResult" predecessor_AbstractAction="_jiY_4BGXEe-28vwVppGp3Q" successor_AbstractAction="_jiY_4hGXEe-28vwVppGp3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiY_4hGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jiY_4RGXEe-28vwVppGp3Q" successor_AbstractAction="_jiY_4xGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jiY_4xGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiY_4hGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiZm8xGXEe-28vwVppGp3Q">
                <branchBehaviour_BranchTransition id="_jiZm9RGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jiY_5xGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiY_6BGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiY_6BGXEe-28vwVppGp3Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_jiY_5xGXEe-28vwVppGp3Q" successor_AbstractAction="_jiY_6RGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiY_6RGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jiY_6BGXEe-28vwVppGp3Q" successor_AbstractAction="_jiY_6hGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiY_6hGXEe-28vwVppGp3Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jiY_6RGXEe-28vwVppGp3Q" successor_AbstractAction="_jiY_6xGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiY_6xGXEe-28vwVppGp3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_jiY_6hGXEe-28vwVppGp3Q" successor_AbstractAction="_jiZm8BGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jiZm8BGXEe-28vwVppGp3Q" entityName="deferredResult" predecessor_AbstractAction="_jiY_6xGXEe-28vwVppGp3Q" successor_AbstractAction="_jiZm8RGXEe-28vwVppGp3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiZm8RGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jiZm8BGXEe-28vwVppGp3Q" successor_AbstractAction="_jiZm8hGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jiZm8hGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiZm8RGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiZm-RGXEe-28vwVppGp3Q">
                <branchBehaviour_BranchTransition id="_jiZm-xGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jiZm9hGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiZm9xGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiZm9xGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jiZm9hGXEe-28vwVppGp3Q" successor_AbstractAction="_jiZm-BGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jiZm-BGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiZm9xGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jiZm_RGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiZm_BGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jiZnAhGXEe-28vwVppGp3Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_jiZnARGXEe-28vwVppGp3Q" successor_AbstractAction="_jiZnAxGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jiZnAxGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiZnAhGXEe-28vwVppGp3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_jjM4NRGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjM4MxGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_jjFjcBGXEe-28vwVppGp3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjM4NBGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_jjFjdBGXEe-28vwVppGp3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jibcIhGXEe-28vwVppGp3Q" describedService__SEFF="_jcMRQBGXEe-28vwVppGp3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jia1HxGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jibcIBGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jibcIBGXEe-28vwVppGp3Q" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_jia1HxGXEe-28vwVppGp3Q" successor_AbstractAction="_jibcIRGXEe-28vwVppGp3Q">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jibcIRGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jibcIBGXEe-28vwVppGp3Q"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jia1HRGXEe-28vwVppGp3Q" describedService__SEFF="_jc1KdRGXEe-28vwVppGp3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jiaOARGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiaODhGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jiaODhGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jiaOARGXEe-28vwVppGp3Q" successor_AbstractAction="_jia1GxGXEe-28vwVppGp3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiaOBRGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jiaOBxGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jiaOAhGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiaOAxGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jiaOAxGXEe-28vwVppGp3Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_jiaOAhGXEe-28vwVppGp3Q" successor_AbstractAction="_jiaOBBGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jiaOBBGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiaOAxGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiaOCxGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jiaODRGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jiaOCBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiaOCRGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jiaOCRGXEe-28vwVppGp3Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_jiaOCBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiaOChGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jiaOChGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiaOCRGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jia1GxGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jiaODhGXEe-28vwVppGp3Q" successor_AbstractAction="_jia1HBGXEe-28vwVppGp3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jia1GBGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jia1GhGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jiaODxGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jia1FhGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jia1FhGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jiaODxGXEe-28vwVppGp3Q" successor_AbstractAction="_jia1FxGXEe-28vwVppGp3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiaOFBGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jia1EBGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jiaOEBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiaOERGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jiaOERGXEe-28vwVppGp3Q" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_jiaOEBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiaOEhGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jiaOEhGXEe-28vwVppGp3Q" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_jiaOERGXEe-28vwVppGp3Q" successor_AbstractAction="_jiaOExGXEe-28vwVppGp3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jiaOExGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiaOEhGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jia1ExGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jia1FRGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jia1ERGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jia1EhGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jia1EhGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jia1ERGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jia1FxGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jia1FhGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jia1HBGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jia1GxGXEe-28vwVppGp3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_jjRJqRGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_jjRJqxGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjRJqhGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_jjFjcxGXEe-28vwVppGp3Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jiftlxGXEe-28vwVppGp3Q" describedService__SEFF="_jc2_oBGXEe-28vwVppGp3Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jid4ZBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jid4axGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jid4axGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jid4ZBGXEe-28vwVppGp3Q" successor_AbstractAction="_jid4bBGXEe-28vwVppGp3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jid4aBGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jid4ahGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jid4ZRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jid4ZhGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jid4ZhGXEe-28vwVppGp3Q" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_jid4ZRGXEe-28vwVppGp3Q" successor_AbstractAction="_jid4ZxGXEe-28vwVppGp3Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jid4ZxGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jid4ZhGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jid4bBGXEe-28vwVppGp3Q" entityName="stopWatch.start()" predecessor_AbstractAction="_jid4axGXEe-28vwVppGp3Q" successor_AbstractAction="_jiftlRGXEe-28vwVppGp3Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jiftlRGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jid4bBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiftlhGXEe-28vwVppGp3Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiftkhGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jiftlBGXEe-28vwVppGp3Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jid4bRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiftkBGXEe-28vwVppGp3Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jiftkBGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jid4bRGXEe-28vwVppGp3Q" successor_AbstractAction="_jiftkRGXEe-28vwVppGp3Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jifGixGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jifGjRGXEe-28vwVppGp3Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jid4bhGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jifGgRGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_jifGgRGXEe-28vwVppGp3Q" entityName="Switch Branch" predecessor_AbstractAction="_jid4bhGXEe-28vwVppGp3Q" successor_AbstractAction="_jifGghGXEe-28vwVppGp3Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiefeBGXEe-28vwVppGp3Q">
                      <branchBehaviour_BranchTransition id="_jiefehGXEe-28vwVppGp3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jid4bxGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiefdRGXEe-28vwVppGp3Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_jiefdRGXEe-28vwVppGp3Q" entityName="If Branch" predecessor_AbstractAction="_jid4bxGXEe-28vwVppGp3Q" successor_AbstractAction="_jiefdhGXEe-28vwVppGp3Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiefchGXEe-28vwVppGp3Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_jiefdBGXEe-28vwVppGp3Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_jid4cBGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiefcBGXEe-28vwVppGp3Q"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_jiefcBGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jid4cBGXEe-28vwVppGp3Q" successor_AbstractAction="_jiefcRGXEe-28vwVppGp3Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_jiefcRGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiefcBGXEe-28vwVppGp3Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_jiefdhGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jiefdRGXEe-28vwVppGp3Q" successor_AbstractAction="_jiefdxGXEe-28vwVppGp3Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jiefdxGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiefdhGXEe-28vwVppGp3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jieffhGXEe-28vwVppGp3Q">
                      <branchBehaviour_BranchTransition id="_jiefgBGXEe-28vwVppGp3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jiefexGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jieffBGXEe-28vwVppGp3Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_jieffBGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jiefexGXEe-28vwVppGp3Q" successor_AbstractAction="_jieffRGXEe-28vwVppGp3Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jieffRGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jieffBGXEe-28vwVppGp3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jiefhBGXEe-28vwVppGp3Q">
                      <branchBehaviour_BranchTransition id="_jifGgBGXEe-28vwVppGp3Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jiefgRGXEe-28vwVppGp3Q" entityName="Start Action" successor_AbstractAction="_jiefghGXEe-28vwVppGp3Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_jiefghGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jiefgRGXEe-28vwVppGp3Q" successor_AbstractAction="_jiefgxGXEe-28vwVppGp3Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jiefgxGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiefghGXEe-28vwVppGp3Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jifGghGXEe-28vwVppGp3Q" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_jifGgRGXEe-28vwVppGp3Q" successor_AbstractAction="_jifGgxGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jifGgxGXEe-28vwVppGp3Q" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_jifGghGXEe-28vwVppGp3Q" successor_AbstractAction="_jifGhBGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jifGhBGXEe-28vwVppGp3Q" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_jifGgxGXEe-28vwVppGp3Q" successor_AbstractAction="_jifGhRGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jifGhRGXEe-28vwVppGp3Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_jifGhBGXEe-28vwVppGp3Q" successor_AbstractAction="_jifGhhGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jifGhhGXEe-28vwVppGp3Q" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jifGhRGXEe-28vwVppGp3Q" successor_AbstractAction="_jifGhxGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jifGhxGXEe-28vwVppGp3Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_jifGhhGXEe-28vwVppGp3Q" successor_AbstractAction="_jifGiBGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jifGiBGXEe-28vwVppGp3Q" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_jifGhxGXEe-28vwVppGp3Q" successor_AbstractAction="_jifGiRGXEe-28vwVppGp3Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jifGiRGXEe-28vwVppGp3Q" entityName="deferredResult" predecessor_AbstractAction="_jifGiBGXEe-28vwVppGp3Q" successor_AbstractAction="_jifGihGXEe-28vwVppGp3Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jifGihGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jifGiRGXEe-28vwVppGp3Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jiftkRGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiftkBGXEe-28vwVppGp3Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jiftlhGXEe-28vwVppGp3Q" entityName="Stop Action" predecessor_AbstractAction="_jiftlRGXEe-28vwVppGp3Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jjU0ABGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_jjWCIhGXEe-28vwVppGp3Q" encapsulatedComponent__AssemblyContext="_jjRJqRGXEe-28vwVppGp3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jjU0AxGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_jjWCIBGXEe-28vwVppGp3Q" encapsulatedComponent__AssemblyContext="_jjM4NRGXEe-28vwVppGp3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jjWpMRGXEe-28vwVppGp3Q" innerProvidedRole_ProvidedDelegationConnector="_jjM4NBGXEe-28vwVppGp3Q" outerProvidedRole_ProvidedDelegationConnector="_jjU0AhGXEe-28vwVppGp3Q" assemblyContext_ProvidedDelegationConnector="_jjWCIBGXEe-28vwVppGp3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jjWpMhGXEe-28vwVppGp3Q" innerProvidedRole_ProvidedDelegationConnector="_jjM4MxGXEe-28vwVppGp3Q" outerProvidedRole_ProvidedDelegationConnector="_jjU0ARGXEe-28vwVppGp3Q" assemblyContext_ProvidedDelegationConnector="_jjWCIBGXEe-28vwVppGp3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjU0ARGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_jjFjcBGXEe-28vwVppGp3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjU0AhGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_jjFjdBGXEe-28vwVppGp3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jjU0BRGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_jjVbFhGXEe-28vwVppGp3Q" encapsulatedComponent__AssemblyContext="_jjRJqxGXEe-28vwVppGp3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jjWpMBGXEe-28vwVppGp3Q" innerProvidedRole_ProvidedDelegationConnector="_jjRJqhGXEe-28vwVppGp3Q" outerProvidedRole_ProvidedDelegationConnector="_jjU0BBGXEe-28vwVppGp3Q" assemblyContext_ProvidedDelegationConnector="_jjVbFhGXEe-28vwVppGp3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjU0BBGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_jjFjcxGXEe-28vwVppGp3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jjU0BxGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_jjVbEhGXEe-28vwVppGp3Q" encapsulatedComponent__AssemblyContext="_jjKb_RGXEe-28vwVppGp3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jjWpNBGXEe-28vwVppGp3Q" innerProvidedRole_ProvidedDelegationConnector="_jjKb_BGXEe-28vwVppGp3Q" outerProvidedRole_ProvidedDelegationConnector="_jjU0BhGXEe-28vwVppGp3Q" assemblyContext_ProvidedDelegationConnector="_jjVbEhGXEe-28vwVppGp3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjU0BhGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_jjFjchGXEe-28vwVppGp3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jjU0CRGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_jjVbEBGXEe-28vwVppGp3Q" encapsulatedComponent__AssemblyContext="_jjImwRGXEe-28vwVppGp3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jjWpMxGXEe-28vwVppGp3Q" innerProvidedRole_ProvidedDelegationConnector="_jjImwBGXEe-28vwVppGp3Q" outerProvidedRole_ProvidedDelegationConnector="_jjU0CBGXEe-28vwVppGp3Q" assemblyContext_ProvidedDelegationConnector="_jjVbEBGXEe-28vwVppGp3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjU0CBGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_jjFjdRGXEe-28vwVppGp3Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jjU0CxGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_jjVbFBGXEe-28vwVppGp3Q" encapsulatedComponent__AssemblyContext="_jjFjdxGXEe-28vwVppGp3Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jjWpNRGXEe-28vwVppGp3Q" innerProvidedRole_ProvidedDelegationConnector="_jjFjdhGXEe-28vwVppGp3Q" outerProvidedRole_ProvidedDelegationConnector="_jjU0ChGXEe-28vwVppGp3Q" assemblyContext_ProvidedDelegationConnector="_jjVbFBGXEe-28vwVppGp3Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jjU0ChGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_jjFjcRGXEe-28vwVppGp3Q"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_jjFjcBGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_jcMRQBGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_jcLqMBGXEe-28vwVppGp3Q">
      <parameters__OperationSignature dataType__Parameter="_jcKcEBGXEe-28vwVppGp3Q" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_jjFjcRGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_jc1xghGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_jcLqMBGXEe-28vwVppGp3Q">
      <parameters__OperationSignature dataType__Parameter="_jc0jYBGXEe-28vwVppGp3Q" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_jjFjchGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_jc1KcBGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_jc0jYRGXEe-28vwVppGp3Q">
      <parameters__OperationSignature dataType__Parameter="_jc0jYBGXEe-28vwVppGp3Q" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_jjFjcxGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_jc2_oBGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_jc0jYRGXEe-28vwVppGp3Q">
      <parameters__OperationSignature dataType__Parameter="_jc0jYBGXEe-28vwVppGp3Q" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_jjFjdBGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_jc1KdRGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_jcLqMBGXEe-28vwVppGp3Q">
      <parameters__OperationSignature dataType__Parameter="_jc1KcxGXEe-28vwVppGp3Q" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_jc1KdBGXEe-28vwVppGp3Q" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_jjFjdRGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_jc2YkRGXEe-28vwVppGp3Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_jc0jYRGXEe-28vwVppGp3Q">
      <parameters__OperationSignature dataType__Parameter="_jc2YkBGXEe-28vwVppGp3Q" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jcKcEBGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jcLqMBGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jc0jYBGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jc0jYRGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jc1KcxGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jc1KdBGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jc2YkBGXEe-28vwVppGp3Q" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
