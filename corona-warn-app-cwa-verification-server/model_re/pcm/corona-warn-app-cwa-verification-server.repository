<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="__vVEzIUcEe-fXvZ4ZhMpYg">
  <components__Repository xsi:type="repository:BasicComponent" id="__vDX9oUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vDX9YUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="__vDX9IUcEe-fXvZ4ZhMpYg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__uVmQ4UcEe-fXvZ4ZhMpYg" describedService__SEFF="__nsywIUcEe-fXvZ4ZhMpYg">
      <steps_Behaviour xsi:type="seff:StartAction" id="__uTKBIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uTKC4UcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__uTKC4UcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uTKBIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uTxEIUcEe-fXvZ4ZhMpYg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uTKCIUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__uTKCoUcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uTKBYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uTKBoUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uTKBoUcEe-fXvZ4ZhMpYg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="__uTKBYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uTKB4UcEe-fXvZ4ZhMpYg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uTKB4UcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uTKBoUcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__uTxEIUcEe-fXvZ4ZhMpYg" entityName="stopWatch.start()" predecessor_AbstractAction="__uTKC4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uVmQYUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__uVmQYUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uTxEIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uVmQoUcEe-fXvZ4ZhMpYg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uU_Q4UcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__uVmQIUcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uTxEYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uU_QYUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__uU_QYUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uTxEYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_QoUcEe-fXvZ4ZhMpYg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uU_PoUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__uU_QIUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uTxEoUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uU_NIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="__uU_NIUcEe-fXvZ4ZhMpYg" entityName="Switch Branch" predecessor_AbstractAction="__uTxEoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_NYUcEe-fXvZ4ZhMpYg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uUYKoUcEe-fXvZ4ZhMpYg">
                      <branchBehaviour_BranchTransition id="__uUYLIUcEe-fXvZ4ZhMpYg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__uUYIIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uUYJ4UcEe-fXvZ4ZhMpYg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="__uUYJ4UcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uUYIIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uUYKIUcEe-fXvZ4ZhMpYg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uUYJIUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="__uUYJoUcEe-fXvZ4ZhMpYg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="__uUYIYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uUYIoUcEe-fXvZ4ZhMpYg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="__uUYIoUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uUYIYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uUYI4UcEe-fXvZ4ZhMpYg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="__uUYI4UcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uUYIoUcEe-fXvZ4ZhMpYg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="__uUYKIUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uUYJ4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uUYKYUcEe-fXvZ4ZhMpYg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__uUYKYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uUYKIUcEe-fXvZ4ZhMpYg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uUYMIUcEe-fXvZ4ZhMpYg">
                      <branchBehaviour_BranchTransition id="__uUYMoUcEe-fXvZ4ZhMpYg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__uUYLYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uUYLoUcEe-fXvZ4ZhMpYg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="__uUYLoUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uUYLYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uUYL4UcEe-fXvZ4ZhMpYg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__uUYL4UcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uUYLoUcEe-fXvZ4ZhMpYg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uU_MYUcEe-fXvZ4ZhMpYg">
                      <branchBehaviour_BranchTransition id="__uU_M4UcEe-fXvZ4ZhMpYg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__uUYM4UcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uUYNIUcEe-fXvZ4ZhMpYg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="__uUYNIUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uUYM4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_MIUcEe-fXvZ4ZhMpYg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__uU_MIUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uUYNIUcEe-fXvZ4ZhMpYg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uU_NYUcEe-fXvZ4ZhMpYg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="__uU_NIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_NoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uU_NoUcEe-fXvZ4ZhMpYg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="__uU_NYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_N4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uU_N4UcEe-fXvZ4ZhMpYg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="__uU_NoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_OIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uU_OIUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uU_N4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_OYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uU_OYUcEe-fXvZ4ZhMpYg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__uU_OIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_OoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uU_OoUcEe-fXvZ4ZhMpYg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="__uU_OYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_O4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uU_O4UcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="__uU_OoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_PIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uU_PIUcEe-fXvZ4ZhMpYg" entityName="deferredResult" predecessor_AbstractAction="__uU_O4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uU_PYUcEe-fXvZ4ZhMpYg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uU_PYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uU_PIUcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uU_QoUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uU_QYUcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__uVmQoUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uVmQYUcEe-fXvZ4ZhMpYg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__vGbQYUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vGbQIUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="__vDX84UcEe-fXvZ4ZhMpYg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__uYpm4UcEe-fXvZ4ZhMpYg" describedService__SEFF="__ofc8IUcEe-fXvZ4ZhMpYg">
      <steps_Behaviour xsi:type="seff:StartAction" id="__uXbgIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uYpmIUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__uYpmIUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uXbgIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYpmYUcEe-fXvZ4ZhMpYg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uYplYUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__uYpl4UcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uXbgYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uYpk4UcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__uYpk4UcEe-fXvZ4ZhMpYg" entityName="Switch Branch" predecessor_AbstractAction="__uXbgYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYplIUcEe-fXvZ4ZhMpYg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uYCioUcEe-fXvZ4ZhMpYg">
                <branchBehaviour_BranchTransition id="__uYCjIUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uXbgoUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uYChIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="__uYChIUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uXbgoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYChYUcEe-fXvZ4ZhMpYg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uYCgYUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="__uYCg4UcEe-fXvZ4ZhMpYg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__uXbg4UcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uXbiYUcEe-fXvZ4ZhMpYg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="__uXbiYUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uXbg4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYCgIUcEe-fXvZ4ZhMpYg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uXbhoUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="__uXbiIUcEe-fXvZ4ZhMpYg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="__uXbhIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uXbhYUcEe-fXvZ4ZhMpYg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="__uXbhYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uXbhIUcEe-fXvZ4ZhMpYg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__uYCgIUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uXbiYUcEe-fXvZ4ZhMpYg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uYChYUcEe-fXvZ4ZhMpYg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="__uYChIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYChoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uYChoUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="__uYChYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYCh4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uYCh4UcEe-fXvZ4ZhMpYg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="__uYChoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYCiIUcEe-fXvZ4ZhMpYg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uYCiIUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="__uYCh4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYCiYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uYCiYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uYCiIUcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uYCkIUcEe-fXvZ4ZhMpYg">
                <branchBehaviour_BranchTransition id="__uYCkoUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uYCjYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uYCjoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uYCjoUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="__uYCjYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYCj4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uYCj4UcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uYCjoUcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uYpkIUcEe-fXvZ4ZhMpYg">
                <branchBehaviour_BranchTransition id="__uYpkoUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uYCk4UcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uYClIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uYClIUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uYCk4UcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uYplIUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uYpk4UcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__uYpmYUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="__uYpmIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYpmoUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="__uYpmoUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uYpmYUcEe-fXvZ4ZhMpYg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__vI3gYUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vI3gIUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="__vDX8YUcEe-fXvZ4ZhMpYg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__ubF14UcEe-fXvZ4ZhMpYg" describedService__SEFF="__oe14YUcEe-fXvZ4ZhMpYg">
      <steps_Behaviour xsi:type="seff:StartAction" id="__uYpnYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uYppIUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__uYppIUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uYpnYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZQoIUcEe-fXvZ4ZhMpYg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uYpoYUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__uYpo4UcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uYpnoUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uYpn4UcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uYpn4UcEe-fXvZ4ZhMpYg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="__uYpnoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uYpoIUcEe-fXvZ4ZhMpYg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uYpoIUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uYpn4UcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__uZQoIUcEe-fXvZ4ZhMpYg" entityName="stopWatch.start()" predecessor_AbstractAction="__uYppIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__ubF1IUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__ubF1IUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uZQoIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__ubF1YUcEe-fXvZ4ZhMpYg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__ubF0YUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__ubF04UcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uZQoYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uae0YUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__uae0YUcEe-fXvZ4ZhMpYg" entityName="Switch Branch" predecessor_AbstractAction="__uZQoYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__ubF0IUcEe-fXvZ4ZhMpYg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uZ3t4UcEe-fXvZ4ZhMpYg">
                <branchBehaviour_BranchTransition id="__uZ3uYUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uZQooUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uZQo4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZQo4UcEe-fXvZ4ZhMpYg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="__uZQooUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZQr4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="__uZQr4UcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uZQo4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZQsIUcEe-fXvZ4ZhMpYg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uZQrIUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="__uZQroUcEe-fXvZ4ZhMpYg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__uZQpIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uZQqoUcEe-fXvZ4ZhMpYg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="__uZQqoUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uZQpIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZQq4UcEe-fXvZ4ZhMpYg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uZQp4UcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="__uZQqYUcEe-fXvZ4ZhMpYg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="__uZQpYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uZQpoUcEe-fXvZ4ZhMpYg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="__uZQpoUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uZQpYUcEe-fXvZ4ZhMpYg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__uZQq4UcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uZQqoUcEe-fXvZ4ZhMpYg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZQsIUcEe-fXvZ4ZhMpYg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="__uZQr4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZQsYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZQsYUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="__uZQsIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZQsoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZQsoUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uZQsYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZQs4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZQs4UcEe-fXvZ4ZhMpYg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__uZQsoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZQtIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZQtIUcEe-fXvZ4ZhMpYg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="__uZQs4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZQtYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uZQtYUcEe-fXvZ4ZhMpYg" entityName="deferredResult" predecessor_AbstractAction="__uZQtIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZ3sIUcEe-fXvZ4ZhMpYg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZ3sIUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="__uZQtYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZ3sYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZ3sYUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uZ3sIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZ3soUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZ3soUcEe-fXvZ4ZhMpYg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__uZ3sYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZ3s4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZ3s4UcEe-fXvZ4ZhMpYg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="__uZ3soUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZ3tIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uZ3tIUcEe-fXvZ4ZhMpYg" entityName="deferredResult" predecessor_AbstractAction="__uZ3s4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZ3tYUcEe-fXvZ4ZhMpYg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uZ3tYUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uZ3tIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uZ3toUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uZ3toUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uZ3tYUcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uaeyIUcEe-fXvZ4ZhMpYg">
                <branchBehaviour_BranchTransition id="__uaeyoUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uaewIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uaewYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uaewYUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="__uaewIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uaewoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uaewoUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uaewYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uaew4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uaew4UcEe-fXvZ4ZhMpYg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__uaewoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uaexIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uaexIUcEe-fXvZ4ZhMpYg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="__uaew4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uaexYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uaexYUcEe-fXvZ4ZhMpYg" entityName="deferredResult" predecessor_AbstractAction="__uaexIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uaexoUcEe-fXvZ4ZhMpYg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uaexoUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uaexYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uaex4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uaex4UcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uaexoUcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uaezoUcEe-fXvZ4ZhMpYg">
                <branchBehaviour_BranchTransition id="__uae0IUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uaey4UcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uaezIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uaezIUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uaey4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uaezYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uaezYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uaezIUcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__ubF0IUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uae0YUcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__ubF1YUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="__ubF1IUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__ubF1oUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="__ubF1oUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__ubF1YUcEe-fXvZ4ZhMpYg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__vLTwYUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vLTwIUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="__vDX8IUcEe-fXvZ4ZhMpYg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__uXbfoUcEe-fXvZ4ZhMpYg" describedService__SEFF="__ogEA4UcEe-fXvZ4ZhMpYg">
      <steps_Behaviour xsi:type="seff:StartAction" id="__uVmRYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uVmTIUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__uVmTIUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uVmRYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uVmTYUcEe-fXvZ4ZhMpYg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uVmSYUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__uVmS4UcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uVmRoUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uVmR4UcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uVmR4UcEe-fXvZ4ZhMpYg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="__uVmRoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uVmSIUcEe-fXvZ4ZhMpYg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uVmSIUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uVmR4UcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__uVmTYUcEe-fXvZ4ZhMpYg" entityName="stopWatch.start()" predecessor_AbstractAction="__uVmTIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uXbfIUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__uXbfIUcEe-fXvZ4ZhMpYg" entityName="Switch Branch" predecessor_AbstractAction="__uVmTYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uXbfYUcEe-fXvZ4ZhMpYg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uWNYIUcEe-fXvZ4ZhMpYg">
          <branchBehaviour_BranchTransition id="__uWNYoUcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uVmToUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uVmT4UcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uVmT4UcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uVmToUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uVmUIUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uVmUIUcEe-fXvZ4ZhMpYg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__uVmT4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uVmUYUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uVmUYUcEe-fXvZ4ZhMpYg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="__uVmUIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uVmUoUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uVmUoUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="__uVmUYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uVmU4UcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uVmU4UcEe-fXvZ4ZhMpYg" entityName="deferredResult" predecessor_AbstractAction="__uVmUoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNXIUcEe-fXvZ4ZhMpYg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__uWNXIUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uVmU4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNXYUcEe-fXvZ4ZhMpYg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uWNWYUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__uWNW4UcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uWNUIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uWNUYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uWNUYUcEe-fXvZ4ZhMpYg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="__uWNUIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNUoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uWNUoUcEe-fXvZ4ZhMpYg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="__uWNUYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNU4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uWNU4UcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uWNUoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNVIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uWNVIUcEe-fXvZ4ZhMpYg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__uWNU4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNVYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uWNVYUcEe-fXvZ4ZhMpYg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="__uWNVIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNVoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uWNVoUcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="__uWNVYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNV4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uWNV4UcEe-fXvZ4ZhMpYg" entityName="deferredResult" predecessor_AbstractAction="__uWNVoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNWIUcEe-fXvZ4ZhMpYg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uWNWIUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uWNV4UcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uWNXYUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uWNXIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNXoUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uWNXoUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uWNXYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uWNX4UcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uWNX4UcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uWNXoUcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uXbc4UcEe-fXvZ4ZhMpYg">
          <branchBehaviour_BranchTransition id="__uXbdYUcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uW0YIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uW0bYUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__uW0bYUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uW0YIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uXbcIUcEe-fXvZ4ZhMpYg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uW0aoUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__uW0bIUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uW0YYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uW0YoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uW0YoUcEe-fXvZ4ZhMpYg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="__uW0YYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uW0Y4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uW0Y4UcEe-fXvZ4ZhMpYg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="__uW0YoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uW0ZIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uW0ZIUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uW0Y4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uW0ZYUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uW0ZYUcEe-fXvZ4ZhMpYg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__uW0ZIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uW0ZoUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uW0ZoUcEe-fXvZ4ZhMpYg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="__uW0ZYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uW0Z4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uW0Z4UcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="__uW0ZoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uW0aIUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uW0aIUcEe-fXvZ4ZhMpYg" entityName="deferredResult" predecessor_AbstractAction="__uW0Z4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uW0aYUcEe-fXvZ4ZhMpYg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uW0aYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uW0aIUcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uXbcIUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uW0bYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uXbcYUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uXbcYUcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uXbcIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uXbcoUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uXbcoUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uXbcYUcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uXbeYUcEe-fXvZ4ZhMpYg">
          <branchBehaviour_BranchTransition id="__uXbe4UcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uXbdoUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uXbd4UcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uXbd4UcEe-fXvZ4ZhMpYg" entityName="stopWatch.stop()" predecessor_AbstractAction="__uXbdoUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uXbeIUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uXbeIUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uXbd4UcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__uXbfYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uXbfIUcEe-fXvZ4ZhMpYg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__vNwAoUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vNwAIUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="__vCw6oUcEe-fXvZ4ZhMpYg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vNwAYUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="__vDX8oUcEe-fXvZ4ZhMpYg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__uTKAoUcEe-fXvZ4ZhMpYg" describedService__SEFF="__oeO0oUcEe-fXvZ4ZhMpYg">
      <steps_Behaviour xsi:type="seff:StartAction" id="__uSi_oUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uTKAIUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uTKAIUcEe-fXvZ4ZhMpYg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="__uSi_oUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uTKAYUcEe-fXvZ4ZhMpYg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__uTKAYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uTKAIUcEe-fXvZ4ZhMpYg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__uSi_IUcEe-fXvZ4ZhMpYg" describedService__SEFF="__ofc9YUcEe-fXvZ4ZhMpYg">
      <steps_Behaviour xsi:type="seff:StartAction" id="__o_zQYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uPfoIUcEe-fXvZ4ZhMpYg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__uPfoIUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__o_zQYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uSi-oUcEe-fXvZ4ZhMpYg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__pDdoIUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__pEEsIUcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__pBocIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__pC2kIUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__pC2kIUcEe-fXvZ4ZhMpYg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="__pBocIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__pC2kYUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__pC2kYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__pC2kIUcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uO4koUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__uO4lIUcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uORgIUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uO4kIUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__uO4kIUcEe-fXvZ4ZhMpYg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="__uORgIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uO4kYUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uO4kYUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uO4kIUcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__uSi-oUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uPfoIUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uSi-4UcEe-fXvZ4ZhMpYg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uSi94UcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__uSi-YUcEe-fXvZ4ZhMpYg">
            <steps_Behaviour xsi:type="seff:StartAction" id="__uPfoYUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uSi9YUcEe-fXvZ4ZhMpYg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__uSi9YUcEe-fXvZ4ZhMpYg" entityName="If Branch" predecessor_AbstractAction="__uPfoYUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uSi9oUcEe-fXvZ4ZhMpYg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uR74oUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__uR75IUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uPfooUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uPfo4UcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__uPfo4UcEe-fXvZ4ZhMpYg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="__uPfooUcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uR74IUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__uR74IUcEe-fXvZ4ZhMpYg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="__uPfo4UcEe-fXvZ4ZhMpYg" successor_AbstractAction="__uR74YUcEe-fXvZ4ZhMpYg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uR74YUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uR74IUcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__uSi8oUcEe-fXvZ4ZhMpYg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__uSi9IUcEe-fXvZ4ZhMpYg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__uSi8IUcEe-fXvZ4ZhMpYg" entityName="Start Action" successor_AbstractAction="__uSi8YUcEe-fXvZ4ZhMpYg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__uSi8YUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uSi8IUcEe-fXvZ4ZhMpYg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__uSi9oUcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uSi9YUcEe-fXvZ4ZhMpYg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__uSi-4UcEe-fXvZ4ZhMpYg" entityName="Stop Action" predecessor_AbstractAction="__uSi-oUcEe-fXvZ4ZhMpYg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__vSohoUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="__vUdsYUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="__vVEyoUcEe-fXvZ4ZhMpYg" encapsulatedComponent__AssemblyContext="__vDX9oUcEe-fXvZ4ZhMpYg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__vWS4YUcEe-fXvZ4ZhMpYg" innerProvidedRole_ProvidedDelegationConnector="__vDX9YUcEe-fXvZ4ZhMpYg" outerProvidedRole_ProvidedDelegationConnector="__vUdsIUcEe-fXvZ4ZhMpYg" assemblyContext_ProvidedDelegationConnector="__vVEyoUcEe-fXvZ4ZhMpYg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vUdsIUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="__vDX9IUcEe-fXvZ4ZhMpYg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__vUds4UcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="__vVEyIUcEe-fXvZ4ZhMpYg" encapsulatedComponent__AssemblyContext="__vGbQYUcEe-fXvZ4ZhMpYg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__vWS5IUcEe-fXvZ4ZhMpYg" innerProvidedRole_ProvidedDelegationConnector="__vGbQIUcEe-fXvZ4ZhMpYg" outerProvidedRole_ProvidedDelegationConnector="__vUdsoUcEe-fXvZ4ZhMpYg" assemblyContext_ProvidedDelegationConnector="__vVEyIUcEe-fXvZ4ZhMpYg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vUdsoUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="__vDX84UcEe-fXvZ4ZhMpYg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__vUdtYUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="__vVEwIUcEe-fXvZ4ZhMpYg" encapsulatedComponent__AssemblyContext="__vLTwYUcEe-fXvZ4ZhMpYg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__vWS44UcEe-fXvZ4ZhMpYg" innerProvidedRole_ProvidedDelegationConnector="__vLTwIUcEe-fXvZ4ZhMpYg" outerProvidedRole_ProvidedDelegationConnector="__vUdtIUcEe-fXvZ4ZhMpYg" assemblyContext_ProvidedDelegationConnector="__vVEwIUcEe-fXvZ4ZhMpYg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vUdtIUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="__vDX8IUcEe-fXvZ4ZhMpYg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__vUduIUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="__vVExoUcEe-fXvZ4ZhMpYg" encapsulatedComponent__AssemblyContext="__vNwAoUcEe-fXvZ4ZhMpYg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__vWS4IUcEe-fXvZ4ZhMpYg" innerProvidedRole_ProvidedDelegationConnector="__vNwAYUcEe-fXvZ4ZhMpYg" outerProvidedRole_ProvidedDelegationConnector="__vUdtoUcEe-fXvZ4ZhMpYg" assemblyContext_ProvidedDelegationConnector="__vVExoUcEe-fXvZ4ZhMpYg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__vWS4oUcEe-fXvZ4ZhMpYg" innerProvidedRole_ProvidedDelegationConnector="__vNwAIUcEe-fXvZ4ZhMpYg" outerProvidedRole_ProvidedDelegationConnector="__vUdt4UcEe-fXvZ4ZhMpYg" assemblyContext_ProvidedDelegationConnector="__vVExoUcEe-fXvZ4ZhMpYg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vUdtoUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="__vDX8oUcEe-fXvZ4ZhMpYg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vUdt4UcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="__vCw6oUcEe-fXvZ4ZhMpYg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__vUduYUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="__vVExIUcEe-fXvZ4ZhMpYg" encapsulatedComponent__AssemblyContext="__vSohoUcEe-fXvZ4ZhMpYg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__vUdu4UcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="__vVEwoUcEe-fXvZ4ZhMpYg" encapsulatedComponent__AssemblyContext="__vI3gYUcEe-fXvZ4ZhMpYg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__vWS5YUcEe-fXvZ4ZhMpYg" innerProvidedRole_ProvidedDelegationConnector="__vI3gIUcEe-fXvZ4ZhMpYg" outerProvidedRole_ProvidedDelegationConnector="__vUduoUcEe-fXvZ4ZhMpYg" assemblyContext_ProvidedDelegationConnector="__vVEwoUcEe-fXvZ4ZhMpYg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__vUduoUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="__vDX8YUcEe-fXvZ4ZhMpYg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__vCw6oUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="__oeO0oUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="__oeO0YUcEe-fXvZ4ZhMpYg">
      <parameters__OperationSignature dataType__Parameter="__oeO0IUcEe-fXvZ4ZhMpYg" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__vDX8IUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="__ogEA4UcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="__nsLsIUcEe-fXvZ4ZhMpYg">
      <parameters__OperationSignature dataType__Parameter="__ogEAoUcEe-fXvZ4ZhMpYg" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__vDX8YUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="__oe14YUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="__nsLsIUcEe-fXvZ4ZhMpYg">
      <parameters__OperationSignature dataType__Parameter="__nq9kIUcEe-fXvZ4ZhMpYg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__vDX8oUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="__ofc9YUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="__oeO0YUcEe-fXvZ4ZhMpYg">
      <parameters__OperationSignature dataType__Parameter="__ofc84UcEe-fXvZ4ZhMpYg" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="__ofc9IUcEe-fXvZ4ZhMpYg" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__vDX84UcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="__ofc8IUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="__oeO0YUcEe-fXvZ4ZhMpYg">
      <parameters__OperationSignature dataType__Parameter="__nq9kIUcEe-fXvZ4ZhMpYg" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__vDX9IUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="__nsywIUcEe-fXvZ4ZhMpYg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="__nsLsIUcEe-fXvZ4ZhMpYg">
      <parameters__OperationSignature dataType__Parameter="__nq9kIUcEe-fXvZ4ZhMpYg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__nq9kIUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__nsLsIUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__oeO0IUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__oeO0YUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__ofc84UcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__ofc9IUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__ogEAoUcEe-fXvZ4ZhMpYg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
