<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_OOkyYNhoEe-SaoIFHS2sSg">
  <components__Repository xsi:type="repository:BasicComponent" id="_OOR3edhoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOR3eNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_OOR3cthoEe-SaoIFHS2sSg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONl6_9hoEe-SaoIFHS2sSg" describedService__SEFF="_OHvxpNhoEe-SaoIFHS2sSg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONks0NhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONks19hoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONks19hoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONks0NhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks2NhoEe-SaoIFHS2sSg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONks1NhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONks1thoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONks0dhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONks0thoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONks0thoEe-SaoIFHS2sSg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_ONks0dhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks09hoEe-SaoIFHS2sSg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONks09hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONks0thoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks2NhoEe-SaoIFHS2sSg" entityName="stopWatch.start()" predecessor_AbstractAction="_ONks19hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONl6_dhoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONl6_dhoEe-SaoIFHS2sSg" entityName="Switch Branch" predecessor_AbstractAction="_ONks2NhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONl6_thoEe-SaoIFHS2sSg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONlT5thoEe-SaoIFHS2sSg">
          <branchBehaviour_BranchTransition id="_ONlT6NhoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONks2dhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONks2thoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks2thoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONks2dhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks29hoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks29hoEe-SaoIFHS2sSg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONks2thoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks3NhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks3NhoEe-SaoIFHS2sSg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_ONks29hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks3dhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks3dhoEe-SaoIFHS2sSg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ONks3NhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks3thoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONks3thoEe-SaoIFHS2sSg" entityName="deferredResult" predecessor_AbstractAction="_ONks3dhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT4thoEe-SaoIFHS2sSg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONlT4thoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONks3thoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT49hoEe-SaoIFHS2sSg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONks6NhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONlT4dhoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONks39hoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONks4NhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks4NhoEe-SaoIFHS2sSg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_ONks39hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks4dhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks4dhoEe-SaoIFHS2sSg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_ONks4NhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks4thoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks4thoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONks4dhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks49hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks49hoEe-SaoIFHS2sSg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONks4thoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks5NhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks5NhoEe-SaoIFHS2sSg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_ONks49hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks5dhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONks5dhoEe-SaoIFHS2sSg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ONks5NhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks5thoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONks5thoEe-SaoIFHS2sSg" entityName="deferredResult" predecessor_AbstractAction="_ONks5dhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONks59hoEe-SaoIFHS2sSg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONks59hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONks5thoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONlT49hoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONlT4thoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT5NhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONlT5NhoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONlT49hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT5dhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONlT5dhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONlT5NhoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONl69NhoEe-SaoIFHS2sSg">
          <branchBehaviour_BranchTransition id="_ONl69thoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONlT6dhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONl68NhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONl68NhoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONlT6dhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONl68dhoEe-SaoIFHS2sSg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONlT89hoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONlT9dhoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONlT6thoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONlT69hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONlT69hoEe-SaoIFHS2sSg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_ONlT6thoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT7NhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONlT7NhoEe-SaoIFHS2sSg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_ONlT69hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT7dhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONlT7dhoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONlT7NhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT7thoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONlT7thoEe-SaoIFHS2sSg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONlT7dhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT79hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONlT79hoEe-SaoIFHS2sSg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_ONlT7thoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT8NhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONlT8NhoEe-SaoIFHS2sSg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ONlT79hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT8dhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONlT8dhoEe-SaoIFHS2sSg" entityName="deferredResult" predecessor_AbstractAction="_ONlT8NhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONlT8thoEe-SaoIFHS2sSg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONlT8thoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONlT8dhoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONl68dhoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONl68NhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONl68thoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONl68thoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONl68dhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONl689hoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONl689hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONl68thoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONl6-thoEe-SaoIFHS2sSg">
          <branchBehaviour_BranchTransition id="_ONl6_NhoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONl699hoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONl6-NhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONl6-NhoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONl699hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONl6-dhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONl6-dhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONl6-NhoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONl6_thoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONl6_dhoEe-SaoIFHS2sSg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OOWI4NhoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_OOWI4thoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOWI4dhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_OOR3dthoEe-SaoIFHS2sSg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONi3rdhoEe-SaoIFHS2sSg" describedService__SEFF="_OG-VkNhoEe-SaoIFHS2sSg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OIJaQdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONf0UdhoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONf0UdhoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_OIJaQdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONhCcNhoEe-SaoIFHS2sSg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONfNQNhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONf0UNhoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OILPcNhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONemMNhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONemMNhoEe-SaoIFHS2sSg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_OILPcNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONemMdhoEe-SaoIFHS2sSg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONemMdhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONemMNhoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONhCcNhoEe-SaoIFHS2sSg" entityName="stopWatch.start()" predecessor_AbstractAction="_ONf0UdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONi3q9hoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONi3q9hoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONhCcNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONi3rNhoEe-SaoIFHS2sSg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONi3qNhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONi3qthoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONhCcdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONi3pthoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONi3pthoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONhCcdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONi3p9hoEe-SaoIFHS2sSg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONi3o9hoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONi3pdhoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONhCcthoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONiQl9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_ONiQl9hoEe-SaoIFHS2sSg" entityName="Switch Branch" predecessor_AbstractAction="_ONhCcthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONiQmNhoEe-SaoIFHS2sSg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONhpithoEe-SaoIFHS2sSg">
                      <branchBehaviour_BranchTransition id="_ONhpjNhoEe-SaoIFHS2sSg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONhpgNhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONhph9hoEe-SaoIFHS2sSg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_ONhph9hoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONhpgNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONhpiNhoEe-SaoIFHS2sSg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONhphNhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_ONhphthoEe-SaoIFHS2sSg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_ONhpgdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONhpgthoEe-SaoIFHS2sSg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_ONhpgthoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONhpgdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONhpg9hoEe-SaoIFHS2sSg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_ONhpg9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONhpgthoEe-SaoIFHS2sSg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ONhpiNhoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONhph9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONhpidhoEe-SaoIFHS2sSg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONhpidhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONhpiNhoEe-SaoIFHS2sSg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONhpkNhoEe-SaoIFHS2sSg">
                      <branchBehaviour_BranchTransition id="_ONiQkNhoEe-SaoIFHS2sSg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONhpjdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONhpjthoEe-SaoIFHS2sSg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ONhpjthoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONhpjdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONhpj9hoEe-SaoIFHS2sSg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONhpj9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONhpjthoEe-SaoIFHS2sSg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONiQlNhoEe-SaoIFHS2sSg">
                      <branchBehaviour_BranchTransition id="_ONiQlthoEe-SaoIFHS2sSg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONiQkdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONiQkthoEe-SaoIFHS2sSg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ONiQkthoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONiQkdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONiQk9hoEe-SaoIFHS2sSg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONiQk9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONiQkthoEe-SaoIFHS2sSg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONiQmNhoEe-SaoIFHS2sSg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_ONiQl9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONiQmdhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONiQmdhoEe-SaoIFHS2sSg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_ONiQmNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONiQmthoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONiQmthoEe-SaoIFHS2sSg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_ONiQmdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONiQm9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONiQm9hoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONiQmthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONiQnNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONiQnNhoEe-SaoIFHS2sSg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONiQm9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONiQndhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONiQndhoEe-SaoIFHS2sSg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_ONiQnNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONi3oNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONi3oNhoEe-SaoIFHS2sSg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_ONiQndhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONi3odhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONi3odhoEe-SaoIFHS2sSg" entityName="deferredResult" predecessor_AbstractAction="_ONi3oNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONi3othoEe-SaoIFHS2sSg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONi3othoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONi3odhoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONi3p9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONi3pthoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONi3rNhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONi3q9hoEe-SaoIFHS2sSg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OOYlJthoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOYlJNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_OOR3dNhoEe-SaoIFHS2sSg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOYlJdhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_OOR3d9hoEe-SaoIFHS2sSg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONnwIthoEe-SaoIFHS2sSg" describedService__SEFF="_OHujhNhoEe-SaoIFHS2sSg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONmiBNhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONnJFNhoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONnJFNhoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONmiBNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONnwINhoEe-SaoIFHS2sSg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONmiCNhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONmiCthoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONmiBdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONmiBthoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONmiBthoEe-SaoIFHS2sSg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_ONmiBdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONmiB9hoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONmiB9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONmiBthoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONnJEdhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONnJE9hoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONmiC9hoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONmiDNhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ONmiDNhoEe-SaoIFHS2sSg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_ONmiC9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONnJENhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONnJENhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONmiDNhoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONnwINhoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONnJFNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONnwIdhoEe-SaoIFHS2sSg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONnJJNhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONnJJthoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONnJFdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONnJIthoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONnJIthoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONnJFdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONnJI9hoEe-SaoIFHS2sSg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONnJGthoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONnJHNhoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONnJFthoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONnJF9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONnJF9hoEe-SaoIFHS2sSg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_ONnJFthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONnJGNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONnJGNhoEe-SaoIFHS2sSg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_ONnJF9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONnJGdhoEe-SaoIFHS2sSg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONnJGdhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONnJGNhoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONnJH9hoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ONnJIdhoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONnJHdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONnJHthoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONnJHthoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONnJHdhoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONnJI9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONnJIthoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONnwIdhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONnwINhoEe-SaoIFHS2sSg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONmiAthoEe-SaoIFHS2sSg" describedService__SEFF="_OHvKkdhoEe-SaoIFHS2sSg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONl7AdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONmiANhoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONmiANhoEe-SaoIFHS2sSg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_ONl7AdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONmiAdhoEe-SaoIFHS2sSg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONmiAdhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONmiANhoEe-SaoIFHS2sSg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OOddpNhoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOddo9hoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_OOR3ddhoEe-SaoIFHS2sSg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONkF2dhoEe-SaoIFHS2sSg" describedService__SEFF="_OHt8cdhoEe-SaoIFHS2sSg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONjesdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONkF1thoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONkF1thoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONjesdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONkF19hoEe-SaoIFHS2sSg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONkF09hoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONkF1dhoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONjesthoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONkF0dhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONkF0dhoEe-SaoIFHS2sSg" entityName="Switch Branch" predecessor_AbstractAction="_ONjesthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONkF0thoEe-SaoIFHS2sSg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONkFw9hoEe-SaoIFHS2sSg">
                <branchBehaviour_BranchTransition id="_ONkFxdhoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONjes9hoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONjev9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_ONjev9hoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONjes9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONjewNhoEe-SaoIFHS2sSg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONjevNhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_ONjevthoEe-SaoIFHS2sSg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONjetNhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONjeuthoEe-SaoIFHS2sSg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_ONjeuthoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONjetNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONjeu9hoEe-SaoIFHS2sSg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONjet9hoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_ONjeudhoEe-SaoIFHS2sSg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_ONjetdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONjetthoEe-SaoIFHS2sSg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_ONjetthoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONjetdhoEe-SaoIFHS2sSg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONjeu9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONjeuthoEe-SaoIFHS2sSg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONjewNhoEe-SaoIFHS2sSg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_ONjev9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONjewdhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONjewdhoEe-SaoIFHS2sSg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_ONjewNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONkFwNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONkFwNhoEe-SaoIFHS2sSg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_ONjewdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONkFwdhoEe-SaoIFHS2sSg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONkFwdhoEe-SaoIFHS2sSg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_ONkFwNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONkFwthoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONkFwthoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONkFwdhoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONkFydhoEe-SaoIFHS2sSg">
                <branchBehaviour_BranchTransition id="_ONkFy9hoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONkFxthoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONkFx9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONkFx9hoEe-SaoIFHS2sSg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_ONkFxthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONkFyNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONkFyNhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONkFx9hoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONkFzthoEe-SaoIFHS2sSg">
                <branchBehaviour_BranchTransition id="_ONkF0NhoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONkFzNhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONkFzdhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONkFzdhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONkFzNhoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONkF0thoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONkF0dhoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONkF19hoEe-SaoIFHS2sSg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_ONkF1thoEe-SaoIFHS2sSg" successor_AbstractAction="_ONkF2NhoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONkF2NhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONkF19hoEe-SaoIFHS2sSg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OOfS3thoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOfS3dhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_OOR3c9hoEe-SaoIFHS2sSg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ONqMaNhoEe-SaoIFHS2sSg" describedService__SEFF="_OHvxoNhoEe-SaoIFHS2sSg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ONnwJNhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONnwK9hoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONnwK9hoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONnwJNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONnwLNhoEe-SaoIFHS2sSg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONnwKNhoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONnwKthoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONnwJdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONnwJthoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONnwJthoEe-SaoIFHS2sSg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_ONnwJdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONnwJ9hoEe-SaoIFHS2sSg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONnwJ9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONnwJthoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONnwLNhoEe-SaoIFHS2sSg" entityName="stopWatch.start()" predecessor_AbstractAction="_ONnwK9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONqMZdhoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ONqMZdhoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONnwLNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONqMZthoEe-SaoIFHS2sSg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONqMYthoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ONqMZNhoEe-SaoIFHS2sSg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ONnwLdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONqMYNhoEe-SaoIFHS2sSg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ONqMYNhoEe-SaoIFHS2sSg" entityName="Switch Branch" predecessor_AbstractAction="_ONnwLdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONqMYdhoEe-SaoIFHS2sSg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONo-RNhoEe-SaoIFHS2sSg">
                <branchBehaviour_BranchTransition id="_ONo-RthoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONnwLthoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONnwL9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONnwL9hoEe-SaoIFHS2sSg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_ONnwLthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXOthoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_ONoXOthoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONnwL9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXO9hoEe-SaoIFHS2sSg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONoXN9hoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_ONoXOdhoEe-SaoIFHS2sSg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ONnwMNhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONoXNdhoEe-SaoIFHS2sSg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_ONoXNdhoEe-SaoIFHS2sSg" entityName="If Branch" predecessor_AbstractAction="_ONnwMNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXNthoEe-SaoIFHS2sSg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONoXMthoEe-SaoIFHS2sSg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_ONoXNNhoEe-SaoIFHS2sSg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_ONoXMNhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONoXMdhoEe-SaoIFHS2sSg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_ONoXMdhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONoXMNhoEe-SaoIFHS2sSg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ONoXNthoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONoXNdhoEe-SaoIFHS2sSg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONoXO9hoEe-SaoIFHS2sSg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_ONoXOthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXPNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONoXPNhoEe-SaoIFHS2sSg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_ONoXO9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXPdhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONoXPdhoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONoXPNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXPthoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONoXPthoEe-SaoIFHS2sSg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONoXPdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXP9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONoXP9hoEe-SaoIFHS2sSg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_ONoXPthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXQNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONoXQNhoEe-SaoIFHS2sSg" entityName="deferredResult" predecessor_AbstractAction="_ONoXP9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXQdhoEe-SaoIFHS2sSg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONoXQdhoEe-SaoIFHS2sSg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_ONoXQNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXQthoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONoXQthoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONoXQdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONoXQ9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONoXQ9hoEe-SaoIFHS2sSg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONoXQthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONo-QNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONo-QNhoEe-SaoIFHS2sSg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_ONoXQ9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONo-QdhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONo-QdhoEe-SaoIFHS2sSg" entityName="deferredResult" predecessor_AbstractAction="_ONo-QNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONo-QthoEe-SaoIFHS2sSg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONo-QthoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONo-QdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONo-Q9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONo-Q9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONo-QthoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONplVthoEe-SaoIFHS2sSg">
                <branchBehaviour_BranchTransition id="_ONplWNhoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONo-R9hoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONo-SNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONo-SNhoEe-SaoIFHS2sSg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_ONo-R9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONplUNhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONplUNhoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONo-SNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONplUdhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONplUdhoEe-SaoIFHS2sSg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ONplUNhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONplUthoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONplUthoEe-SaoIFHS2sSg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_ONplUdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONplU9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ONplU9hoEe-SaoIFHS2sSg" entityName="deferredResult" predecessor_AbstractAction="_ONplUthoEe-SaoIFHS2sSg" successor_AbstractAction="_ONplVNhoEe-SaoIFHS2sSg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONplVNhoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONplU9hoEe-SaoIFHS2sSg" successor_AbstractAction="_ONplVdhoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONplVdhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONplVNhoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ONplXNhoEe-SaoIFHS2sSg">
                <branchBehaviour_BranchTransition id="_ONplXthoEe-SaoIFHS2sSg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ONplWdhoEe-SaoIFHS2sSg" entityName="Start Action" successor_AbstractAction="_ONplWthoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ONplWthoEe-SaoIFHS2sSg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ONplWdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONplW9hoEe-SaoIFHS2sSg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ONplW9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONplWthoEe-SaoIFHS2sSg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ONqMYdhoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONqMYNhoEe-SaoIFHS2sSg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ONqMZthoEe-SaoIFHS2sSg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_ONqMZdhoEe-SaoIFHS2sSg" successor_AbstractAction="_ONqMZ9hoEe-SaoIFHS2sSg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ONqMZ9hoEe-SaoIFHS2sSg" entityName="Stop Action" predecessor_AbstractAction="_ONqMZthoEe-SaoIFHS2sSg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOjkQthoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_OOkLWthoEe-SaoIFHS2sSg" encapsulatedComponent__AssemblyContext="_OOYlJthoEe-SaoIFHS2sSg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOlZcNhoEe-SaoIFHS2sSg" innerProvidedRole_ProvidedDelegationConnector="_OOYlJNhoEe-SaoIFHS2sSg" outerProvidedRole_ProvidedDelegationConnector="_OOjkQdhoEe-SaoIFHS2sSg" assemblyContext_ProvidedDelegationConnector="_OOkLWthoEe-SaoIFHS2sSg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOlZddhoEe-SaoIFHS2sSg" innerProvidedRole_ProvidedDelegationConnector="_OOYlJdhoEe-SaoIFHS2sSg" outerProvidedRole_ProvidedDelegationConnector="_OOjkQNhoEe-SaoIFHS2sSg" assemblyContext_ProvidedDelegationConnector="_OOkLWthoEe-SaoIFHS2sSg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOjkQNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_OOR3d9hoEe-SaoIFHS2sSg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOjkQdhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_OOR3dNhoEe-SaoIFHS2sSg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOjkQ9hoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_OOkLUNhoEe-SaoIFHS2sSg" encapsulatedComponent__AssemblyContext="_OOWI4NhoEe-SaoIFHS2sSg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOjkRdhoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_OOkLUthoEe-SaoIFHS2sSg" encapsulatedComponent__AssemblyContext="_OOWI4thoEe-SaoIFHS2sSg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOlZc9hoEe-SaoIFHS2sSg" innerProvidedRole_ProvidedDelegationConnector="_OOWI4dhoEe-SaoIFHS2sSg" outerProvidedRole_ProvidedDelegationConnector="_OOjkRNhoEe-SaoIFHS2sSg" assemblyContext_ProvidedDelegationConnector="_OOkLUthoEe-SaoIFHS2sSg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOjkRNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_OOR3dthoEe-SaoIFHS2sSg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOjkR9hoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_OOkLWNhoEe-SaoIFHS2sSg" encapsulatedComponent__AssemblyContext="_OOddpNhoEe-SaoIFHS2sSg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOlZcdhoEe-SaoIFHS2sSg" innerProvidedRole_ProvidedDelegationConnector="_OOddo9hoEe-SaoIFHS2sSg" outerProvidedRole_ProvidedDelegationConnector="_OOjkRthoEe-SaoIFHS2sSg" assemblyContext_ProvidedDelegationConnector="_OOkLWNhoEe-SaoIFHS2sSg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOjkRthoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_OOR3ddhoEe-SaoIFHS2sSg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOjkSdhoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_OOkLVNhoEe-SaoIFHS2sSg" encapsulatedComponent__AssemblyContext="_OOR3edhoEe-SaoIFHS2sSg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOlZdNhoEe-SaoIFHS2sSg" innerProvidedRole_ProvidedDelegationConnector="_OOR3eNhoEe-SaoIFHS2sSg" outerProvidedRole_ProvidedDelegationConnector="_OOjkSNhoEe-SaoIFHS2sSg" assemblyContext_ProvidedDelegationConnector="_OOkLVNhoEe-SaoIFHS2sSg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOjkSNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_OOR3cthoEe-SaoIFHS2sSg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OOjkS9hoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_OOkLVthoEe-SaoIFHS2sSg" encapsulatedComponent__AssemblyContext="_OOfS3thoEe-SaoIFHS2sSg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_OOlZcthoEe-SaoIFHS2sSg" innerProvidedRole_ProvidedDelegationConnector="_OOfS3dhoEe-SaoIFHS2sSg" outerProvidedRole_ProvidedDelegationConnector="_OOjkSthoEe-SaoIFHS2sSg" assemblyContext_ProvidedDelegationConnector="_OOkLVthoEe-SaoIFHS2sSg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OOjkSthoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_OOR3c9hoEe-SaoIFHS2sSg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOR3cthoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_OHvxpNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_OG9ugNhoEe-SaoIFHS2sSg">
      <parameters__OperationSignature dataType__Parameter="_OHvxo9hoEe-SaoIFHS2sSg" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOR3c9hoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_OHvxoNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_OG9ugNhoEe-SaoIFHS2sSg">
      <parameters__OperationSignature dataType__Parameter="_OG8gYNhoEe-SaoIFHS2sSg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOR3dNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_OHujhNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_OHt8cNhoEe-SaoIFHS2sSg">
      <parameters__OperationSignature dataType__Parameter="_OHujgthoEe-SaoIFHS2sSg" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_OHujg9hoEe-SaoIFHS2sSg" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOR3ddhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_OHt8cdhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_OHt8cNhoEe-SaoIFHS2sSg">
      <parameters__OperationSignature dataType__Parameter="_OG8gYNhoEe-SaoIFHS2sSg" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOR3dthoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_OG-VkNhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_OG9ugNhoEe-SaoIFHS2sSg">
      <parameters__OperationSignature dataType__Parameter="_OG8gYNhoEe-SaoIFHS2sSg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OOR3d9hoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_OHvKkdhoEe-SaoIFHS2sSg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_OHt8cNhoEe-SaoIFHS2sSg">
      <parameters__OperationSignature dataType__Parameter="_OHvKkNhoEe-SaoIFHS2sSg" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OG8gYNhoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OG9ugNhoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHt8cNhoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHujgthoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHujg9hoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHvKkNhoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OHvxo9hoEe-SaoIFHS2sSg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
