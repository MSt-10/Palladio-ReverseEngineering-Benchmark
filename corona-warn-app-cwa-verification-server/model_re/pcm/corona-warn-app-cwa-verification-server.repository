<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_mICcOJyvEe-fQvLAWpmT_g">
  <components__Repository xsi:type="repository:BasicComponent" id="_mHxWd5yvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mHxWdZyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_mHxWc5yvEe-fQvLAWpmT_g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mHxWdpyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_mHxWcpyvEe-fQvLAWpmT_g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_mHHPMpyvEe-fQvLAWpmT_g" describedService__SEFF="_mBUJIJyvEe-fQvLAWpmT_g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_mHGoFJyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHGoIZyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_mHGoIZyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHGoFJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHHPMJyvEe-fQvLAWpmT_g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHGoGJyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_mHGoGpyvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHGoFZyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHGoFpyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHGoFpyvEe-fQvLAWpmT_g" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_mHGoFZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHGoF5yvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHGoF5yvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHGoFpyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHGoHpyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_mHGoIJyvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHGoG5yvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHGoHJyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHGoHJyvEe-fQvLAWpmT_g" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_mHGoG5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHGoHZyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHGoHZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHGoHJyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_mHHPMJyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHGoIZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHHPMZyvEe-fQvLAWpmT_g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHHPLZyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_mHHPL5yvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHGoIpyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHHPK5yvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_mHHPK5yvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHGoIpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHHPLJyvEe-fQvLAWpmT_g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHHPI5yvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_mHHPJZyvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHGoI5yvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHHPIJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHHPIJyvEe-fQvLAWpmT_g" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_mHGoI5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHHPIZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHHPIZyvEe-fQvLAWpmT_g" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_mHHPIJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHHPIpyvEe-fQvLAWpmT_g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHHPIpyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHHPIZyvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHHPKJyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_mHHPKpyvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHHPJpyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHHPJ5yvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHHPJ5yvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHHPJpyvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHHPLJyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHHPK5yvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_mHHPMZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHHPMJyvEe-fQvLAWpmT_g"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_mHGoEpyvEe-fQvLAWpmT_g" describedService__SEFF="_mBST8pyvEe-fQvLAWpmT_g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_mHGBDpyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHGoEJyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHGoEJyvEe-fQvLAWpmT_g" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_mHGBDpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHGoEZyvEe-fQvLAWpmT_g">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_mHGoEZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHGoEJyvEe-fQvLAWpmT_g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_mH22AZyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mH22AJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_mHxWdJyvEe-fQvLAWpmT_g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_mHMHtJyvEe-fQvLAWpmT_g" describedService__SEFF="_mBTiEJyvEe-fQvLAWpmT_g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_mHJrbpyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHKSdpyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_mHKSdpyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHJrbpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHKSd5yvEe-fQvLAWpmT_g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHKSc5yvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_mHKSdZyvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHKScJyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHKScZyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHKScZyvEe-fQvLAWpmT_g" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_mHKScJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHKScpyvEe-fQvLAWpmT_g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHKScpyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHKScZyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_mHKSd5yvEe-fQvLAWpmT_g" entityName="stopWatch.start()" predecessor_AbstractAction="_mHKSdpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHMHsZyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_mHMHsZyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHKSd5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHMHspyvEe-fQvLAWpmT_g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHMHrpyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_mHMHsJyvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHKSeJyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHMHrJyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_mHMHrJyvEe-fQvLAWpmT_g" entityName="Switch Branch" predecessor_AbstractAction="_mHKSeJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHMHrZyvEe-fQvLAWpmT_g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHLgkpyvEe-fQvLAWpmT_g">
                <branchBehaviour_BranchTransition id="_mHLglJyvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHKSeZyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHKSepyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHKSepyvEe-fQvLAWpmT_g" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_mHKSeZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5gJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_mHK5gJyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHKSepyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5gZyvEe-fQvLAWpmT_g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHKSg5yvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_mHKShZyvEe-fQvLAWpmT_g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_mHKSe5yvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHKSgZyvEe-fQvLAWpmT_g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_mHKSgZyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHKSe5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHKSgpyvEe-fQvLAWpmT_g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHKSfpyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_mHKSgJyvEe-fQvLAWpmT_g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_mHKSfJyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHKSfZyvEe-fQvLAWpmT_g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_mHKSfZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHKSfJyvEe-fQvLAWpmT_g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_mHKSgpyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHKSgZyvEe-fQvLAWpmT_g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHK5gZyvEe-fQvLAWpmT_g" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_mHK5gJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5gpyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHK5gpyvEe-fQvLAWpmT_g" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_mHK5gZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5g5yvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHK5g5yvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHK5gpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5hJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHK5hJyvEe-fQvLAWpmT_g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_mHK5g5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5hZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHK5hZyvEe-fQvLAWpmT_g" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_mHK5hJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5hpyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHK5hpyvEe-fQvLAWpmT_g" entityName="deferredResult" predecessor_AbstractAction="_mHK5hZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5h5yvEe-fQvLAWpmT_g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHK5h5yvEe-fQvLAWpmT_g" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_mHK5hpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5iJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHK5iJyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHK5h5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5iZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHK5iZyvEe-fQvLAWpmT_g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_mHK5iJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5ipyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHK5ipyvEe-fQvLAWpmT_g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_mHK5iZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHK5i5yvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHK5i5yvEe-fQvLAWpmT_g" entityName="deferredResult" predecessor_AbstractAction="_mHK5ipyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHLgkJyvEe-fQvLAWpmT_g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHLgkJyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHK5i5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHLgkZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHLgkZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHLgkJyvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHMHo5yvEe-fQvLAWpmT_g">
                <branchBehaviour_BranchTransition id="_mHMHpZyvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHLglZyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHLglpyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHLglpyvEe-fQvLAWpmT_g" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_mHLglZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHLgl5yvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHLgl5yvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHLglpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHLgmJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHLgmJyvEe-fQvLAWpmT_g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_mHLgl5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHLgmZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHLgmZyvEe-fQvLAWpmT_g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_mHLgmJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHMHoJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHMHoJyvEe-fQvLAWpmT_g" entityName="deferredResult" predecessor_AbstractAction="_mHLgmZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHMHoZyvEe-fQvLAWpmT_g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHMHoZyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHMHoJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHMHopyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHMHopyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHMHoZyvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHMHqZyvEe-fQvLAWpmT_g">
                <branchBehaviour_BranchTransition id="_mHMHq5yvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHMHppyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHMHp5yvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHMHp5yvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHMHppyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHMHqJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHMHqJyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHMHp5yvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHMHrZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHMHrJyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_mHMHspyvEe-fQvLAWpmT_g" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_mHMHsZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHMHs5yvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_mHMHs5yvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHMHspyvEe-fQvLAWpmT_g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_mH5SQZyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mH5SQJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_mHwvaZyvEe-fQvLAWpmT_g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_mHJrbJyvEe-fQvLAWpmT_g" describedService__SEFF="_mBS7A5yvEe-fQvLAWpmT_g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_mHHPNJyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHH2NJyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_mHH2NJyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHHPNJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2NZyvEe-fQvLAWpmT_g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHH2MZyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_mHH2M5yvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHHPNZyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHHPNpyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHHPNpyvEe-fQvLAWpmT_g" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_mHHPNZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2MJyvEe-fQvLAWpmT_g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHH2MJyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHHPNpyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2NZyvEe-fQvLAWpmT_g" entityName="stopWatch.start()" predecessor_AbstractAction="_mHH2NJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJrapyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_mHJrapyvEe-fQvLAWpmT_g" entityName="Switch Branch" predecessor_AbstractAction="_mHH2NZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJra5yvEe-fQvLAWpmT_g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHIdSZyvEe-fQvLAWpmT_g">
          <branchBehaviour_BranchTransition id="_mHIdS5yvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHH2NpyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHH2N5yvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2N5yvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHH2NpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2OJyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2OJyvEe-fQvLAWpmT_g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_mHH2N5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2OZyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2OZyvEe-fQvLAWpmT_g" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_mHH2OJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2OpyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2OpyvEe-fQvLAWpmT_g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_mHH2OZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2O5yvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHH2O5yvEe-fQvLAWpmT_g" entityName="deferredResult" predecessor_AbstractAction="_mHH2OpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHIdRZyvEe-fQvLAWpmT_g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_mHIdRZyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHH2O5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHIdRpyvEe-fQvLAWpmT_g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHIdQpyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_mHIdRJyvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHH2PJyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHH2PZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2PZyvEe-fQvLAWpmT_g" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_mHH2PJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2PpyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2PpyvEe-fQvLAWpmT_g" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_mHH2PZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2P5yvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2P5yvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHH2PpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2QJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2QJyvEe-fQvLAWpmT_g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_mHH2P5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2QZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2QZyvEe-fQvLAWpmT_g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_mHH2QJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHH2QpyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHH2QpyvEe-fQvLAWpmT_g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_mHH2QZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHIdQJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHIdQJyvEe-fQvLAWpmT_g" entityName="deferredResult" predecessor_AbstractAction="_mHH2QpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHIdQZyvEe-fQvLAWpmT_g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHIdQZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHIdQJyvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHIdRpyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHIdRZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHIdR5yvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHIdR5yvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHIdRpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHIdSJyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHIdSJyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHIdR5yvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHJrYZyvEe-fQvLAWpmT_g">
          <branchBehaviour_BranchTransition id="_mHJrY5yvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHIdTJyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHJEV5yvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_mHJEV5yvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHIdTJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJEWJyvEe-fQvLAWpmT_g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHJEVJyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_mHJEVpyvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHIdTZyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHIdTpyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHIdTpyvEe-fQvLAWpmT_g" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_mHIdTZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHIdT5yvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHIdT5yvEe-fQvLAWpmT_g" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_mHIdTpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHIdUJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHIdUJyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHIdT5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHIdUZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHIdUZyvEe-fQvLAWpmT_g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_mHIdUJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJEUJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHJEUJyvEe-fQvLAWpmT_g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_mHIdUZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJEUZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHJEUZyvEe-fQvLAWpmT_g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_mHJEUJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJEUpyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHJEUpyvEe-fQvLAWpmT_g" entityName="deferredResult" predecessor_AbstractAction="_mHJEUZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJEU5yvEe-fQvLAWpmT_g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHJEU5yvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHJEUpyvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHJEWJyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHJEV5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJEWZyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHJEWZyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHJEWJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJrYJyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHJrYJyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHJEWZyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHJrZ5yvEe-fQvLAWpmT_g">
          <branchBehaviour_BranchTransition id="_mHJraZyvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHJrZJyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHJrZZyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_mHJrZZyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHJrZJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHJrZpyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHJrZpyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHJrZZyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_mHJra5yvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHJrapyvEe-fQvLAWpmT_g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_mH7HfpyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mH7HfZyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_mHxWcZyvEe-fQvLAWpmT_g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_mHGBDJyvEe-fQvLAWpmT_g" describedService__SEFF="_mArP8JyvEe-fQvLAWpmT_g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_mHEL35yvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHEy5ZyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_mHEy5ZyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHEL35yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHEy5pyvEe-fQvLAWpmT_g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHEy4pyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_mHEy5JyvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHEL4JyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHEy4JyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHEy4JyvEe-fQvLAWpmT_g" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_mHEL4JyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHEy4ZyvEe-fQvLAWpmT_g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHEy4ZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHEy4JyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_mHEy5pyvEe-fQvLAWpmT_g" entityName="stopWatch.start()" predecessor_AbstractAction="_mHEy5ZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHGBCpyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_mHGBCpyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHEy5pyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHGBC5yvEe-fQvLAWpmT_g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHGBB5yvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_mHGBCZyvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mHEy55yvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHGBBZyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_mHGBBZyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHEy55yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHGBBpyvEe-fQvLAWpmT_g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHGBApyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_mHGBBJyvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHEy6JyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHFZ-pyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_mHFZ-pyvEe-fQvLAWpmT_g" entityName="Switch Branch" predecessor_AbstractAction="_mHEy6JyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHFZ-5yvEe-fQvLAWpmT_g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHEy85yvEe-fQvLAWpmT_g">
                      <branchBehaviour_BranchTransition id="_mHEy9ZyvEe-fQvLAWpmT_g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_mHEy6ZyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHEy8JyvEe-fQvLAWpmT_g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_mHEy8JyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mHEy6ZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHEy8ZyvEe-fQvLAWpmT_g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHEy7ZyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_mHEy75yvEe-fQvLAWpmT_g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_mHEy6pyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHEy65yvEe-fQvLAWpmT_g"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_mHEy65yvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHEy6pyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHEy7JyvEe-fQvLAWpmT_g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_mHEy7JyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHEy65yvEe-fQvLAWpmT_g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_mHEy8ZyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHEy8JyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHEy8pyvEe-fQvLAWpmT_g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_mHEy8pyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHEy8ZyvEe-fQvLAWpmT_g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHFZ8ZyvEe-fQvLAWpmT_g">
                      <branchBehaviour_BranchTransition id="_mHFZ85yvEe-fQvLAWpmT_g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_mHEy9pyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHEy95yvEe-fQvLAWpmT_g"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_mHEy95yvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHEy9pyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHFZ8JyvEe-fQvLAWpmT_g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_mHFZ8JyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHEy95yvEe-fQvLAWpmT_g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHFZ95yvEe-fQvLAWpmT_g">
                      <branchBehaviour_BranchTransition id="_mHFZ-ZyvEe-fQvLAWpmT_g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_mHFZ9JyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHFZ9ZyvEe-fQvLAWpmT_g"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_mHFZ9ZyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHFZ9JyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHFZ9pyvEe-fQvLAWpmT_g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_mHFZ9pyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHFZ9ZyvEe-fQvLAWpmT_g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHFZ-5yvEe-fQvLAWpmT_g" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_mHFZ-pyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHFZ_JyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHFZ_JyvEe-fQvLAWpmT_g" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_mHFZ-5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHFZ_ZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHFZ_ZyvEe-fQvLAWpmT_g" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_mHFZ_JyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHFZ_pyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHFZ_pyvEe-fQvLAWpmT_g" entityName="stopWatch.stop()" predecessor_AbstractAction="_mHFZ_ZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHFZ_5yvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHFZ_5yvEe-fQvLAWpmT_g" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_mHFZ_pyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHFaAJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHFaAJyvEe-fQvLAWpmT_g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_mHFZ_5yvEe-fQvLAWpmT_g" successor_AbstractAction="_mHFaAZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHFaAZyvEe-fQvLAWpmT_g" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_mHFaAJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHGBAJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHGBAJyvEe-fQvLAWpmT_g" entityName="deferredResult" predecessor_AbstractAction="_mHFaAZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHGBAZyvEe-fQvLAWpmT_g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHGBAZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHGBAJyvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHGBBpyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHGBBZyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_mHGBC5yvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHGBCpyvEe-fQvLAWpmT_g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_mH9juZyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mH9juJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_mHxWcJyvEe-fQvLAWpmT_g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_mHEL3ZyvEe-fQvLAWpmT_g" describedService__SEFF="_mBUJI5yvEe-fQvLAWpmT_g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_mBr8kZyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHEL2pyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_mHEL2pyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mBr8kZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHEL25yvEe-fQvLAWpmT_g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHEL15yvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_mHEL2ZyvEe-fQvLAWpmT_g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_mBtxwJyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHEL1ZyvEe-fQvLAWpmT_g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_mHEL1ZyvEe-fQvLAWpmT_g" entityName="Switch Branch" predecessor_AbstractAction="_mBtxwJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHEL1pyvEe-fQvLAWpmT_g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHDkw5yvEe-fQvLAWpmT_g">
                <branchBehaviour_BranchTransition id="_mHDkxZyvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mBuY0JyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mG_6YJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_mG_6YJyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mBuY0JyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHAhcJyvEe-fQvLAWpmT_g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mG_TUpyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_mG_TVJyvEe-fQvLAWpmT_g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_mBuY0ZyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mG_TUJyvEe-fQvLAWpmT_g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_mG_TUJyvEe-fQvLAWpmT_g" entityName="If Branch" predecessor_AbstractAction="_mBuY0ZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mG_TUZyvEe-fQvLAWpmT_g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mBu_4JyvEe-fQvLAWpmT_g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_mBvm8JyvEe-fQvLAWpmT_g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_mBuY0pyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mBuY05yvEe-fQvLAWpmT_g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_mBuY05yvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mBuY0pyvEe-fQvLAWpmT_g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_mG_TUZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mG_TUJyvEe-fQvLAWpmT_g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHAhcJyvEe-fQvLAWpmT_g" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_mG_6YJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHAhcZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHAhcZyvEe-fQvLAWpmT_g" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_mHAhcJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHDkwJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_mHDkwJyvEe-fQvLAWpmT_g" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_mHAhcZyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHDkwZyvEe-fQvLAWpmT_g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHDkwZyvEe-fQvLAWpmT_g" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_mHDkwJyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHDkwpyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHDkwpyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHDkwZyvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHDkyZyvEe-fQvLAWpmT_g">
                <branchBehaviour_BranchTransition id="_mHDky5yvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHDkxpyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHDkx5yvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_mHDkx5yvEe-fQvLAWpmT_g" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_mHDkxpyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHDkyJyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHDkyJyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHDkx5yvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_mHEL0pyvEe-fQvLAWpmT_g">
                <branchBehaviour_BranchTransition id="_mHEL1JyvEe-fQvLAWpmT_g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_mHEL0JyvEe-fQvLAWpmT_g" entityName="Start Action" successor_AbstractAction="_mHEL0ZyvEe-fQvLAWpmT_g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_mHEL0ZyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHEL0JyvEe-fQvLAWpmT_g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_mHEL1pyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHEL1ZyvEe-fQvLAWpmT_g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_mHEL25yvEe-fQvLAWpmT_g" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_mHEL2pyvEe-fQvLAWpmT_g" successor_AbstractAction="_mHEL3JyvEe-fQvLAWpmT_g"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_mHEL3JyvEe-fQvLAWpmT_g" entityName="Stop Action" predecessor_AbstractAction="_mHEL25yvEe-fQvLAWpmT_g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_mH_Y7ZyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_mIBOEZyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_mIB1JZyvEe-fQvLAWpmT_g" encapsulatedComponent__AssemblyContext="_mH22AZyvEe-fQvLAWpmT_g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_mIDDRJyvEe-fQvLAWpmT_g" innerProvidedRole_ProvidedDelegationConnector="_mH22AJyvEe-fQvLAWpmT_g" outerProvidedRole_ProvidedDelegationConnector="_mIBOEJyvEe-fQvLAWpmT_g" assemblyContext_ProvidedDelegationConnector="_mIB1JZyvEe-fQvLAWpmT_g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mIBOEJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_mHxWdJyvEe-fQvLAWpmT_g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_mIBOE5yvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_mICcMpyvEe-fQvLAWpmT_g" encapsulatedComponent__AssemblyContext="_mH5SQZyvEe-fQvLAWpmT_g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_mIDDQpyvEe-fQvLAWpmT_g" innerProvidedRole_ProvidedDelegationConnector="_mH5SQJyvEe-fQvLAWpmT_g" outerProvidedRole_ProvidedDelegationConnector="_mIBOEpyvEe-fQvLAWpmT_g" assemblyContext_ProvidedDelegationConnector="_mICcMpyvEe-fQvLAWpmT_g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mIBOEpyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_mHwvaZyvEe-fQvLAWpmT_g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_mIBOFZyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_mICcNJyvEe-fQvLAWpmT_g" encapsulatedComponent__AssemblyContext="_mH7HfpyvEe-fQvLAWpmT_g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_mIDDQZyvEe-fQvLAWpmT_g" innerProvidedRole_ProvidedDelegationConnector="_mH7HfZyvEe-fQvLAWpmT_g" outerProvidedRole_ProvidedDelegationConnector="_mIBOFJyvEe-fQvLAWpmT_g" assemblyContext_ProvidedDelegationConnector="_mICcNJyvEe-fQvLAWpmT_g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mIBOFJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_mHxWcZyvEe-fQvLAWpmT_g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_mIBOFpyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_mICcMJyvEe-fQvLAWpmT_g" encapsulatedComponent__AssemblyContext="_mH_Y7ZyvEe-fQvLAWpmT_g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_mIB1IZyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_mIB1J5yvEe-fQvLAWpmT_g" encapsulatedComponent__AssemblyContext="_mH9juZyvEe-fQvLAWpmT_g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_mIDDRZyvEe-fQvLAWpmT_g" innerProvidedRole_ProvidedDelegationConnector="_mH9juJyvEe-fQvLAWpmT_g" outerProvidedRole_ProvidedDelegationConnector="_mIB1IJyvEe-fQvLAWpmT_g" assemblyContext_ProvidedDelegationConnector="_mIB1J5yvEe-fQvLAWpmT_g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mIB1IJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_mHxWcJyvEe-fQvLAWpmT_g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_mIB1JJyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_mICcNpyvEe-fQvLAWpmT_g" encapsulatedComponent__AssemblyContext="_mHxWd5yvEe-fQvLAWpmT_g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_mIDDQJyvEe-fQvLAWpmT_g" innerProvidedRole_ProvidedDelegationConnector="_mHxWdpyvEe-fQvLAWpmT_g" outerProvidedRole_ProvidedDelegationConnector="_mIB1IpyvEe-fQvLAWpmT_g" assemblyContext_ProvidedDelegationConnector="_mICcNpyvEe-fQvLAWpmT_g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_mIDDQ5yvEe-fQvLAWpmT_g" innerProvidedRole_ProvidedDelegationConnector="_mHxWdZyvEe-fQvLAWpmT_g" outerProvidedRole_ProvidedDelegationConnector="_mIB1I5yvEe-fQvLAWpmT_g" assemblyContext_ProvidedDelegationConnector="_mICcNpyvEe-fQvLAWpmT_g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mIB1IpyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_mHxWcpyvEe-fQvLAWpmT_g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_mIB1I5yvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_mHxWc5yvEe-fQvLAWpmT_g"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_mHwvaZyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_mBS7A5yvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_mAqo4JyvEe-fQvLAWpmT_g">
      <parameters__OperationSignature dataType__Parameter="_mBS7ApyvEe-fQvLAWpmT_g" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_mHxWcJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_mBUJI5yvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_mBST8ZyvEe-fQvLAWpmT_g">
      <parameters__OperationSignature dataType__Parameter="_mAozsJyvEe-fQvLAWpmT_g" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_mHxWcZyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_mArP8JyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_mAqo4JyvEe-fQvLAWpmT_g">
      <parameters__OperationSignature dataType__Parameter="_mAozsJyvEe-fQvLAWpmT_g" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_mHxWcpyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_mBST8pyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_mBST8ZyvEe-fQvLAWpmT_g">
      <parameters__OperationSignature dataType__Parameter="_mBST8JyvEe-fQvLAWpmT_g" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_mHxWc5yvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_mBUJIJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_mBST8ZyvEe-fQvLAWpmT_g">
      <parameters__OperationSignature dataType__Parameter="_mBTiE5yvEe-fQvLAWpmT_g" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_mBTiFJyvEe-fQvLAWpmT_g" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_mHxWdJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_mBTiEJyvEe-fQvLAWpmT_g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_mAqo4JyvEe-fQvLAWpmT_g">
      <parameters__OperationSignature dataType__Parameter="_mAozsJyvEe-fQvLAWpmT_g" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_mAozsJyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_mAqo4JyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_mBST8JyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_mBST8ZyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_mBS7ApyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_mBTiE5yvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_mBTiFJyvEe-fQvLAWpmT_g" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
