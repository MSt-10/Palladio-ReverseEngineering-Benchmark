<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_fcQ5zBlzEe-ufPPi5rk23g">
  <components__Repository xsi:type="repository:BasicComponent" id="_fb_0BxlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fb_0BhlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_fb_0ABlzEe-ufPPi5rk23g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fbQNLRlzEe-ufPPi5rk23g" describedService__SEFF="_fVvbABlzEe-ufPPi5rk23g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fWJDoRlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbNJ0BlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fbNJ0BlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fWJDoRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbNw4BlzEe-ufPPi5rk23g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbL7sBlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fbMiwBlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWLf4BlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbLUoBlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbLUoBlzEe-ufPPi5rk23g" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_fWLf4BlzEe-ufPPi5rk23g" successor_AbstractAction="_fbLUoRlzEe-ufPPi5rk23g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbLUoRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbLUoBlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fbNw4BlzEe-ufPPi5rk23g" entityName="stopWatch.start()" predecessor_AbstractAction="_fbNJ0BlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQNKhlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fbQNKhlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbNw4BlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQNKxlzEe-ufPPi5rk23g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbQNJxlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fbQNKRlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbNw4RlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbQNJRlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fbQNJRlzEe-ufPPi5rk23g" entityName="Switch Branch" predecessor_AbstractAction="_fbNw4RlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQNJhlzEe-ufPPi5rk23g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbO_DBlzEe-ufPPi5rk23g">
                <branchBehaviour_BranchTransition id="_fbPmEBlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbOX8BlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbOX8RlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbOX8RlzEe-ufPPi5rk23g" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_fbOX8BlzEe-ufPPi5rk23g" successor_AbstractAction="_fbOX_RlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_fbOX_RlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbOX8RlzEe-ufPPi5rk23g" successor_AbstractAction="_fbOX_hlzEe-ufPPi5rk23g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbOX-hlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_fbOX_BlzEe-ufPPi5rk23g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fbOX8hlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbOX-BlzEe-ufPPi5rk23g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_fbOX-BlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbOX8hlzEe-ufPPi5rk23g" successor_AbstractAction="_fbOX-RlzEe-ufPPi5rk23g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbOX9RlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_fbOX9xlzEe-ufPPi5rk23g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_fbOX8xlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbOX9BlzEe-ufPPi5rk23g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_fbOX9BlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbOX8xlzEe-ufPPi5rk23g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fbOX-RlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbOX-BlzEe-ufPPi5rk23g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbOX_hlzEe-ufPPi5rk23g" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_fbOX_RlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_ABlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbO_ABlzEe-ufPPi5rk23g" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_fbOX_hlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_ARlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbO_ARlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbO_ABlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_AhlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbO_AhlzEe-ufPPi5rk23g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fbO_ARlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_AxlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbO_AxlzEe-ufPPi5rk23g" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_fbO_AhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_BBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbO_BBlzEe-ufPPi5rk23g" entityName="deferredResult" predecessor_AbstractAction="_fbO_AxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_BRlzEe-ufPPi5rk23g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbO_BRlzEe-ufPPi5rk23g" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_fbO_BBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_BhlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbO_BhlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbO_BRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_BxlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbO_BxlzEe-ufPPi5rk23g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fbO_BhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_CBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbO_CBlzEe-ufPPi5rk23g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_fbO_BxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_CRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbO_CRlzEe-ufPPi5rk23g" entityName="deferredResult" predecessor_AbstractAction="_fbO_CBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_ChlzEe-ufPPi5rk23g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbO_ChlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbO_CRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbO_CxlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbO_CxlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbO_ChlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbPmGRlzEe-ufPPi5rk23g">
                <branchBehaviour_BranchTransition id="_fbPmGxlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbPmERlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbPmEhlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbPmEhlzEe-ufPPi5rk23g" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_fbPmERlzEe-ufPPi5rk23g" successor_AbstractAction="_fbPmExlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbPmExlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbPmEhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbPmFBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbPmFBlzEe-ufPPi5rk23g" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fbPmExlzEe-ufPPi5rk23g" successor_AbstractAction="_fbPmFRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbPmFRlzEe-ufPPi5rk23g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_fbPmFBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbPmFhlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbPmFhlzEe-ufPPi5rk23g" entityName="deferredResult" predecessor_AbstractAction="_fbPmFRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbPmFxlzEe-ufPPi5rk23g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbPmFxlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbPmFhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbPmGBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbPmGBlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbPmFxlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbQNIhlzEe-ufPPi5rk23g">
                <branchBehaviour_BranchTransition id="_fbQNJBlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbPmHBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbQNIBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbQNIBlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbPmHBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQNIRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbQNIRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbQNIBlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbQNJhlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbQNJRlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fbQNKxlzEe-ufPPi5rk23g" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_fbQNKhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQNLBlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fbQNLBlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbQNKxlzEe-ufPPi5rk23g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_fcC3URlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcC3UBlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_fb_0BBlzEe-ufPPi5rk23g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fbT3ghlzEe-ufPPi5rk23g" describedService__SEFF="_fVuM5BlzEe-ufPPi5rk23g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fbRbTxlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbRbVhlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fbRbVhlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbRbTxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCUBlzEe-ufPPi5rk23g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbRbUxlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fbRbVRlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbRbUBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbRbURlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbRbURlzEe-ufPPi5rk23g" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_fbRbUBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbRbUhlzEe-ufPPi5rk23g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbRbUhlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbRbURlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCUBlzEe-ufPPi5rk23g" entityName="stopWatch.start()" predecessor_AbstractAction="_fbRbVhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbT3gBlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fbT3gBlzEe-ufPPi5rk23g" entityName="Switch Branch" predecessor_AbstractAction="_fbSCUBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbT3gRlzEe-ufPPi5rk23g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbSpZRlzEe-ufPPi5rk23g">
          <branchBehaviour_BranchTransition id="_fbSpZxlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbSCURlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbSCUhlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCUhlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbSCURlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCUxlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCUxlzEe-ufPPi5rk23g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fbSCUhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCVBlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCVBlzEe-ufPPi5rk23g" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_fbSCUxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCVRlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCVRlzEe-ufPPi5rk23g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_fbSCVBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCVhlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbSCVhlzEe-ufPPi5rk23g" entityName="deferredResult" predecessor_AbstractAction="_fbSCVRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSpYRlzEe-ufPPi5rk23g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fbSpYRlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbSCVhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSpYhlzEe-ufPPi5rk23g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbSCYBlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fbSpYBlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbSCVxlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbSCWBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCWBlzEe-ufPPi5rk23g" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_fbSCVxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCWRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCWRlzEe-ufPPi5rk23g" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_fbSCWBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCWhlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCWhlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbSCWRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCWxlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCWxlzEe-ufPPi5rk23g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fbSCWhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCXBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCXBlzEe-ufPPi5rk23g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_fbSCWxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCXRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSCXRlzEe-ufPPi5rk23g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_fbSCXBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCXhlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbSCXhlzEe-ufPPi5rk23g" entityName="deferredResult" predecessor_AbstractAction="_fbSCXRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSCXxlzEe-ufPPi5rk23g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbSCXxlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbSCXhlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSpYhlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbSpYRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSpYxlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSpYxlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbSpYhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSpZBlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbSpZBlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbSpYxlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbTQeRlzEe-ufPPi5rk23g">
          <branchBehaviour_BranchTransition id="_fbTQexlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbSpaBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbTQdRlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fbTQdRlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbSpaBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbTQdhlzEe-ufPPi5rk23g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbTQchlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fbTQdBlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbSpaRlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbSpahlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSpahlzEe-ufPPi5rk23g" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_fbSpaRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSpaxlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSpaxlzEe-ufPPi5rk23g" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_fbSpahlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSpbBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSpbBlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbSpaxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSpbRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSpbRlzEe-ufPPi5rk23g" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fbSpbBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSpbhlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSpbhlzEe-ufPPi5rk23g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_fbSpbRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbSpbxlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbSpbxlzEe-ufPPi5rk23g" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_fbSpbhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbTQcBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbTQcBlzEe-ufPPi5rk23g" entityName="deferredResult" predecessor_AbstractAction="_fbSpbxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbTQcRlzEe-ufPPi5rk23g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbTQcRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbTQcBlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbTQdhlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbTQdRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbTQdxlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbTQdxlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbTQdhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbTQeBlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbTQeBlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbTQdxlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbTQfxlzEe-ufPPi5rk23g">
          <branchBehaviour_BranchTransition id="_fbTQgRlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbTQfBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbTQfRlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbTQfRlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbTQfBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbTQfhlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbTQfhlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbTQfRlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fbT3gRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbT3gBlzEe-ufPPi5rk23g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_fcEsixlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcEsihlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_fb_0BRlzEe-ufPPi5rk23g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fbRbTRlzEe-ufPPi5rk23g" describedService__SEFF="_fVuz8RlzEe-ufPPi5rk23g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fbQNLxlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbRbShlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fbRbShlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbQNLxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbRbSxlzEe-ufPPi5rk23g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbRbRxlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fbRbSRlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbQNMBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbRbRRlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fbRbRRlzEe-ufPPi5rk23g" entityName="Switch Branch" predecessor_AbstractAction="_fbQNMBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbRbRhlzEe-ufPPi5rk23g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbQ0PBlzEe-ufPPi5rk23g">
                <branchBehaviour_BranchTransition id="_fbQ0PhlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbQNMRlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbQ0NhlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_fbQ0NhlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbQNMRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQ0NxlzEe-ufPPi5rk23g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbQ0MxlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_fbQ0NRlzEe-ufPPi5rk23g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fbQNMhlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbQ0MRlzEe-ufPPi5rk23g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_fbQ0MRlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbQNMhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQ0MhlzEe-ufPPi5rk23g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbQNNRlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_fbQ0MBlzEe-ufPPi5rk23g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_fbQNMxlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbQNNBlzEe-ufPPi5rk23g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_fbQNNBlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbQNMxlzEe-ufPPi5rk23g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fbQ0MhlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbQ0MRlzEe-ufPPi5rk23g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbQ0NxlzEe-ufPPi5rk23g" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_fbQ0NhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQ0OBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbQ0OBlzEe-ufPPi5rk23g" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_fbQ0NxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQ0ORlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbQ0ORlzEe-ufPPi5rk23g" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_fbQ0OBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQ0OhlzEe-ufPPi5rk23g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbQ0OhlzEe-ufPPi5rk23g" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_fbQ0ORlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQ0OxlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbQ0OxlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbQ0OhlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbQ0QhlzEe-ufPPi5rk23g">
                <branchBehaviour_BranchTransition id="_fbQ0RBlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbQ0PxlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbQ0QBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbQ0QBlzEe-ufPPi5rk23g" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_fbQ0PxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbQ0QRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbQ0QRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbQ0QBlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbRbQhlzEe-ufPPi5rk23g">
                <branchBehaviour_BranchTransition id="_fbRbRBlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbRbQBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbRbQRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbRbQRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbRbQBlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbRbRhlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbRbRRlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fbRbSxlzEe-ufPPi5rk23g" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_fbRbShlzEe-ufPPi5rk23g" successor_AbstractAction="_fbRbTBlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fbRbTBlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbRbSxlzEe-ufPPi5rk23g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_fcHIwRlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcHIwBlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_fb_0AxlzEe-ufPPi5rk23g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fbVsthlzEe-ufPPi5rk23g" describedService__SEFF="_fVuM4BlzEe-ufPPi5rk23g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fbT3hBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbT3ixlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fbT3ixlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbT3hBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbT3jBlzEe-ufPPi5rk23g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbT3iBlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fbT3ihlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbT3hRlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbT3hhlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbT3hhlzEe-ufPPi5rk23g" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_fbT3hRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbT3hxlzEe-ufPPi5rk23g">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbT3hxlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbT3hhlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fbT3jBlzEe-ufPPi5rk23g" entityName="stopWatch.start()" predecessor_AbstractAction="_fbT3ixlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVstBlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fbVstBlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbT3jBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVstRlzEe-ufPPi5rk23g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbVssRlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fbVssxlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbT3jRlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbVFrBlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fbVFrBlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbT3jRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVssBlzEe-ufPPi5rk23g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbVFqRlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fbVFqxlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbT3jhlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbUepRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_fbUepRlzEe-ufPPi5rk23g" entityName="Switch Branch" predecessor_AbstractAction="_fbT3jhlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVFoBlzEe-ufPPi5rk23g">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbUelhlzEe-ufPPi5rk23g">
                      <branchBehaviour_BranchTransition id="_fbUemBlzEe-ufPPi5rk23g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fbT3jxlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbUekxlzEe-ufPPi5rk23g"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_fbUekxlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbT3jxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbUelBlzEe-ufPPi5rk23g">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbUekBlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_fbUekhlzEe-ufPPi5rk23g">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_fbT3kBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbT3kRlzEe-ufPPi5rk23g"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_fbT3kRlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbT3kBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbT3khlzEe-ufPPi5rk23g"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_fbT3khlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbT3kRlzEe-ufPPi5rk23g"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_fbUelBlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbUekxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbUelRlzEe-ufPPi5rk23g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fbUelRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbUelBlzEe-ufPPi5rk23g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbUenBlzEe-ufPPi5rk23g">
                      <branchBehaviour_BranchTransition id="_fbUenhlzEe-ufPPi5rk23g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fbUemRlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbUemhlzEe-ufPPi5rk23g"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_fbUemhlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbUemRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbUemxlzEe-ufPPi5rk23g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fbUemxlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbUemhlzEe-ufPPi5rk23g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbUeohlzEe-ufPPi5rk23g">
                      <branchBehaviour_BranchTransition id="_fbUepBlzEe-ufPPi5rk23g">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fbUenxlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbUeoBlzEe-ufPPi5rk23g"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_fbUeoBlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbUenxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbUeoRlzEe-ufPPi5rk23g"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fbUeoRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbUeoBlzEe-ufPPi5rk23g"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbVFoBlzEe-ufPPi5rk23g" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_fbUepRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVFoRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbVFoRlzEe-ufPPi5rk23g" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_fbVFoBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVFohlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbVFohlzEe-ufPPi5rk23g" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_fbVFoRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVFoxlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbVFoxlzEe-ufPPi5rk23g" entityName="stopWatch.stop()" predecessor_AbstractAction="_fbVFohlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVFpBlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbVFpBlzEe-ufPPi5rk23g" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fbVFoxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVFpRlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbVFpRlzEe-ufPPi5rk23g" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_fbVFpBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVFphlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbVFphlzEe-ufPPi5rk23g" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_fbVFpRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVFpxlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbVFpxlzEe-ufPPi5rk23g" entityName="deferredResult" predecessor_AbstractAction="_fbVFphlzEe-ufPPi5rk23g" successor_AbstractAction="_fbVFqBlzEe-ufPPi5rk23g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbVFqBlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbVFpxlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbVssBlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbVFrBlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fbVstRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbVstBlzEe-ufPPi5rk23g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_fcI9-hlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_fcI9_RlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcI9-xlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_fb_0AhlzEe-ufPPi5rk23g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcI9_BlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_fb_0ARlzEe-ufPPi5rk23g"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fbWTwhlzEe-ufPPi5rk23g" describedService__SEFF="_fU9-8BlzEe-ufPPi5rk23g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fbVsuBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbWTwBlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbWTwBlzEe-ufPPi5rk23g" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_fbVsuBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbWTwRlzEe-ufPPi5rk23g">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fbWTwRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbWTwBlzEe-ufPPi5rk23g"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fbW64hlzEe-ufPPi5rk23g" describedService__SEFF="_fVvbBRlzEe-ufPPi5rk23g">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fbWTxBlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbWT0RlzEe-ufPPi5rk23g"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fbWT0RlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbWTxBlzEe-ufPPi5rk23g" successor_AbstractAction="_fbW64BlzEe-ufPPi5rk23g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbWTyBlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fbWTyhlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbWTxRlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbWTxhlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbWTxhlzEe-ufPPi5rk23g" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_fbWTxRlzEe-ufPPi5rk23g" successor_AbstractAction="_fbWTxxlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbWTxxlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbWTxhlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbWTzhlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fbWT0BlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbWTyxlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbWTzBlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fbWTzBlzEe-ufPPi5rk23g" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_fbWTyxlzEe-ufPPi5rk23g" successor_AbstractAction="_fbWTzRlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbWTzRlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbWTzBlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fbW64BlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbWT0RlzEe-ufPPi5rk23g" successor_AbstractAction="_fbW64RlzEe-ufPPi5rk23g">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbW63RlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fbW63xlzEe-ufPPi5rk23g">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fbWT0hlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbW62xlzEe-ufPPi5rk23g"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fbW62xlzEe-ufPPi5rk23g" entityName="If Branch" predecessor_AbstractAction="_fbWT0hlzEe-ufPPi5rk23g" successor_AbstractAction="_fbW63BlzEe-ufPPi5rk23g">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbW60xlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fbW61RlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbWT0xlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbW60BlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fbW60BlzEe-ufPPi5rk23g" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_fbWT0xlzEe-ufPPi5rk23g" successor_AbstractAction="_fbW60RlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fbW60RlzEe-ufPPi5rk23g" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_fbW60BlzEe-ufPPi5rk23g" successor_AbstractAction="_fbW60hlzEe-ufPPi5rk23g">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbW60hlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbW60RlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fbW62BlzEe-ufPPi5rk23g" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fbW62hlzEe-ufPPi5rk23g">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fbW61hlzEe-ufPPi5rk23g" entityName="Start Action" successor_AbstractAction="_fbW61xlzEe-ufPPi5rk23g"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fbW61xlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbW61hlzEe-ufPPi5rk23g"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fbW63BlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbW62xlzEe-ufPPi5rk23g"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fbW64RlzEe-ufPPi5rk23g" entityName="Stop Action" predecessor_AbstractAction="_fbW64BlzEe-ufPPi5rk23g"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fcQSsBlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_fcQ5xBlzEe-ufPPi5rk23g" encapsulatedComponent__AssemblyContext="_fcI9-hlzEe-ufPPi5rk23g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fcQSshlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_fcQ5wBlzEe-ufPPi5rk23g" encapsulatedComponent__AssemblyContext="_fb_0BxlzEe-ufPPi5rk23g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fcSH5RlzEe-ufPPi5rk23g" innerProvidedRole_ProvidedDelegationConnector="_fb_0BhlzEe-ufPPi5rk23g" outerProvidedRole_ProvidedDelegationConnector="_fcQSsRlzEe-ufPPi5rk23g" assemblyContext_ProvidedDelegationConnector="_fcQ5wBlzEe-ufPPi5rk23g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcQSsRlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_fb_0ABlzEe-ufPPi5rk23g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fcQStBlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_fcQ5yhlzEe-ufPPi5rk23g" encapsulatedComponent__AssemblyContext="_fcC3URlzEe-ufPPi5rk23g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fcSH4hlzEe-ufPPi5rk23g" innerProvidedRole_ProvidedDelegationConnector="_fcC3UBlzEe-ufPPi5rk23g" outerProvidedRole_ProvidedDelegationConnector="_fcQSsxlzEe-ufPPi5rk23g" assemblyContext_ProvidedDelegationConnector="_fcQ5yhlzEe-ufPPi5rk23g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcQSsxlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_fb_0BBlzEe-ufPPi5rk23g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fcQSthlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_fcQ5yBlzEe-ufPPi5rk23g" encapsulatedComponent__AssemblyContext="_fcEsixlzEe-ufPPi5rk23g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fcSH4RlzEe-ufPPi5rk23g" innerProvidedRole_ProvidedDelegationConnector="_fcEsihlzEe-ufPPi5rk23g" outerProvidedRole_ProvidedDelegationConnector="_fcQStRlzEe-ufPPi5rk23g" assemblyContext_ProvidedDelegationConnector="_fcQ5yBlzEe-ufPPi5rk23g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcQStRlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_fb_0BRlzEe-ufPPi5rk23g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fcQSuBlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_fcQ5xhlzEe-ufPPi5rk23g" encapsulatedComponent__AssemblyContext="_fcHIwRlzEe-ufPPi5rk23g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fcSH4xlzEe-ufPPi5rk23g" innerProvidedRole_ProvidedDelegationConnector="_fcHIwBlzEe-ufPPi5rk23g" outerProvidedRole_ProvidedDelegationConnector="_fcQStxlzEe-ufPPi5rk23g" assemblyContext_ProvidedDelegationConnector="_fcQ5xhlzEe-ufPPi5rk23g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcQStxlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_fb_0AxlzEe-ufPPi5rk23g"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fcQSuxlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_fcQ5whlzEe-ufPPi5rk23g" encapsulatedComponent__AssemblyContext="_fcI9_RlzEe-ufPPi5rk23g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fcSH4BlzEe-ufPPi5rk23g" innerProvidedRole_ProvidedDelegationConnector="_fcI9-xlzEe-ufPPi5rk23g" outerProvidedRole_ProvidedDelegationConnector="_fcQSuRlzEe-ufPPi5rk23g" assemblyContext_ProvidedDelegationConnector="_fcQ5whlzEe-ufPPi5rk23g"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fcSH5BlzEe-ufPPi5rk23g" innerProvidedRole_ProvidedDelegationConnector="_fcI9_BlzEe-ufPPi5rk23g" outerProvidedRole_ProvidedDelegationConnector="_fcQSuhlzEe-ufPPi5rk23g" assemblyContext_ProvidedDelegationConnector="_fcQ5whlzEe-ufPPi5rk23g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcQSuRlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_fb_0AhlzEe-ufPPi5rk23g"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fcQSuhlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_fb_0ARlzEe-ufPPi5rk23g"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fb_0ABlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_fVvbABlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_fVtl0RlzEe-ufPPi5rk23g">
      <parameters__OperationSignature dataType__Parameter="_fVtl0BlzEe-ufPPi5rk23g" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fb_0ARlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_fVvbBRlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_fU9X4BlzEe-ufPPi5rk23g">
      <parameters__OperationSignature dataType__Parameter="_fVvbAxlzEe-ufPPi5rk23g" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_fVvbBBlzEe-ufPPi5rk23g" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fb_0AhlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_fU9-8BlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_fU9X4BlzEe-ufPPi5rk23g">
      <parameters__OperationSignature dataType__Parameter="_fU8JwBlzEe-ufPPi5rk23g" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fb_0AxlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_fVuM4BlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_fVtl0RlzEe-ufPPi5rk23g">
      <parameters__OperationSignature dataType__Parameter="_fVtl0BlzEe-ufPPi5rk23g" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fb_0BBlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_fVuM5BlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_fVtl0RlzEe-ufPPi5rk23g">
      <parameters__OperationSignature dataType__Parameter="_fVuM4xlzEe-ufPPi5rk23g" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fb_0BRlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_fVuz8RlzEe-ufPPi5rk23g" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_fU9X4BlzEe-ufPPi5rk23g">
      <parameters__OperationSignature dataType__Parameter="_fVtl0BlzEe-ufPPi5rk23g" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fU8JwBlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fU9X4BlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fVtl0BlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fVtl0RlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fVuM4xlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fVvbAxlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fVvbBBlzEe-ufPPi5rk23g" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
