<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_gzecDNHwEe6UnNM_YF2PsA">
  <components__Repository xsi:type="repository:BasicComponent" id="_gyxRYdHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gywqUNHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_gywDQ9HwEe6UnNM_YF2PsA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gyxRYNHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_gywDQ9HwEe6UnNM_YF2PsA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gr_7A9HwEe6UnNM_YF2PsA" describedService__SEFF="_gr_7AtHwEe6UnNM_YF2PsA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gy3YC9HwEe6UnNM_YF2PsA" describedService__SEFF="_gr-s5dHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gy3YCdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gy3YCtHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gy3YCtHwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gy3YCdHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gy50RNHwEe6UnNM_YF2PsA" describedService__SEFF="_gr-s49HwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gy50QtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gy50Q9HwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gy50Q9HwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gy50QtHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gy-szNHwEe6UnNM_YF2PsA" describedService__SEFF="_gr-s5dHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gy-sytHwEe6UnNM_YF2PsA" successor_AbstractAction="_gy-sy9HwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gy-sy9HwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gy-sytHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gzBJC9HwEe6UnNM_YF2PsA" describedService__SEFF="_gr-s49HwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gzBJCdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gzBJCtHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gzBJCtHwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gzBJCdHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_gzBJDNHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_gzBJD9HwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzBJDdHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_gywDQNHwEe6UnNM_YF2PsA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzBJDtHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_gywDQtHwEe6UnNM_YF2PsA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gzC-PNHwEe6UnNM_YF2PsA" describedService__SEFF="_gr-F0tHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gzC-OtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gzC-O9HwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gzC-O9HwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gzC-OtHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gyN31tHwEe6UnNM_YF2PsA" describedService__SEFF="_gr-F0NHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gyNQtNHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyN3wdHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gyN3wdHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyNQtNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyN31NHwEe6UnNM_YF2PsA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyNQuNHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gyNQutHwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyNQtdHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyNQttHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyNQttHwEe6UnNM_YF2PsA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_gyNQtdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyNQt9HwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyNQt9HwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyNQttHwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyNQvtHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gyN3wNHwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyNQu9HwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyNQvNHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyNQvNHwEe6UnNM_YF2PsA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_gyNQu9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyNQvdHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyNQvdHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyNQvNHwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gyN31NHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyN3wdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyN31dHwEe6UnNM_YF2PsA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyN30dHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gyN309HwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyN3wtHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyN3z9HwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gyN3z9HwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyN3wtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyN30NHwEe6UnNM_YF2PsA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyN3x9HwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gyN3ydHwEe6UnNM_YF2PsA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gyN3w9HwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyN3xNHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyN3xNHwEe6UnNM_YF2PsA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_gyN3w9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyN3xdHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyN3xdHwEe6UnNM_YF2PsA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_gyN3xNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyN3xtHwEe6UnNM_YF2PsA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gyN3xtHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyN3xdHwEe6UnNM_YF2PsA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyN3zNHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gyN3ztHwEe6UnNM_YF2PsA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gyN3ytHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyN3y9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gyN3y9HwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyN3ytHwEe6UnNM_YF2PsA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyN30NHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyN3z9HwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gyN31dHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyN31NHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gyNQstHwEe6UnNM_YF2PsA" describedService__SEFF="_grN34NHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gyMpqdHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyNQsNHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyNQsNHwEe6UnNM_YF2PsA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_gyMpqdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyNQsdHwEe6UnNM_YF2PsA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gyNQsdHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyNQsNHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gzJr4tHwEe6UnNM_YF2PsA" describedService__SEFF="_grPtEdHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gzJr4NHwEe6UnNM_YF2PsA" successor_AbstractAction="_gzJr4dHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gzJr4dHwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gzJr4NHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_gzJr5NHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzJr49HwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_gywDQ9HwEe6UnNM_YF2PsA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gzMIKdHwEe6UnNM_YF2PsA" describedService__SEFF="_gr_7AtHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gzMIJ9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gzMIKNHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gzMIKNHwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gzMIJ9HwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gzRArNHwEe6UnNM_YF2PsA" describedService__SEFF="_gr-s5dHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gzRAqtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gzRAq9HwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gzRAq9HwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gzRAqtHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gyHKF9HwEe6UnNM_YF2PsA" describedService__SEFF="_gr-s49HwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gsmX8NHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyEGwNHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gyEGwNHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gsmX8NHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyEGwdHwEe6UnNM_YF2PsA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyC4oNHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gyDfsNHwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gsoNINHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyCRkNHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyCRkNHwEe6UnNM_YF2PsA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_gsoNINHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyCRkdHwEe6UnNM_YF2PsA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyCRkdHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyCRkNHwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_gyEGwdHwEe6UnNM_YF2PsA" entityName="stopWatch.start()" predecessor_AbstractAction="_gyEGwNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyHKFNHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gyHKFNHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyEGwdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyHKFdHwEe6UnNM_YF2PsA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyHKEdHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gyHKE9HwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyEt0NHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyGjD9HwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gyGjD9HwEe6UnNM_YF2PsA" entityName="Switch Branch" predecessor_AbstractAction="_gyEt0NHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyHKENHwEe6UnNM_YF2PsA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyF79dHwEe6UnNM_YF2PsA">
                <branchBehaviour_BranchTransition id="_gyF799HwEe6UnNM_YF2PsA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gyEt0dHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyEt0tHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyEt0tHwEe6UnNM_YF2PsA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_gyEt0dHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU6NHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_gyFU6NHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyEt0tHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU6dHwEe6UnNM_YF2PsA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyFU5dHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_gyFU59HwEe6UnNM_YF2PsA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_gyEt09HwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyFU49HwEe6UnNM_YF2PsA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_gyFU49HwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyEt09HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU5NHwEe6UnNM_YF2PsA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyFU4NHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_gyFU4tHwEe6UnNM_YF2PsA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_gyEt1NHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyEt1dHwEe6UnNM_YF2PsA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_gyEt1dHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyEt1NHwEe6UnNM_YF2PsA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_gyFU5NHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyFU49HwEe6UnNM_YF2PsA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyFU6dHwEe6UnNM_YF2PsA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_gyFU6NHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU6tHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyFU6tHwEe6UnNM_YF2PsA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_gyFU6dHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU69HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyFU69HwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyFU6tHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU7NHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyFU7NHwEe6UnNM_YF2PsA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gyFU69HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU7dHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyFU7dHwEe6UnNM_YF2PsA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_gyFU7NHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU7tHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyFU7tHwEe6UnNM_YF2PsA" entityName="deferredResult" predecessor_AbstractAction="_gyFU7dHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU79HwEe6UnNM_YF2PsA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyFU79HwEe6UnNM_YF2PsA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_gyFU7tHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyFU8NHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyFU8NHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyFU79HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyF78NHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyF78NHwEe6UnNM_YF2PsA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gyFU8NHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyF78dHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyF78dHwEe6UnNM_YF2PsA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_gyF78NHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyF78tHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyF78tHwEe6UnNM_YF2PsA" entityName="deferredResult" predecessor_AbstractAction="_gyF78dHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyF789HwEe6UnNM_YF2PsA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyF789HwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyF78tHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyF79NHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gyF79NHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyF789HwEe6UnNM_YF2PsA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyGjBtHwEe6UnNM_YF2PsA">
                <branchBehaviour_BranchTransition id="_gyGjCNHwEe6UnNM_YF2PsA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gyF7-NHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyF7-dHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyF7-dHwEe6UnNM_YF2PsA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_gyF7-NHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyGjANHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyGjANHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyF7-dHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyGjAdHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyGjAdHwEe6UnNM_YF2PsA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gyGjANHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyGjAtHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyGjAtHwEe6UnNM_YF2PsA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_gyGjAdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyGjA9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyGjA9HwEe6UnNM_YF2PsA" entityName="deferredResult" predecessor_AbstractAction="_gyGjAtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyGjBNHwEe6UnNM_YF2PsA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyGjBNHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyGjA9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyGjBdHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gyGjBdHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyGjBNHwEe6UnNM_YF2PsA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyGjDNHwEe6UnNM_YF2PsA">
                <branchBehaviour_BranchTransition id="_gyGjDtHwEe6UnNM_YF2PsA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gyGjCdHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyGjCtHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyGjCtHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyGjCdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyGjC9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gyGjC9HwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyGjCtHwEe6UnNM_YF2PsA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyHKENHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyGjD9HwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_gyHKFdHwEe6UnNM_YF2PsA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_gyHKFNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyHKFtHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gyHKFtHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyHKFdHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_gzTc4dHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzTc4NHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_gywDRNHwEe6UnNM_YF2PsA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gzVSFdHwEe6UnNM_YF2PsA" describedService__SEFF="_gr_7ANHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gzVSE9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gzVSFNHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gzVSFNHwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gzVSE9HwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gyK0fdHwEe6UnNM_YF2PsA" describedService__SEFF="_gr_T8tHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gyI_QdHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyI_SNHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gyI_SNHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyI_QdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyI_SdHwEe6UnNM_YF2PsA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyI_RdHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gyI_R9HwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyI_QtHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyI_Q9HwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyI_Q9HwEe6UnNM_YF2PsA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_gyI_QtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyI_RNHwEe6UnNM_YF2PsA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyI_RNHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyI_Q9HwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_gyI_SdHwEe6UnNM_YF2PsA" entityName="stopWatch.start()" predecessor_AbstractAction="_gyI_SNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyK0e9HwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gyK0e9HwEe6UnNM_YF2PsA" entityName="Switch Branch" predecessor_AbstractAction="_gyI_SdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyK0fNHwEe6UnNM_YF2PsA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyJmYNHwEe6UnNM_YF2PsA">
          <branchBehaviour_BranchTransition id="_gyJmYtHwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyI_StHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyI_S9HwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyI_S9HwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyI_StHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyI_TNHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyI_TNHwEe6UnNM_YF2PsA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gyI_S9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyI_TdHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyI_TdHwEe6UnNM_YF2PsA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_gyI_TNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyI_TtHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyI_TtHwEe6UnNM_YF2PsA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_gyI_TdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyI_T9HwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyI_T9HwEe6UnNM_YF2PsA" entityName="deferredResult" predecessor_AbstractAction="_gyI_TtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmXNHwEe6UnNM_YF2PsA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gyJmXNHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyI_T9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmXdHwEe6UnNM_YF2PsA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyJmWdHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gyJmW9HwEe6UnNM_YF2PsA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gyJmUNHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyJmUdHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyJmUdHwEe6UnNM_YF2PsA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_gyJmUNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmUtHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyJmUtHwEe6UnNM_YF2PsA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_gyJmUdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmU9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyJmU9HwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyJmUtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmVNHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyJmVNHwEe6UnNM_YF2PsA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gyJmU9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmVdHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyJmVdHwEe6UnNM_YF2PsA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_gyJmVNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmVtHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyJmVtHwEe6UnNM_YF2PsA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_gyJmVdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmV9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyJmV9HwEe6UnNM_YF2PsA" entityName="deferredResult" predecessor_AbstractAction="_gyJmVtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmWNHwEe6UnNM_YF2PsA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gyJmWNHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyJmV9HwEe6UnNM_YF2PsA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyJmXdHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyJmXNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmXtHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyJmXtHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyJmXdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyJmX9HwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyJmX9HwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyJmXtHwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyK0ctHwEe6UnNM_YF2PsA">
          <branchBehaviour_BranchTransition id="_gyK0dNHwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyKNYNHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyKNbdHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gyKNbdHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyKNYNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyKNbtHwEe6UnNM_YF2PsA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyKNatHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gyKNbNHwEe6UnNM_YF2PsA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gyKNYdHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyKNYtHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyKNYtHwEe6UnNM_YF2PsA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_gyKNYdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyKNY9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyKNY9HwEe6UnNM_YF2PsA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_gyKNYtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyKNZNHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyKNZNHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyKNY9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyKNZdHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyKNZdHwEe6UnNM_YF2PsA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gyKNZNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyKNZtHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyKNZtHwEe6UnNM_YF2PsA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_gyKNZdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyKNZ9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyKNZ9HwEe6UnNM_YF2PsA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_gyKNZtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyKNaNHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyKNaNHwEe6UnNM_YF2PsA" entityName="deferredResult" predecessor_AbstractAction="_gyKNZ9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyKNadHwEe6UnNM_YF2PsA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gyKNadHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyKNaNHwEe6UnNM_YF2PsA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyKNbtHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyKNbdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyK0cNHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyK0cNHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyKNbtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyK0cdHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyK0cdHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyK0cNHwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyK0eNHwEe6UnNM_YF2PsA">
          <branchBehaviour_BranchTransition id="_gyK0etHwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyK0ddHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyK0dtHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_gyK0dtHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyK0ddHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyK0d9HwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyK0d9HwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyK0dtHwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gyK0fNHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyK0e9HwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_gzXHR9HwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzXHRtHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_gywDQdHwEe6UnNM_YF2PsA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gzY8etHwEe6UnNM_YF2PsA" describedService__SEFF="_gsFaktHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gzY8eNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gzY8edHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gzY8edHwEe6UnNM_YF2PsA" predecessor_AbstractAction="_gzY8eNHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_gyMpp9HwEe6UnNM_YF2PsA" describedService__SEFF="_gsFakNHwEe6UnNM_YF2PsA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_gyK0f9HwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyLbgNHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gyLbgNHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyK0f9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyLbgdHwEe6UnNM_YF2PsA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyK0g9HwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gyK0hdHwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyK0gNHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyK0gdHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyK0gdHwEe6UnNM_YF2PsA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_gyK0gNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyK0gtHwEe6UnNM_YF2PsA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyK0gtHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyK0gdHwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_gyLbgdHwEe6UnNM_YF2PsA" entityName="stopWatch.start()" predecessor_AbstractAction="_gyLbgNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMppdHwEe6UnNM_YF2PsA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_gyMppdHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyLbgdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMpptHwEe6UnNM_YF2PsA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyMpotHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_gyMppNHwEe6UnNM_YF2PsA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_gyLbgtHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyMpoNHwEe6UnNM_YF2PsA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_gyMpoNHwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyLbgtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMpodHwEe6UnNM_YF2PsA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyMCndHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_gyMCn9HwEe6UnNM_YF2PsA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_gyLbg9HwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyMCk9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_gyMCk9HwEe6UnNM_YF2PsA" entityName="Switch Branch" predecessor_AbstractAction="_gyLbg9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMClNHwEe6UnNM_YF2PsA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyLbjtHwEe6UnNM_YF2PsA">
                      <branchBehaviour_BranchTransition id="_gyLbkNHwEe6UnNM_YF2PsA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_gyLbhNHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyLbi9HwEe6UnNM_YF2PsA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_gyLbi9HwEe6UnNM_YF2PsA" entityName="If Branch" predecessor_AbstractAction="_gyLbhNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyLbjNHwEe6UnNM_YF2PsA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyLbiNHwEe6UnNM_YF2PsA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_gyLbitHwEe6UnNM_YF2PsA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_gyLbhdHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyLbhtHwEe6UnNM_YF2PsA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_gyLbhtHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyLbhdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyLbh9HwEe6UnNM_YF2PsA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_gyLbh9HwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyLbhtHwEe6UnNM_YF2PsA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_gyLbjNHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyLbi9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyLbjdHwEe6UnNM_YF2PsA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_gyLbjdHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyLbjNHwEe6UnNM_YF2PsA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyLblNHwEe6UnNM_YF2PsA">
                      <branchBehaviour_BranchTransition id="_gyLbltHwEe6UnNM_YF2PsA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_gyLbkdHwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyLbktHwEe6UnNM_YF2PsA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_gyLbktHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyLbkdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyLbk9HwEe6UnNM_YF2PsA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_gyLbk9HwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyLbktHwEe6UnNM_YF2PsA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_gyMCkNHwEe6UnNM_YF2PsA">
                      <branchBehaviour_BranchTransition id="_gyMCktHwEe6UnNM_YF2PsA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_gyLbl9HwEe6UnNM_YF2PsA" entityName="Start Action" successor_AbstractAction="_gyLbmNHwEe6UnNM_YF2PsA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_gyLbmNHwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyLbl9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyLbmdHwEe6UnNM_YF2PsA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_gyLbmdHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyLbmNHwEe6UnNM_YF2PsA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyMClNHwEe6UnNM_YF2PsA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_gyMCk9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMCldHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyMCldHwEe6UnNM_YF2PsA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_gyMClNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMCltHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyMCltHwEe6UnNM_YF2PsA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_gyMCldHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMCl9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyMCl9HwEe6UnNM_YF2PsA" entityName="stopWatch.stop()" predecessor_AbstractAction="_gyMCltHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMCmNHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyMCmNHwEe6UnNM_YF2PsA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_gyMCl9HwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMCmdHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyMCmdHwEe6UnNM_YF2PsA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_gyMCmNHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMCmtHwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_gyMCmtHwEe6UnNM_YF2PsA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_gyMCmdHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMCm9HwEe6UnNM_YF2PsA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_gyMCm9HwEe6UnNM_YF2PsA" entityName="deferredResult" predecessor_AbstractAction="_gyMCmtHwEe6UnNM_YF2PsA" successor_AbstractAction="_gyMCnNHwEe6UnNM_YF2PsA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_gyMCnNHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyMCm9HwEe6UnNM_YF2PsA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_gyMpodHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyMpoNHwEe6UnNM_YF2PsA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_gyMpptHwEe6UnNM_YF2PsA" entityName="Stop Action" predecessor_AbstractAction="_gyMppdHwEe6UnNM_YF2PsA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gzcm0dHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_gzecBtHwEe6UnNM_YF2PsA" encapsulatedComponent__AssemblyContext="_gzTc4dHwEe6UnNM_YF2PsA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gzfqINHwEe6UnNM_YF2PsA" innerProvidedRole_ProvidedDelegationConnector="_gzTc4NHwEe6UnNM_YF2PsA" outerProvidedRole_ProvidedDelegationConnector="_gzcm0NHwEe6UnNM_YF2PsA" assemblyContext_ProvidedDelegationConnector="_gzecBtHwEe6UnNM_YF2PsA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzcm0NHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_gywDRNHwEe6UnNM_YF2PsA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gzdN4dHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_gzecANHwEe6UnNM_YF2PsA" encapsulatedComponent__AssemblyContext="_gzJr5NHwEe6UnNM_YF2PsA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gzfDEdHwEe6UnNM_YF2PsA" innerProvidedRole_ProvidedDelegationConnector="_gzJr49HwEe6UnNM_YF2PsA" outerProvidedRole_ProvidedDelegationConnector="_gzdN4NHwEe6UnNM_YF2PsA" assemblyContext_ProvidedDelegationConnector="_gzecANHwEe6UnNM_YF2PsA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzdN4NHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_gywDQ9HwEe6UnNM_YF2PsA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gzdN49HwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_gzecCNHwEe6UnNM_YF2PsA" encapsulatedComponent__AssemblyContext="_gzXHR9HwEe6UnNM_YF2PsA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gzfDEtHwEe6UnNM_YF2PsA" innerProvidedRole_ProvidedDelegationConnector="_gzXHRtHwEe6UnNM_YF2PsA" outerProvidedRole_ProvidedDelegationConnector="_gzdN4tHwEe6UnNM_YF2PsA" assemblyContext_ProvidedDelegationConnector="_gzecCNHwEe6UnNM_YF2PsA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzdN4tHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_gywDQdHwEe6UnNM_YF2PsA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gzdN5NHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_gzecBNHwEe6UnNM_YF2PsA" encapsulatedComponent__AssemblyContext="_gzBJDNHwEe6UnNM_YF2PsA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gzdN59HwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_gzecAtHwEe6UnNM_YF2PsA" encapsulatedComponent__AssemblyContext="_gzBJD9HwEe6UnNM_YF2PsA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gzfqIdHwEe6UnNM_YF2PsA" innerProvidedRole_ProvidedDelegationConnector="_gzBJDtHwEe6UnNM_YF2PsA" outerProvidedRole_ProvidedDelegationConnector="_gzdN5dHwEe6UnNM_YF2PsA" assemblyContext_ProvidedDelegationConnector="_gzecAtHwEe6UnNM_YF2PsA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gzfqI9HwEe6UnNM_YF2PsA" innerProvidedRole_ProvidedDelegationConnector="_gzBJDdHwEe6UnNM_YF2PsA" outerProvidedRole_ProvidedDelegationConnector="_gzdN5tHwEe6UnNM_YF2PsA" assemblyContext_ProvidedDelegationConnector="_gzecAtHwEe6UnNM_YF2PsA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzdN5dHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_gywDQtHwEe6UnNM_YF2PsA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzdN5tHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_gywDQNHwEe6UnNM_YF2PsA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_gzd08dHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_gzecCtHwEe6UnNM_YF2PsA" encapsulatedComponent__AssemblyContext="_gyxRYdHwEe6UnNM_YF2PsA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gzfDENHwEe6UnNM_YF2PsA" innerProvidedRole_ProvidedDelegationConnector="_gywqUNHwEe6UnNM_YF2PsA" outerProvidedRole_ProvidedDelegationConnector="_gzdN6NHwEe6UnNM_YF2PsA" assemblyContext_ProvidedDelegationConnector="_gzecCtHwEe6UnNM_YF2PsA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_gzfqItHwEe6UnNM_YF2PsA" innerProvidedRole_ProvidedDelegationConnector="_gywqUNHwEe6UnNM_YF2PsA" outerProvidedRole_ProvidedDelegationConnector="_gzdN6NHwEe6UnNM_YF2PsA" assemblyContext_ProvidedDelegationConnector="_gzecCtHwEe6UnNM_YF2PsA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzdN6NHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_gywDQ9HwEe6UnNM_YF2PsA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_gzd08NHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_gywDQ9HwEe6UnNM_YF2PsA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gywDQNHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_gr-F0tHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]$2" returnType__OperationSignature="_grNQ0NHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_gr9ewNHwEe6UnNM_YF2PsA" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_gr9ewdHwEe6UnNM_YF2PsA" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
    <signatures__OperationInterface id="_gr-F0NHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_grNQ0NHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_gr9ewNHwEe6UnNM_YF2PsA" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_gr9ewdHwEe6UnNM_YF2PsA" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gywDQdHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_gsFaktHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan[POST]$2" returnType__OperationSignature="_gr-s4tHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_gr-s4dHwEe6UnNM_YF2PsA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
    <signatures__OperationInterface id="_gsFakNHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_gr-s4tHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_gr-s4dHwEe6UnNM_YF2PsA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gywDQtHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_grN34NHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_grNQ0NHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_grMCsNHwEe6UnNM_YF2PsA" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
    <signatures__OperationInterface id="_grPtEdHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]$2" returnType__OperationSignature="_grNQ0NHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_grMCsNHwEe6UnNM_YF2PsA" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gywDQ9HwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_gr_7AtHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$3" returnType__OperationSignature="_grNQ0NHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_gr-s4dHwEe6UnNM_YF2PsA" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
    <signatures__OperationInterface id="_gr-s5dHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_gr-s4tHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_gr-s4dHwEe6UnNM_YF2PsA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
    <signatures__OperationInterface id="_gr-s49HwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_gr-s4tHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_gr-s4dHwEe6UnNM_YF2PsA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gywDRNHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_gr_7ANHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]$2" returnType__OperationSignature="_gr-s4tHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_gr_T8dHwEe6UnNM_YF2PsA" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
    <signatures__OperationInterface id="_gr_T8tHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_gr-s4tHwEe6UnNM_YF2PsA">
      <parameters__OperationSignature dataType__Parameter="_gr_T8dHwEe6UnNM_YF2PsA" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_gywDRdHwEe6UnNM_YF2PsA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_grMCsNHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_grNQ0NHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gr9ewNHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gr9ewdHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gr-s4dHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gr-s4tHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_gr_T8dHwEe6UnNM_YF2PsA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
