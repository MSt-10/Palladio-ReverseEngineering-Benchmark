<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_FQQXzLKxEe-jx9vffkgxYw">
  <components__Repository xsi:type="repository:BasicComponent" id="_FP-D5rKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FP-D5LKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_FP-D4bKxEe-jx9vffkgxYw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FP-D5bKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_FP9c1LKxEe-jx9vffkgxYw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_FPI9crKxEe-jx9vffkgxYw" describedService__SEFF="_FJQX4bKxEe-jx9vffkgxYw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_FJtq4bKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPI9cLKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPI9cLKxEe-jx9vffkgxYw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_FJtq4bKxEe-jx9vffkgxYw" successor_AbstractAction="_FPI9cbKxEe-jx9vffkgxYw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_FPI9cbKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPI9cLKxEe-jx9vffkgxYw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_FPMn17KxEe-jx9vffkgxYw" describedService__SEFF="_FIeUwLKxEe-jx9vffkgxYw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_FPI9dLKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPMAwLKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_FPMAwLKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPI9dLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPMn1bKxEe-jx9vffkgxYw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPKyoLKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_FPLZsLKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPJkgLKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPKLkLKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPKLkLKxEe-jx9vffkgxYw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_FPJkgLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPKLkbKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPKLkbKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPKLkLKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPLZtLKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_FPLZtrKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPLZsbKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPLZsrKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPLZsrKxEe-jx9vffkgxYw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_FPLZsbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPLZs7KxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPLZs7KxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPLZsrKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_FPMn1bKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPMAwLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPMn1rKxEe-jx9vffkgxYw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPMn0rKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_FPMn1LKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPMAwbKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPMn0LKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_FPMn0LKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPMAwbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPMn0bKxEe-jx9vffkgxYw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPMAxrKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_FPMAyLKxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPMAwrKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPMAw7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPMAw7KxEe-jx9vffkgxYw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_FPMAwrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPMAxLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPMAxLKxEe-jx9vffkgxYw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_FPMAw7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPMAxbKxEe-jx9vffkgxYw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPMAxbKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPMAxLKxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPMAy7KxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_FPMAzbKxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPMAybKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPMAyrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPMAyrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPMAybKxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPMn0bKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPMn0LKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_FPMn1rKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPMn1bKxEe-jx9vffkgxYw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_FQEKhbKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQEKhLKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_FP-D47KxEe-jx9vffkgxYw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_FPQ5U7KxEe-jx9vffkgxYw" describedService__SEFF="_FJRmA7KxEe-jx9vffkgxYw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_FPPrMLKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPQ5ULKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_FPQ5ULKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPPrMLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPQ5UbKxEe-jx9vffkgxYw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPQ5TbKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_FPQ5T7KxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPPrMbKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPQ5S7KxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_FPQ5S7KxEe-jx9vffkgxYw" entityName="Switch Branch" predecessor_AbstractAction="_FPPrMbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPQ5TLKxEe-jx9vffkgxYw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPQSQbKxEe-jx9vffkgxYw">
                <branchBehaviour_BranchTransition id="_FPQSQ7KxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPPrMrKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPQSO7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_FPQSO7KxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPPrMrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPQSPLKxEe-jx9vffkgxYw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPQSOLKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_FPQSOrKxEe-jx9vffkgxYw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_FPQSMLKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPQSNrKxEe-jx9vffkgxYw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_FPQSNrKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPQSMLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPQSN7KxEe-jx9vffkgxYw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPQSM7KxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_FPQSNbKxEe-jx9vffkgxYw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_FPQSMbKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPQSMrKxEe-jx9vffkgxYw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_FPQSMrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPQSMbKxEe-jx9vffkgxYw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_FPQSN7KxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPQSNrKxEe-jx9vffkgxYw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPQSPLKxEe-jx9vffkgxYw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_FPQSO7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPQSPbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPQSPbKxEe-jx9vffkgxYw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_FPQSPLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPQSPrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPQSPrKxEe-jx9vffkgxYw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_FPQSPbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPQSP7KxEe-jx9vffkgxYw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPQSP7KxEe-jx9vffkgxYw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_FPQSPrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPQSQLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPQSQLKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPQSP7KxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPQ5Q7KxEe-jx9vffkgxYw">
                <branchBehaviour_BranchTransition id="_FPQ5RbKxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPQ5QLKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPQ5QbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPQ5QbKxEe-jx9vffkgxYw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_FPQ5QLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPQ5QrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPQ5QrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPQ5QbKxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPQ5SLKxEe-jx9vffkgxYw">
                <branchBehaviour_BranchTransition id="_FPQ5SrKxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPQ5RrKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPQ5R7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPQ5R7KxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPQ5RrKxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPQ5TLKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPQ5S7KxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_FPQ5UbKxEe-jx9vffkgxYw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_FPQ5ULKxEe-jx9vffkgxYw" successor_AbstractAction="_FPQ5UrKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_FPQ5UrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPQ5UbKxEe-jx9vffkgxYw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_FQGmy7KxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQGmyrKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_FP-D4rKxEe-jx9vffkgxYw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_FPSufLKxEe-jx9vffkgxYw" describedService__SEFF="_FJSNErKxEe-jx9vffkgxYw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_FPQ5VbKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPRgVrKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_FPRgVrKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPQ5VbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPRgV7KxEe-jx9vffkgxYw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPRgU7KxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_FPRgVbKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPRgULKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPRgUbKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPRgUbKxEe-jx9vffkgxYw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_FPRgULKxEe-jx9vffkgxYw" successor_AbstractAction="_FPRgUrKxEe-jx9vffkgxYw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPRgUrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPRgUbKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_FPRgV7KxEe-jx9vffkgxYw" entityName="stopWatch.start()" predecessor_AbstractAction="_FPRgVrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSuerKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_FPSuerKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPRgV7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPSue7KxEe-jx9vffkgxYw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPSud7KxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_FPSuebKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPRgWLKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPSudbKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_FPSudbKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPRgWLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSudrKxEe-jx9vffkgxYw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPSucrKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_FPSudLKxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPRgWbKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPSHa7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_FPSHa7KxEe-jx9vffkgxYw" entityName="Switch Branch" predecessor_AbstractAction="_FPRgWbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSHbLKxEe-jx9vffkgxYw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPRgZLKxEe-jx9vffkgxYw">
                      <branchBehaviour_BranchTransition id="_FPRgZrKxEe-jx9vffkgxYw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_FPRgWrKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPRgYbKxEe-jx9vffkgxYw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_FPRgYbKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPRgWrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPRgYrKxEe-jx9vffkgxYw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPRgXrKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_FPRgYLKxEe-jx9vffkgxYw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_FPRgW7KxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPRgXLKxEe-jx9vffkgxYw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_FPRgXLKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPRgW7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPRgXbKxEe-jx9vffkgxYw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_FPRgXbKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPRgXLKxEe-jx9vffkgxYw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_FPRgYrKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPRgYbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPRgY7KxEe-jx9vffkgxYw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_FPRgY7KxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPRgYrKxEe-jx9vffkgxYw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPSHYrKxEe-jx9vffkgxYw">
                      <branchBehaviour_BranchTransition id="_FPSHZLKxEe-jx9vffkgxYw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_FPRgZ7KxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPSHYLKxEe-jx9vffkgxYw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_FPSHYLKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPRgZ7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPSHYbKxEe-jx9vffkgxYw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_FPSHYbKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPSHYLKxEe-jx9vffkgxYw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPSHaLKxEe-jx9vffkgxYw">
                      <branchBehaviour_BranchTransition id="_FPSHarKxEe-jx9vffkgxYw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_FPSHZbKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPSHZrKxEe-jx9vffkgxYw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_FPSHZrKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPSHZbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSHZ7KxEe-jx9vffkgxYw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_FPSHZ7KxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPSHZrKxEe-jx9vffkgxYw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPSHbLKxEe-jx9vffkgxYw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_FPSHa7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPSHbbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPSHbbKxEe-jx9vffkgxYw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_FPSHbLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSHbrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPSHbrKxEe-jx9vffkgxYw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_FPSHbbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSHb7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPSHb7KxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPSHbrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSHcLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPSHcLKxEe-jx9vffkgxYw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_FPSHb7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPSHcbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPSHcbKxEe-jx9vffkgxYw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_FPSHcLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSHcrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPSHcrKxEe-jx9vffkgxYw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_FPSHcbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSucLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPSucLKxEe-jx9vffkgxYw" entityName="deferredResult" predecessor_AbstractAction="_FPSHcrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPSucbKxEe-jx9vffkgxYw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPSucbKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPSucLKxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPSudrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPSudbKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_FPSue7KxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPSuerKxEe-jx9vffkgxYw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_FQJDCbKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQJDCLKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_FP9c1bKxEe-jx9vffkgxYw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_FPPrLrKxEe-jx9vffkgxYw" describedService__SEFF="_FJQ-8rKxEe-jx9vffkgxYw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_FPMn2bKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPNO4LKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_FPNO4LKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPMn2bKxEe-jx9vffkgxYw" successor_AbstractAction="_FPNO4bKxEe-jx9vffkgxYw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPMn3bKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_FPMn37KxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPMn2rKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPMn27KxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPMn27KxEe-jx9vffkgxYw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_FPMn2rKxEe-jx9vffkgxYw" successor_AbstractAction="_FPMn3LKxEe-jx9vffkgxYw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPMn3LKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPMn27KxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_FPNO4bKxEe-jx9vffkgxYw" entityName="stopWatch.start()" predecessor_AbstractAction="_FPNO4LKxEe-jx9vffkgxYw" successor_AbstractAction="_FPPrK7KxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_FPPrK7KxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPNO4bKxEe-jx9vffkgxYw" successor_AbstractAction="_FPPrLLKxEe-jx9vffkgxYw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPPrKLKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_FPPrKrKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPNO4rKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPPrJrKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_FPPrJrKxEe-jx9vffkgxYw" entityName="Switch Branch" predecessor_AbstractAction="_FPNO4rKxEe-jx9vffkgxYw" successor_AbstractAction="_FPPrJ7KxEe-jx9vffkgxYw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPOdC7KxEe-jx9vffkgxYw">
                <branchBehaviour_BranchTransition id="_FPPEELKxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPN18LKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPN18bKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPN18bKxEe-jx9vffkgxYw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_FPN18LKxEe-jx9vffkgxYw" successor_AbstractAction="_FPN1_bKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_FPN1_bKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPN18bKxEe-jx9vffkgxYw" successor_AbstractAction="_FPN1_rKxEe-jx9vffkgxYw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPN1-rKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_FPN1_LKxEe-jx9vffkgxYw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_FPN18rKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPN1-LKxEe-jx9vffkgxYw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_FPN1-LKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPN18rKxEe-jx9vffkgxYw" successor_AbstractAction="_FPN1-bKxEe-jx9vffkgxYw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPN19bKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_FPN197KxEe-jx9vffkgxYw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_FPN187KxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPN19LKxEe-jx9vffkgxYw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_FPN19LKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPN187KxEe-jx9vffkgxYw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_FPN1-bKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPN1-LKxEe-jx9vffkgxYw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPN1_rKxEe-jx9vffkgxYw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_FPN1_bKxEe-jx9vffkgxYw" successor_AbstractAction="_FPN1_7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPN1_7KxEe-jx9vffkgxYw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_FPN1_rKxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdALKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPOdALKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPN1_7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdAbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPOdAbKxEe-jx9vffkgxYw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_FPOdALKxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdArKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPOdArKxEe-jx9vffkgxYw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_FPOdAbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdA7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPOdA7KxEe-jx9vffkgxYw" entityName="deferredResult" predecessor_AbstractAction="_FPOdArKxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdBLKxEe-jx9vffkgxYw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPOdBLKxEe-jx9vffkgxYw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_FPOdA7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdBbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPOdBbKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPOdBLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdBrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPOdBrKxEe-jx9vffkgxYw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_FPOdBbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdB7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPOdB7KxEe-jx9vffkgxYw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_FPOdBrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdCLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPOdCLKxEe-jx9vffkgxYw" entityName="deferredResult" predecessor_AbstractAction="_FPOdB7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdCbKxEe-jx9vffkgxYw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPOdCbKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPOdCLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPOdCrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPOdCrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPOdCbKxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPPEGbKxEe-jx9vffkgxYw">
                <branchBehaviour_BranchTransition id="_FPPEG7KxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPPEEbKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPPEErKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPPEErKxEe-jx9vffkgxYw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_FPPEEbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPPEE7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPPEE7KxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPPEErKxEe-jx9vffkgxYw" successor_AbstractAction="_FPPEFLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPPEFLKxEe-jx9vffkgxYw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_FPPEE7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPPEFbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPPEFbKxEe-jx9vffkgxYw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_FPPEFLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPPEFrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPPEFrKxEe-jx9vffkgxYw" entityName="deferredResult" predecessor_AbstractAction="_FPPEFbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPPEF7KxEe-jx9vffkgxYw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPPEF7KxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPPEFrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPPEGLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPPEGLKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPPEF7KxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPPrI7KxEe-jx9vffkgxYw">
                <branchBehaviour_BranchTransition id="_FPPrJbKxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPPrILKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPPrIbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPPrIbKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPPrILKxEe-jx9vffkgxYw" successor_AbstractAction="_FPPrIrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPPrIrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPPrIbKxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPPrJ7KxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPPrJrKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_FPPrLLKxEe-jx9vffkgxYw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_FPPrK7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPPrLbKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_FPPrLbKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPPrLLKxEe-jx9vffkgxYw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_FQLfRrKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_FQLfSLKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQLfR7KxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_FP-D4LKxEe-jx9vffkgxYw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_FPVKv7KxEe-jx9vffkgxYw" describedService__SEFF="_FJRmALKxEe-jx9vffkgxYw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_FPSufrKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPTVhbKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_FPTVhbKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPSufrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVhrKxEe-jx9vffkgxYw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPTVgrKxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_FPTVhLKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPSuf7KxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPTVgLKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPTVgLKxEe-jx9vffkgxYw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_FPSuf7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVgbKxEe-jx9vffkgxYw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPTVgbKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPTVgLKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTVhrKxEe-jx9vffkgxYw" entityName="stopWatch.start()" predecessor_AbstractAction="_FPTVhbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPVKvbKxEe-jx9vffkgxYw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_FPVKvbKxEe-jx9vffkgxYw" entityName="Switch Branch" predecessor_AbstractAction="_FPTVhrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPVKvrKxEe-jx9vffkgxYw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPT8mrKxEe-jx9vffkgxYw">
          <branchBehaviour_BranchTransition id="_FPUjoLKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPTVh7KxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPTViLKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTViLKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPTVh7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVibKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTVibKxEe-jx9vffkgxYw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_FPTViLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVirKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTVirKxEe-jx9vffkgxYw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_FPTVibKxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVi7KxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTVi7KxEe-jx9vffkgxYw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_FPTVirKxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVjLKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPTVjLKxEe-jx9vffkgxYw" entityName="deferredResult" predecessor_AbstractAction="_FPTVi7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPT8lrKxEe-jx9vffkgxYw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_FPT8lrKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPTVjLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPT8l7KxEe-jx9vffkgxYw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPT8k7KxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_FPT8lbKxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPTVjbKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPTVjrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTVjrKxEe-jx9vffkgxYw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_FPTVjbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVj7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTVj7KxEe-jx9vffkgxYw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_FPTVjrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVkLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTVkLKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPTVj7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVkbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTVkbKxEe-jx9vffkgxYw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_FPTVkLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPTVkrKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPTVkrKxEe-jx9vffkgxYw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_FPTVkbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPT8kLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPT8kLKxEe-jx9vffkgxYw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_FPTVkrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPT8kbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPT8kbKxEe-jx9vffkgxYw" entityName="deferredResult" predecessor_AbstractAction="_FPT8kLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPT8krKxEe-jx9vffkgxYw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPT8krKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPT8kbKxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPT8l7KxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPT8lrKxEe-jx9vffkgxYw" successor_AbstractAction="_FPT8mLKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPT8mLKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPT8l7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPT8mbKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPT8mbKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPT8mLKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPVKtLKxEe-jx9vffkgxYw">
          <branchBehaviour_BranchTransition id="_FPVKtrKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPUjobKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPVKsLKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_FPVKsLKxEe-jx9vffkgxYw" entityName="If Branch" predecessor_AbstractAction="_FPUjobKxEe-jx9vffkgxYw" successor_AbstractAction="_FPVKsbKxEe-jx9vffkgxYw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPUjq7KxEe-jx9vffkgxYw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_FPUjrbKxEe-jx9vffkgxYw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_FPUjorKxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPUjo7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPUjo7KxEe-jx9vffkgxYw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_FPUjorKxEe-jx9vffkgxYw" successor_AbstractAction="_FPUjpLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPUjpLKxEe-jx9vffkgxYw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_FPUjo7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPUjpbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPUjpbKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPUjpLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPUjprKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPUjprKxEe-jx9vffkgxYw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_FPUjpbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPUjp7KxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPUjp7KxEe-jx9vffkgxYw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_FPUjprKxEe-jx9vffkgxYw" successor_AbstractAction="_FPUjqLKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_FPUjqLKxEe-jx9vffkgxYw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_FPUjp7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPUjqbKxEe-jx9vffkgxYw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_FPUjqbKxEe-jx9vffkgxYw" entityName="deferredResult" predecessor_AbstractAction="_FPUjqLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPUjqrKxEe-jx9vffkgxYw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_FPUjqrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPUjqbKxEe-jx9vffkgxYw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPVKsbKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPVKsLKxEe-jx9vffkgxYw" successor_AbstractAction="_FPVKsrKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPVKsrKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPVKsbKxEe-jx9vffkgxYw" successor_AbstractAction="_FPVKs7KxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPVKs7KxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPVKsrKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_FPVKurKxEe-jx9vffkgxYw">
          <branchBehaviour_BranchTransition id="_FPVKvLKxEe-jx9vffkgxYw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_FPVKt7KxEe-jx9vffkgxYw" entityName="Start Action" successor_AbstractAction="_FPVKuLKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_FPVKuLKxEe-jx9vffkgxYw" entityName="stopWatch.stop()" predecessor_AbstractAction="_FPVKt7KxEe-jx9vffkgxYw" successor_AbstractAction="_FPVKubKxEe-jx9vffkgxYw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_FPVKubKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPVKuLKxEe-jx9vffkgxYw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_FPVKvrKxEe-jx9vffkgxYw" entityName="Stop Action" predecessor_AbstractAction="_FPVKvbKxEe-jx9vffkgxYw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_FQPwsbKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_FQQXwrKxEe-jx9vffkgxYw" encapsulatedComponent__AssemblyContext="_FQJDCbKxEe-jx9vffkgxYw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_FQQ-0rKxEe-jx9vffkgxYw" innerProvidedRole_ProvidedDelegationConnector="_FQJDCLKxEe-jx9vffkgxYw" outerProvidedRole_ProvidedDelegationConnector="_FQPwsLKxEe-jx9vffkgxYw" assemblyContext_ProvidedDelegationConnector="_FQQXwrKxEe-jx9vffkgxYw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQPwsLKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_FP9c1bKxEe-jx9vffkgxYw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_FQPwsrKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_FQQXxLKxEe-jx9vffkgxYw" encapsulatedComponent__AssemblyContext="_FQLfRrKxEe-jx9vffkgxYw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_FQPwtLKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_FQQXyrKxEe-jx9vffkgxYw" encapsulatedComponent__AssemblyContext="_FQEKhbKxEe-jx9vffkgxYw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_FQRl4bKxEe-jx9vffkgxYw" innerProvidedRole_ProvidedDelegationConnector="_FQEKhLKxEe-jx9vffkgxYw" outerProvidedRole_ProvidedDelegationConnector="_FQPws7KxEe-jx9vffkgxYw" assemblyContext_ProvidedDelegationConnector="_FQQXyrKxEe-jx9vffkgxYw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQPws7KxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_FP-D47KxEe-jx9vffkgxYw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_FQPwtrKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_FQQXyLKxEe-jx9vffkgxYw" encapsulatedComponent__AssemblyContext="_FQLfSLKxEe-jx9vffkgxYw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_FQRl4rKxEe-jx9vffkgxYw" innerProvidedRole_ProvidedDelegationConnector="_FQLfR7KxEe-jx9vffkgxYw" outerProvidedRole_ProvidedDelegationConnector="_FQPwtbKxEe-jx9vffkgxYw" assemblyContext_ProvidedDelegationConnector="_FQQXyLKxEe-jx9vffkgxYw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQPwtbKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_FP-D4LKxEe-jx9vffkgxYw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_FQPwuLKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_FQQXxrKxEe-jx9vffkgxYw" encapsulatedComponent__AssemblyContext="_FQGmy7KxEe-jx9vffkgxYw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_FQQ-0LKxEe-jx9vffkgxYw" innerProvidedRole_ProvidedDelegationConnector="_FQGmyrKxEe-jx9vffkgxYw" outerProvidedRole_ProvidedDelegationConnector="_FQPwt7KxEe-jx9vffkgxYw" assemblyContext_ProvidedDelegationConnector="_FQQXxrKxEe-jx9vffkgxYw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQPwt7KxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_FP-D4rKxEe-jx9vffkgxYw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_FQPwu7KxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_FQQXwLKxEe-jx9vffkgxYw" encapsulatedComponent__AssemblyContext="_FP-D5rKxEe-jx9vffkgxYw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_FQQ-0bKxEe-jx9vffkgxYw" innerProvidedRole_ProvidedDelegationConnector="_FP-D5LKxEe-jx9vffkgxYw" outerProvidedRole_ProvidedDelegationConnector="_FQPwubKxEe-jx9vffkgxYw" assemblyContext_ProvidedDelegationConnector="_FQQXwLKxEe-jx9vffkgxYw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_FQRl4LKxEe-jx9vffkgxYw" innerProvidedRole_ProvidedDelegationConnector="_FP-D5bKxEe-jx9vffkgxYw" outerProvidedRole_ProvidedDelegationConnector="_FQPwurKxEe-jx9vffkgxYw" assemblyContext_ProvidedDelegationConnector="_FQQXwLKxEe-jx9vffkgxYw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQPwubKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_FP-D4bKxEe-jx9vffkgxYw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_FQPwurKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_FP9c1LKxEe-jx9vffkgxYw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_FP9c1LKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_FIeUwLKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_FIdtsLKxEe-jx9vffkgxYw">
      <parameters__OperationSignature dataType__Parameter="_FIcfkLKxEe-jx9vffkgxYw" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_FIdGoLKxEe-jx9vffkgxYw" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_FP9c1bKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_FJQ-8rKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_FJQ-8bKxEe-jx9vffkgxYw">
      <parameters__OperationSignature dataType__Parameter="_FJQ-8LKxEe-jx9vffkgxYw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_FP-D4LKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_FJRmALKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_FJQ-8bKxEe-jx9vffkgxYw">
      <parameters__OperationSignature dataType__Parameter="_FJQ-9bKxEe-jx9vffkgxYw" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_FP-D4bKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_FJQX4bKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_FIdtsLKxEe-jx9vffkgxYw">
      <parameters__OperationSignature dataType__Parameter="_FJQX4LKxEe-jx9vffkgxYw" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_FP-D4rKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_FJSNErKxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_FJQ-8bKxEe-jx9vffkgxYw">
      <parameters__OperationSignature dataType__Parameter="_FJQ-8LKxEe-jx9vffkgxYw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_FP-D47KxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_FJRmA7KxEe-jx9vffkgxYw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_FIdtsLKxEe-jx9vffkgxYw">
      <parameters__OperationSignature dataType__Parameter="_FJQ-8LKxEe-jx9vffkgxYw" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_FIcfkLKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_FIdGoLKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_FIdtsLKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_FJQX4LKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_FJQ-8LKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_FJQ-8bKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_FJQ-9bKxEe-jx9vffkgxYw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
