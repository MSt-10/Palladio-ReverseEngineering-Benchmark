<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_PqK79kr1Ee-7q7o4IkyPeA">
  <components__Repository xsi:type="repository:BasicComponent" id="_Pp4oGUr1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pp4oGEr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oF0r1Ee-7q7o4IkyPeA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_PpPu70r1Ee-7q7o4IkyPeA" describedService__SEFF="_PirM0kr1Ee-7q7o4IkyPeA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_PpN5u0r1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpN5wkr1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PpN5wkr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpN5u0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpN5w0r1Ee-7q7o4IkyPeA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpN5v0r1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PpN5wUr1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpN5vEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpN5vUr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpN5vUr1Ee-7q7o4IkyPeA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_PpN5vEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpN5vkr1Ee-7q7o4IkyPeA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpN5vkr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpN5vUr1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_PpN5w0r1Ee-7q7o4IkyPeA" entityName="stopWatch.start()" predecessor_AbstractAction="_PpN5wkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPu7Ur1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PpPu7Ur1Ee-7q7o4IkyPeA" entityName="Switch Branch" predecessor_AbstractAction="_PpN5w0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPu7kr1Ee-7q7o4IkyPeA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpPH00r1Ee-7q7o4IkyPeA">
          <branchBehaviour_BranchTransition id="_PpPH1Ur1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpN5xEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpN5xUr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpN5xUr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpN5xEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgwEr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpOgwEr1Ee-7q7o4IkyPeA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_PpN5xUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgwUr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpOgwUr1Ee-7q7o4IkyPeA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_PpOgwEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgwkr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpOgwkr1Ee-7q7o4IkyPeA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_PpOgwUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgw0r1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpOgw0r1Ee-7q7o4IkyPeA" entityName="deferredResult" predecessor_AbstractAction="_PpOgwkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOg0Er1Ee-7q7o4IkyPeA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_PpOg0Er1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpOgw0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH0Er1Ee-7q7o4IkyPeA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpOgzUr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_PpOgz0r1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpOgxEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpOgxUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpOgxUr1Ee-7q7o4IkyPeA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_PpOgxEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgxkr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpOgxkr1Ee-7q7o4IkyPeA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_PpOgxUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgx0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpOgx0r1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpOgxkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgyEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpOgyEr1Ee-7q7o4IkyPeA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_PpOgx0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgyUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpOgyUr1Ee-7q7o4IkyPeA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_PpOgyEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgykr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpOgykr1Ee-7q7o4IkyPeA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_PpOgyUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgy0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpOgy0r1Ee-7q7o4IkyPeA" entityName="deferredResult" predecessor_AbstractAction="_PpOgykr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpOgzEr1Ee-7q7o4IkyPeA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpOgzEr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpOgy0r1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPH0Er1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpOg0Er1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH0Ur1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPH0Ur1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpPH0Er1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH0kr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpPH0kr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpPH0Ur1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpPu5Er1Ee-7q7o4IkyPeA">
          <branchBehaviour_BranchTransition id="_PpPu5kr1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpPH1kr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpPu4Er1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_PpPu4Er1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpPH1kr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPu4Ur1Ee-7q7o4IkyPeA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpPH4Er1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_PpPH4kr1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpPH10r1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpPH2Er1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPH2Er1Ee-7q7o4IkyPeA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_PpPH10r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH2Ur1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPH2Ur1Ee-7q7o4IkyPeA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_PpPH2Er1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH2kr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPH2kr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpPH2Ur1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH20r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPH20r1Ee-7q7o4IkyPeA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_PpPH2kr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH3Er1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPH3Er1Ee-7q7o4IkyPeA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_PpPH20r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH3Ur1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPH3Ur1Ee-7q7o4IkyPeA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_PpPH3Er1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH3kr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpPH3kr1Ee-7q7o4IkyPeA" entityName="deferredResult" predecessor_AbstractAction="_PpPH3Ur1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPH30r1Ee-7q7o4IkyPeA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpPH30r1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpPH3kr1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPu4Ur1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpPu4Er1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPu4kr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPu4kr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpPu4Ur1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPu40r1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpPu40r1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpPu4kr1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpPu6kr1Ee-7q7o4IkyPeA">
          <branchBehaviour_BranchTransition id="_PpPu7Er1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpPu50r1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpPu6Er1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpPu6Er1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpPu50r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpPu6Ur1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpPu6Ur1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpPu6Er1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_PpPu7kr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpPu7Ur1Ee-7q7o4IkyPeA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_Pp8ScUr1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pp8ScEr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_Pp4oEkr1Ee-7q7o4IkyPeA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_PpSLJEr1Ee-7q7o4IkyPeA" describedService__SEFF="_PitCAkr1Ee-7q7o4IkyPeA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_PpPu8Ur1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpQV9kr1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PpQV9kr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpPu8Ur1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQV90r1Ee-7q7o4IkyPeA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpQV80r1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PpQV9Ur1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpQV8Er1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpQV8Ur1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpQV8Ur1Ee-7q7o4IkyPeA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_PpQV8Er1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQV8kr1Ee-7q7o4IkyPeA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpQV8kr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpQV8Ur1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQV90r1Ee-7q7o4IkyPeA" entityName="stopWatch.start()" predecessor_AbstractAction="_PpQV9kr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpSLIUr1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PpSLIUr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpQV90r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpSLIkr1Ee-7q7o4IkyPeA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpRkI0r1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PpSLIEr1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpQV-Er1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpRkIUr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_PpRkIUr1Ee-7q7o4IkyPeA" entityName="Switch Branch" predecessor_AbstractAction="_PpQV-Er1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpRkIkr1Ee-7q7o4IkyPeA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpQ9Dkr1Ee-7q7o4IkyPeA">
                <branchBehaviour_BranchTransition id="_PpQ9EEr1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpQV-Ur1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpQV-kr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQV-kr1Ee-7q7o4IkyPeA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_PpQV-Ur1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9AEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_PpQ9AEr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpQV-kr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9AUr1Ee-7q7o4IkyPeA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpQWA0r1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_PpQWBUr1Ee-7q7o4IkyPeA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_PpQV-0r1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpQWAUr1Ee-7q7o4IkyPeA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_PpQWAUr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpQV-0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQWAkr1Ee-7q7o4IkyPeA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpQV_kr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_PpQWAEr1Ee-7q7o4IkyPeA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_PpQV_Er1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpQV_Ur1Ee-7q7o4IkyPeA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_PpQV_Ur1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpQV_Er1Ee-7q7o4IkyPeA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_PpQWAkr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpQWAUr1Ee-7q7o4IkyPeA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9AUr1Ee-7q7o4IkyPeA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_PpQ9AEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9Akr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9Akr1Ee-7q7o4IkyPeA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_PpQ9AUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9A0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9A0r1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpQ9Akr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9BEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9BEr1Ee-7q7o4IkyPeA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_PpQ9A0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9BUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9BUr1Ee-7q7o4IkyPeA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_PpQ9BEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9Bkr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpQ9Bkr1Ee-7q7o4IkyPeA" entityName="deferredResult" predecessor_AbstractAction="_PpQ9BUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9B0r1Ee-7q7o4IkyPeA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9B0r1Ee-7q7o4IkyPeA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_PpQ9Bkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9CEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9CEr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpQ9B0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9CUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9CUr1Ee-7q7o4IkyPeA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_PpQ9CEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9Ckr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9Ckr1Ee-7q7o4IkyPeA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_PpQ9CUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9C0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpQ9C0r1Ee-7q7o4IkyPeA" entityName="deferredResult" predecessor_AbstractAction="_PpQ9Ckr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9DEr1Ee-7q7o4IkyPeA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpQ9DEr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpQ9C0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpQ9DUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpQ9DUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpQ9DEr1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpRkGEr1Ee-7q7o4IkyPeA">
                <branchBehaviour_BranchTransition id="_PpRkGkr1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpRkEEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpRkEUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpRkEUr1Ee-7q7o4IkyPeA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_PpRkEEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpRkEkr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpRkEkr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpRkEUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpRkE0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpRkE0r1Ee-7q7o4IkyPeA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_PpRkEkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpRkFEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpRkFEr1Ee-7q7o4IkyPeA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_PpRkE0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpRkFUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpRkFUr1Ee-7q7o4IkyPeA" entityName="deferredResult" predecessor_AbstractAction="_PpRkFEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpRkFkr1Ee-7q7o4IkyPeA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpRkFkr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpRkFUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpRkF0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpRkF0r1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpRkFkr1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpRkHkr1Ee-7q7o4IkyPeA">
                <branchBehaviour_BranchTransition id="_PpRkIEr1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpRkG0r1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpRkHEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpRkHEr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpRkG0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpRkHUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpRkHUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpRkHEr1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpRkIkr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpRkIUr1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_PpSLIkr1Ee-7q7o4IkyPeA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_PpSLIUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpSLI0r1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_PpSLI0r1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpSLIkr1Ee-7q7o4IkyPeA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_Pp-uvUr1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pp-uu0r1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oFUr1Ee-7q7o4IkyPeA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pp-uvEr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oFEr1Ee-7q7o4IkyPeA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_PpLdckr1Ee-7q7o4IkyPeA" describedService__SEFF="_Pisa9Er1Ee-7q7o4IkyPeA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_PpK2aUr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpLdcEr1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpLdcEr1Ee-7q7o4IkyPeA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_PpK2aUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpLdcUr1Ee-7q7o4IkyPeA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_PpLdcUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpLdcEr1Ee-7q7o4IkyPeA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_PpMrlkr1Ee-7q7o4IkyPeA" describedService__SEFF="_Pisa8Er1Ee-7q7o4IkyPeA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_PpLddEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpMEg0r1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PpMEg0r1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpLddEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpMrlEr1Ee-7q7o4IkyPeA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpLdeEr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PpLdekr1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpLddUr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpLddkr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpLddkr1Ee-7q7o4IkyPeA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_PpLddUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpLdd0r1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpLdd0r1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpLddkr1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpMEgEr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PpMEgkr1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpLde0r1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpLdfEr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PpLdfEr1Ee-7q7o4IkyPeA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_PpLde0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpLdfUr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpLdfUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpLdfEr1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PpMrlEr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpMEg0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpMrlUr1Ee-7q7o4IkyPeA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpMrkUr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PpMrk0r1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpMEhEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpMEkUr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_PpMEkUr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpMEhEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpMrkEr1Ee-7q7o4IkyPeA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpMEiUr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_PpMEi0r1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpMEhUr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpMEhkr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpMEhkr1Ee-7q7o4IkyPeA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_PpMEhUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpMEh0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpMEh0r1Ee-7q7o4IkyPeA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_PpMEhkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpMEiEr1Ee-7q7o4IkyPeA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpMEiEr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpMEh0r1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpMEjkr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_PpMEkEr1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpMEjEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpMEjUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpMEjUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpMEjEr1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpMrkEr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpMEkUr1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_PpMrlUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpMrlEr1Ee-7q7o4IkyPeA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_PqDALkr1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PqDALUr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oFkr1Ee-7q7o4IkyPeA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_PpK2Z0r1Ee-7q7o4IkyPeA" describedService__SEFF="_Pirz4Ur1Ee-7q7o4IkyPeA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_PjIf0Ur1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpHzEEr1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PpHzEEr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PjIf0Ur1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpIaIEr1Ee-7q7o4IkyPeA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpGk8Er1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PpHMAEr1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PjKVAEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpF94Er1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpF94Er1Ee-7q7o4IkyPeA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_PjKVAEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpF94Ur1Ee-7q7o4IkyPeA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpF94Ur1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpF94Er1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_PpIaIEr1Ee-7q7o4IkyPeA" entityName="stopWatch.start()" predecessor_AbstractAction="_PpHzEEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpK2ZUr1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PpK2ZUr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpIaIEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpK2Zkr1Ee-7q7o4IkyPeA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpK2Ykr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PpK2ZEr1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpIaIUr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpK2YEr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_PpK2YEr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpIaIUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpK2YUr1Ee-7q7o4IkyPeA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpKPWkr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_PpKPXEr1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpIaIkr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpKPUEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_PpKPUEr1Ee-7q7o4IkyPeA" entityName="Switch Branch" predecessor_AbstractAction="_PpIaIkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpKPUUr1Ee-7q7o4IkyPeA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpJoQ0r1Ee-7q7o4IkyPeA">
                      <branchBehaviour_BranchTransition id="_PpJoRUr1Ee-7q7o4IkyPeA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_PpJBMEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpJoQEr1Ee-7q7o4IkyPeA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_PpJoQEr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpJBMEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpJoQUr1Ee-7q7o4IkyPeA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpJBNEr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_PpJBNkr1Ee-7q7o4IkyPeA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_PpJBMUr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpJBMkr1Ee-7q7o4IkyPeA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_PpJBMkr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpJBMUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpJBM0r1Ee-7q7o4IkyPeA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_PpJBM0r1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpJBMkr1Ee-7q7o4IkyPeA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_PpJoQUr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpJoQEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpJoQkr1Ee-7q7o4IkyPeA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_PpJoQkr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpJoQUr1Ee-7q7o4IkyPeA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpJoSUr1Ee-7q7o4IkyPeA">
                      <branchBehaviour_BranchTransition id="_PpJoS0r1Ee-7q7o4IkyPeA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_PpJoRkr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpJoR0r1Ee-7q7o4IkyPeA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_PpJoR0r1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpJoRkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpJoSEr1Ee-7q7o4IkyPeA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_PpJoSEr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpJoR0r1Ee-7q7o4IkyPeA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpJoT0r1Ee-7q7o4IkyPeA">
                      <branchBehaviour_BranchTransition id="_PpJoUUr1Ee-7q7o4IkyPeA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_PpJoTEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpJoTUr1Ee-7q7o4IkyPeA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_PpJoTUr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpJoTEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpJoTkr1Ee-7q7o4IkyPeA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_PpJoTkr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpJoTUr1Ee-7q7o4IkyPeA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpKPUUr1Ee-7q7o4IkyPeA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_PpKPUEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpKPUkr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpKPUkr1Ee-7q7o4IkyPeA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_PpKPUUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpKPU0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpKPU0r1Ee-7q7o4IkyPeA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_PpKPUkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpKPVEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpKPVEr1Ee-7q7o4IkyPeA" entityName="stopWatch.stop()" predecessor_AbstractAction="_PpKPU0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpKPVUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpKPVUr1Ee-7q7o4IkyPeA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_PpKPVEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpKPVkr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpKPVkr1Ee-7q7o4IkyPeA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_PpKPVUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpKPV0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpKPV0r1Ee-7q7o4IkyPeA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_PpKPVkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpKPWEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpKPWEr1Ee-7q7o4IkyPeA" entityName="deferredResult" predecessor_AbstractAction="_PpKPV0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpKPWUr1Ee-7q7o4IkyPeA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpKPWUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpKPWEr1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpK2YUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpK2YEr1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_PpK2Zkr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpK2ZUr1Ee-7q7o4IkyPeA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_PqFca0r1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PqFcakr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oE0r1Ee-7q7o4IkyPeA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_PpN5uUr1Ee-7q7o4IkyPeA" describedService__SEFF="_Ph6X0Er1Ee-7q7o4IkyPeA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_PpMrmEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpN5tkr1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PpN5tkr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpMrmEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpN5t0r1Ee-7q7o4IkyPeA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpN5s0r1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PpN5tUr1Ee-7q7o4IkyPeA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PpMrmUr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpN5sUr1Ee-7q7o4IkyPeA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_PpN5sUr1Ee-7q7o4IkyPeA" entityName="Switch Branch" predecessor_AbstractAction="_PpMrmUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpN5skr1Ee-7q7o4IkyPeA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpNSpkr1Ee-7q7o4IkyPeA">
                <branchBehaviour_BranchTransition id="_PpNSqEr1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpMrmkr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpNSoEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_PpNSoEr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpMrmkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpNSoUr1Ee-7q7o4IkyPeA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpMro0r1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_PpMrpUr1Ee-7q7o4IkyPeA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_PpMrm0r1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpMroUr1Ee-7q7o4IkyPeA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_PpMroUr1Ee-7q7o4IkyPeA" entityName="If Branch" predecessor_AbstractAction="_PpMrm0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpMrokr1Ee-7q7o4IkyPeA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpMrnkr1Ee-7q7o4IkyPeA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_PpMroEr1Ee-7q7o4IkyPeA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_PpMrnEr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpMrnUr1Ee-7q7o4IkyPeA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_PpMrnUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpMrnEr1Ee-7q7o4IkyPeA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_PpMrokr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpMroUr1Ee-7q7o4IkyPeA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpNSoUr1Ee-7q7o4IkyPeA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_PpNSoEr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpNSokr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpNSokr1Ee-7q7o4IkyPeA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_PpNSoUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpNSo0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_PpNSo0r1Ee-7q7o4IkyPeA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_PpNSokr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpNSpEr1Ee-7q7o4IkyPeA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpNSpEr1Ee-7q7o4IkyPeA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_PpNSo0r1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpNSpUr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpNSpUr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpNSpEr1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpNSrEr1Ee-7q7o4IkyPeA">
                <branchBehaviour_BranchTransition id="_PpNSrkr1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpNSqUr1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpNSqkr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PpNSqkr1Ee-7q7o4IkyPeA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_PpNSqUr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpNSq0r1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpNSq0r1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpNSqkr1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PpNSsUr1Ee-7q7o4IkyPeA">
                <branchBehaviour_BranchTransition id="_PpN5sEr1Ee-7q7o4IkyPeA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PpNSr0r1Ee-7q7o4IkyPeA" entityName="Start Action" successor_AbstractAction="_PpNSsEr1Ee-7q7o4IkyPeA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_PpNSsEr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpNSr0r1Ee-7q7o4IkyPeA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PpN5skr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpN5sUr1Ee-7q7o4IkyPeA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_PpN5t0r1Ee-7q7o4IkyPeA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_PpN5tkr1Ee-7q7o4IkyPeA" successor_AbstractAction="_PpN5uEr1Ee-7q7o4IkyPeA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_PpN5uEr1Ee-7q7o4IkyPeA" entityName="Stop Action" predecessor_AbstractAction="_PpN5t0r1Ee-7q7o4IkyPeA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_PqH4q0r1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_PqJt0Ur1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_PqKU5Er1Ee-7q7o4IkyPeA" encapsulatedComponent__AssemblyContext="_Pp8ScUr1Ee-7q7o4IkyPeA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_PqLjA0r1Ee-7q7o4IkyPeA" innerProvidedRole_ProvidedDelegationConnector="_Pp8ScEr1Ee-7q7o4IkyPeA" outerProvidedRole_ProvidedDelegationConnector="_PqJt0Er1Ee-7q7o4IkyPeA" assemblyContext_ProvidedDelegationConnector="_PqKU5Er1Ee-7q7o4IkyPeA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PqJt0Er1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_Pp4oEkr1Ee-7q7o4IkyPeA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_PqJt00r1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_PqK78kr1Ee-7q7o4IkyPeA" encapsulatedComponent__AssemblyContext="_Pp4oGUr1Ee-7q7o4IkyPeA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_PqLjAkr1Ee-7q7o4IkyPeA" innerProvidedRole_ProvidedDelegationConnector="_Pp4oGEr1Ee-7q7o4IkyPeA" outerProvidedRole_ProvidedDelegationConnector="_PqJt0kr1Ee-7q7o4IkyPeA" assemblyContext_ProvidedDelegationConnector="_PqK78kr1Ee-7q7o4IkyPeA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PqJt0kr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oF0r1Ee-7q7o4IkyPeA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_PqJt1kr1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_PqK79Er1Ee-7q7o4IkyPeA" encapsulatedComponent__AssemblyContext="_Pp-uvUr1Ee-7q7o4IkyPeA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_PqLjAEr1Ee-7q7o4IkyPeA" innerProvidedRole_ProvidedDelegationConnector="_Pp-uvEr1Ee-7q7o4IkyPeA" outerProvidedRole_ProvidedDelegationConnector="_PqJt1Ur1Ee-7q7o4IkyPeA" assemblyContext_ProvidedDelegationConnector="_PqK79Er1Ee-7q7o4IkyPeA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_PqLjBUr1Ee-7q7o4IkyPeA" innerProvidedRole_ProvidedDelegationConnector="_Pp-uu0r1Ee-7q7o4IkyPeA" outerProvidedRole_ProvidedDelegationConnector="_PqJt1Er1Ee-7q7o4IkyPeA" assemblyContext_ProvidedDelegationConnector="_PqK79Er1Ee-7q7o4IkyPeA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PqJt1Er1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oFUr1Ee-7q7o4IkyPeA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PqJt1Ur1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oFEr1Ee-7q7o4IkyPeA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_PqJt2Er1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_PqKU4Er1Ee-7q7o4IkyPeA" encapsulatedComponent__AssemblyContext="_PqDALkr1Ee-7q7o4IkyPeA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_PqLjBEr1Ee-7q7o4IkyPeA" innerProvidedRole_ProvidedDelegationConnector="_PqDALUr1Ee-7q7o4IkyPeA" outerProvidedRole_ProvidedDelegationConnector="_PqJt10r1Ee-7q7o4IkyPeA" assemblyContext_ProvidedDelegationConnector="_PqKU4Er1Ee-7q7o4IkyPeA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PqJt10r1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oFkr1Ee-7q7o4IkyPeA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_PqJt2Ur1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_PqK78Er1Ee-7q7o4IkyPeA" encapsulatedComponent__AssemblyContext="_PqH4q0r1Ee-7q7o4IkyPeA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_PqJt20r1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_PqKU4kr1Ee-7q7o4IkyPeA" encapsulatedComponent__AssemblyContext="_PqFca0r1Ee-7q7o4IkyPeA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_PqLjAUr1Ee-7q7o4IkyPeA" innerProvidedRole_ProvidedDelegationConnector="_PqFcakr1Ee-7q7o4IkyPeA" outerProvidedRole_ProvidedDelegationConnector="_PqJt2kr1Ee-7q7o4IkyPeA" assemblyContext_ProvidedDelegationConnector="_PqKU4kr1Ee-7q7o4IkyPeA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PqJt2kr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_Pp4oE0r1Ee-7q7o4IkyPeA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pp4oEkr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_PitCAkr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_PirM0Ur1Ee-7q7o4IkyPeA">
      <parameters__OperationSignature dataType__Parameter="_Ph4ioEr1Ee-7q7o4IkyPeA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pp4oE0r1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_Ph6X0Er1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_Ph5wwEr1Ee-7q7o4IkyPeA">
      <parameters__OperationSignature dataType__Parameter="_Ph4ioEr1Ee-7q7o4IkyPeA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pp4oFEr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_Pisa8Er1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_Ph5wwEr1Ee-7q7o4IkyPeA">
      <parameters__OperationSignature dataType__Parameter="_Pirz5Er1Ee-7q7o4IkyPeA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_Pirz5Ur1Ee-7q7o4IkyPeA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pp4oFUr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_Pisa9Er1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_Ph5wwEr1Ee-7q7o4IkyPeA">
      <parameters__OperationSignature dataType__Parameter="_Pisa80r1Ee-7q7o4IkyPeA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pp4oFkr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_Pirz4Ur1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_PirM0Ur1Ee-7q7o4IkyPeA">
      <parameters__OperationSignature dataType__Parameter="_Ph4ioEr1Ee-7q7o4IkyPeA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pp4oF0r1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_PirM0kr1Ee-7q7o4IkyPeA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_PirM0Ur1Ee-7q7o4IkyPeA">
      <parameters__OperationSignature dataType__Parameter="_PirM0Er1Ee-7q7o4IkyPeA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ph4ioEr1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ph5wwEr1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_PirM0Er1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_PirM0Ur1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Pirz5Er1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Pirz5Ur1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Pisa80r1Ee-7q7o4IkyPeA" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
