<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_pc8mBqxnEe-oUOE5kpUipw">
  <components__Repository xsi:type="repository:BasicComponent" id="_pcsHUaxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pcsHUKxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_pcrgSqxnEe-oUOE5kpUipw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_pb-VqKxnEe-oUOE5kpUipw" describedService__SEFF="_pVG4oKxnEe-oUOE5kpUipw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_pWpwwaxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb-VpaxnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_pb-VpaxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pWpwwaxnEe-oUOE5kpUipw" successor_AbstractAction="_pb-VpqxnEe-oUOE5kpUipw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb-VoqxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_pb-VpKxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pWrl8KxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb-VoKxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_pb-VoKxnEe-oUOE5kpUipw" entityName="Switch Branch" predecessor_AbstractAction="_pWrl8KxnEe-oUOE5kpUipw" successor_AbstractAction="_pb-VoaxnEe-oUOE5kpUipw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb9uk6xnEe-oUOE5kpUipw">
                <branchBehaviour_BranchTransition id="_pb9ulaxnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pWrl8axnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb6ENaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_pb6ENaxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pWrl8axnEe-oUOE5kpUipw" successor_AbstractAction="_pb6rQKxnEe-oUOE5kpUipw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb6EMqxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_pb6ENKxnEe-oUOE5kpUipw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_pWrl8qxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb6EMKxnEe-oUOE5kpUipw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_pb6EMKxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pWrl8qxnEe-oUOE5kpUipw" successor_AbstractAction="_pb6EMaxnEe-oUOE5kpUipw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pWs0EKxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_pWtbIKxnEe-oUOE5kpUipw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_pWsNAKxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pWsNAaxnEe-oUOE5kpUipw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_pWsNAaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pWsNAKxnEe-oUOE5kpUipw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_pb6EMaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb6EMKxnEe-oUOE5kpUipw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb6rQKxnEe-oUOE5kpUipw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_pb6ENaxnEe-oUOE5kpUipw" successor_AbstractAction="_pb7SUKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb7SUKxnEe-oUOE5kpUipw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_pb6rQKxnEe-oUOE5kpUipw" successor_AbstractAction="_pb9ukKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pb9ukKxnEe-oUOE5kpUipw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_pb7SUKxnEe-oUOE5kpUipw" successor_AbstractAction="_pb9ukaxnEe-oUOE5kpUipw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb9ukaxnEe-oUOE5kpUipw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_pb9ukKxnEe-oUOE5kpUipw" successor_AbstractAction="_pb9ukqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pb9ukqxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb9ukaxnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb9umaxnEe-oUOE5kpUipw">
                <branchBehaviour_BranchTransition id="_pb9um6xnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pb9ulqxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb9ul6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb9ul6xnEe-oUOE5kpUipw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_pb9ulqxnEe-oUOE5kpUipw" successor_AbstractAction="_pb9umKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pb9umKxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb9ul6xnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb9unqxnEe-oUOE5kpUipw">
                <branchBehaviour_BranchTransition id="_pb9uoKxnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pb9unKxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb9unaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pb9unaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb9unKxnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pb-VoaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb-VoKxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_pb-VpqxnEe-oUOE5kpUipw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_pb-VpaxnEe-oUOE5kpUipw" successor_AbstractAction="_pb-Vp6xnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_pb-Vp6xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb-VpqxnEe-oUOE5kpUipw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_pcvKoKxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_pcvKoqxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pcvKoaxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_pcrgS6xnEe-oUOE5kpUipw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_pcAK0qxnEe-oUOE5kpUipw" describedService__SEFF="_pV9NMKxnEe-oUOE5kpUipw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_pb-VqqxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb-VsaxnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_pb-VsaxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pb-VqqxnEe-oUOE5kpUipw" successor_AbstractAction="_pb-VsqxnEe-oUOE5kpUipw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb-VrqxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_pb-VsKxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pb-Vq6xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb-VrKxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pb-VrKxnEe-oUOE5kpUipw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_pb-Vq6xnEe-oUOE5kpUipw" successor_AbstractAction="_pb-VraxnEe-oUOE5kpUipw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pb-VraxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb-VrKxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_pb-VsqxnEe-oUOE5kpUipw" entityName="stopWatch.start()" predecessor_AbstractAction="_pb-VsaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcAK0KxnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_pcAK0KxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pb-VsqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcAK0axnEe-oUOE5kpUipw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb_jzqxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_pb_j0KxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pb-Vs6xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb_jzKxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_pb_jzKxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pb-Vs6xnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jzaxnEe-oUOE5kpUipw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb_jyaxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_pb_jy6xnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pb-VtKxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb-8yaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_pb-8yaxnEe-oUOE5kpUipw" entityName="Switch Branch" predecessor_AbstractAction="_pb-VtKxnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jwKxnEe-oUOE5kpUipw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb-8uqxnEe-oUOE5kpUipw">
                      <branchBehaviour_BranchTransition id="_pb-8vKxnEe-oUOE5kpUipw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_pb-8sKxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb-8t6xnEe-oUOE5kpUipw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_pb-8t6xnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pb-8sKxnEe-oUOE5kpUipw" successor_AbstractAction="_pb-8uKxnEe-oUOE5kpUipw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb-8tKxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_pb-8tqxnEe-oUOE5kpUipw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_pb-8saxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb-8sqxnEe-oUOE5kpUipw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_pb-8sqxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pb-8saxnEe-oUOE5kpUipw" successor_AbstractAction="_pb-8s6xnEe-oUOE5kpUipw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_pb-8s6xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb-8sqxnEe-oUOE5kpUipw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_pb-8uKxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pb-8t6xnEe-oUOE5kpUipw" successor_AbstractAction="_pb-8uaxnEe-oUOE5kpUipw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_pb-8uaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb-8uKxnEe-oUOE5kpUipw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb-8wKxnEe-oUOE5kpUipw">
                      <branchBehaviour_BranchTransition id="_pb-8wqxnEe-oUOE5kpUipw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_pb-8vaxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb-8vqxnEe-oUOE5kpUipw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_pb-8vqxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pb-8vaxnEe-oUOE5kpUipw" successor_AbstractAction="_pb-8v6xnEe-oUOE5kpUipw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_pb-8v6xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb-8vqxnEe-oUOE5kpUipw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pb-8xqxnEe-oUOE5kpUipw">
                      <branchBehaviour_BranchTransition id="_pb-8yKxnEe-oUOE5kpUipw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_pb-8w6xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pb-8xKxnEe-oUOE5kpUipw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_pb-8xKxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pb-8w6xnEe-oUOE5kpUipw" successor_AbstractAction="_pb-8xaxnEe-oUOE5kpUipw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_pb-8xaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb-8xKxnEe-oUOE5kpUipw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb_jwKxnEe-oUOE5kpUipw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_pb-8yaxnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jwaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb_jwaxnEe-oUOE5kpUipw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_pb_jwKxnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jwqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb_jwqxnEe-oUOE5kpUipw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_pb_jwaxnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jw6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb_jw6xnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pb_jwqxnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jxKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb_jxKxnEe-oUOE5kpUipw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_pb_jw6xnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jxaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb_jxaxnEe-oUOE5kpUipw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_pb_jxKxnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jxqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pb_jxqxnEe-oUOE5kpUipw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_pb_jxaxnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jx6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pb_jx6xnEe-oUOE5kpUipw" entityName="deferredResult" predecessor_AbstractAction="_pb_jxqxnEe-oUOE5kpUipw" successor_AbstractAction="_pb_jyKxnEe-oUOE5kpUipw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pb_jyKxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb_jx6xnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pb_jzaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pb_jzKxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_pcAK0axnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcAK0KxnEe-oUOE5kpUipw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_pcw_36xnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pcw_3axnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_pcrgTaxnEe-oUOE5kpUipw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pcw_3qxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_pcrgTqxnEe-oUOE5kpUipw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_pcAx7axnEe-oUOE5kpUipw" describedService__SEFF="_pV90QqxnEe-oUOE5kpUipw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_pcAK1KxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcAK4axnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_pcAK4axnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcAK1KxnEe-oUOE5kpUipw" successor_AbstractAction="_pcAx66xnEe-oUOE5kpUipw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcAK2KxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_pcAK2qxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pcAK1axnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcAK1qxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcAK1qxnEe-oUOE5kpUipw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_pcAK1axnEe-oUOE5kpUipw" successor_AbstractAction="_pcAK16xnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pcAK16xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcAK1qxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcAK3qxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_pcAK4KxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pcAK26xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcAK3KxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcAK3KxnEe-oUOE5kpUipw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_pcAK26xnEe-oUOE5kpUipw" successor_AbstractAction="_pcAK3axnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pcAK3axnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcAK3KxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_pcAx66xnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcAK4axnEe-oUOE5kpUipw" successor_AbstractAction="_pcAx7KxnEe-oUOE5kpUipw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcAx6KxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_pcAx6qxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pcAK4qxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcAx5qxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_pcAx5qxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcAK4qxnEe-oUOE5kpUipw" successor_AbstractAction="_pcAx56xnEe-oUOE5kpUipw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcAK56xnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_pcAx4KxnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pcAK46xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcAK5KxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcAK5KxnEe-oUOE5kpUipw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_pcAK46xnEe-oUOE5kpUipw" successor_AbstractAction="_pcAK5axnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcAK5axnEe-oUOE5kpUipw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_pcAK5KxnEe-oUOE5kpUipw" successor_AbstractAction="_pcAK5qxnEe-oUOE5kpUipw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pcAK5qxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcAK5axnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcAx46xnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_pcAx5axnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pcAx4axnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcAx4qxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pcAx4qxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcAx4axnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pcAx56xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcAx5qxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_pcAx7KxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcAx66xnEe-oUOE5kpUipw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_pcBY8axnEe-oUOE5kpUipw" describedService__SEFF="_pV9NNKxnEe-oUOE5kpUipw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_pcAx76xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcAx8KxnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcAx8KxnEe-oUOE5kpUipw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_pcAx76xnEe-oUOE5kpUipw" successor_AbstractAction="_pcBY8KxnEe-oUOE5kpUipw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_pcBY8KxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcAx8KxnEe-oUOE5kpUipw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_pc1RTqxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pc1RTaxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_pcrgT6xnEe-oUOE5kpUipw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_pcDOKKxnEe-oUOE5kpUipw" describedService__SEFF="_pV2fgaxnEe-oUOE5kpUipw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_pcBY86xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcBY-qxnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_pcBY-qxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcBY86xnEe-oUOE5kpUipw" successor_AbstractAction="_pcBY-6xnEe-oUOE5kpUipw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcBY96xnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_pcBY-axnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pcBY9KxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcBY9axnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcBY9axnEe-oUOE5kpUipw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_pcBY9KxnEe-oUOE5kpUipw" successor_AbstractAction="_pcBY9qxnEe-oUOE5kpUipw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pcBY9qxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcBY9axnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_pcBY-6xnEe-oUOE5kpUipw" entityName="stopWatch.start()" predecessor_AbstractAction="_pcBY-qxnEe-oUOE5kpUipw" successor_AbstractAction="_pcDOJaxnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_pcDOJaxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcBY-6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcDOJqxnEe-oUOE5kpUipw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcDOIqxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_pcDOJKxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pcBY_KxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcDOIKxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_pcDOIKxnEe-oUOE5kpUipw" entityName="Switch Branch" predecessor_AbstractAction="_pcBY_KxnEe-oUOE5kpUipw" successor_AbstractAction="_pcDOIaxnEe-oUOE5kpUipw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcCAD6xnEe-oUOE5kpUipw">
                <branchBehaviour_BranchTransition id="_pcCAEaxnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pcBY_axnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcBY_qxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcBY_qxnEe-oUOE5kpUipw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_pcBY_axnEe-oUOE5kpUipw" successor_AbstractAction="_pcCAAaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_pcCAAaxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcBY_qxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCAAqxnEe-oUOE5kpUipw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcBZB6xnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_pcCAAKxnEe-oUOE5kpUipw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_pcBY_6xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcBZBaxnEe-oUOE5kpUipw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_pcBZBaxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcBY_6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcBZBqxnEe-oUOE5kpUipw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcBZAqxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_pcBZBKxnEe-oUOE5kpUipw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_pcBZAKxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcBZAaxnEe-oUOE5kpUipw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_pcBZAaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcBZAKxnEe-oUOE5kpUipw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_pcBZBqxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcBZBaxnEe-oUOE5kpUipw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCAAqxnEe-oUOE5kpUipw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_pcCAAaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCAA6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCAA6xnEe-oUOE5kpUipw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_pcCAAqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCABKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCABKxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcCAA6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcCABaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCABaxnEe-oUOE5kpUipw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_pcCABKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCABqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCABqxnEe-oUOE5kpUipw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_pcCABaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCAB6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcCAB6xnEe-oUOE5kpUipw" entityName="deferredResult" predecessor_AbstractAction="_pcCABqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCACKxnEe-oUOE5kpUipw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCACKxnEe-oUOE5kpUipw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_pcCAB6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcCACaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCACaxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcCACKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCACqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCACqxnEe-oUOE5kpUipw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_pcCACaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCAC6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCAC6xnEe-oUOE5kpUipw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_pcCACqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCADKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcCADKxnEe-oUOE5kpUipw" entityName="deferredResult" predecessor_AbstractAction="_pcCAC6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcCADaxnEe-oUOE5kpUipw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCADaxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcCADKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCADqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pcCADqxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcCADaxnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcCnGKxnEe-oUOE5kpUipw">
                <branchBehaviour_BranchTransition id="_pcCnGqxnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pcCnEKxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcCnEaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCnEaxnEe-oUOE5kpUipw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_pcCnEKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCnEqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCnEqxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcCnEaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCnE6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCnE6xnEe-oUOE5kpUipw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_pcCnEqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCnFKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCnFKxnEe-oUOE5kpUipw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_pcCnE6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcCnFaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcCnFaxnEe-oUOE5kpUipw" entityName="deferredResult" predecessor_AbstractAction="_pcCnFKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCnFqxnEe-oUOE5kpUipw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCnFqxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcCnFaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcCnF6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pcCnF6xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcCnFqxnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcCnHqxnEe-oUOE5kpUipw">
                <branchBehaviour_BranchTransition id="_pcCnIKxnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pcCnG6xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcCnHKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcCnHKxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcCnG6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcCnHaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pcCnHaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcCnHKxnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pcDOIaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcDOIKxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_pcDOJqxnEe-oUOE5kpUipw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_pcDOJaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcDOJ6xnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_pcDOJ6xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcDOJqxnEe-oUOE5kpUipw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_pc3tiaxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pc3tiKxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_pcrgTKxnEe-oUOE5kpUipw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_pcFDYKxnEe-oUOE5kpUipw" describedService__SEFF="_pV-bUKxnEe-oUOE5kpUipw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_pcDOKqxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcDOMaxnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_pcDOMaxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcDOKqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcDOMqxnEe-oUOE5kpUipw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcDOLqxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_pcDOMKxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pcDOK6xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcDOLKxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcDOLKxnEe-oUOE5kpUipw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_pcDOK6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcDOLaxnEe-oUOE5kpUipw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pcDOLaxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcDOLKxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_pcDOMqxnEe-oUOE5kpUipw" entityName="stopWatch.start()" predecessor_AbstractAction="_pcDOMaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcFDXqxnEe-oUOE5kpUipw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_pcFDXqxnEe-oUOE5kpUipw" entityName="Switch Branch" predecessor_AbstractAction="_pcDOMqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcFDX6xnEe-oUOE5kpUipw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcEcQ6xnEe-oUOE5kpUipw">
          <branchBehaviour_BranchTransition id="_pcEcRaxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pcDOM6xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcDONKxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcDONKxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcDOM6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcDONaxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcDONaxnEe-oUOE5kpUipw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_pcDONKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1MKxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcD1MKxnEe-oUOE5kpUipw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_pcDONaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1MaxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcD1MaxnEe-oUOE5kpUipw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_pcD1MKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1MqxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcD1MqxnEe-oUOE5kpUipw" entityName="deferredResult" predecessor_AbstractAction="_pcD1MaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1P6xnEe-oUOE5kpUipw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_pcD1P6xnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcD1MqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcQKxnEe-oUOE5kpUipw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcD1PKxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_pcD1PqxnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pcD1M6xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcD1NKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcD1NKxnEe-oUOE5kpUipw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_pcD1M6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1NaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcD1NaxnEe-oUOE5kpUipw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_pcD1NKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1NqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcD1NqxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcD1NaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1N6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcD1N6xnEe-oUOE5kpUipw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_pcD1NqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1OKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcD1OKxnEe-oUOE5kpUipw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_pcD1N6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1OaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcD1OaxnEe-oUOE5kpUipw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_pcD1OKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1OqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcD1OqxnEe-oUOE5kpUipw" entityName="deferredResult" predecessor_AbstractAction="_pcD1OaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcD1O6xnEe-oUOE5kpUipw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pcD1O6xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcD1OqxnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcEcQKxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcD1P6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcQaxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcEcQaxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcEcQKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcQqxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pcEcQqxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcEcQaxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcFDVaxnEe-oUOE5kpUipw">
          <branchBehaviour_BranchTransition id="_pcFDV6xnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pcEcRqxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcFDUaxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_pcFDUaxnEe-oUOE5kpUipw" entityName="If Branch" predecessor_AbstractAction="_pcEcRqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcFDUqxnEe-oUOE5kpUipw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcEcUKxnEe-oUOE5kpUipw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_pcFDUKxnEe-oUOE5kpUipw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_pcEcR6xnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcEcSKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcEcSKxnEe-oUOE5kpUipw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_pcEcR6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcSaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcEcSaxnEe-oUOE5kpUipw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_pcEcSKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcSqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcEcSqxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcEcSaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcS6xnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcEcS6xnEe-oUOE5kpUipw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_pcEcSqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcTKxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcEcTKxnEe-oUOE5kpUipw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_pcEcS6xnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcTaxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_pcEcTaxnEe-oUOE5kpUipw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_pcEcTKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcTqxnEe-oUOE5kpUipw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_pcEcTqxnEe-oUOE5kpUipw" entityName="deferredResult" predecessor_AbstractAction="_pcEcTaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcEcT6xnEe-oUOE5kpUipw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_pcEcT6xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcEcTqxnEe-oUOE5kpUipw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcFDUqxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcFDUaxnEe-oUOE5kpUipw" successor_AbstractAction="_pcFDU6xnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcFDU6xnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcFDUqxnEe-oUOE5kpUipw" successor_AbstractAction="_pcFDVKxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pcFDVKxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcFDU6xnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_pcFDW6xnEe-oUOE5kpUipw">
          <branchBehaviour_BranchTransition id="_pcFDXaxnEe-oUOE5kpUipw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_pcFDWKxnEe-oUOE5kpUipw" entityName="Start Action" successor_AbstractAction="_pcFDWaxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_pcFDWaxnEe-oUOE5kpUipw" entityName="stopWatch.stop()" predecessor_AbstractAction="_pcFDWKxnEe-oUOE5kpUipw" successor_AbstractAction="_pcFDWqxnEe-oUOE5kpUipw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_pcFDWqxnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcFDWaxnEe-oUOE5kpUipw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_pcFDX6xnEe-oUOE5kpUipw" entityName="Stop Action" predecessor_AbstractAction="_pcFDXqxnEe-oUOE5kpUipw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_pc7X4axnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_pc8mAqxnEe-oUOE5kpUipw" encapsulatedComponent__AssemblyContext="_pcsHUaxnEe-oUOE5kpUipw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_pc9NEaxnEe-oUOE5kpUipw" innerProvidedRole_ProvidedDelegationConnector="_pcsHUKxnEe-oUOE5kpUipw" outerProvidedRole_ProvidedDelegationConnector="_pc7X4KxnEe-oUOE5kpUipw" assemblyContext_ProvidedDelegationConnector="_pc8mAqxnEe-oUOE5kpUipw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pc7X4KxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_pcrgSqxnEe-oUOE5kpUipw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_pc7X4qxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_pc8mAKxnEe-oUOE5kpUipw" encapsulatedComponent__AssemblyContext="_pcvKoKxnEe-oUOE5kpUipw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_pc7X5KxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_pc7-8KxnEe-oUOE5kpUipw" encapsulatedComponent__AssemblyContext="_pc1RTqxnEe-oUOE5kpUipw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_pc9NEKxnEe-oUOE5kpUipw" innerProvidedRole_ProvidedDelegationConnector="_pc1RTaxnEe-oUOE5kpUipw" outerProvidedRole_ProvidedDelegationConnector="_pc7X46xnEe-oUOE5kpUipw" assemblyContext_ProvidedDelegationConnector="_pc7-8KxnEe-oUOE5kpUipw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pc7X46xnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_pcrgT6xnEe-oUOE5kpUipw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_pc7X5qxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_pc7-8qxnEe-oUOE5kpUipw" encapsulatedComponent__AssemblyContext="_pcvKoqxnEe-oUOE5kpUipw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_pc9NFKxnEe-oUOE5kpUipw" innerProvidedRole_ProvidedDelegationConnector="_pcvKoaxnEe-oUOE5kpUipw" outerProvidedRole_ProvidedDelegationConnector="_pc7X5axnEe-oUOE5kpUipw" assemblyContext_ProvidedDelegationConnector="_pc7-8qxnEe-oUOE5kpUipw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pc7X5axnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_pcrgS6xnEe-oUOE5kpUipw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_pc7X6KxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_pc8mBKxnEe-oUOE5kpUipw" encapsulatedComponent__AssemblyContext="_pc3tiaxnEe-oUOE5kpUipw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_pc9NE6xnEe-oUOE5kpUipw" innerProvidedRole_ProvidedDelegationConnector="_pc3tiKxnEe-oUOE5kpUipw" outerProvidedRole_ProvidedDelegationConnector="_pc7X56xnEe-oUOE5kpUipw" assemblyContext_ProvidedDelegationConnector="_pc8mBKxnEe-oUOE5kpUipw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pc7X56xnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_pcrgTKxnEe-oUOE5kpUipw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_pc7X66xnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_pc7-9KxnEe-oUOE5kpUipw" encapsulatedComponent__AssemblyContext="_pcw_36xnEe-oUOE5kpUipw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_pc9NEqxnEe-oUOE5kpUipw" innerProvidedRole_ProvidedDelegationConnector="_pcw_3axnEe-oUOE5kpUipw" outerProvidedRole_ProvidedDelegationConnector="_pc7X6qxnEe-oUOE5kpUipw" assemblyContext_ProvidedDelegationConnector="_pc7-9KxnEe-oUOE5kpUipw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_pc9NFaxnEe-oUOE5kpUipw" innerProvidedRole_ProvidedDelegationConnector="_pcw_3qxnEe-oUOE5kpUipw" outerProvidedRole_ProvidedDelegationConnector="_pc7X6axnEe-oUOE5kpUipw" assemblyContext_ProvidedDelegationConnector="_pc7-9KxnEe-oUOE5kpUipw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pc7X6axnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_pcrgTqxnEe-oUOE5kpUipw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_pc7X6qxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_pcrgTaxnEe-oUOE5kpUipw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_pcrgSqxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_pVG4oKxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_pVGRkKxnEe-oUOE5kpUipw">
      <parameters__OperationSignature dataType__Parameter="_pVFqgKxnEe-oUOE5kpUipw" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_pcrgS6xnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_pV9NMKxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_pV2fgKxnEe-oUOE5kpUipw">
      <parameters__OperationSignature dataType__Parameter="_pVFqgKxnEe-oUOE5kpUipw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_pcrgTKxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_pV-bUKxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_pV2fgKxnEe-oUOE5kpUipw">
      <parameters__OperationSignature dataType__Parameter="_pV90RaxnEe-oUOE5kpUipw" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_pcrgTaxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_pV90QqxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_pVGRkKxnEe-oUOE5kpUipw">
      <parameters__OperationSignature dataType__Parameter="_pV90QKxnEe-oUOE5kpUipw" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_pV90QaxnEe-oUOE5kpUipw" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_pcrgTqxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_pV9NNKxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_pVGRkKxnEe-oUOE5kpUipw">
      <parameters__OperationSignature dataType__Parameter="_pV9NM6xnEe-oUOE5kpUipw" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_pcrgT6xnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_pV2fgaxnEe-oUOE5kpUipw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_pV2fgKxnEe-oUOE5kpUipw">
      <parameters__OperationSignature dataType__Parameter="_pVFqgKxnEe-oUOE5kpUipw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_pVFqgKxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_pVGRkKxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_pV2fgKxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_pV9NM6xnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_pV90QKxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_pV90QaxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_pV90RaxnEe-oUOE5kpUipw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
