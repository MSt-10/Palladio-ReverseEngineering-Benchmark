<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_uWFtzLEeEe-l6NDHhtoNxw">
  <components__Repository xsi:type="repository:BasicComponent" id="_uV0oB7EeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uV0oBrEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_uV0oBLEeEe-l6NDHhtoNxw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_uVLu27EeEe-l6NDHhtoNxw" describedService__SEFF="_uO2dVLEeEe-l6NDHhtoNxw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_uVJ5rbEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVKgsbEeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_uVKgsbEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVJ5rbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVKgsrEeEe-l6NDHhtoNxw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVJ5sbEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_uVKgsLEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVJ5rrEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVJ5r7EeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVJ5r7EeEe-l6NDHhtoNxw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_uVJ5rrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJ5sLEeEe-l6NDHhtoNxw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVJ5sLEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVJ5r7EeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_uVKgsrEeEe-l6NDHhtoNxw" entityName="stopWatch.start()" predecessor_AbstractAction="_uVKgsbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLu2bEeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_uVLu2bEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVKgsrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLu2rEeEe-l6NDHhtoNxw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVLu1rEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_uVLu2LEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVKgs7EeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVLu1LEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_uVLu1LEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVKgs7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLu1bEeEe-l6NDHhtoNxw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVLu0bEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_uVLu07EeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVKgtLEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVLHyrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_uVLHyrEeEe-l6NDHhtoNxw" entityName="Switch Branch" predecessor_AbstractAction="_uVKgtLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLHy7EeEe-l6NDHhtoNxw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVKgv7EeEe-l6NDHhtoNxw">
                      <branchBehaviour_BranchTransition id="_uVKgwbEeEe-l6NDHhtoNxw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_uVKgtbEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVKgvLEeEe-l6NDHhtoNxw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_uVKgvLEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVKgtbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVKgvbEeEe-l6NDHhtoNxw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVKgubEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_uVKgu7EeEe-l6NDHhtoNxw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_uVKgtrEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVKgt7EeEe-l6NDHhtoNxw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_uVKgt7EeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVKgtrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVKguLEeEe-l6NDHhtoNxw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_uVKguLEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVKgt7EeEe-l6NDHhtoNxw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_uVKgvbEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVKgvLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVKgvrEeEe-l6NDHhtoNxw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_uVKgvrEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVKgvbEeEe-l6NDHhtoNxw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVLHwbEeEe-l6NDHhtoNxw">
                      <branchBehaviour_BranchTransition id="_uVLHw7EeEe-l6NDHhtoNxw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_uVKgwrEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVKgw7EeEe-l6NDHhtoNxw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_uVKgw7EeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVKgwrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLHwLEeEe-l6NDHhtoNxw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_uVLHwLEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVKgw7EeEe-l6NDHhtoNxw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVLHx7EeEe-l6NDHhtoNxw">
                      <branchBehaviour_BranchTransition id="_uVLHybEeEe-l6NDHhtoNxw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_uVLHxLEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVLHxbEeEe-l6NDHhtoNxw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_uVLHxbEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVLHxLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLHxrEeEe-l6NDHhtoNxw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_uVLHxrEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVLHxbEeEe-l6NDHhtoNxw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVLHy7EeEe-l6NDHhtoNxw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_uVLHyrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLHzLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVLHzLEeEe-l6NDHhtoNxw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_uVLHy7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLHzbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVLHzbEeEe-l6NDHhtoNxw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_uVLHzLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLHzrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVLHzrEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVLHzbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLHz7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVLHz7EeEe-l6NDHhtoNxw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_uVLHzrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLH0LEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVLH0LEeEe-l6NDHhtoNxw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_uVLHz7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLH0bEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVLH0bEeEe-l6NDHhtoNxw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_uVLH0LEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLH0rEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVLH0rEeEe-l6NDHhtoNxw" entityName="deferredResult" predecessor_AbstractAction="_uVLH0bEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVLu0LEeEe-l6NDHhtoNxw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVLu0LEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVLH0rEeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVLu1bEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVLu1LEeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_uVLu2rEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVLu2bEeEe-l6NDHhtoNxw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_uV3rVbEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uV3rVLEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_uV0oA7EeEe-l6NDHhtoNxw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_uVGPSbEeEe-l6NDHhtoNxw" describedService__SEFF="_uO12QbEeEe-l6NDHhtoNxw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_uPQF8bEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVCk4bEeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_uVCk4bEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uPQF8bEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVDzALEeEe-l6NDHhtoNxw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVB90LEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_uVCk4LEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uPR7ILEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVBWwLEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVBWwLEeEe-l6NDHhtoNxw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_uPR7ILEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVBWwbEeEe-l6NDHhtoNxw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVBWwbEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVBWwLEeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_uVDzALEeEe-l6NDHhtoNxw" entityName="stopWatch.start()" predecessor_AbstractAction="_uVCk4bEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVGPR7EeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_uVGPR7EeEe-l6NDHhtoNxw" entityName="Switch Branch" predecessor_AbstractAction="_uVDzALEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVGPSLEeEe-l6NDHhtoNxw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVFBKbEeEe-l6NDHhtoNxw">
          <branchBehaviour_BranchTransition id="_uVFBK7EeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVEaELEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVEaEbEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaEbEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVEaELEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVEaErEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaErEeEe-l6NDHhtoNxw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_uVEaEbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVEaE7EeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaE7EeEe-l6NDHhtoNxw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_uVEaErEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVEaFLEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaFLEeEe-l6NDHhtoNxw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_uVEaE7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVEaFbEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVEaFbEeEe-l6NDHhtoNxw" entityName="deferredResult" predecessor_AbstractAction="_uVEaFLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFBJbEeEe-l6NDHhtoNxw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_uVFBJbEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVEaFbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFBJrEeEe-l6NDHhtoNxw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVFBIrEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_uVFBJLEeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVEaFrEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVEaF7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaF7EeEe-l6NDHhtoNxw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_uVEaFrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVEaGLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaGLEeEe-l6NDHhtoNxw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_uVEaF7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVEaGbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaGbEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVEaGLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVEaGrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaGrEeEe-l6NDHhtoNxw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_uVEaGbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVEaG7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaG7EeEe-l6NDHhtoNxw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_uVEaGrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVEaHLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVEaHLEeEe-l6NDHhtoNxw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_uVEaG7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFBILEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVFBILEeEe-l6NDHhtoNxw" entityName="deferredResult" predecessor_AbstractAction="_uVEaHLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFBIbEeEe-l6NDHhtoNxw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVFBIbEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVFBILEeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFBJrEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVFBJbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFBJ7EeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFBJ7EeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVFBJrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFBKLEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVFBKLEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVFBJ7EeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVFoQLEeEe-l6NDHhtoNxw">
          <branchBehaviour_BranchTransition id="_uVGPQLEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVFBLLEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVFoPLEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_uVFoPLEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVFBLLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoPbEeEe-l6NDHhtoNxw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVFoObEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_uVFoO7EeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVFoMLEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVFoMbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFoMbEeEe-l6NDHhtoNxw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_uVFoMLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoMrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFoMrEeEe-l6NDHhtoNxw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_uVFoMbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoM7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFoM7EeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVFoMrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoNLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFoNLEeEe-l6NDHhtoNxw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_uVFoM7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoNbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFoNbEeEe-l6NDHhtoNxw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_uVFoNLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoNrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFoNrEeEe-l6NDHhtoNxw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_uVFoNbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoN7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVFoN7EeEe-l6NDHhtoNxw" entityName="deferredResult" predecessor_AbstractAction="_uVFoNrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoOLEeEe-l6NDHhtoNxw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVFoOLEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVFoN7EeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFoPbEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVFoPLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoPrEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVFoPrEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVFoPbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVFoP7EeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVFoP7EeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVFoPrEeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVGPRLEeEe-l6NDHhtoNxw">
          <branchBehaviour_BranchTransition id="_uVGPRrEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVGPQbEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVGPQrEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVGPQrEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVGPQbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVGPQ7EeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVGPQ7EeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVGPQrEeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_uVGPSLEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVGPR7EeEe-l6NDHhtoNxw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_uV6HkLEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_uV6HkrEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uV6HkbEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_uV0oArEeEe-l6NDHhtoNxw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_uVHdcrEeEe-l6NDHhtoNxw" describedService__SEFF="_uO3rcLEeEe-l6NDHhtoNxw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_uVGPS7EeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVHdb7EeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_uVHdb7EeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVGPS7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVHdcLEeEe-l6NDHhtoNxw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVHdbLEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_uVHdbrEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVGPTLEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVHdarEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_uVHdarEeEe-l6NDHhtoNxw" entityName="Switch Branch" predecessor_AbstractAction="_uVGPTLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVHda7EeEe-l6NDHhtoNxw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVG2XLEeEe-l6NDHhtoNxw">
                <branchBehaviour_BranchTransition id="_uVG2XrEeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVGPTbEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVG2VrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_uVG2VrEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVGPTbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVG2V7EeEe-l6NDHhtoNxw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVG2U7EeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_uVG2VbEeEe-l6NDHhtoNxw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_uVGPTrEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVG2UbEeEe-l6NDHhtoNxw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_uVG2UbEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVGPTrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVG2UrEeEe-l6NDHhtoNxw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVGPUbEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_uVG2ULEeEe-l6NDHhtoNxw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_uVGPT7EeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVGPULEeEe-l6NDHhtoNxw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_uVGPULEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVGPT7EeEe-l6NDHhtoNxw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_uVG2UrEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVG2UbEeEe-l6NDHhtoNxw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVG2V7EeEe-l6NDHhtoNxw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_uVG2VrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVG2WLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVG2WLEeEe-l6NDHhtoNxw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_uVG2V7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVG2WbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVG2WbEeEe-l6NDHhtoNxw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_uVG2WLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVG2WrEeEe-l6NDHhtoNxw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVG2WrEeEe-l6NDHhtoNxw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_uVG2WbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVG2W7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVG2W7EeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVG2WrEeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVHdYrEeEe-l6NDHhtoNxw">
                <branchBehaviour_BranchTransition id="_uVHdZLEeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVG2X7EeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVHdYLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVHdYLEeEe-l6NDHhtoNxw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_uVG2X7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVHdYbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVHdYbEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVHdYLEeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVHdZ7EeEe-l6NDHhtoNxw">
                <branchBehaviour_BranchTransition id="_uVHdabEeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVHdZbEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVHdZrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVHdZrEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVHdZbEeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVHda7EeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVHdarEeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_uVHdcLEeEe-l6NDHhtoNxw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_uVHdb7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVHdcbEeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_uVHdcbEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVHdcLEeEe-l6NDHhtoNxw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_uV8j1rEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uV8j1LEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_uV0oBbEeEe-l6NDHhtoNxw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uV8j1bEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_uV0oAbEeEe-l6NDHhtoNxw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_uVMV4rEeEe-l6NDHhtoNxw" describedService__SEFF="_uO3EYbEeEe-l6NDHhtoNxw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_uVLu3bEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVMV4LEeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVMV4LEeEe-l6NDHhtoNxw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_uVLu3bEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVMV4bEeEe-l6NDHhtoNxw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_uVMV4bEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVMV4LEeEe-l6NDHhtoNxw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_uVM9BLEeEe-l6NDHhtoNxw" describedService__SEFF="_uO2dUbEeEe-l6NDHhtoNxw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_uVMV5LEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVMV8bEeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_uVMV8bEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVMV5LEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVM9ArEeEe-l6NDHhtoNxw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVMV6LEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_uVMV6rEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVMV5bEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVMV5rEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVMV5rEeEe-l6NDHhtoNxw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_uVMV5bEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVMV57EeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVMV57EeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVMV5rEeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVMV7rEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_uVMV8LEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVMV67EeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVMV7LEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_uVMV7LEeEe-l6NDHhtoNxw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_uVMV67EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVMV7bEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVMV7bEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVMV7LEeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_uVM9ArEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVMV8bEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVM9A7EeEe-l6NDHhtoNxw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVM8_7EeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_uVM9AbEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVM88LEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVM8_bEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_uVM8_bEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVM88LEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVM8_rEeEe-l6NDHhtoNxw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVM89bEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_uVM897EeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVM88bEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVM88rEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVM88rEeEe-l6NDHhtoNxw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_uVM88bEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVM887EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVM887EeEe-l6NDHhtoNxw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_uVM88rEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVM89LEeEe-l6NDHhtoNxw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVM89LEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVM887EeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVM8-rEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_uVM8_LEeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVM8-LEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVM8-bEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVM8-bEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVM8-LEeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVM8_rEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVM8_bEeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_uVM9A7EeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVM9ArEeEe-l6NDHhtoNxw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_uWA1TrEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uWA1TbEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_uV0oALEeEe-l6NDHhtoNxw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_uVJ5q7EeEe-l6NDHhtoNxw" describedService__SEFF="_uOFBQLEeEe-l6NDHhtoNxw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_uVHddLEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVIEdbEeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_uVIEdbEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVHddLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIEdrEeEe-l6NDHhtoNxw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVIEcrEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_uVIEdLEeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVHddbEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVIEcLEeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVIEcLEeEe-l6NDHhtoNxw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_uVHddbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIEcbEeEe-l6NDHhtoNxw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVIEcbEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVIEcLEeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIEdrEeEe-l6NDHhtoNxw" entityName="stopWatch.start()" predecessor_AbstractAction="_uVIEdbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJ5qLEeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_uVJ5qLEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVIEdrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJ5qbEeEe-l6NDHhtoNxw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVJ5pbEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_uVJ5p7EeEe-l6NDHhtoNxw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_uVIEd7EeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVJ5o7EeEe-l6NDHhtoNxw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_uVJ5o7EeEe-l6NDHhtoNxw" entityName="Switch Branch" predecessor_AbstractAction="_uVIEd7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJ5pLEeEe-l6NDHhtoNxw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVIrjLEeEe-l6NDHhtoNxw">
                <branchBehaviour_BranchTransition id="_uVIrjrEeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVIEeLEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVIEebEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIEebEeEe-l6NDHhtoNxw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_uVIEeLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIEhbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_uVIEhbEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVIEebEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIEhrEeEe-l6NDHhtoNxw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVIEgrEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_uVIEhLEeEe-l6NDHhtoNxw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_uVIEerEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVIEgLEeEe-l6NDHhtoNxw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_uVIEgLEeEe-l6NDHhtoNxw" entityName="If Branch" predecessor_AbstractAction="_uVIEerEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIEgbEeEe-l6NDHhtoNxw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVIEfbEeEe-l6NDHhtoNxw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_uVIEf7EeEe-l6NDHhtoNxw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_uVIEe7EeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVIEfLEeEe-l6NDHhtoNxw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_uVIEfLEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVIEe7EeEe-l6NDHhtoNxw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_uVIEgbEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVIEgLEeEe-l6NDHhtoNxw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIEhrEeEe-l6NDHhtoNxw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_uVIEhbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIrgLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIrgLEeEe-l6NDHhtoNxw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_uVIEhrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIrgbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIrgbEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVIrgLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIrgrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIrgrEeEe-l6NDHhtoNxw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_uVIrgbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIrg7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIrg7EeEe-l6NDHhtoNxw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_uVIrgrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIrhLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVIrhLEeEe-l6NDHhtoNxw" entityName="deferredResult" predecessor_AbstractAction="_uVIrg7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIrhbEeEe-l6NDHhtoNxw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIrhbEeEe-l6NDHhtoNxw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_uVIrhLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIrhrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIrhrEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVIrhbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIrh7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIrh7EeEe-l6NDHhtoNxw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_uVIrhrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIriLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIriLEeEe-l6NDHhtoNxw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_uVIrh7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIribEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVIribEeEe-l6NDHhtoNxw" entityName="deferredResult" predecessor_AbstractAction="_uVIriLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIrirEeEe-l6NDHhtoNxw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVIrirEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVIribEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVIri7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVIri7EeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVIrirEeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVJSmLEeEe-l6NDHhtoNxw">
                <branchBehaviour_BranchTransition id="_uVJSmrEeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVJSkLEeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVJSkbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVJSkbEeEe-l6NDHhtoNxw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_uVJSkLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJSkrEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVJSkrEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVJSkbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJSk7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVJSk7EeEe-l6NDHhtoNxw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_uVJSkrEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJSlLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVJSlLEeEe-l6NDHhtoNxw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_uVJSk7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJSlbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_uVJSlbEeEe-l6NDHhtoNxw" entityName="deferredResult" predecessor_AbstractAction="_uVJSlLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJSlrEeEe-l6NDHhtoNxw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVJSlrEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVJSlbEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJSl7EeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVJSl7EeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVJSlrEeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_uVJ5oLEeEe-l6NDHhtoNxw">
                <branchBehaviour_BranchTransition id="_uVJ5orEeEe-l6NDHhtoNxw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_uVJSm7EeEe-l6NDHhtoNxw" entityName="Start Action" successor_AbstractAction="_uVJSnLEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_uVJSnLEeEe-l6NDHhtoNxw" entityName="stopWatch.stop()" predecessor_AbstractAction="_uVJSm7EeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJSnbEeEe-l6NDHhtoNxw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_uVJSnbEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVJSnLEeEe-l6NDHhtoNxw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_uVJ5pLEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVJ5o7EeEe-l6NDHhtoNxw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_uVJ5qbEeEe-l6NDHhtoNxw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_uVJ5qLEeEe-l6NDHhtoNxw" successor_AbstractAction="_uVJ5qrEeEe-l6NDHhtoNxw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_uVJ5qrEeEe-l6NDHhtoNxw" entityName="Stop Action" predecessor_AbstractAction="_uVJ5qbEeEe-l6NDHhtoNxw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_uWFGsrEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_uWFtxLEeEe-l6NDHhtoNxw" encapsulatedComponent__AssemblyContext="_uV8j1rEeEe-l6NDHhtoNxw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_uWG74bEeEe-l6NDHhtoNxw" innerProvidedRole_ProvidedDelegationConnector="_uV8j1LEeEe-l6NDHhtoNxw" outerProvidedRole_ProvidedDelegationConnector="_uWFGsbEeEe-l6NDHhtoNxw" assemblyContext_ProvidedDelegationConnector="_uWFtxLEeEe-l6NDHhtoNxw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_uWG74rEeEe-l6NDHhtoNxw" innerProvidedRole_ProvidedDelegationConnector="_uV8j1bEeEe-l6NDHhtoNxw" outerProvidedRole_ProvidedDelegationConnector="_uWFGsLEeEe-l6NDHhtoNxw" assemblyContext_ProvidedDelegationConnector="_uWFtxLEeEe-l6NDHhtoNxw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uWFGsLEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_uV0oAbEeEe-l6NDHhtoNxw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uWFGsbEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_uV0oBbEeEe-l6NDHhtoNxw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_uWFGtLEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_uWFtxrEeEe-l6NDHhtoNxw" encapsulatedComponent__AssemblyContext="_uWA1TrEeEe-l6NDHhtoNxw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_uWG75LEeEe-l6NDHhtoNxw" innerProvidedRole_ProvidedDelegationConnector="_uWA1TbEeEe-l6NDHhtoNxw" outerProvidedRole_ProvidedDelegationConnector="_uWFGs7EeEe-l6NDHhtoNxw" assemblyContext_ProvidedDelegationConnector="_uWFtxrEeEe-l6NDHhtoNxw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uWFGs7EeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_uV0oALEeEe-l6NDHhtoNxw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_uWFGtrEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_uWFtyrEeEe-l6NDHhtoNxw" encapsulatedComponent__AssemblyContext="_uV0oB7EeEe-l6NDHhtoNxw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_uWG75bEeEe-l6NDHhtoNxw" innerProvidedRole_ProvidedDelegationConnector="_uV0oBrEeEe-l6NDHhtoNxw" outerProvidedRole_ProvidedDelegationConnector="_uWFGtbEeEe-l6NDHhtoNxw" assemblyContext_ProvidedDelegationConnector="_uWFtyrEeEe-l6NDHhtoNxw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uWFGtbEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_uV0oBLEeEe-l6NDHhtoNxw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_uWFGuLEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_uWFtwrEeEe-l6NDHhtoNxw" encapsulatedComponent__AssemblyContext="_uV3rVbEeEe-l6NDHhtoNxw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_uWG747EeEe-l6NDHhtoNxw" innerProvidedRole_ProvidedDelegationConnector="_uV3rVLEeEe-l6NDHhtoNxw" outerProvidedRole_ProvidedDelegationConnector="_uWFGt7EeEe-l6NDHhtoNxw" assemblyContext_ProvidedDelegationConnector="_uWFtwrEeEe-l6NDHhtoNxw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uWFGt7EeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_uV0oA7EeEe-l6NDHhtoNxw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_uWFGubEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_uWFtyLEeEe-l6NDHhtoNxw" encapsulatedComponent__AssemblyContext="_uV6HkLEeEe-l6NDHhtoNxw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_uWFGu7EeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_uWFtwLEeEe-l6NDHhtoNxw" encapsulatedComponent__AssemblyContext="_uV6HkrEeEe-l6NDHhtoNxw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_uWG74LEeEe-l6NDHhtoNxw" innerProvidedRole_ProvidedDelegationConnector="_uV6HkbEeEe-l6NDHhtoNxw" outerProvidedRole_ProvidedDelegationConnector="_uWFGurEeEe-l6NDHhtoNxw" assemblyContext_ProvidedDelegationConnector="_uWFtwLEeEe-l6NDHhtoNxw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_uWFGurEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_uV0oArEeEe-l6NDHhtoNxw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_uV0oALEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_uOFBQLEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_uOEaMLEeEe-l6NDHhtoNxw">
      <parameters__OperationSignature dataType__Parameter="_uOClALEeEe-l6NDHhtoNxw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_uV0oAbEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_uO2dUbEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_uO2dULEeEe-l6NDHhtoNxw">
      <parameters__OperationSignature dataType__Parameter="_uO12RLEeEe-l6NDHhtoNxw" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_uO12RbEeEe-l6NDHhtoNxw" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_uV0oArEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_uO3rcLEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_uO2dULEeEe-l6NDHhtoNxw">
      <parameters__OperationSignature dataType__Parameter="_uOClALEeEe-l6NDHhtoNxw" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_uV0oA7EeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_uO12QbEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_uOEaMLEeEe-l6NDHhtoNxw">
      <parameters__OperationSignature dataType__Parameter="_uO12QLEeEe-l6NDHhtoNxw" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_uV0oBLEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_uO2dVLEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_uOEaMLEeEe-l6NDHhtoNxw">
      <parameters__OperationSignature dataType__Parameter="_uOClALEeEe-l6NDHhtoNxw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_uV0oBbEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_uO3EYbEeEe-l6NDHhtoNxw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_uO2dULEeEe-l6NDHhtoNxw">
      <parameters__OperationSignature dataType__Parameter="_uO3EYLEeEe-l6NDHhtoNxw" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_uOClALEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_uOEaMLEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_uO12QLEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_uO12RLEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_uO12RbEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_uO2dULEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_uO3EYLEeEe-l6NDHhtoNxw" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
