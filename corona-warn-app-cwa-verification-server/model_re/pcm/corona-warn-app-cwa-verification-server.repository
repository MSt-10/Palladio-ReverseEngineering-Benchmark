<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_9RWY_K35Ee-Ux8DGQLGeLw">
  <components__Repository xsi:type="repository:BasicComponent" id="_9RFTN635Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RFTNq35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_9RFTM635Ee-Ux8DGQLGeLw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9QdBEq35Ee-Ux8DGQLGeLw" describedService__SEFF="_9K06M635Ee-Ux8DGQLGeLw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9Qak4K35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QbL5q35Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9QbL5q35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9Qak4K35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QbL5635Ee-Ux8DGQLGeLw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QbL4635Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9QbL5a35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QbL4K35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QbL4a35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QbL4a35Ee-Ux8DGQLGeLw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_9QbL4K35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QbL4q35Ee-Ux8DGQLGeLw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QbL4q35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QbL4a35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9QbL5635Ee-Ux8DGQLGeLw" entityName="stopWatch.start()" predecessor_AbstractAction="_9QbL5q35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QdBEK35Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9QdBEK35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QbL5635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QdBEa35Ee-Ux8DGQLGeLw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QcaCq35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9QcaDK35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QbL6K35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QcaCK35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9QcaCK35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QbL6K35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QcaCa35Ee-Ux8DGQLGeLw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QcaBa35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9QcaB635Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9QbL6a35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QbzAa35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_9QbzAa35Ee-Ux8DGQLGeLw" entityName="Switch Branch" predecessor_AbstractAction="_9QbL6a35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QbzAq35Ee-Ux8DGQLGeLw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9Qby8q35Ee-Ux8DGQLGeLw">
                      <branchBehaviour_BranchTransition id="_9Qby9K35Ee-Ux8DGQLGeLw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9QbL6q35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QbL8a35Ee-Ux8DGQLGeLw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_9QbL8a35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QbL6q35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qby8K35Ee-Ux8DGQLGeLw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QbL7q35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_9QbL8K35Ee-Ux8DGQLGeLw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_9QbL6635Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QbL7K35Ee-Ux8DGQLGeLw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_9QbL7K35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QbL6635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QbL7a35Ee-Ux8DGQLGeLw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_9QbL7a35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QbL7K35Ee-Ux8DGQLGeLw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_9Qby8K35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QbL8a35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qby8a35Ee-Ux8DGQLGeLw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9Qby8a35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qby8K35Ee-Ux8DGQLGeLw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9Qby-K35Ee-Ux8DGQLGeLw">
                      <branchBehaviour_BranchTransition id="_9Qby-q35Ee-Ux8DGQLGeLw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9Qby9a35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9Qby9q35Ee-Ux8DGQLGeLw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_9Qby9q35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9Qby9a35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qby9635Ee-Ux8DGQLGeLw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9Qby9635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qby9q35Ee-Ux8DGQLGeLw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9Qby_q35Ee-Ux8DGQLGeLw">
                      <branchBehaviour_BranchTransition id="_9QbzAK35Ee-Ux8DGQLGeLw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9Qby-635Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9Qby_K35Ee-Ux8DGQLGeLw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_9Qby_K35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9Qby-635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qby_a35Ee-Ux8DGQLGeLw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9Qby_a35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qby_K35Ee-Ux8DGQLGeLw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QbzAq35Ee-Ux8DGQLGeLw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_9QbzAa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QbzA635Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QbzA635Ee-Ux8DGQLGeLw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_9QbzAq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QbzBK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QbzBK35Ee-Ux8DGQLGeLw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_9QbzA635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QbzBa35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QbzBa35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QbzBK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QcaAK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QcaAK35Ee-Ux8DGQLGeLw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9QbzBa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QcaAa35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QcaAa35Ee-Ux8DGQLGeLw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_9QcaAK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QcaAq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QcaAq35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_9QcaAa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QcaA635Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QcaA635Ee-Ux8DGQLGeLw" entityName="deferredResult" predecessor_AbstractAction="_9QcaAq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QcaBK35Ee-Ux8DGQLGeLw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9QcaBK35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QcaA635Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QcaCa35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QcaCK35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9QdBEa35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QdBEK35Ee-Ux8DGQLGeLw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_9RIWg635Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_9RIWha35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RIWhK35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_9RFTMq35Ee-Ux8DGQLGeLw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9Qak3q35Ee-Ux8DGQLGeLw" describedService__SEFF="_9K0TIq35Ee-Ux8DGQLGeLw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9QYImK35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QYvoK35Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9QYvoK35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QYImK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYvoa35Ee-Ux8DGQLGeLw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QYInK35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9QYInq35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QYIma35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QYImq35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QYImq35Ee-Ux8DGQLGeLw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_9QYIma35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYIm635Ee-Ux8DGQLGeLw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QYIm635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QYImq35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9QYvoa35Ee-Ux8DGQLGeLw" entityName="stopWatch.start()" predecessor_AbstractAction="_9QYvoK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qak2635Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9Qak2635Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QYvoa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qak3K35Ee-Ux8DGQLGeLw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9Qak2K35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9Qak2q35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QYvoq35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9Qak1q35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9Qak1q35Ee-Ux8DGQLGeLw" entityName="Switch Branch" predecessor_AbstractAction="_9QYvoq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qak1635Ee-Ux8DGQLGeLw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QZWuq35Ee-Ux8DGQLGeLw">
                <branchBehaviour_BranchTransition id="_9QZ9wK35Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9QYvo635Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QYvpK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QYvpK35Ee-Ux8DGQLGeLw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_9QYvo635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYvsK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_9QYvsK35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QYvpK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYvsa35Ee-Ux8DGQLGeLw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QYvra35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_9QYvr635Ee-Ux8DGQLGeLw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9QYvpa35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QYvq635Ee-Ux8DGQLGeLw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_9QYvq635Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QYvpa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYvrK35Ee-Ux8DGQLGeLw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QYvqK35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_9QYvqq35Ee-Ux8DGQLGeLw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_9QYvpq35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QYvp635Ee-Ux8DGQLGeLw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_9QYvp635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QYvpq35Ee-Ux8DGQLGeLw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9QYvrK35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QYvq635Ee-Ux8DGQLGeLw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QYvsa35Ee-Ux8DGQLGeLw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_9QYvsK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYvsq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QYvsq35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_9QYvsa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYvs635Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QYvs635Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QYvsq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWsK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZWsK35Ee-Ux8DGQLGeLw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9QYvs635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWsa35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZWsa35Ee-Ux8DGQLGeLw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_9QZWsK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWsq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QZWsq35Ee-Ux8DGQLGeLw" entityName="deferredResult" predecessor_AbstractAction="_9QZWsa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWs635Ee-Ux8DGQLGeLw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZWs635Ee-Ux8DGQLGeLw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_9QZWsq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWtK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZWtK35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QZWs635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWta35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZWta35Ee-Ux8DGQLGeLw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9QZWtK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWtq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZWtq35Ee-Ux8DGQLGeLw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_9QZWta35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWt635Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QZWt635Ee-Ux8DGQLGeLw" entityName="deferredResult" predecessor_AbstractAction="_9QZWtq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWuK35Ee-Ux8DGQLGeLw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZWuK35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QZWt635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZWua35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9QZWua35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QZWuK35Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QZ9ya35Ee-Ux8DGQLGeLw">
                <branchBehaviour_BranchTransition id="_9QZ9y635Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9QZ9wa35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QZ9wq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZ9wq35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_9QZ9wa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZ9w635Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZ9w635Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QZ9wq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZ9xK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZ9xK35Ee-Ux8DGQLGeLw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9QZ9w635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZ9xa35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZ9xa35Ee-Ux8DGQLGeLw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_9QZ9xK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZ9xq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QZ9xq35Ee-Ux8DGQLGeLw" entityName="deferredResult" predecessor_AbstractAction="_9QZ9xa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZ9x635Ee-Ux8DGQLGeLw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QZ9x635Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QZ9xq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QZ9yK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9QZ9yK35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QZ9x635Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9Qak0635Ee-Ux8DGQLGeLw">
                <branchBehaviour_BranchTransition id="_9Qak1a35Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9Qak0K35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9Qak0a35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9Qak0a35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9Qak0K35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qak0q35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9Qak0q35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qak0a35Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9Qak1635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qak1q35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9Qak3K35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_9Qak2635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qak3a35Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9Qak3a35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qak3K35Ee-Ux8DGQLGeLw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_9RKyzK35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RKyyq35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_9RFTMa35Ee-Ux8DGQLGeLw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RKyy635Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_9RFTNa35Ee-Ux8DGQLGeLw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9QdoMa35Ee-Ux8DGQLGeLw" describedService__SEFF="_9KzsEq35Ee-Ux8DGQLGeLw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9QdBFK35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QdBIa35Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9QdBIa35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QdBFK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QdoL635Ee-Ux8DGQLGeLw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QdBGK35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9QdBGq35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QdBFa35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QdBFq35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QdBFq35Ee-Ux8DGQLGeLw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_9QdBFa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QdBF635Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QdBF635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QdBFq35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QdBHq35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9QdBIK35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QdBG635Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QdBHK35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QdBHK35Ee-Ux8DGQLGeLw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_9QdBG635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QdBHa35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QdBHa35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QdBHK35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9QdoL635Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QdBIa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QdoMK35Ee-Ux8DGQLGeLw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QdoLK35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9QdoLq35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QdBIq35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QdoKq35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9QdoKq35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QdBIq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QdoK635Ee-Ux8DGQLGeLw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QdoIq35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9QdoJK35Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9QdBI635Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QdBJK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QdBJK35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_9QdBI635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QdoIK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QdoIK35Ee-Ux8DGQLGeLw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_9QdBJK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QdoIa35Ee-Ux8DGQLGeLw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9QdoIa35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QdoIK35Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QdoJ635Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9QdoKa35Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9QdoJa35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QdoJq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9QdoJq35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QdoJa35Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QdoK635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QdoKq35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9QdoMK35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QdoL635Ee-Ux8DGQLGeLw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9QePMq35Ee-Ux8DGQLGeLw" describedService__SEFF="_9KEFMK35Ee-Ux8DGQLGeLw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9QdoM635Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QePMK35Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QePMK35Ee-Ux8DGQLGeLw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_9QdoM635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QePMa35Ee-Ux8DGQLGeLw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9QePMa35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QePMK35Ee-Ux8DGQLGeLw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_9RPrRq35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RPrRa35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_9RFTNK35Ee-Ux8DGQLGeLw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9QfdVK35Ee-Ux8DGQLGeLw" describedService__SEFF="_9K1hQK35Ee-Ux8DGQLGeLw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9QePNK35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QfdUa35Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9QfdUa35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QePNK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QfdUq35Ee-Ux8DGQLGeLw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9Qe2VK35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9QfdUK35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QePNa35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9Qe2Uq35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9Qe2Uq35Ee-Ux8DGQLGeLw" entityName="Switch Branch" predecessor_AbstractAction="_9QePNa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qe2U635Ee-Ux8DGQLGeLw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9Qe2RK35Ee-Ux8DGQLGeLw">
                <branchBehaviour_BranchTransition id="_9Qe2Rq35Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9QePNq35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QePQq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_9QePQq35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QePNq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QePQ635Ee-Ux8DGQLGeLw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QePP635Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_9QePQa35Ee-Ux8DGQLGeLw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_9QePN635Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QePPa35Ee-Ux8DGQLGeLw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_9QePPa35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QePN635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QePPq35Ee-Ux8DGQLGeLw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QePOq35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_9QePPK35Ee-Ux8DGQLGeLw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_9QePOK35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QePOa35Ee-Ux8DGQLGeLw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_9QePOa35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QePOK35Ee-Ux8DGQLGeLw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_9QePPq35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QePPa35Ee-Ux8DGQLGeLw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QePQ635Ee-Ux8DGQLGeLw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_9QePQq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qe2QK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9Qe2QK35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_9QePQ635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qe2Qa35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9Qe2Qa35Ee-Ux8DGQLGeLw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_9Qe2QK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qe2Qq35Ee-Ux8DGQLGeLw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9Qe2Qq35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_9Qe2Qa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qe2Q635Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9Qe2Q635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qe2Qq35Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9Qe2Sq35Ee-Ux8DGQLGeLw">
                <branchBehaviour_BranchTransition id="_9Qe2TK35Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9Qe2R635Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9Qe2SK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9Qe2SK35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_9Qe2R635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9Qe2Sa35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9Qe2Sa35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qe2SK35Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9Qe2T635Ee-Ux8DGQLGeLw">
                <branchBehaviour_BranchTransition id="_9Qe2Ua35Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9Qe2Ta35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9Qe2Tq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9Qe2Tq35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qe2Ta35Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9Qe2U635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9Qe2Uq35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9QfdUq35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_9QfdUa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QfdU635Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9QfdU635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QfdUq35Ee-Ux8DGQLGeLw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_9RSHga35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RSHgK35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_9RFTMK35Ee-Ux8DGQLGeLw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_9QYIlq35Ee-Ux8DGQLGeLw" describedService__SEFF="_9K06MK35Ee-Ux8DGQLGeLw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_9LPJ4a35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QUeMa35Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9QUeMa35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9LPJ4a35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QVFQK35Ee-Ux8DGQLGeLw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QT3IK35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_9QUeMK35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9LQ_EK35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QTQEK35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QTQEK35Ee-Ux8DGQLGeLw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_9LQ_EK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QTQEa35Ee-Ux8DGQLGeLw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QTQEa35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QTQEK35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_9QVFQK35Ee-Ux8DGQLGeLw" entityName="stopWatch.start()" predecessor_AbstractAction="_9QUeMa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYIlK35Ee-Ux8DGQLGeLw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_9QYIlK35Ee-Ux8DGQLGeLw" entityName="Switch Branch" predecessor_AbstractAction="_9QVFQK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYIla35Ee-Ux8DGQLGeLw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QW6cq35Ee-Ux8DGQLGeLw">
          <branchBehaviour_BranchTransition id="_9QW6dK35Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QVsUK35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QVsUa35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QVsUa35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QVsUK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QVsUq35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QVsUq35Ee-Ux8DGQLGeLw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9QVsUa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QVsU635Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QVsU635Ee-Ux8DGQLGeLw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_9QVsUq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QVsVK35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QVsVK35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_9QVsU635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QVsVa35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QVsVa35Ee-Ux8DGQLGeLw" entityName="deferredResult" predecessor_AbstractAction="_9QVsVK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QWTa635Ee-Ux8DGQLGeLw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9QWTa635Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QVsVa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QWTbK35Ee-Ux8DGQLGeLw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QWTaK35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9QWTaq35Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9QVsVq35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QWTYK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QWTYK35Ee-Ux8DGQLGeLw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_9QVsVq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QWTYa35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QWTYa35Ee-Ux8DGQLGeLw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_9QWTYK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QWTYq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QWTYq35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QWTYa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QWTY635Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QWTY635Ee-Ux8DGQLGeLw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9QWTYq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QWTZK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QWTZK35Ee-Ux8DGQLGeLw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_9QWTY635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QWTZa35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QWTZa35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_9QWTZK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QWTZq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QWTZq35Ee-Ux8DGQLGeLw" entityName="deferredResult" predecessor_AbstractAction="_9QWTZa35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QWTZ635Ee-Ux8DGQLGeLw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9QWTZ635Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QWTZq35Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QWTbK35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QWTa635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QW6cK35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QW6cK35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QWTbK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QW6ca35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QW6ca35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QW6cK35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QXhia35Ee-Ux8DGQLGeLw">
          <branchBehaviour_BranchTransition id="_9QXhi635Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QW6da35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QXhha35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_9QXhha35Ee-Ux8DGQLGeLw" entityName="If Branch" predecessor_AbstractAction="_9QW6da35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QXhhq35Ee-Ux8DGQLGeLw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QXhgq35Ee-Ux8DGQLGeLw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_9QXhhK35Ee-Ux8DGQLGeLw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_9QW6dq35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QW6d635Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QW6d635Ee-Ux8DGQLGeLw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_9QW6dq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QW6eK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QW6eK35Ee-Ux8DGQLGeLw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_9QW6d635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QW6ea35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QW6ea35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QW6eK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QW6eq35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QW6eq35Ee-Ux8DGQLGeLw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_9QW6ea35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QW6e635Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QW6e635Ee-Ux8DGQLGeLw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_9QW6eq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QW6fK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_9QW6fK35Ee-Ux8DGQLGeLw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_9QW6e635Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QXhgK35Ee-Ux8DGQLGeLw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_9QXhgK35Ee-Ux8DGQLGeLw" entityName="deferredResult" predecessor_AbstractAction="_9QW6fK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QXhga35Ee-Ux8DGQLGeLw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_9QXhga35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QXhgK35Ee-Ux8DGQLGeLw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QXhhq35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QXhha35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QXhh635Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QXhh635Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QXhhq35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QXhiK35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QXhiK35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QXhh635Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_9QYIka35Ee-Ux8DGQLGeLw">
          <branchBehaviour_BranchTransition id="_9QYIk635Ee-Ux8DGQLGeLw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_9QXhjK35Ee-Ux8DGQLGeLw" entityName="Start Action" successor_AbstractAction="_9QXhja35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_9QXhja35Ee-Ux8DGQLGeLw" entityName="stopWatch.stop()" predecessor_AbstractAction="_9QXhjK35Ee-Ux8DGQLGeLw" successor_AbstractAction="_9QYIkK35Ee-Ux8DGQLGeLw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_9QYIkK35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QXhja35Ee-Ux8DGQLGeLw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_9QYIla35Ee-Ux8DGQLGeLw" entityName="Stop Action" predecessor_AbstractAction="_9QYIlK35Ee-Ux8DGQLGeLw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9RVx4q35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_9RWY9q35Ee-Ux8DGQLGeLw" encapsulatedComponent__AssemblyContext="_9RKyzK35Ee-Ux8DGQLGeLw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9RXnEK35Ee-Ux8DGQLGeLw" innerProvidedRole_ProvidedDelegationConnector="_9RKyyq35Ee-Ux8DGQLGeLw" outerProvidedRole_ProvidedDelegationConnector="_9RVx4K35Ee-Ux8DGQLGeLw" assemblyContext_ProvidedDelegationConnector="_9RWY9q35Ee-Ux8DGQLGeLw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9RXnEa35Ee-Ux8DGQLGeLw" innerProvidedRole_ProvidedDelegationConnector="_9RKyy635Ee-Ux8DGQLGeLw" outerProvidedRole_ProvidedDelegationConnector="_9RVx4a35Ee-Ux8DGQLGeLw" assemblyContext_ProvidedDelegationConnector="_9RWY9q35Ee-Ux8DGQLGeLw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RVx4K35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_9RFTMa35Ee-Ux8DGQLGeLw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RVx4a35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_9RFTNa35Ee-Ux8DGQLGeLw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9RVx5K35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_9RWY-q35Ee-Ux8DGQLGeLw" encapsulatedComponent__AssemblyContext="_9RFTN635Ee-Ux8DGQLGeLw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9RXnE635Ee-Ux8DGQLGeLw" innerProvidedRole_ProvidedDelegationConnector="_9RFTNq35Ee-Ux8DGQLGeLw" outerProvidedRole_ProvidedDelegationConnector="_9RVx4635Ee-Ux8DGQLGeLw" assemblyContext_ProvidedDelegationConnector="_9RWY-q35Ee-Ux8DGQLGeLw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RVx4635Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_9RFTM635Ee-Ux8DGQLGeLw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9RVx5q35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_9RWY8q35Ee-Ux8DGQLGeLw" encapsulatedComponent__AssemblyContext="_9RPrRq35Ee-Ux8DGQLGeLw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9RXnFK35Ee-Ux8DGQLGeLw" innerProvidedRole_ProvidedDelegationConnector="_9RPrRa35Ee-Ux8DGQLGeLw" outerProvidedRole_ProvidedDelegationConnector="_9RVx5a35Ee-Ux8DGQLGeLw" assemblyContext_ProvidedDelegationConnector="_9RWY8q35Ee-Ux8DGQLGeLw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RVx5a35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_9RFTNK35Ee-Ux8DGQLGeLw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9RVx6K35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_9RWY-K35Ee-Ux8DGQLGeLw" encapsulatedComponent__AssemblyContext="_9RSHga35Ee-Ux8DGQLGeLw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9RXnFa35Ee-Ux8DGQLGeLw" innerProvidedRole_ProvidedDelegationConnector="_9RSHgK35Ee-Ux8DGQLGeLw" outerProvidedRole_ProvidedDelegationConnector="_9RVx5635Ee-Ux8DGQLGeLw" assemblyContext_ProvidedDelegationConnector="_9RWY-K35Ee-Ux8DGQLGeLw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RVx5635Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_9RFTMK35Ee-Ux8DGQLGeLw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9RVx6a35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_9RWY8K35Ee-Ux8DGQLGeLw" encapsulatedComponent__AssemblyContext="_9RIWg635Ee-Ux8DGQLGeLw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_9RVx6635Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_9RWY9K35Ee-Ux8DGQLGeLw" encapsulatedComponent__AssemblyContext="_9RIWha35Ee-Ux8DGQLGeLw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_9RXnEq35Ee-Ux8DGQLGeLw" innerProvidedRole_ProvidedDelegationConnector="_9RIWhK35Ee-Ux8DGQLGeLw" outerProvidedRole_ProvidedDelegationConnector="_9RVx6q35Ee-Ux8DGQLGeLw" assemblyContext_ProvidedDelegationConnector="_9RWY9K35Ee-Ux8DGQLGeLw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_9RVx6q35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_9RFTMq35Ee-Ux8DGQLGeLw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9RFTMK35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_9K06MK35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_9K0TIa35Ee-Ux8DGQLGeLw">
      <parameters__OperationSignature dataType__Parameter="_9K0TJa35Ee-Ux8DGQLGeLw" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9RFTMa35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_9KzsEq35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_9KDeIK35Ee-Ux8DGQLGeLw">
      <parameters__OperationSignature dataType__Parameter="_9KzsEK35Ee-Ux8DGQLGeLw" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_9KzsEa35Ee-Ux8DGQLGeLw" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9RFTMq35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_9K0TIq35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_9K0TIa35Ee-Ux8DGQLGeLw">
      <parameters__OperationSignature dataType__Parameter="_9K0TIK35Ee-Ux8DGQLGeLw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9RFTM635Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_9K06M635Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_9K0TIa35Ee-Ux8DGQLGeLw">
      <parameters__OperationSignature dataType__Parameter="_9K0TIK35Ee-Ux8DGQLGeLw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9RFTNK35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_9K1hQK35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_9KDeIK35Ee-Ux8DGQLGeLw">
      <parameters__OperationSignature dataType__Parameter="_9K0TIK35Ee-Ux8DGQLGeLw" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_9RFTNa35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_9KEFMK35Ee-Ux8DGQLGeLw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_9KDeIK35Ee-Ux8DGQLGeLw">
      <parameters__OperationSignature dataType__Parameter="_9KCQAK35Ee-Ux8DGQLGeLw" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_9KCQAK35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_9KDeIK35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_9KzsEK35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_9KzsEa35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_9K0TIK35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_9K0TIa35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_9K0TJa35Ee-Ux8DGQLGeLw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
