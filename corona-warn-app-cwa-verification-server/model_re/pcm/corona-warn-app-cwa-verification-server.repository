<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_A4tTdiU9Ee-02-eH0VWflg">
  <components__Repository xsi:type="repository:BasicComponent" id="_A4bmoyU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4bmoiU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_A4a_nCU9Ee-02-eH0VWflg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_A3wROyU9Ee-02-eH0VWflg" describedService__SEFF="_Ax6H4CU9Ee-02-eH0VWflg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Ay930SU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3sm0SU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_A3sm0SU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_Ay930SU9Ee-02-eH0VWflg" successor_AbstractAction="_A3tN4CU9Ee-02-eH0VWflg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3r_wCU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_A3sm0CU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ay_F8CU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3rYsCU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A3rYsCU9Ee-02-eH0VWflg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_Ay_F8CU9Ee-02-eH0VWflg" successor_AbstractAction="_A3rYsSU9Ee-02-eH0VWflg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A3rYsSU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3rYsCU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_A3tN4CU9Ee-02-eH0VWflg" entityName="stopWatch.start()" predecessor_AbstractAction="_A3sm0SU9Ee-02-eH0VWflg" successor_AbstractAction="_A3wROCU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_A3wROCU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3tN4CU9Ee-02-eH0VWflg" successor_AbstractAction="_A3wROSU9Ee-02-eH0VWflg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3wRNSU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_A3wRNyU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A3tN4SU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3wRMyU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_A3wRMyU9Ee-02-eH0VWflg" entityName="Switch Branch" predecessor_AbstractAction="_A3tN4SU9Ee-02-eH0VWflg" successor_AbstractAction="_A3wRNCU9Ee-02-eH0VWflg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3vDFSU9Ee-02-eH0VWflg">
                <branchBehaviour_BranchTransition id="_A3vDFyU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A3t08CU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3t08SU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3t08SU9Ee-02-eH0VWflg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_A3t08CU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucBCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_A3ucBCU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3t08SU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucBSU9Ee-02-eH0VWflg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3ucASU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_A3ucAyU9Ee-02-eH0VWflg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_A3t08iU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3t0-CU9Ee-02-eH0VWflg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_A3t0-CU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3t08iU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucACU9Ee-02-eH0VWflg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3t09SU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_A3t09yU9Ee-02-eH0VWflg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_A3t08yU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3t09CU9Ee-02-eH0VWflg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_A3t09CU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3t08yU9Ee-02-eH0VWflg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_A3ucACU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3t0-CU9Ee-02-eH0VWflg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3ucBSU9Ee-02-eH0VWflg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_A3ucBCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucBiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3ucBiU9Ee-02-eH0VWflg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_A3ucBSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucByU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3ucByU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3ucBiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucCCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3ucCCU9Ee-02-eH0VWflg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_A3ucByU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucCSU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3ucCSU9Ee-02-eH0VWflg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_A3ucCCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucCiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A3ucCiU9Ee-02-eH0VWflg" entityName="deferredResult" predecessor_AbstractAction="_A3ucCSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucCyU9Ee-02-eH0VWflg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3ucCyU9Ee-02-eH0VWflg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_A3ucCiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ucDCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3ucDCU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3ucCyU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vDECU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3vDECU9Ee-02-eH0VWflg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_A3ucDCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vDESU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3vDESU9Ee-02-eH0VWflg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_A3vDECU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vDEiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A3vDEiU9Ee-02-eH0VWflg" entityName="deferredResult" predecessor_AbstractAction="_A3vDESU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vDEyU9Ee-02-eH0VWflg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3vDEyU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3vDEiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vDFCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A3vDFCU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3vDEyU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3vqJyU9Ee-02-eH0VWflg">
                <branchBehaviour_BranchTransition id="_A3vqKSU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A3vDGCU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3vqICU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3vqICU9Ee-02-eH0VWflg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_A3vDGCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vqISU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3vqISU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3vqICU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vqIiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3vqIiU9Ee-02-eH0VWflg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_A3vqISU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vqIyU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3vqIyU9Ee-02-eH0VWflg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_A3vqIiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vqJCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A3vqJCU9Ee-02-eH0VWflg" entityName="deferredResult" predecessor_AbstractAction="_A3vqIyU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vqJSU9Ee-02-eH0VWflg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3vqJSU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3vqJCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vqJiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A3vqJiU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3vqJSU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3wRMCU9Ee-02-eH0VWflg">
                <branchBehaviour_BranchTransition id="_A3wRMiU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A3vqKiU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3vqKyU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3vqKyU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3vqKiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3vqLCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A3vqLCU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3vqKyU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A3wRNCU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3wRMyU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_A3wROSU9Ee-02-eH0VWflg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_A3wROCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3wROiU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_A3wROiU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3wROSU9Ee-02-eH0VWflg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_A4ep9SU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4ep8yU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_A4a_myU9Ee-02-eH0VWflg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4ep9CU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_A4bmoCU9Ee-02-eH0VWflg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_A3z7nyU9Ee-02-eH0VWflg" describedService__SEFF="_AymrciU9Ee-02-eH0VWflg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_A3yteSU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3zUiyU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_A3zUiyU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3yteSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3z7nSU9Ee-02-eH0VWflg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3zUgiU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_A3zUhCU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A3yteiU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3zUgCU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A3zUgCU9Ee-02-eH0VWflg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_A3yteiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3zUgSU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A3zUgSU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3zUgCU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3zUiCU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_A3zUiiU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A3zUhSU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3zUhiU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A3zUhiU9Ee-02-eH0VWflg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_A3zUhSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3zUhyU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A3zUhyU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3zUhiU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_A3z7nSU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3zUiyU9Ee-02-eH0VWflg" successor_AbstractAction="_A3z7niU9Ee-02-eH0VWflg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3z7miU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_A3z7nCU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A3zUjCU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3z7mCU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_A3z7mCU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3zUjCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3z7mSU9Ee-02-eH0VWflg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3z7kCU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_A3z7kiU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A3zUjSU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3zUjiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3zUjiU9Ee-02-eH0VWflg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_A3zUjSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3zUjyU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A3zUjyU9Ee-02-eH0VWflg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_A3zUjiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3zUkCU9Ee-02-eH0VWflg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A3zUkCU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3zUjyU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3z7lSU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_A3z7lyU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A3z7kyU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3z7lCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A3z7lCU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3z7kyU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A3z7mSU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3z7mCU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_A3z7niU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3z7nSU9Ee-02-eH0VWflg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_A3ytdyU9Ee-02-eH0VWflg" describedService__SEFF="_AyldUSU9Ee-02-eH0VWflg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_A3ytdCU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3ytdSU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A3ytdSU9Ee-02-eH0VWflg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_A3ytdCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ytdiU9Ee-02-eH0VWflg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_A3ytdiU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3ytdSU9Ee-02-eH0VWflg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_A4i7biU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4i7bSU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_A4bmoSU9Ee-02-eH0VWflg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_A32-9yU9Ee-02-eH0VWflg" describedService__SEFF="_Ayk2QSU9Ee-02-eH0VWflg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_A32X0SU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A32-9CU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_A32-9CU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A32X0SU9Ee-02-eH0VWflg" successor_AbstractAction="_A32-9SU9Ee-02-eH0VWflg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A32-8SU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_A32-8yU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A32X0iU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A32-7yU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_A32-7yU9Ee-02-eH0VWflg" entityName="Switch Branch" predecessor_AbstractAction="_A32X0iU9Ee-02-eH0VWflg" successor_AbstractAction="_A32-8CU9Ee-02-eH0VWflg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A32-4SU9Ee-02-eH0VWflg">
                <branchBehaviour_BranchTransition id="_A32-4yU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A32X0yU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A32X3yU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_A32X3yU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A32X0yU9Ee-02-eH0VWflg" successor_AbstractAction="_A32X4CU9Ee-02-eH0VWflg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A32X3CU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_A32X3iU9Ee-02-eH0VWflg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_A32X1CU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A32X2iU9Ee-02-eH0VWflg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_A32X2iU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A32X1CU9Ee-02-eH0VWflg" successor_AbstractAction="_A32X2yU9Ee-02-eH0VWflg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A32X1yU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_A32X2SU9Ee-02-eH0VWflg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_A32X1SU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A32X1iU9Ee-02-eH0VWflg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_A32X1iU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A32X1SU9Ee-02-eH0VWflg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_A32X2yU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A32X2iU9Ee-02-eH0VWflg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A32X4CU9Ee-02-eH0VWflg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_A32X3yU9Ee-02-eH0VWflg" successor_AbstractAction="_A32X4SU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A32X4SU9Ee-02-eH0VWflg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_A32X4CU9Ee-02-eH0VWflg" successor_AbstractAction="_A32X4iU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A32X4iU9Ee-02-eH0VWflg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_A32X4SU9Ee-02-eH0VWflg" successor_AbstractAction="_A32X4yU9Ee-02-eH0VWflg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A32X4yU9Ee-02-eH0VWflg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_A32X4iU9Ee-02-eH0VWflg" successor_AbstractAction="_A32-4CU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A32-4CU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A32X4yU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A32-5yU9Ee-02-eH0VWflg">
                <branchBehaviour_BranchTransition id="_A32-6SU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A32-5CU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A32-5SU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A32-5SU9Ee-02-eH0VWflg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_A32-5CU9Ee-02-eH0VWflg" successor_AbstractAction="_A32-5iU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A32-5iU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A32-5SU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A32-7CU9Ee-02-eH0VWflg">
                <branchBehaviour_BranchTransition id="_A32-7iU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A32-6iU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A32-6yU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A32-6yU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A32-6iU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A32-8CU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A32-7yU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_A32-9SU9Ee-02-eH0VWflg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_A32-9CU9Ee-02-eH0VWflg" successor_AbstractAction="_A32-9iU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_A32-9iU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A32-9SU9Ee-02-eH0VWflg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_A4lXrSU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4lXrCU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_A4a_mSU9Ee-02-eH0VWflg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_A3ytciU9Ee-02-eH0VWflg" describedService__SEFF="_AyldVCU9Ee-02-eH0VWflg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_A3wRPSU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3w4RSU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_A3w4RSU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3wRPSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3w4RiU9Ee-02-eH0VWflg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3w4QiU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_A3w4RCU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A3wRPiU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3w4QCU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A3w4QCU9Ee-02-eH0VWflg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_A3wRPiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3w4QSU9Ee-02-eH0VWflg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A3w4QSU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3w4QCU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_A3w4RiU9Ee-02-eH0VWflg" entityName="stopWatch.start()" predecessor_AbstractAction="_A3w4RSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ytcCU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_A3ytcCU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3w4RiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3ytcSU9Ee-02-eH0VWflg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3yGbSU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_A3yGbyU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A3w4RyU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3yGayU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_A3yGayU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3w4RyU9Ee-02-eH0VWflg" successor_AbstractAction="_A3yGbCU9Ee-02-eH0VWflg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3yGaCU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_A3yGaiU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A3w4SCU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3xfXSU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_A3xfXSU9Ee-02-eH0VWflg" entityName="Switch Branch" predecessor_AbstractAction="_A3w4SCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3xfXiU9Ee-02-eH0VWflg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3w4UyU9Ee-02-eH0VWflg">
                      <branchBehaviour_BranchTransition id="_A3xfUCU9Ee-02-eH0VWflg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_A3w4SSU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3w4UCU9Ee-02-eH0VWflg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_A3w4UCU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3w4SSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3w4USU9Ee-02-eH0VWflg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3w4TSU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_A3w4TyU9Ee-02-eH0VWflg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_A3w4SiU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3w4SyU9Ee-02-eH0VWflg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_A3w4SyU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3w4SiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3w4TCU9Ee-02-eH0VWflg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_A3w4TCU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3w4SyU9Ee-02-eH0VWflg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_A3w4USU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3w4UCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3w4UiU9Ee-02-eH0VWflg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_A3w4UiU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3w4USU9Ee-02-eH0VWflg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3xfVCU9Ee-02-eH0VWflg">
                      <branchBehaviour_BranchTransition id="_A3xfViU9Ee-02-eH0VWflg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_A3xfUSU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3xfUiU9Ee-02-eH0VWflg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_A3xfUiU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3xfUSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3xfUyU9Ee-02-eH0VWflg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_A3xfUyU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3xfUiU9Ee-02-eH0VWflg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A3xfWiU9Ee-02-eH0VWflg">
                      <branchBehaviour_BranchTransition id="_A3xfXCU9Ee-02-eH0VWflg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_A3xfVyU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3xfWCU9Ee-02-eH0VWflg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_A3xfWCU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3xfVyU9Ee-02-eH0VWflg" successor_AbstractAction="_A3xfWSU9Ee-02-eH0VWflg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_A3xfWSU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3xfWCU9Ee-02-eH0VWflg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3xfXiU9Ee-02-eH0VWflg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_A3xfXSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3yGYCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3yGYCU9Ee-02-eH0VWflg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_A3xfXiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3yGYSU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3yGYSU9Ee-02-eH0VWflg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_A3yGYCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3yGYiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3yGYiU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A3yGYSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3yGYyU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3yGYyU9Ee-02-eH0VWflg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_A3yGYiU9Ee-02-eH0VWflg" successor_AbstractAction="_A3yGZCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3yGZCU9Ee-02-eH0VWflg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_A3yGYyU9Ee-02-eH0VWflg" successor_AbstractAction="_A3yGZSU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A3yGZSU9Ee-02-eH0VWflg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_A3yGZCU9Ee-02-eH0VWflg" successor_AbstractAction="_A3yGZiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A3yGZiU9Ee-02-eH0VWflg" entityName="deferredResult" predecessor_AbstractAction="_A3yGZSU9Ee-02-eH0VWflg" successor_AbstractAction="_A3yGZyU9Ee-02-eH0VWflg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A3yGZyU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3yGZiU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A3yGbCU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3yGayU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_A3ytcSU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3ytcCU9Ee-02-eH0VWflg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_A4nz6SU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_A4nz6yU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4nz6iU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_A4a_miU9Ee-02-eH0VWflg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_A31w1iU9Ee-02-eH0VWflg" describedService__SEFF="_AymEYyU9Ee-02-eH0VWflg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_A3z7oSU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A30ipCU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_A30ipCU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A3z7oSU9Ee-02-eH0VWflg" successor_AbstractAction="_A30ipSU9Ee-02-eH0VWflg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A30ioSU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_A30ioyU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A3z7oiU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A3z7oyU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A3z7oyU9Ee-02-eH0VWflg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_A3z7oiU9Ee-02-eH0VWflg" successor_AbstractAction="_A30ioCU9Ee-02-eH0VWflg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A30ioCU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A3z7oyU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_A30ipSU9Ee-02-eH0VWflg" entityName="stopWatch.start()" predecessor_AbstractAction="_A30ipCU9Ee-02-eH0VWflg" successor_AbstractAction="_A31w1CU9Ee-02-eH0VWflg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_A31w1CU9Ee-02-eH0VWflg" entityName="Switch Branch" predecessor_AbstractAction="_A30ipSU9Ee-02-eH0VWflg" successor_AbstractAction="_A31w1SU9Ee-02-eH0VWflg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A31JuiU9Ee-02-eH0VWflg">
          <branchBehaviour_BranchTransition id="_A31JvCU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A30ipiU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A30ipyU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A30ipyU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A30ipiU9Ee-02-eH0VWflg" successor_AbstractAction="_A30iqCU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A30iqCU9Ee-02-eH0VWflg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_A30ipyU9Ee-02-eH0VWflg" successor_AbstractAction="_A30iqSU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A30iqSU9Ee-02-eH0VWflg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_A30iqCU9Ee-02-eH0VWflg" successor_AbstractAction="_A30iqiU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A30iqiU9Ee-02-eH0VWflg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_A30iqSU9Ee-02-eH0VWflg" successor_AbstractAction="_A30iqyU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A30iqyU9Ee-02-eH0VWflg" entityName="deferredResult" predecessor_AbstractAction="_A30iqiU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JtiU9Ee-02-eH0VWflg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_A31JtiU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A30iqyU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JtyU9Ee-02-eH0VWflg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A31JsyU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_A31JtSU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A30irCU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A30irSU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A30irSU9Ee-02-eH0VWflg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_A30irCU9Ee-02-eH0VWflg" successor_AbstractAction="_A30iriU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A30iriU9Ee-02-eH0VWflg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_A30irSU9Ee-02-eH0VWflg" successor_AbstractAction="_A30iryU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A30iryU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A30iriU9Ee-02-eH0VWflg" successor_AbstractAction="_A30isCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A30isCU9Ee-02-eH0VWflg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_A30iryU9Ee-02-eH0VWflg" successor_AbstractAction="_A30isSU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A30isSU9Ee-02-eH0VWflg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_A30isCU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JsCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A31JsCU9Ee-02-eH0VWflg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_A30isSU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JsSU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A31JsSU9Ee-02-eH0VWflg" entityName="deferredResult" predecessor_AbstractAction="_A31JsCU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JsiU9Ee-02-eH0VWflg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A31JsiU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A31JsSU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A31JtyU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A31JtiU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JuCU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A31JuCU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A31JtyU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JuSU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A31JuSU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A31JuCU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A31wyyU9Ee-02-eH0VWflg">
          <branchBehaviour_BranchTransition id="_A31wzSU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A31JvSU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A31wxyU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_A31wxyU9Ee-02-eH0VWflg" entityName="If Branch" predecessor_AbstractAction="_A31JvSU9Ee-02-eH0VWflg" successor_AbstractAction="_A31wyCU9Ee-02-eH0VWflg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A31wxCU9Ee-02-eH0VWflg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_A31wxiU9Ee-02-eH0VWflg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_A31JviU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A31JvyU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A31JvyU9Ee-02-eH0VWflg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_A31JviU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JwCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A31JwCU9Ee-02-eH0VWflg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_A31JvyU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JwSU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A31JwSU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A31JwCU9Ee-02-eH0VWflg" successor_AbstractAction="_A31JwiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A31JwiU9Ee-02-eH0VWflg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_A31JwSU9Ee-02-eH0VWflg" successor_AbstractAction="_A31wwCU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A31wwCU9Ee-02-eH0VWflg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_A31JwiU9Ee-02-eH0VWflg" successor_AbstractAction="_A31wwSU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_A31wwSU9Ee-02-eH0VWflg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_A31wwCU9Ee-02-eH0VWflg" successor_AbstractAction="_A31wwiU9Ee-02-eH0VWflg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_A31wwiU9Ee-02-eH0VWflg" entityName="deferredResult" predecessor_AbstractAction="_A31wwSU9Ee-02-eH0VWflg" successor_AbstractAction="_A31wwyU9Ee-02-eH0VWflg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_A31wwyU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A31wwiU9Ee-02-eH0VWflg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A31wyCU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A31wxyU9Ee-02-eH0VWflg" successor_AbstractAction="_A31wySU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A31wySU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A31wyCU9Ee-02-eH0VWflg" successor_AbstractAction="_A31wyiU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A31wyiU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A31wySU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_A31w0SU9Ee-02-eH0VWflg">
          <branchBehaviour_BranchTransition id="_A31w0yU9Ee-02-eH0VWflg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_A31wziU9Ee-02-eH0VWflg" entityName="Start Action" successor_AbstractAction="_A31wzyU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_A31wzyU9Ee-02-eH0VWflg" entityName="stopWatch.stop()" predecessor_AbstractAction="_A31wziU9Ee-02-eH0VWflg" successor_AbstractAction="_A31w0CU9Ee-02-eH0VWflg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_A31w0CU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A31wzyU9Ee-02-eH0VWflg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_A31w1SU9Ee-02-eH0VWflg" entityName="Stop Action" predecessor_AbstractAction="_A31w1CU9Ee-02-eH0VWflg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_A4sFUSU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_A4tTciU9Ee-02-eH0VWflg" encapsulatedComponent__AssemblyContext="_A4i7biU9Ee-02-eH0VWflg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_A4t6giU9Ee-02-eH0VWflg" innerProvidedRole_ProvidedDelegationConnector="_A4i7bSU9Ee-02-eH0VWflg" outerProvidedRole_ProvidedDelegationConnector="_A4sFUCU9Ee-02-eH0VWflg" assemblyContext_ProvidedDelegationConnector="_A4tTciU9Ee-02-eH0VWflg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4sFUCU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_A4bmoSU9Ee-02-eH0VWflg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_A4sFUyU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_A4tTdCU9Ee-02-eH0VWflg" encapsulatedComponent__AssemblyContext="_A4bmoyU9Ee-02-eH0VWflg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_A4t6gCU9Ee-02-eH0VWflg" innerProvidedRole_ProvidedDelegationConnector="_A4bmoiU9Ee-02-eH0VWflg" outerProvidedRole_ProvidedDelegationConnector="_A4sFUiU9Ee-02-eH0VWflg" assemblyContext_ProvidedDelegationConnector="_A4tTdCU9Ee-02-eH0VWflg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4sFUiU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_A4a_nCU9Ee-02-eH0VWflg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_A4sFVSU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_A4ssYCU9Ee-02-eH0VWflg" encapsulatedComponent__AssemblyContext="_A4nz6yU9Ee-02-eH0VWflg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_A4t6gyU9Ee-02-eH0VWflg" innerProvidedRole_ProvidedDelegationConnector="_A4nz6iU9Ee-02-eH0VWflg" outerProvidedRole_ProvidedDelegationConnector="_A4sFVCU9Ee-02-eH0VWflg" assemblyContext_ProvidedDelegationConnector="_A4ssYCU9Ee-02-eH0VWflg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4sFVCU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_A4a_miU9Ee-02-eH0VWflg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_A4sFWCU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_A4ssZCU9Ee-02-eH0VWflg" encapsulatedComponent__AssemblyContext="_A4ep9SU9Ee-02-eH0VWflg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_A4t6hCU9Ee-02-eH0VWflg" innerProvidedRole_ProvidedDelegationConnector="_A4ep9CU9Ee-02-eH0VWflg" outerProvidedRole_ProvidedDelegationConnector="_A4sFVyU9Ee-02-eH0VWflg" assemblyContext_ProvidedDelegationConnector="_A4ssZCU9Ee-02-eH0VWflg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_A4t6hSU9Ee-02-eH0VWflg" innerProvidedRole_ProvidedDelegationConnector="_A4ep8yU9Ee-02-eH0VWflg" outerProvidedRole_ProvidedDelegationConnector="_A4sFViU9Ee-02-eH0VWflg" assemblyContext_ProvidedDelegationConnector="_A4ssZCU9Ee-02-eH0VWflg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4sFViU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_A4a_myU9Ee-02-eH0VWflg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4sFVyU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_A4bmoCU9Ee-02-eH0VWflg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_A4sFWiU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_A4ssYiU9Ee-02-eH0VWflg" encapsulatedComponent__AssemblyContext="_A4lXrSU9Ee-02-eH0VWflg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_A4t6gSU9Ee-02-eH0VWflg" innerProvidedRole_ProvidedDelegationConnector="_A4lXrCU9Ee-02-eH0VWflg" outerProvidedRole_ProvidedDelegationConnector="_A4sFWSU9Ee-02-eH0VWflg" assemblyContext_ProvidedDelegationConnector="_A4ssYiU9Ee-02-eH0VWflg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_A4sFWSU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_A4a_mSU9Ee-02-eH0VWflg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_A4sFWyU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_A4tTcCU9Ee-02-eH0VWflg" encapsulatedComponent__AssemblyContext="_A4nz6SU9Ee-02-eH0VWflg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_A4a_mSU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_AyldVCU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_Ax5g0CU9Ee-02-eH0VWflg">
      <parameters__OperationSignature dataType__Parameter="_Ax4SsCU9Ee-02-eH0VWflg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_A4a_miU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_AymEYyU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_Ax5g0CU9Ee-02-eH0VWflg">
      <parameters__OperationSignature dataType__Parameter="_AymEYiU9Ee-02-eH0VWflg" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_A4a_myU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_AymrciU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_Ayk2QCU9Ee-02-eH0VWflg">
      <parameters__OperationSignature dataType__Parameter="_AymrcCU9Ee-02-eH0VWflg" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_AymrcSU9Ee-02-eH0VWflg" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_A4a_nCU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_Ax6H4CU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_Ax5g0CU9Ee-02-eH0VWflg">
      <parameters__OperationSignature dataType__Parameter="_Ax4SsCU9Ee-02-eH0VWflg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_A4bmoCU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_AyldUSU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_Ayk2QCU9Ee-02-eH0VWflg">
      <parameters__OperationSignature dataType__Parameter="_AyldUCU9Ee-02-eH0VWflg" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_A4bmoSU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_Ayk2QSU9Ee-02-eH0VWflg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_Ayk2QCU9Ee-02-eH0VWflg">
      <parameters__OperationSignature dataType__Parameter="_Ax4SsCU9Ee-02-eH0VWflg" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ax4SsCU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ax5g0CU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ayk2QCU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_AyldUCU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_AymEYiU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_AymrcCU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_AymrcSU9Ee-02-eH0VWflg" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
