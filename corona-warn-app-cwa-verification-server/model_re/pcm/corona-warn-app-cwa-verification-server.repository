<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_Zn1VDFRjEe-VXcmnaPy7jg">
  <components__Repository xsi:type="repository:BasicComponent" id="_Znk2VVRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_Znk2V1RjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Znk2VlRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_ZnkPSlRjEe-VXcmnaPy7jg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Zm1Ph1RjEe-VXcmnaPy7jg" describedService__SEFF="_ZhFMwFRjEe-VXcmnaPy7jg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ZmyzOVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmyzQFRjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmyzQFRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmyzOVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaQFRjEe-VXcmnaPy7jg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmyzPVRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ZmyzP1RjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ZmyzOlRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmyzO1RjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ZmyzO1RjEe-VXcmnaPy7jg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_ZmyzOlRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyzPFRjEe-VXcmnaPy7jg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ZmyzPFRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmyzO1RjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaQFRjEe-VXcmnaPy7jg" entityName="stopWatch.start()" predecessor_AbstractAction="_ZmyzQFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1PhVRjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Zm1PhVRjEe-VXcmnaPy7jg" entityName="Switch Branch" predecessor_AbstractAction="_ZmzaQFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1PhlRjEe-VXcmnaPy7jg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zm0oZFRjEe-VXcmnaPy7jg">
          <branchBehaviour_BranchTransition id="_Zm0oZlRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ZmzaQVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmzaQlRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaQlRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmzaQVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaQ1RjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaQ1RjEe-VXcmnaPy7jg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ZmzaQlRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaRFRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaRFRjEe-VXcmnaPy7jg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_ZmzaQ1RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaRVRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaRVRjEe-VXcmnaPy7jg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ZmzaRFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaRlRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ZmzaRlRjEe-VXcmnaPy7jg" entityName="deferredResult" predecessor_AbstractAction="_ZmzaRVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm0oYFRjEe-VXcmnaPy7jg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Zm0oYFRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmzaRlRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm0oYVRjEe-VXcmnaPy7jg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zm0BUFRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Zm0BUlRjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ZmzaR1RjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmzaSFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaSFRjEe-VXcmnaPy7jg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_ZmzaR1RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaSVRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaSVRjEe-VXcmnaPy7jg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_ZmzaSFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaSlRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaSlRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmzaSVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaS1RjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaS1RjEe-VXcmnaPy7jg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ZmzaSlRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaTFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaTFRjEe-VXcmnaPy7jg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_ZmzaS1RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaTVRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmzaTVRjEe-VXcmnaPy7jg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ZmzaTFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaTlRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ZmzaTlRjEe-VXcmnaPy7jg" entityName="deferredResult" predecessor_AbstractAction="_ZmzaTVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmzaT1RjEe-VXcmnaPy7jg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ZmzaT1RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmzaTlRjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm0oYVRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Zm0oYFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm0oYlRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm0oYlRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Zm0oYVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm0oY1RjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Zm0oY1RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zm0oYlRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zm1PfFRjEe-VXcmnaPy7jg">
          <branchBehaviour_BranchTransition id="_Zm1PflRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Zm0oZ1RjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zm1PeFRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Zm1PeFRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_Zm0oZ1RjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1PeVRjEe-VXcmnaPy7jg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zm1PdVRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Zm1Pd1RjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Zm0oaFRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zm0oaVRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm0oaVRjEe-VXcmnaPy7jg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_Zm0oaFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm0oalRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm0oalRjEe-VXcmnaPy7jg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_Zm0oaVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm0oa1RjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm0oa1RjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Zm0oalRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1PcFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm1PcFRjEe-VXcmnaPy7jg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Zm0oa1RjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1PcVRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm1PcVRjEe-VXcmnaPy7jg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_Zm1PcFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1PclRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm1PclRjEe-VXcmnaPy7jg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_Zm1PcVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1Pc1RjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Zm1Pc1RjEe-VXcmnaPy7jg" entityName="deferredResult" predecessor_AbstractAction="_Zm1PclRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1PdFRjEe-VXcmnaPy7jg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Zm1PdFRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zm1Pc1RjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm1PeVRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Zm1PeFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1PelRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm1PelRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Zm1PeVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1Pe1RjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Zm1Pe1RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zm1PelRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zm1PglRjEe-VXcmnaPy7jg">
          <branchBehaviour_BranchTransition id="_Zm1PhFRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Zm1Pf1RjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zm1PgFRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Zm1PgFRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Zm1Pf1RjEe-VXcmnaPy7jg" successor_AbstractAction="_Zm1PgVRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Zm1PgVRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zm1PgFRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Zm1PhlRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zm1PhVRjEe-VXcmnaPy7jg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_Znn5p1RjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Znn5plRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_Znk2U1RjEe-VXcmnaPy7jg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Zmw-DlRjEe-VXcmnaPy7jg" describedService__SEFF="_ZhElslRjEe-VXcmnaPy7jg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Zmvv6FRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zmw-C1RjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Zmw-C1RjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_Zmvv6FRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmw-DFRjEe-VXcmnaPy7jg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zmw-CFRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Zmw-ClRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Zmvv6VRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zmw-BlRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Zmw-BlRjEe-VXcmnaPy7jg" entityName="Switch Branch" predecessor_AbstractAction="_Zmvv6VRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmw-B1RjEe-VXcmnaPy7jg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmwW-lRjEe-VXcmnaPy7jg">
                <branchBehaviour_BranchTransition id="_ZmwW_FRjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Zmvv6lRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmwW9FRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmwW9FRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_Zmvv6lRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmwW9VRjEe-VXcmnaPy7jg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmwW8VRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_ZmwW81RjEe-VXcmnaPy7jg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Zmvv61RjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zmvv8VRjEe-VXcmnaPy7jg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Zmvv8VRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_Zmvv61RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmwW8FRjEe-VXcmnaPy7jg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zmvv7lRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Zmvv8FRjEe-VXcmnaPy7jg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Zmvv7FRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zmvv7VRjEe-VXcmnaPy7jg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Zmvv7VRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmvv7FRjEe-VXcmnaPy7jg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ZmwW8FRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmvv8VRjEe-VXcmnaPy7jg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmwW9VRjEe-VXcmnaPy7jg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_ZmwW9FRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmwW9lRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmwW9lRjEe-VXcmnaPy7jg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_ZmwW9VRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmwW91RjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ZmwW91RjEe-VXcmnaPy7jg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_ZmwW9lRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmwW-FRjEe-VXcmnaPy7jg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmwW-FRjEe-VXcmnaPy7jg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_ZmwW91RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmwW-VRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ZmwW-VRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmwW-FRjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmwXAFRjEe-VXcmnaPy7jg">
                <branchBehaviour_BranchTransition id="_Zmw-AFRjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ZmwW_VRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmwW_lRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmwW_lRjEe-VXcmnaPy7jg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_ZmwW_VRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmwW_1RjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ZmwW_1RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmwW_lRjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zmw-A1RjEe-VXcmnaPy7jg">
                <branchBehaviour_BranchTransition id="_Zmw-BVRjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Zmw-AVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zmw-AlRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Zmw-AlRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmw-AVRjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Zmw-B1RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmw-BlRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmw-DFRjEe-VXcmnaPy7jg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_Zmw-C1RjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmw-DVRjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Zmw-DVRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmw-DFRjEe-VXcmnaPy7jg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_ZnqV6FRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ZnqV51RjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_Znk2VFRjEe-VXcmnaPy7jg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Zmvv5lRjEe-VXcmnaPy7jg" describedService__SEFF="_ZhD-oVRjEe-VXcmnaPy7jg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ZmsskVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmssmFRjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmssmFRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmsskVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmssmVRjEe-VXcmnaPy7jg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmsslVRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Zmssl1RjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ZmssklRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zmssk1RjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Zmssk1RjEe-VXcmnaPy7jg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_ZmssklRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmsslFRjEe-VXcmnaPy7jg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ZmsslFRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmssk1RjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmssmVRjEe-VXcmnaPy7jg" entityName="stopWatch.start()" predecessor_AbstractAction="_ZmssmFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmvv41RjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Zmvv41RjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmssmVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmvv5FRjEe-VXcmnaPy7jg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zmvv4FRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Zmvv4lRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ZmssmlRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmvI3lRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmvI3lRjEe-VXcmnaPy7jg" entityName="Switch Branch" predecessor_AbstractAction="_ZmssmlRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmvI31RjEe-VXcmnaPy7jg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmuhxVRjEe-VXcmnaPy7jg">
                <branchBehaviour_BranchTransition id="_Zmuhx1RjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ZmtToFRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmtToVRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmtToVRjEe-VXcmnaPy7jg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_ZmtToFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6tlRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_Zmt6tlRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmtToVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6t1RjEe-VXcmnaPy7jg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zmt6s1RjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_Zmt6tVRjEe-VXcmnaPy7jg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ZmtTolRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zmt6sVRjEe-VXcmnaPy7jg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Zmt6sVRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmtTolRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6slRjEe-VXcmnaPy7jg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmtTpVRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Zmt6sFRjEe-VXcmnaPy7jg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_ZmtTo1RjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmtTpFRjEe-VXcmnaPy7jg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_ZmtTpFRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmtTo1RjEe-VXcmnaPy7jg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Zmt6slRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmt6sVRjEe-VXcmnaPy7jg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmt6t1RjEe-VXcmnaPy7jg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_Zmt6tlRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6uFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmt6uFRjEe-VXcmnaPy7jg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_Zmt6t1RjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6uVRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmt6uVRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Zmt6uFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6ulRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmt6ulRjEe-VXcmnaPy7jg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Zmt6uVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6u1RjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmt6u1RjEe-VXcmnaPy7jg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_Zmt6ulRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6vFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Zmt6vFRjEe-VXcmnaPy7jg" entityName="deferredResult" predecessor_AbstractAction="_Zmt6u1RjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6vVRjEe-VXcmnaPy7jg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmt6vVRjEe-VXcmnaPy7jg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_Zmt6vFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmt6vlRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmt6vlRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Zmt6vVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmuhwFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmuhwFRjEe-VXcmnaPy7jg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Zmt6vlRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmuhwVRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmuhwVRjEe-VXcmnaPy7jg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_ZmuhwFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmuhwlRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ZmuhwlRjEe-VXcmnaPy7jg" entityName="deferredResult" predecessor_AbstractAction="_ZmuhwVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmuhw1RjEe-VXcmnaPy7jg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmuhw1RjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmuhwlRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmuhxFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ZmuhxFRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmuhw1RjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmvI1VRjEe-VXcmnaPy7jg">
                <branchBehaviour_BranchTransition id="_ZmvI11RjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ZmuhyFRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmuhyVRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmuhyVRjEe-VXcmnaPy7jg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_ZmuhyFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmuhylRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmuhylRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmuhyVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmvI0FRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmvI0FRjEe-VXcmnaPy7jg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ZmuhylRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmvI0VRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmvI0VRjEe-VXcmnaPy7jg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_ZmvI0FRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmvI0lRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ZmvI0lRjEe-VXcmnaPy7jg" entityName="deferredResult" predecessor_AbstractAction="_ZmvI0VRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmvI01RjEe-VXcmnaPy7jg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmvI01RjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmvI0lRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmvI1FRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ZmvI1FRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmvI01RjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmvI21RjEe-VXcmnaPy7jg">
                <branchBehaviour_BranchTransition id="_ZmvI3VRjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ZmvI2FRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmvI2VRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmvI2VRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmvI2FRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmvI2lRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ZmvI2lRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmvI2VRjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ZmvI31RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmvI3lRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmvv5FRjEe-VXcmnaPy7jg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_Zmvv41RjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmvv5VRjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Zmvv5VRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmvv5FRjEe-VXcmnaPy7jg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_ZnsyIVRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ZnsyIFRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_Znk2UVRjEe-VXcmnaPy7jg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ZmyzN1RjEe-VXcmnaPy7jg" describedService__SEFF="_ZhD-pFRjEe-VXcmnaPy7jg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Zmw-EFRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmxlEFRjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmxlEFRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_Zmw-EFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmxlEVRjEe-VXcmnaPy7jg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zmw-FFRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Zmw-FlRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Zmw-EVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zmw-ElRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Zmw-ElRjEe-VXcmnaPy7jg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_Zmw-EVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmw-E1RjEe-VXcmnaPy7jg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Zmw-E1RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmw-ElRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmxlEVRjEe-VXcmnaPy7jg" entityName="stopWatch.start()" predecessor_AbstractAction="_ZmxlEFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyzNVRjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmyzNVRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmxlEVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyzNlRjEe-VXcmnaPy7jg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmyzMlRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ZmyzNFRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ZmxlElRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmyzMFRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmyzMFRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmxlElRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyzMVRjEe-VXcmnaPy7jg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmyMLlRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ZmyMMFRjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ZmxlE1RjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmyMJFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmyMJFRjEe-VXcmnaPy7jg" entityName="Switch Branch" predecessor_AbstractAction="_ZmxlE1RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMJVRjEe-VXcmnaPy7jg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmxlHlRjEe-VXcmnaPy7jg">
                      <branchBehaviour_BranchTransition id="_ZmxlIFRjEe-VXcmnaPy7jg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ZmxlFFRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmxlG1RjEe-VXcmnaPy7jg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmxlG1RjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmxlFFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmxlHFRjEe-VXcmnaPy7jg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmxlGFRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_ZmxlGlRjEe-VXcmnaPy7jg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_ZmxlFVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmxlFlRjEe-VXcmnaPy7jg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmxlFlRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmxlFVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmxlF1RjEe-VXcmnaPy7jg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_ZmxlF1RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmxlFlRjEe-VXcmnaPy7jg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmxlHFRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmxlG1RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmxlHVRjEe-VXcmnaPy7jg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ZmxlHVRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmxlHFRjEe-VXcmnaPy7jg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmxlJFRjEe-VXcmnaPy7jg">
                      <branchBehaviour_BranchTransition id="_ZmxlJlRjEe-VXcmnaPy7jg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ZmxlIVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmxlIlRjEe-VXcmnaPy7jg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmxlIlRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmxlIVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmxlI1RjEe-VXcmnaPy7jg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ZmxlI1RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmxlIlRjEe-VXcmnaPy7jg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmyMIVRjEe-VXcmnaPy7jg">
                      <branchBehaviour_BranchTransition id="_ZmyMI1RjEe-VXcmnaPy7jg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ZmxlJ1RjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmxlKFRjEe-VXcmnaPy7jg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmxlKFRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmxlJ1RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMIFRjEe-VXcmnaPy7jg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ZmyMIFRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmxlKFRjEe-VXcmnaPy7jg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmyMJVRjEe-VXcmnaPy7jg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_ZmyMJFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMJlRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmyMJlRjEe-VXcmnaPy7jg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_ZmyMJVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMJ1RjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmyMJ1RjEe-VXcmnaPy7jg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_ZmyMJlRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMKFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmyMKFRjEe-VXcmnaPy7jg" entityName="stopWatch.stop()" predecessor_AbstractAction="_ZmyMJ1RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMKVRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmyMKVRjEe-VXcmnaPy7jg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ZmyMKFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMKlRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmyMKlRjEe-VXcmnaPy7jg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_ZmyMKVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMK1RjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmyMK1RjEe-VXcmnaPy7jg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_ZmyMKlRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMLFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ZmyMLFRjEe-VXcmnaPy7jg" entityName="deferredResult" predecessor_AbstractAction="_ZmyMK1RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmyMLVRjEe-VXcmnaPy7jg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ZmyMLVRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmyMLFRjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ZmyzMVRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmyzMFRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ZmyzNlRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmyzNVRjEe-VXcmnaPy7jg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_ZnunX1RjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ZnunXVRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_Znk2UFRjEe-VXcmnaPy7jg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ZnunXlRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_Znk2UlRjEe-VXcmnaPy7jg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ZmsFglRjEe-VXcmnaPy7jg" describedService__SEFF="_ZgVl4FRjEe-VXcmnaPy7jg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ZhfccVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmobIFRjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmobIFRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZhfccVRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmsFgFRjEe-VXcmnaPy7jg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZhifwFRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ZhjG0FRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ZhhRoFRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zhh4sFRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Zhh4sFRjEe-VXcmnaPy7jg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_ZhhRoFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zhh4sVRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Zhh4sVRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zhh4sFRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zmn0E1RjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Zmn0FVRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Zmn0EFRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_Zmn0EVRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Zmn0EVRjEe-VXcmnaPy7jg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_Zmn0EFRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmn0ElRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Zmn0ElRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_Zmn0EVRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmsFgFRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmobIFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmsFgVRjEe-VXcmnaPy7jg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmrefFRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ZmreflRjEe-VXcmnaPy7jg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ZmobIVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmreelRjEe-VXcmnaPy7jg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ZmreelRjEe-VXcmnaPy7jg" entityName="If Branch" predecessor_AbstractAction="_ZmobIVRjEe-VXcmnaPy7jg" successor_AbstractAction="_Zmree1RjEe-VXcmnaPy7jg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ZmreclRjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ZmredFRjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ZmobIlRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmobI1RjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ZmobI1RjEe-VXcmnaPy7jg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_ZmobIlRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmrecFRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ZmrecFRjEe-VXcmnaPy7jg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_ZmobI1RjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmrecVRjEe-VXcmnaPy7jg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ZmrecVRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmrecFRjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Zmred1RjEe-VXcmnaPy7jg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ZmreeVRjEe-VXcmnaPy7jg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ZmredVRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmredlRjEe-VXcmnaPy7jg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ZmredlRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmredVRjEe-VXcmnaPy7jg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Zmree1RjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmreelRjEe-VXcmnaPy7jg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ZmsFgVRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmsFgFRjEe-VXcmnaPy7jg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ZmsFh1RjEe-VXcmnaPy7jg" describedService__SEFF="_ZhDXkVRjEe-VXcmnaPy7jg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ZmsFhFRjEe-VXcmnaPy7jg" entityName="Start Action" successor_AbstractAction="_ZmsFhVRjEe-VXcmnaPy7jg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ZmsFhVRjEe-VXcmnaPy7jg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_ZmsFhFRjEe-VXcmnaPy7jg" successor_AbstractAction="_ZmsFhlRjEe-VXcmnaPy7jg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ZmsFhlRjEe-VXcmnaPy7jg" entityName="Stop Action" predecessor_AbstractAction="_ZmsFhVRjEe-VXcmnaPy7jg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Zn0t8VRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_Zn1VBFRjEe-VXcmnaPy7jg" encapsulatedComponent__AssemblyContext="_ZnsyIVRjEe-VXcmnaPy7jg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Zn2jI1RjEe-VXcmnaPy7jg" innerProvidedRole_ProvidedDelegationConnector="_ZnsyIFRjEe-VXcmnaPy7jg" outerProvidedRole_ProvidedDelegationConnector="_Zn0t8FRjEe-VXcmnaPy7jg" assemblyContext_ProvidedDelegationConnector="_Zn1VBFRjEe-VXcmnaPy7jg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Zn0t8FRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_Znk2UVRjEe-VXcmnaPy7jg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Zn0t8lRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_Zn1VAlRjEe-VXcmnaPy7jg" encapsulatedComponent__AssemblyContext="_Znk2VVRjEe-VXcmnaPy7jg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Zn0t9FRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_Zn1VBlRjEe-VXcmnaPy7jg" encapsulatedComponent__AssemblyContext="_ZnqV6FRjEe-VXcmnaPy7jg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Zn2jIlRjEe-VXcmnaPy7jg" innerProvidedRole_ProvidedDelegationConnector="_ZnqV51RjEe-VXcmnaPy7jg" outerProvidedRole_ProvidedDelegationConnector="_Zn0t81RjEe-VXcmnaPy7jg" assemblyContext_ProvidedDelegationConnector="_Zn1VBlRjEe-VXcmnaPy7jg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Zn0t81RjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_Znk2VFRjEe-VXcmnaPy7jg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Zn0t9lRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_Zn1VCFRjEe-VXcmnaPy7jg" encapsulatedComponent__AssemblyContext="_Znk2V1RjEe-VXcmnaPy7jg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Zn2jJVRjEe-VXcmnaPy7jg" innerProvidedRole_ProvidedDelegationConnector="_Znk2VlRjEe-VXcmnaPy7jg" outerProvidedRole_ProvidedDelegationConnector="_Zn0t9VRjEe-VXcmnaPy7jg" assemblyContext_ProvidedDelegationConnector="_Zn1VCFRjEe-VXcmnaPy7jg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Zn0t9VRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_ZnkPSlRjEe-VXcmnaPy7jg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Zn0t-FRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_Zn1VClRjEe-VXcmnaPy7jg" encapsulatedComponent__AssemblyContext="_Znn5p1RjEe-VXcmnaPy7jg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Zn2jJFRjEe-VXcmnaPy7jg" innerProvidedRole_ProvidedDelegationConnector="_Znn5plRjEe-VXcmnaPy7jg" outerProvidedRole_ProvidedDelegationConnector="_Zn0t91RjEe-VXcmnaPy7jg" assemblyContext_ProvidedDelegationConnector="_Zn1VClRjEe-VXcmnaPy7jg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Zn0t91RjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_Znk2U1RjEe-VXcmnaPy7jg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Zn0t-1RjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_Zn1VAFRjEe-VXcmnaPy7jg" encapsulatedComponent__AssemblyContext="_ZnunX1RjEe-VXcmnaPy7jg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Zn2jIFRjEe-VXcmnaPy7jg" innerProvidedRole_ProvidedDelegationConnector="_ZnunXlRjEe-VXcmnaPy7jg" outerProvidedRole_ProvidedDelegationConnector="_Zn0t-lRjEe-VXcmnaPy7jg" assemblyContext_ProvidedDelegationConnector="_Zn1VAFRjEe-VXcmnaPy7jg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Zn2jIVRjEe-VXcmnaPy7jg" innerProvidedRole_ProvidedDelegationConnector="_ZnunXVRjEe-VXcmnaPy7jg" outerProvidedRole_ProvidedDelegationConnector="_Zn0t-VRjEe-VXcmnaPy7jg" assemblyContext_ProvidedDelegationConnector="_Zn1VAFRjEe-VXcmnaPy7jg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Zn0t-VRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_Znk2UFRjEe-VXcmnaPy7jg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Zn0t-lRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_Znk2UlRjEe-VXcmnaPy7jg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_ZnkPSlRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_ZhFMwFRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_ZhD-oFRjEe-VXcmnaPy7jg">
      <parameters__OperationSignature dataType__Parameter="_ZhEltVRjEe-VXcmnaPy7jg" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Znk2UFRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_ZgVl4FRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_ZgU-0VRjEe-VXcmnaPy7jg">
      <parameters__OperationSignature dataType__Parameter="_ZgTwsFRjEe-VXcmnaPy7jg" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_ZgU-0FRjEe-VXcmnaPy7jg" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Znk2UVRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_ZhD-pFRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_ZhD-oFRjEe-VXcmnaPy7jg">
      <parameters__OperationSignature dataType__Parameter="_ZhDXlFRjEe-VXcmnaPy7jg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Znk2UlRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_ZhDXkVRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_ZgU-0VRjEe-VXcmnaPy7jg">
      <parameters__OperationSignature dataType__Parameter="_ZhDXkFRjEe-VXcmnaPy7jg" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Znk2U1RjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_ZhElslRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_ZgU-0VRjEe-VXcmnaPy7jg">
      <parameters__OperationSignature dataType__Parameter="_ZhDXlFRjEe-VXcmnaPy7jg" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Znk2VFRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_ZhD-oVRjEe-VXcmnaPy7jg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_ZhD-oFRjEe-VXcmnaPy7jg">
      <parameters__OperationSignature dataType__Parameter="_ZhDXlFRjEe-VXcmnaPy7jg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ZgTwsFRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ZgU-0FRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ZgU-0VRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ZhDXkFRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ZhDXlFRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ZhD-oFRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ZhEltVRjEe-VXcmnaPy7jg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
