<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_TnkFHLnDEe-UMrLnF3p7GA">
  <components__Repository xsi:type="repository:BasicComponent" id="_TnSYSbnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnSYSLnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_TnSYRrnDEe-UMrLnF3p7GA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Tmo4DrnDEe-UMrLnF3p7GA" describedService__SEFF="_Tg3nMbnDEe-UMrLnF3p7GA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_TmmbzrnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmnC1rnDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TmnC1rnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmmbzrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmnC17nDEe-UMrLnF3p7GA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmnC07nDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TmnC1bnDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmnC0LnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmnC0bnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TmnC0bnDEe-UMrLnF3p7GA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_TmnC0LnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmnC0rnDEe-UMrLnF3p7GA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmnC0rnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmnC0bnDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_TmnC17nDEe-UMrLnF3p7GA" entityName="stopWatch.start()" predecessor_AbstractAction="_TmnC1rnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmo4C7nDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Tmo4C7nDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmnC17nDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmo4DLnDEe-UMrLnF3p7GA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Tmo4CLnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Tmo4CrnDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmnC2LnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tmo4BrnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Tmo4BrnDEe-UMrLnF3p7GA" entityName="Switch Branch" predecessor_AbstractAction="_TmnC2LnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmo4B7nDEe-UMrLnF3p7GA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Tmnp7LnDEe-UMrLnF3p7GA">
                <branchBehaviour_BranchTransition id="_Tmnp7rnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TmnC2bnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmnC2rnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmnC2rnDEe-UMrLnF3p7GA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_TmnC2bnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmnC5rnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_TmnC5rnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmnC2rnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmnC57nDEe-UMrLnF3p7GA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmnC47nDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_TmnC5bnDEe-UMrLnF3p7GA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_TmnC27nDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmnC4bnDEe-UMrLnF3p7GA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_TmnC4bnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmnC27nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmnC4rnDEe-UMrLnF3p7GA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmnC3rnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_TmnC4LnDEe-UMrLnF3p7GA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_TmnC3LnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmnC3bnDEe-UMrLnF3p7GA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_TmnC3bnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmnC3LnDEe-UMrLnF3p7GA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_TmnC4rnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmnC4bnDEe-UMrLnF3p7GA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmnC57nDEe-UMrLnF3p7GA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_TmnC5rnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp4LnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmnp4LnDEe-UMrLnF3p7GA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_TmnC57nDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp4bnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmnp4bnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Tmnp4LnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp4rnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmnp4rnDEe-UMrLnF3p7GA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Tmnp4bnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp47nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmnp47nDEe-UMrLnF3p7GA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_Tmnp4rnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp5LnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Tmnp5LnDEe-UMrLnF3p7GA" entityName="deferredResult" predecessor_AbstractAction="_Tmnp47nDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp5bnDEe-UMrLnF3p7GA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmnp5bnDEe-UMrLnF3p7GA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_Tmnp5LnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp5rnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmnp5rnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Tmnp5bnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp57nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmnp57nDEe-UMrLnF3p7GA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Tmnp5rnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp6LnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmnp6LnDEe-UMrLnF3p7GA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_Tmnp57nDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp6bnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Tmnp6bnDEe-UMrLnF3p7GA" entityName="deferredResult" predecessor_AbstractAction="_Tmnp6LnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp6rnDEe-UMrLnF3p7GA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmnp6rnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Tmnp6bnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmnp67nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Tmnp67nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tmnp6rnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmoQ-LnDEe-UMrLnF3p7GA">
                <branchBehaviour_BranchTransition id="_TmoQ-rnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TmoQ8LnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmoQ8bnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmoQ8bnDEe-UMrLnF3p7GA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_TmoQ8LnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmoQ8rnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmoQ8rnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmoQ8bnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmoQ87nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmoQ87nDEe-UMrLnF3p7GA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_TmoQ8rnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmoQ9LnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmoQ9LnDEe-UMrLnF3p7GA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_TmoQ87nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmoQ9bnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TmoQ9bnDEe-UMrLnF3p7GA" entityName="deferredResult" predecessor_AbstractAction="_TmoQ9LnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmoQ9rnDEe-UMrLnF3p7GA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmoQ9rnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmoQ9bnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmoQ97nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TmoQ97nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmoQ9rnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Tmo4A7nDEe-UMrLnF3p7GA">
                <branchBehaviour_BranchTransition id="_Tmo4BbnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Tmo4ALnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tmo4AbnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmo4AbnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Tmo4ALnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmo4ArnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Tmo4ArnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tmo4AbnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Tmo4B7nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tmo4BrnDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmo4DLnDEe-UMrLnF3p7GA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_Tmo4C7nDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmo4DbnDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Tmo4DbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tmo4DLnDEe-UMrLnF3p7GA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_TnWCqLnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnWCp7nDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_TnSYRLnDEe-UMrLnF3p7GA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_TmjYfrnDEe-UMrLnF3p7GA" describedService__SEFF="_Tg4OQLnDEe-UMrLnF3p7GA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ThVhQbnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmfuEbnDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TmfuEbnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_ThVhQbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmgVILnDEe-UMrLnF3p7GA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmfHALnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TmfuELnDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ThXWcLnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tmef8LnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Tmef8LnDEe-UMrLnF3p7GA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_ThXWcLnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmef8bnDEe-UMrLnF3p7GA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Tmef8bnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tmef8LnDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_TmgVILnDEe-UMrLnF3p7GA" entityName="stopWatch.start()" predecessor_AbstractAction="_TmfuEbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmjYfLnDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TmjYfLnDEe-UMrLnF3p7GA" entityName="Switch Branch" predecessor_AbstractAction="_TmgVILnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmjYfbnDEe-UMrLnF3p7GA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmiKWbnDEe-UMrLnF3p7GA">
          <branchBehaviour_BranchTransition id="_TmiKW7nDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Tmg8MLnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tmg8MbnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmg8MbnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Tmg8MLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmhjQLnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmhjQLnDEe-UMrLnF3p7GA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Tmg8MbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmhjQbnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmhjQbnDEe-UMrLnF3p7GA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_TmhjQLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmhjQrnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmhjQrnDEe-UMrLnF3p7GA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_TmhjQbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmhjQ7nDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TmhjQ7nDEe-UMrLnF3p7GA" entityName="deferredResult" predecessor_AbstractAction="_TmhjQrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmiKVbnDEe-UMrLnF3p7GA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_TmiKVbnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmhjQ7nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmiKVrnDEe-UMrLnF3p7GA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmiKUrnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_TmiKVLnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TmhjRLnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmhjRbnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmhjRbnDEe-UMrLnF3p7GA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_TmhjRLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmhjRrnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmhjRrnDEe-UMrLnF3p7GA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_TmhjRbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmhjR7nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmhjR7nDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmhjRrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmhjSLnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmhjSLnDEe-UMrLnF3p7GA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_TmhjR7nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmhjSbnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmhjSbnDEe-UMrLnF3p7GA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_TmhjSLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmhjSrnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmhjSrnDEe-UMrLnF3p7GA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_TmhjSbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmiKULnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TmiKULnDEe-UMrLnF3p7GA" entityName="deferredResult" predecessor_AbstractAction="_TmhjSrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmiKUbnDEe-UMrLnF3p7GA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TmiKUbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmiKULnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmiKVrnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmiKVbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmiKV7nDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmiKV7nDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmiKVrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmiKWLnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmiKWLnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmiKV7nDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmjYc7nDEe-UMrLnF3p7GA">
          <branchBehaviour_BranchTransition id="_TmjYdbnDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmixYLnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmixbbnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_TmixbbnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmixYLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmjYcLnDEe-UMrLnF3p7GA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmixarnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_TmixbLnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TmixYbnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmixYrnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmixYrnDEe-UMrLnF3p7GA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_TmixYbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmixY7nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmixY7nDEe-UMrLnF3p7GA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_TmixYrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmixZLnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmixZLnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmixY7nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmixZbnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmixZbnDEe-UMrLnF3p7GA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_TmixZLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmixZrnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmixZrnDEe-UMrLnF3p7GA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_TmixZbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmixZ7nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmixZ7nDEe-UMrLnF3p7GA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_TmixZrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmixaLnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TmixaLnDEe-UMrLnF3p7GA" entityName="deferredResult" predecessor_AbstractAction="_TmixZ7nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmixabnDEe-UMrLnF3p7GA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TmixabnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmixaLnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmjYcLnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmixbbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmjYcbnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmjYcbnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmjYcLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmjYcrnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmjYcrnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmjYcbnDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmjYebnDEe-UMrLnF3p7GA">
          <branchBehaviour_BranchTransition id="_TmjYe7nDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmjYdrnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmjYd7nDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmjYd7nDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmjYdrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmjYeLnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmjYeLnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmjYd7nDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_TmjYfbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmjYfLnDEe-UMrLnF3p7GA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_TnZF8bnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnYe7bnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_TnSYQrnDEe-UMrLnF3p7GA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnZF8LnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_TnSYR7nDEe-UMrLnF3p7GA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_TmqGMbnDEe-UMrLnF3p7GA" describedService__SEFF="_Tg41ULnDEe-UMrLnF3p7GA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_TmpfELnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmpfHbnDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TmpfHbnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmpfELnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmqGL7nDEe-UMrLnF3p7GA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmpfFLnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TmpfFrnDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmpfEbnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmpfErnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmpfErnDEe-UMrLnF3p7GA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_TmpfEbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmpfE7nDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmpfE7nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmpfErnDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmpfGrnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TmpfHLnDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmpfF7nDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmpfGLnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_TmpfGLnDEe-UMrLnF3p7GA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_TmpfF7nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmpfGbnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmpfGbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmpfGLnDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TmqGL7nDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmpfHbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmqGMLnDEe-UMrLnF3p7GA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmqGLLnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TmqGLrnDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmpfHrnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmqGKrnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_TmqGKrnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmpfHrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmqGK7nDEe-UMrLnF3p7GA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmqGIrnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_TmqGJLnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TmpfH7nDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmpfILnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmpfILnDEe-UMrLnF3p7GA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_TmpfH7nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmqGILnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TmqGILnDEe-UMrLnF3p7GA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_TmpfILnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmqGIbnDEe-UMrLnF3p7GA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TmqGIbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmqGILnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmqGJ7nDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_TmqGKbnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TmqGJbnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmqGJrnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TmqGJrnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmqGJbnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmqGK7nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmqGKrnDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_TmqGMLnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmqGL7nDEe-UMrLnF3p7GA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_TmqtMrnDEe-UMrLnF3p7GA" describedService__SEFF="_Tg3AIbnDEe-UMrLnF3p7GA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_TmqGM7nDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmqtMLnDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TmqtMLnDEe-UMrLnF3p7GA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_TmqGM7nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmqtMbnDEe-UMrLnF3p7GA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_TmqtMbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmqtMLnDEe-UMrLnF3p7GA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_TndXYbnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TndXYLnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_TnSYQ7nDEe-UMrLnF3p7GA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_TmmbzLnDEe-UMrLnF3p7GA" describedService__SEFF="_Tg41U7nDEe-UMrLnF3p7GA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_TmlNobnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmlNqLnDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TmlNqLnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmlNobnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmlNqbnDEe-UMrLnF3p7GA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmlNpbnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TmlNp7nDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmlNornDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmlNo7nDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TmlNo7nDEe-UMrLnF3p7GA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_TmlNornDEe-UMrLnF3p7GA" successor_AbstractAction="_TmlNpLnDEe-UMrLnF3p7GA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmlNpLnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmlNo7nDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_TmlNqbnDEe-UMrLnF3p7GA" entityName="stopWatch.start()" predecessor_AbstractAction="_TmlNqLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmmbyrnDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TmmbyrnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmlNqbnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmmby7nDEe-UMrLnF3p7GA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Tmmbx7nDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TmmbybnDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmlNqrnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmmbxbnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_TmmbxbnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmlNqrnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmmbxrnDEe-UMrLnF3p7GA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmmbwrnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_TmmbxLnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TmlNq7nDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tml0vrnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_Tml0vrnDEe-UMrLnF3p7GA" entityName="Switch Branch" predecessor_AbstractAction="_TmlNq7nDEe-UMrLnF3p7GA" successor_AbstractAction="_Tml0v7nDEe-UMrLnF3p7GA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmlNtrnDEe-UMrLnF3p7GA">
                      <branchBehaviour_BranchTransition id="_Tml0sbnDEe-UMrLnF3p7GA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_TmlNrLnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmlNs7nDEe-UMrLnF3p7GA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_TmlNs7nDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmlNrLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmlNtLnDEe-UMrLnF3p7GA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmlNsLnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_TmlNsrnDEe-UMrLnF3p7GA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_TmlNrbnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmlNrrnDEe-UMrLnF3p7GA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_TmlNrrnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmlNrbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmlNr7nDEe-UMrLnF3p7GA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_TmlNr7nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmlNrrnDEe-UMrLnF3p7GA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_TmlNtLnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TmlNs7nDEe-UMrLnF3p7GA" successor_AbstractAction="_TmlNtbnDEe-UMrLnF3p7GA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_TmlNtbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmlNtLnDEe-UMrLnF3p7GA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Tml0tbnDEe-UMrLnF3p7GA">
                      <branchBehaviour_BranchTransition id="_Tml0t7nDEe-UMrLnF3p7GA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Tml0srnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tml0s7nDEe-UMrLnF3p7GA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_Tml0s7nDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Tml0srnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tml0tLnDEe-UMrLnF3p7GA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Tml0tLnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tml0s7nDEe-UMrLnF3p7GA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Tml0u7nDEe-UMrLnF3p7GA">
                      <branchBehaviour_BranchTransition id="_Tml0vbnDEe-UMrLnF3p7GA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Tml0uLnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tml0ubnDEe-UMrLnF3p7GA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_Tml0ubnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Tml0uLnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tml0urnDEe-UMrLnF3p7GA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Tml0urnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tml0ubnDEe-UMrLnF3p7GA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tml0v7nDEe-UMrLnF3p7GA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_Tml0vrnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tml0wLnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tml0wLnDEe-UMrLnF3p7GA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_Tml0v7nDEe-UMrLnF3p7GA" successor_AbstractAction="_Tml0wbnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tml0wbnDEe-UMrLnF3p7GA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_Tml0wLnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tml0wrnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tml0wrnDEe-UMrLnF3p7GA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Tml0wbnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tml0w7nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tml0w7nDEe-UMrLnF3p7GA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Tml0wrnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tml0xLnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tml0xLnDEe-UMrLnF3p7GA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_Tml0w7nDEe-UMrLnF3p7GA" successor_AbstractAction="_Tml0xbnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tml0xbnDEe-UMrLnF3p7GA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_Tml0xLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmmbwLnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TmmbwLnDEe-UMrLnF3p7GA" entityName="deferredResult" predecessor_AbstractAction="_Tml0xbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmmbwbnDEe-UMrLnF3p7GA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TmmbwbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmmbwLnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmmbxrnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmmbxbnDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Tmmby7nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmmbyrnDEe-UMrLnF3p7GA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_TnfMnbnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnfMnLnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_TnSYRbnDEe-UMrLnF3p7GA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_TmkmpLnDEe-UMrLnF3p7GA" describedService__SEFF="_TgGyMLnDEe-UMrLnF3p7GA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_TmjYgLnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmkmobnDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TmkmobnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_TmjYgLnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmkmornDEe-UMrLnF3p7GA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmkmnrnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TmkmoLnDEe-UMrLnF3p7GA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TmjYgbnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmkmnLnDEe-UMrLnF3p7GA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_TmkmnLnDEe-UMrLnF3p7GA" entityName="Switch Branch" predecessor_AbstractAction="_TmjYgbnDEe-UMrLnF3p7GA" successor_AbstractAction="_TmkmnbnDEe-UMrLnF3p7GA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Tmj_krnDEe-UMrLnF3p7GA">
                <branchBehaviour_BranchTransition id="_TmkmkLnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Tmj_gLnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tmj_jLnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_Tmj_jLnDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_Tmj_gLnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmj_jbnDEe-UMrLnF3p7GA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Tmj_ibnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_Tmj_i7nDEe-UMrLnF3p7GA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Tmj_gbnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tmj_h7nDEe-UMrLnF3p7GA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Tmj_h7nDEe-UMrLnF3p7GA" entityName="If Branch" predecessor_AbstractAction="_Tmj_gbnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmj_iLnDEe-UMrLnF3p7GA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Tmj_hLnDEe-UMrLnF3p7GA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Tmj_hrnDEe-UMrLnF3p7GA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Tmj_grnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_Tmj_g7nDEe-UMrLnF3p7GA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Tmj_g7nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tmj_grnDEe-UMrLnF3p7GA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Tmj_iLnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tmj_h7nDEe-UMrLnF3p7GA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmj_jbnDEe-UMrLnF3p7GA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_Tmj_jLnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmj_jrnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmj_jrnDEe-UMrLnF3p7GA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_Tmj_jbnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmj_j7nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Tmj_j7nDEe-UMrLnF3p7GA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_Tmj_jrnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmj_kLnDEe-UMrLnF3p7GA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Tmj_kLnDEe-UMrLnF3p7GA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_Tmj_j7nDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmj_kbnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Tmj_kbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tmj_kLnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmkmlLnDEe-UMrLnF3p7GA">
                <branchBehaviour_BranchTransition id="_TmkmlrnDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TmkmkbnDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmkmkrnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TmkmkrnDEe-UMrLnF3p7GA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_TmkmkbnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmkmk7nDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Tmkmk7nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmkmkrnDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TmkmmbnDEe-UMrLnF3p7GA">
                <branchBehaviour_BranchTransition id="_Tmkmm7nDEe-UMrLnF3p7GA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Tmkml7nDEe-UMrLnF3p7GA" entityName="Start Action" successor_AbstractAction="_TmkmmLnDEe-UMrLnF3p7GA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TmkmmLnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_Tmkml7nDEe-UMrLnF3p7GA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TmkmnbnDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmkmnLnDEe-UMrLnF3p7GA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_TmkmornDEe-UMrLnF3p7GA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_TmkmobnDEe-UMrLnF3p7GA" successor_AbstractAction="_Tmkmo7nDEe-UMrLnF3p7GA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Tmkmo7nDEe-UMrLnF3p7GA" entityName="Stop Action" predecessor_AbstractAction="_TmkmornDEe-UMrLnF3p7GA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_TnhBzbnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Tni28bnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_TnkFGLnDEe-UMrLnF3p7GA" encapsulatedComponent__AssemblyContext="_TnSYSbnDEe-UMrLnF3p7GA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TnlTMLnDEe-UMrLnF3p7GA" innerProvidedRole_ProvidedDelegationConnector="_TnSYSLnDEe-UMrLnF3p7GA" outerProvidedRole_ProvidedDelegationConnector="_Tni28LnDEe-UMrLnF3p7GA" assemblyContext_ProvidedDelegationConnector="_TnkFGLnDEe-UMrLnF3p7GA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Tni28LnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_TnSYRrnDEe-UMrLnF3p7GA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Tni28rnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_TnkFFrnDEe-UMrLnF3p7GA" encapsulatedComponent__AssemblyContext="_TnhBzbnDEe-UMrLnF3p7GA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TnjeAbnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_TnkFELnDEe-UMrLnF3p7GA" encapsulatedComponent__AssemblyContext="_TnWCqLnDEe-UMrLnF3p7GA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TnlTMbnDEe-UMrLnF3p7GA" innerProvidedRole_ProvidedDelegationConnector="_TnWCp7nDEe-UMrLnF3p7GA" outerProvidedRole_ProvidedDelegationConnector="_TnjeALnDEe-UMrLnF3p7GA" assemblyContext_ProvidedDelegationConnector="_TnkFELnDEe-UMrLnF3p7GA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnjeALnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_TnSYRLnDEe-UMrLnF3p7GA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TnjeA7nDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_TnkFErnDEe-UMrLnF3p7GA" encapsulatedComponent__AssemblyContext="_TndXYbnDEe-UMrLnF3p7GA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TnksILnDEe-UMrLnF3p7GA" innerProvidedRole_ProvidedDelegationConnector="_TndXYLnDEe-UMrLnF3p7GA" outerProvidedRole_ProvidedDelegationConnector="_TnjeArnDEe-UMrLnF3p7GA" assemblyContext_ProvidedDelegationConnector="_TnkFErnDEe-UMrLnF3p7GA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnjeArnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_TnSYQ7nDEe-UMrLnF3p7GA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TnjeBbnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_TnkFGrnDEe-UMrLnF3p7GA" encapsulatedComponent__AssemblyContext="_TnfMnbnDEe-UMrLnF3p7GA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TnlTMrnDEe-UMrLnF3p7GA" innerProvidedRole_ProvidedDelegationConnector="_TnfMnLnDEe-UMrLnF3p7GA" outerProvidedRole_ProvidedDelegationConnector="_TnjeBLnDEe-UMrLnF3p7GA" assemblyContext_ProvidedDelegationConnector="_TnkFGrnDEe-UMrLnF3p7GA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnjeBLnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_TnSYRbnDEe-UMrLnF3p7GA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TnjeCLnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_TnkFFLnDEe-UMrLnF3p7GA" encapsulatedComponent__AssemblyContext="_TnZF8bnDEe-UMrLnF3p7GA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TnksIbnDEe-UMrLnF3p7GA" innerProvidedRole_ProvidedDelegationConnector="_TnYe7bnDEe-UMrLnF3p7GA" outerProvidedRole_ProvidedDelegationConnector="_TnjeBrnDEe-UMrLnF3p7GA" assemblyContext_ProvidedDelegationConnector="_TnkFFLnDEe-UMrLnF3p7GA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TnksIrnDEe-UMrLnF3p7GA" innerProvidedRole_ProvidedDelegationConnector="_TnZF8LnDEe-UMrLnF3p7GA" outerProvidedRole_ProvidedDelegationConnector="_TnjeB7nDEe-UMrLnF3p7GA" assemblyContext_ProvidedDelegationConnector="_TnkFFLnDEe-UMrLnF3p7GA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnjeBrnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_TnSYQrnDEe-UMrLnF3p7GA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TnjeB7nDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_TnSYR7nDEe-UMrLnF3p7GA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_TnSYQrnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_Tg41ULnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_TgGLILnDEe-UMrLnF3p7GA">
      <parameters__OperationSignature dataType__Parameter="_Tg4OQ7nDEe-UMrLnF3p7GA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_Tg4ORLnDEe-UMrLnF3p7GA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_TnSYQ7nDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_Tg41U7nDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_Tg3nMLnDEe-UMrLnF3p7GA">
      <parameters__OperationSignature dataType__Parameter="_TgE9ALnDEe-UMrLnF3p7GA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_TnSYRLnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_Tg4OQLnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_Tg3nMLnDEe-UMrLnF3p7GA">
      <parameters__OperationSignature dataType__Parameter="_Tg3nNLnDEe-UMrLnF3p7GA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_TnSYRbnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_TgGyMLnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_TgGLILnDEe-UMrLnF3p7GA">
      <parameters__OperationSignature dataType__Parameter="_TgE9ALnDEe-UMrLnF3p7GA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_TnSYRrnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_Tg3nMbnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_Tg3nMLnDEe-UMrLnF3p7GA">
      <parameters__OperationSignature dataType__Parameter="_TgE9ALnDEe-UMrLnF3p7GA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_TnSYR7nDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_Tg3AIbnDEe-UMrLnF3p7GA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_TgGLILnDEe-UMrLnF3p7GA">
      <parameters__OperationSignature dataType__Parameter="_Tg3AILnDEe-UMrLnF3p7GA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_TgE9ALnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_TgGLILnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Tg3AILnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Tg3nMLnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Tg3nNLnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Tg4OQ7nDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Tg4ORLnDEe-UMrLnF3p7GA" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
