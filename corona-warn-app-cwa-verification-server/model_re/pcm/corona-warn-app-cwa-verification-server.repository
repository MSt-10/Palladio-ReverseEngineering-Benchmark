<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_-ZS2CcvVEe-8DujuTR3lgQ">
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZAiJsvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZAiJcvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_-ZAiIsvVEe-8DujuTR3lgQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-YQUMsvVEe-8DujuTR3lgQ" describedService__SEFF="_-Sitw8vVEe-8DujuTR3lgQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-YNQ48vVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YNQ6svVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YNQ6svVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YNQ48vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YNQ68vVEe-8DujuTR3lgQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YNQ58vVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YNQ6cvVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YNQ5MvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YNQ5cvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YNQ5cvVEe-8DujuTR3lgQ" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_-YNQ5MvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YNQ5svVEe-8DujuTR3lgQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YNQ5svVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YNQ5cvVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-YNQ68vVEe-8DujuTR3lgQ" entityName="stopWatch.start()" predecessor_AbstractAction="_-YNQ6svVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQUMMvVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YQUMMvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YNQ68vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQUMcvVEe-8DujuTR3lgQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YPtKsvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YPtLMvVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YNQ7MvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YPtKMvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YPtKMvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YNQ7MvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPtKcvVEe-8DujuTR3lgQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YPtJcvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-YPtJ8vVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YNQ7cvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YPGGsvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_-YPGGsvVEe-8DujuTR3lgQ" entityName="Switch Branch" predecessor_AbstractAction="_-YNQ7cvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPGG8vVEe-8DujuTR3lgQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YOfCsvVEe-8DujuTR3lgQ">
                      <branchBehaviour_BranchTransition id="_-YOfDMvVEe-8DujuTR3lgQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-YOfAMvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YOfB8vVEe-8DujuTR3lgQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_-YOfB8vVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YOfAMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YOfCMvVEe-8DujuTR3lgQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YOfBMvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_-YOfBsvVEe-8DujuTR3lgQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_-YOfAcvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YOfAsvVEe-8DujuTR3lgQ"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_-YOfAsvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YOfAcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YOfA8vVEe-8DujuTR3lgQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_-YOfA8vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YOfAsvVEe-8DujuTR3lgQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_-YOfCMvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YOfB8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YOfCcvVEe-8DujuTR3lgQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-YOfCcvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YOfCMvVEe-8DujuTR3lgQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YPGEcvVEe-8DujuTR3lgQ">
                      <branchBehaviour_BranchTransition id="_-YPGE8vVEe-8DujuTR3lgQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-YOfDcvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YOfDsvVEe-8DujuTR3lgQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_-YOfDsvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YOfDcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPGEMvVEe-8DujuTR3lgQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-YPGEMvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YOfDsvVEe-8DujuTR3lgQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YPGF8vVEe-8DujuTR3lgQ">
                      <branchBehaviour_BranchTransition id="_-YPGGcvVEe-8DujuTR3lgQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-YPGFMvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YPGFcvVEe-8DujuTR3lgQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_-YPGFcvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YPGFMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPGFsvVEe-8DujuTR3lgQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-YPGFsvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YPGFcvVEe-8DujuTR3lgQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YPGG8vVEe-8DujuTR3lgQ" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_-YPGGsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPGHMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YPGHMvVEe-8DujuTR3lgQ" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_-YPGG8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPGHcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YPGHcvVEe-8DujuTR3lgQ" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_-YPGHMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPGHsvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YPGHsvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YPGHcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPtIMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YPtIMvVEe-8DujuTR3lgQ" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YPGHsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPtIcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YPtIcvVEe-8DujuTR3lgQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_-YPtIMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPtIsvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YPtIsvVEe-8DujuTR3lgQ" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_-YPtIcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPtI8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YPtI8vVEe-8DujuTR3lgQ" entityName="deferredResult" predecessor_AbstractAction="_-YPtIsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YPtJMvVEe-8DujuTR3lgQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YPtJMvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YPtI8vVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YPtKcvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YPtKMvVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-YQUMcvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YQUMMvVEe-8DujuTR3lgQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZDle8vVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZDlesvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_-ZAiIMvVEe-8DujuTR3lgQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-YWa28vVEe-8DujuTR3lgQ" describedService__SEFF="_-SitwMvVEe-8DujuTR3lgQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-YVMtcvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YWa2MvVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YWa2MvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YVMtcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YWa2cvVEe-8DujuTR3lgQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YWa1cvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YWa18vVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YVMtsvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YWa08vVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YWa08vVEe-8DujuTR3lgQ" entityName="Switch Branch" predecessor_AbstractAction="_-YVMtsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YWa1MvVEe-8DujuTR3lgQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YVzxsvVEe-8DujuTR3lgQ">
                <branchBehaviour_BranchTransition id="_-YVzyMvVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YVMt8vVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YVzwMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_-YVzwMvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YVMt8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YVzwcvVEe-8DujuTR3lgQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YVMwMvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_-YVMwsvVEe-8DujuTR3lgQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-YVMuMvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YVMvsvVEe-8DujuTR3lgQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_-YVMvsvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YVMuMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YVMv8vVEe-8DujuTR3lgQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YVMu8vVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_-YVMvcvVEe-8DujuTR3lgQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_-YVMucvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YVMusvVEe-8DujuTR3lgQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_-YVMusvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YVMucvVEe-8DujuTR3lgQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-YVMv8vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YVMvsvVEe-8DujuTR3lgQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YVzwcvVEe-8DujuTR3lgQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_-YVzwMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YVzwsvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YVzwsvVEe-8DujuTR3lgQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_-YVzwcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YVzw8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YVzw8vVEe-8DujuTR3lgQ" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_-YVzwsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YVzxMvVEe-8DujuTR3lgQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YVzxMvVEe-8DujuTR3lgQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_-YVzw8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YVzxcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YVzxcvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YVzxMvVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YVzzMvVEe-8DujuTR3lgQ">
                <branchBehaviour_BranchTransition id="_-YVzzsvVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YVzycvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YVzysvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YVzysvVEe-8DujuTR3lgQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_-YVzycvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YVzy8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YVzy8vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YVzysvVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YWa0MvVEe-8DujuTR3lgQ">
                <branchBehaviour_BranchTransition id="_-YWa0svVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YVzz8vVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YVz0MvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YVz0MvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YVzz8vVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YWa1MvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YWa08vVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-YWa2cvVEe-8DujuTR3lgQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_-YWa2MvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YWa2svVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-YWa2svVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YWa2cvVEe-8DujuTR3lgQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZGoxMvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZGow8vVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_-ZAiJMvVEe-8DujuTR3lgQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-YSwd8vVEe-8DujuTR3lgQ" describedService__SEFF="_-ShfosvVEe-8DujuTR3lgQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-YQUNMvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YQUO8vVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YQUO8vVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YQUNMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQUPMvVEe-8DujuTR3lgQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YQUOMvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YQUOsvVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YQUNcvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YQUNsvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YQUNsvVEe-8DujuTR3lgQ" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_-YQUNcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQUN8vVEe-8DujuTR3lgQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YQUN8vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YQUNsvVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-YQUPMvVEe-8DujuTR3lgQ" entityName="stopWatch.start()" predecessor_AbstractAction="_-YQUO8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSwdMvVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YSwdMvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YQUPMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSwdcvVEe-8DujuTR3lgQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YSwccvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YSwc8vVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YQUPcvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YSJccvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YSJccvVEe-8DujuTR3lgQ" entityName="Switch Branch" predecessor_AbstractAction="_-YQUPcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSwcMvVEe-8DujuTR3lgQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YRiWMvVEe-8DujuTR3lgQ">
                <branchBehaviour_BranchTransition id="_-YRiWsvVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YQ7QMvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YQ7QcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YQ7QcvVEe-8DujuTR3lgQ" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_-YQ7QMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQ7TcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_-YQ7TcvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YQ7QcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQ7TsvVEe-8DujuTR3lgQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YQ7SsvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_-YQ7TMvVEe-8DujuTR3lgQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-YQ7QsvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YQ7SMvVEe-8DujuTR3lgQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_-YQ7SMvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YQ7QsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQ7ScvVEe-8DujuTR3lgQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YQ7RcvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_-YQ7R8vVEe-8DujuTR3lgQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_-YQ7Q8vVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YQ7RMvVEe-8DujuTR3lgQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_-YQ7RMvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YQ7Q8vVEe-8DujuTR3lgQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-YQ7ScvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YQ7SMvVEe-8DujuTR3lgQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YQ7TsvVEe-8DujuTR3lgQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_-YQ7TcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQ7T8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YQ7T8vVEe-8DujuTR3lgQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_-YQ7TsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQ7UMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YQ7UMvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YQ7T8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQ7UcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YQ7UcvVEe-8DujuTR3lgQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YQ7UMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YQ7UsvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YQ7UsvVEe-8DujuTR3lgQ" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_-YQ7UcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YRiUMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YRiUMvVEe-8DujuTR3lgQ" entityName="deferredResult" predecessor_AbstractAction="_-YQ7UsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YRiUcvVEe-8DujuTR3lgQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YRiUcvVEe-8DujuTR3lgQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_-YRiUMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YRiUsvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YRiUsvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YRiUcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YRiU8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YRiU8vVEe-8DujuTR3lgQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YRiUsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YRiVMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YRiVMvVEe-8DujuTR3lgQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_-YRiU8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YRiVcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YRiVcvVEe-8DujuTR3lgQ" entityName="deferredResult" predecessor_AbstractAction="_-YRiVMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YRiVsvVEe-8DujuTR3lgQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YRiVsvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YRiVcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YRiV8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YRiV8vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YRiVsvVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YSJaMvVEe-8DujuTR3lgQ">
                <branchBehaviour_BranchTransition id="_-YSJasvVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YSJYMvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YSJYcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YSJYcvVEe-8DujuTR3lgQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_-YSJYMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSJYsvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YSJYsvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YSJYcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSJY8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YSJY8vVEe-8DujuTR3lgQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YSJYsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSJZMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YSJZMvVEe-8DujuTR3lgQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_-YSJY8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSJZcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YSJZcvVEe-8DujuTR3lgQ" entityName="deferredResult" predecessor_AbstractAction="_-YSJZMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSJZsvVEe-8DujuTR3lgQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YSJZsvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YSJZcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSJZ8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YSJZ8vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YSJZsvVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YSJbsvVEe-8DujuTR3lgQ">
                <branchBehaviour_BranchTransition id="_-YSJcMvVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YSJa8vVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YSJbMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YSJbMvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YSJa8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSJbcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YSJbcvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YSJbMvVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YSwcMvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YSJccvVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-YSwdcvVEe-8DujuTR3lgQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_-YSwdMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSwdsvVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-YSwdsvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YSwdcvVEe-8DujuTR3lgQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZJFC8vVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZJFCsvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_-ZAiIcvVEe-8DujuTR3lgQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-YVMs8vVEe-8DujuTR3lgQ" describedService__SEFF="_-SjU08vVEe-8DujuTR3lgQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-YSwecvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YSwgMvVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YSwgMvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YSwecvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSwgcvVEe-8DujuTR3lgQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YSwfcvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YSwf8vVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YSwesvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YSwe8vVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YSwe8vVEe-8DujuTR3lgQ" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_-YSwesvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YSwfMvVEe-8DujuTR3lgQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YSwfMvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YSwe8vVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-YSwgcvVEe-8DujuTR3lgQ" entityName="stopWatch.start()" predecessor_AbstractAction="_-YSwgMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YVMscvVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YVMscvVEe-8DujuTR3lgQ" entityName="Switch Branch" predecessor_AbstractAction="_-YSwgcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YVMssvVEe-8DujuTR3lgQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YT-lMvVEe-8DujuTR3lgQ">
          <branchBehaviour_BranchTransition id="_-YT-lsvVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YSwgsvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YSwg8vVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YSwg8vVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YSwgsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXgMvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YTXgMvVEe-8DujuTR3lgQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YSwg8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXgcvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YTXgcvVEe-8DujuTR3lgQ" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_-YTXgMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXgsvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YTXgsvVEe-8DujuTR3lgQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_-YTXgcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXg8vVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YTXg8vVEe-8DujuTR3lgQ" entityName="deferredResult" predecessor_AbstractAction="_-YTXgsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YT-kMvVEe-8DujuTR3lgQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YT-kMvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YTXg8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YT-kcvVEe-8DujuTR3lgQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YTXjcvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-YTXj8vVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YTXhMvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YTXhcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YTXhcvVEe-8DujuTR3lgQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_-YTXhMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXhsvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YTXhsvVEe-8DujuTR3lgQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_-YTXhcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXh8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YTXh8vVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YTXhsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXiMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YTXiMvVEe-8DujuTR3lgQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YTXh8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXicvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YTXicvVEe-8DujuTR3lgQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_-YTXiMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXisvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YTXisvVEe-8DujuTR3lgQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_-YTXicvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXi8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YTXi8vVEe-8DujuTR3lgQ" entityName="deferredResult" predecessor_AbstractAction="_-YTXisvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YTXjMvVEe-8DujuTR3lgQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YTXjMvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YTXi8vVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YT-kcvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YT-kMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YT-ksvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YT-ksvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YT-kcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YT-k8vVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YT-k8vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YT-ksvVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YUlqsvVEe-8DujuTR3lgQ">
          <branchBehaviour_BranchTransition id="_-YUlrMvVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YT-l8vVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YUlpsvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YUlpsvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YT-l8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YUlp8vVEe-8DujuTR3lgQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YUlo8vVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-YUlpcvVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YT-mMvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YT-mcvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YT-mcvVEe-8DujuTR3lgQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_-YT-mMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YT-msvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YT-msvVEe-8DujuTR3lgQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_-YT-mcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YT-m8vVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YT-m8vVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YT-msvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YT-nMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YT-nMvVEe-8DujuTR3lgQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-YT-m8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YT-ncvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YT-ncvVEe-8DujuTR3lgQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_-YT-nMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YUloMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YUloMvVEe-8DujuTR3lgQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_-YT-ncvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YUlocvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YUlocvVEe-8DujuTR3lgQ" entityName="deferredResult" predecessor_AbstractAction="_-YUloMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YUlosvVEe-8DujuTR3lgQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YUlosvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YUlocvVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YUlp8vVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YUlpsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YUlqMvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YUlqMvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YUlp8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YUlqcvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YUlqcvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YUlqMvVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YUlsMvVEe-8DujuTR3lgQ">
          <branchBehaviour_BranchTransition id="_-YVMsMvVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YUlrcvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YUlrsvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YUlrsvVEe-8DujuTR3lgQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_-YUlrcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YUlr8vVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YUlr8vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YUlrsvVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-YVMssvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YVMscvVEe-8DujuTR3lgQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZLhTsvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZLhTMvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_-Y_7GMvVEe-8DujuTR3lgQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZLhTcvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_-ZAiI8vVEe-8DujuTR3lgQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-YNQ4cvVEe-8DujuTR3lgQ" describedService__SEFF="_-R3YUMvVEe-8DujuTR3lgQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-YJmgcvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YMCwcvVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YMCwcvVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YJmgcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YMp38vVEe-8DujuTR3lgQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YK0oMvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YLbsMvVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YJmgsvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YKNkMvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YKNkMvVEe-8DujuTR3lgQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_-YJmgsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YKNkcvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YKNkcvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YKNkMvVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YLbtMvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YMCwMvVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YLbscvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YLbssvVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-YLbssvVEe-8DujuTR3lgQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_-YLbscvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YLbs8vVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YLbs8vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YLbssvVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-YMp38vVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YMCwcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YNQ4MvVEe-8DujuTR3lgQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YMp3MvVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-YMp3svVEe-8DujuTR3lgQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-YMCwsvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YMp2svVEe-8DujuTR3lgQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-YMp2svVEe-8DujuTR3lgQ" entityName="If Branch" predecessor_AbstractAction="_-YMCwsvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YMp28vVEe-8DujuTR3lgQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YMp0svVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-YMp1MvVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YMCw8vVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YMCxMvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-YMCxMvVEe-8DujuTR3lgQ" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_-YMCw8vVEe-8DujuTR3lgQ" successor_AbstractAction="_-YMp0MvVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YMp0MvVEe-8DujuTR3lgQ" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_-YMCxMvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YMp0cvVEe-8DujuTR3lgQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YMp0cvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YMp0MvVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-YMp18vVEe-8DujuTR3lgQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-YMp2cvVEe-8DujuTR3lgQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-YMp1cvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YMp1svVEe-8DujuTR3lgQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-YMp1svVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YMp1cvVEe-8DujuTR3lgQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-YMp28vVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YMp2svVEe-8DujuTR3lgQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-YNQ4MvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YMp38vVEe-8DujuTR3lgQ"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-YI_csvVEe-8DujuTR3lgQ" describedService__SEFF="_-SiGs8vVEe-8DujuTR3lgQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-S9kgcvVEe-8DujuTR3lgQ" entityName="Start Action" successor_AbstractAction="_-YI_cMvVEe-8DujuTR3lgQ"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-YI_cMvVEe-8DujuTR3lgQ" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_-S9kgcvVEe-8DujuTR3lgQ" successor_AbstractAction="_-YI_ccvVEe-8DujuTR3lgQ">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-YI_ccvVEe-8DujuTR3lgQ" entityName="Stop Action" predecessor_AbstractAction="_-YI_cMvVEe-8DujuTR3lgQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-ZQZw8vVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZRn4svVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_-ZS2A8vVEe-8DujuTR3lgQ" encapsulatedComponent__AssemblyContext="_-ZLhTsvVEe-8DujuTR3lgQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZTdEMvVEe-8DujuTR3lgQ" innerProvidedRole_ProvidedDelegationConnector="_-ZLhTcvVEe-8DujuTR3lgQ" outerProvidedRole_ProvidedDelegationConnector="_-ZRn4MvVEe-8DujuTR3lgQ" assemblyContext_ProvidedDelegationConnector="_-ZS2A8vVEe-8DujuTR3lgQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZTdFMvVEe-8DujuTR3lgQ" innerProvidedRole_ProvidedDelegationConnector="_-ZLhTMvVEe-8DujuTR3lgQ" outerProvidedRole_ProvidedDelegationConnector="_-ZRn4cvVEe-8DujuTR3lgQ" assemblyContext_ProvidedDelegationConnector="_-ZS2A8vVEe-8DujuTR3lgQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZRn4MvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_-ZAiI8vVEe-8DujuTR3lgQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZRn4cvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_-Y_7GMvVEe-8DujuTR3lgQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZRn5MvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_-ZSO9svVEe-8DujuTR3lgQ" encapsulatedComponent__AssemblyContext="_-ZAiJsvVEe-8DujuTR3lgQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZTdEsvVEe-8DujuTR3lgQ" innerProvidedRole_ProvidedDelegationConnector="_-ZAiJcvVEe-8DujuTR3lgQ" outerProvidedRole_ProvidedDelegationConnector="_-ZRn48vVEe-8DujuTR3lgQ" assemblyContext_ProvidedDelegationConnector="_-ZSO9svVEe-8DujuTR3lgQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZRn48vVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_-ZAiIsvVEe-8DujuTR3lgQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZRn5cvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_-ZS2BcvVEe-8DujuTR3lgQ" encapsulatedComponent__AssemblyContext="_-ZQZw8vVEe-8DujuTR3lgQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZSO8cvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_-ZS2B8vVEe-8DujuTR3lgQ" encapsulatedComponent__AssemblyContext="_-ZJFC8vVEe-8DujuTR3lgQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZTdEcvVEe-8DujuTR3lgQ" innerProvidedRole_ProvidedDelegationConnector="_-ZJFCsvVEe-8DujuTR3lgQ" outerProvidedRole_ProvidedDelegationConnector="_-ZSO8MvVEe-8DujuTR3lgQ" assemblyContext_ProvidedDelegationConnector="_-ZS2B8vVEe-8DujuTR3lgQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZSO8MvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_-ZAiIcvVEe-8DujuTR3lgQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZSO88vVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_-ZSO-MvVEe-8DujuTR3lgQ" encapsulatedComponent__AssemblyContext="_-ZGoxMvVEe-8DujuTR3lgQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZTdFcvVEe-8DujuTR3lgQ" innerProvidedRole_ProvidedDelegationConnector="_-ZGow8vVEe-8DujuTR3lgQ" outerProvidedRole_ProvidedDelegationConnector="_-ZSO8svVEe-8DujuTR3lgQ" assemblyContext_ProvidedDelegationConnector="_-ZSO-MvVEe-8DujuTR3lgQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZSO8svVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_-ZAiJMvVEe-8DujuTR3lgQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-ZSO9cvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_-ZS2AcvVEe-8DujuTR3lgQ" encapsulatedComponent__AssemblyContext="_-ZDle8vVEe-8DujuTR3lgQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-ZTdE8vVEe-8DujuTR3lgQ" innerProvidedRole_ProvidedDelegationConnector="_-ZDlesvVEe-8DujuTR3lgQ" outerProvidedRole_ProvidedDelegationConnector="_-ZSO9MvVEe-8DujuTR3lgQ" assemblyContext_ProvidedDelegationConnector="_-ZS2AcvVEe-8DujuTR3lgQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-ZSO9MvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_-ZAiIMvVEe-8DujuTR3lgQ"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-Y_7GMvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_-R3YUMvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_-R2xQcvVEe-8DujuTR3lgQ">
      <parameters__OperationSignature dataType__Parameter="_-R1jIMvVEe-8DujuTR3lgQ" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_-R2xQMvVEe-8DujuTR3lgQ" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZAiIMvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_-SitwMvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_-R2xQcvVEe-8DujuTR3lgQ">
      <parameters__OperationSignature dataType__Parameter="_-ShfoMvVEe-8DujuTR3lgQ" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZAiIcvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_-SjU08vVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_-ShfocvVEe-8DujuTR3lgQ">
      <parameters__OperationSignature dataType__Parameter="_-SjU0svVEe-8DujuTR3lgQ" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZAiIsvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_-Sitw8vVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_-ShfocvVEe-8DujuTR3lgQ">
      <parameters__OperationSignature dataType__Parameter="_-ShfoMvVEe-8DujuTR3lgQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZAiI8vVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_-SiGs8vVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_-R2xQcvVEe-8DujuTR3lgQ">
      <parameters__OperationSignature dataType__Parameter="_-SiGssvVEe-8DujuTR3lgQ" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-ZAiJMvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_-ShfosvVEe-8DujuTR3lgQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_-ShfocvVEe-8DujuTR3lgQ">
      <parameters__OperationSignature dataType__Parameter="_-ShfoMvVEe-8DujuTR3lgQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-R1jIMvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-R2xQMvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-R2xQcvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-ShfoMvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-ShfocvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-SiGssvVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-SjU0svVEe-8DujuTR3lgQ" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
