<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_zhNG5K0wEe-wP9v3ycGJZg">
  <components__Repository xsi:type="repository:BasicComponent" id="_zg8BJ60wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zg8BJq0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_zg8BIq0wEe-wP9v3ycGJZg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_zgUWJK0wEe-wP9v3ycGJZg" describedService__SEFF="_zZYnoK0wEe-wP9v3ycGJZg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_zgSg560wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgSg7q0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_zgSg7q0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgSg560wEe-wP9v3ycGJZg" successor_AbstractAction="_zgSg760wEe-wP9v3ycGJZg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgSg660wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_zgSg7a0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgSg6K0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgSg6a0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgSg6a0wEe-wP9v3ycGJZg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_zgSg6K0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgSg6q0wEe-wP9v3ycGJZg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgSg6q0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgSg6a0wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_zgSg760wEe-wP9v3ycGJZg" entityName="stopWatch.start()" predecessor_AbstractAction="_zgSg7q0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgUWIa0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_zgUWIa0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgSg760wEe-wP9v3ycGJZg" successor_AbstractAction="_zgUWIq0wEe-wP9v3ycGJZg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgUWHq0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_zgUWIK0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgSg8K0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgUWHK0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_zgUWHK0wEe-wP9v3ycGJZg" entityName="Switch Branch" predecessor_AbstractAction="_zgSg8K0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgUWHa0wEe-wP9v3ycGJZg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgTvBa0wEe-wP9v3ycGJZg">
                <branchBehaviour_BranchTransition id="_zgTvB60wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgSg8a0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgSg8q0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgSg8q0wEe-wP9v3ycGJZg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_zgSg8a0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTH-q0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_zgTH-q0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgSg8q0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTH-60wEe-wP9v3ycGJZg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgTH960wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_zgTH-a0wEe-wP9v3ycGJZg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_zgSg860wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgTH9a0wEe-wP9v3ycGJZg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_zgTH9a0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgSg860wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTH9q0wEe-wP9v3ycGJZg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgTH8q0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_zgTH9K0wEe-wP9v3ycGJZg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_zgTH8K0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgTH8a0wEe-wP9v3ycGJZg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_zgTH8a0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgTH8K0wEe-wP9v3ycGJZg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_zgTH9q0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgTH9a0wEe-wP9v3ycGJZg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTH-60wEe-wP9v3ycGJZg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_zgTH-q0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTH_K0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTH_K0wEe-wP9v3ycGJZg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_zgTH-60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTH_a0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTH_a0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgTH_K0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTH_q0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTH_q0wEe-wP9v3ycGJZg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_zgTH_a0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTH_60wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTH_60wEe-wP9v3ycGJZg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_zgTH_q0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTIAK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgTIAK0wEe-wP9v3ycGJZg" entityName="deferredResult" predecessor_AbstractAction="_zgTH_60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTIAa0wEe-wP9v3ycGJZg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTIAa0wEe-wP9v3ycGJZg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_zgTIAK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTIAq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTIAq0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgTIAa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTvAK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTvAK0wEe-wP9v3ycGJZg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_zgTIAq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTvAa0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTvAa0wEe-wP9v3ycGJZg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_zgTvAK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTvAq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgTvAq0wEe-wP9v3ycGJZg" entityName="deferredResult" predecessor_AbstractAction="_zgTvAa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTvA60wEe-wP9v3ycGJZg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTvA60wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgTvAq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTvBK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgTvBK0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgTvA60wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgUWE60wEe-wP9v3ycGJZg">
                <branchBehaviour_BranchTransition id="_zgUWFa0wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgTvCK0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgTvCa0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTvCa0wEe-wP9v3ycGJZg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_zgTvCK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTvCq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTvCq0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgTvCa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTvC60wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTvC60wEe-wP9v3ycGJZg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_zgTvCq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgTvDK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgTvDK0wEe-wP9v3ycGJZg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_zgTvC60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgUWEK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgUWEK0wEe-wP9v3ycGJZg" entityName="deferredResult" predecessor_AbstractAction="_zgTvDK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgUWEa0wEe-wP9v3ycGJZg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgUWEa0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgUWEK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgUWEq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgUWEq0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgUWEa0wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgUWGa0wEe-wP9v3ycGJZg">
                <branchBehaviour_BranchTransition id="_zgUWG60wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgUWFq0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgUWF60wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgUWF60wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgUWFq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgUWGK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgUWGK0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgUWF60wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgUWHa0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgUWHK0wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_zgUWIq0wEe-wP9v3ycGJZg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_zgUWIa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgUWI60wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_zgUWI60wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgUWIq0wEe-wP9v3ycGJZg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_zg_Ecq0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zg_EcK0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_zg8BJa0wEe-wP9v3ycGJZg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zg_Eca0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_zg8BI60wEe-wP9v3ycGJZg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_zgOPcq0wEe-wP9v3ycGJZg" describedService__SEFF="_zaMf8K0wEe-wP9v3ycGJZg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_zgNoaa0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgOPcK0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgOPcK0wEe-wP9v3ycGJZg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_zgNoaa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgOPca0wEe-wP9v3ycGJZg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_zgOPca0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgOPcK0wEe-wP9v3ycGJZg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_zgPdk60wEe-wP9v3ycGJZg" describedService__SEFF="_zaLR1a0wEe-wP9v3ycGJZg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_zgOPdK0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgO2ga0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_zgO2ga0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgOPdK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgPdka0wEe-wP9v3ycGJZg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgOPeK0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_zgOPeq0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgOPda0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgOPdq0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgOPdq0wEe-wP9v3ycGJZg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_zgOPda0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgOPd60wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgOPd60wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgOPdq0wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgOPfq0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_zgO2gK0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgOPe60wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgOPfK0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgOPfK0wEe-wP9v3ycGJZg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_zgOPe60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgOPfa0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgOPfa0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgOPfK0wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_zgPdka0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgO2ga0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgPdkq0wEe-wP9v3ycGJZg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgO2ka0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_zgPdkK0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgO2gq0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgO2j60wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_zgO2j60wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgO2gq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgO2kK0wEe-wP9v3ycGJZg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgO2h60wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_zgO2ia0wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgO2g60wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgO2hK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgO2hK0wEe-wP9v3ycGJZg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_zgO2g60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgO2ha0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgO2ha0wEe-wP9v3ycGJZg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_zgO2hK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgO2hq0wEe-wP9v3ycGJZg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgO2hq0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgO2ha0wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgO2jK0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_zgO2jq0wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgO2iq0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgO2i60wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgO2i60wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgO2iq0wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgO2kK0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgO2j60wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_zgPdkq0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgPdka0wEe-wP9v3ycGJZg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_zhDV5a0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zhDV5K0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_zg8BIK0wEe-wP9v3ycGJZg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_zgSg5a0wEe-wP9v3ycGJZg" describedService__SEFF="_zaMf860wEe-wP9v3ycGJZg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_zgRSxq0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgSg4q0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_zgSg4q0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgRSxq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgSg460wEe-wP9v3ycGJZg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgR55K0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_zgSg4a0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgRSx60wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgR54q0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_zgR54q0wEe-wP9v3ycGJZg" entityName="Switch Branch" predecessor_AbstractAction="_zgRSx60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgR5460wEe-wP9v3ycGJZg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgR51K0wEe-wP9v3ycGJZg">
                <branchBehaviour_BranchTransition id="_zgR51q0wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgRSyK0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgRS1K0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_zgRS1K0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgRSyK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgRS1a0wEe-wP9v3ycGJZg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgRS0a0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_zgRS060wEe-wP9v3ycGJZg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_zgRSya0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgRSz60wEe-wP9v3ycGJZg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_zgRSz60wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgRSya0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgRS0K0wEe-wP9v3ycGJZg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgRSzK0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_zgRSzq0wEe-wP9v3ycGJZg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_zgRSyq0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgRSy60wEe-wP9v3ycGJZg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_zgRSy60wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgRSyq0wEe-wP9v3ycGJZg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_zgRS0K0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgRSz60wEe-wP9v3ycGJZg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgRS1a0wEe-wP9v3ycGJZg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_zgRS1K0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgR50K0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgR50K0wEe-wP9v3ycGJZg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_zgRS1a0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgR50a0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgR50a0wEe-wP9v3ycGJZg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_zgR50K0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgR50q0wEe-wP9v3ycGJZg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgR50q0wEe-wP9v3ycGJZg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_zgR50a0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgR5060wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgR5060wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgR50q0wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgR52q0wEe-wP9v3ycGJZg">
                <branchBehaviour_BranchTransition id="_zgR53K0wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgR5160wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgR52K0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgR52K0wEe-wP9v3ycGJZg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_zgR5160wEe-wP9v3ycGJZg" successor_AbstractAction="_zgR52a0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgR52a0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgR52K0wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgR5360wEe-wP9v3ycGJZg">
                <branchBehaviour_BranchTransition id="_zgR54a0wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgR53a0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgR53q0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgR53q0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgR53a0wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgR5460wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgR54q0wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_zgSg460wEe-wP9v3ycGJZg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_zgSg4q0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgSg5K0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_zgSg5K0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgSg460wEe-wP9v3ycGJZg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_zhFLHq0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zhFLHa0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_zg8BIa0wEe-wP9v3ycGJZg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_zgRSxK0wEe-wP9v3ycGJZg" describedService__SEFF="_zaL44K0wEe-wP9v3ycGJZg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_zgPdla0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgPdnK0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_zgPdnK0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgPdla0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgPdna0wEe-wP9v3ycGJZg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgPdma0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_zgPdm60wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgPdlq0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgPdl60wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgPdl60wEe-wP9v3ycGJZg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_zgPdlq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgPdmK0wEe-wP9v3ycGJZg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgPdmK0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgPdl60wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_zgPdna0wEe-wP9v3ycGJZg" entityName="stopWatch.start()" predecessor_AbstractAction="_zgPdnK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgRSwq0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_zgRSwq0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgPdna0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgRSw60wEe-wP9v3ycGJZg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgQrv60wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_zgRSwa0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgPdnq0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgQrva0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_zgQrva0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgPdnq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQrvq0wEe-wP9v3ycGJZg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgQruq0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_zgQrvK0wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgPdn60wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgQrsK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_zgQrsK0wEe-wP9v3ycGJZg" entityName="Switch Branch" predecessor_AbstractAction="_zgPdn60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQrsa0wEe-wP9v3ycGJZg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgQEqK0wEe-wP9v3ycGJZg">
                      <branchBehaviour_BranchTransition id="_zgQEqq0wEe-wP9v3ycGJZg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_zgPdoK0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgQEpa0wEe-wP9v3ycGJZg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_zgQEpa0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgPdoK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQEpq0wEe-wP9v3ycGJZg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgQEoq0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_zgQEpK0wEe-wP9v3ycGJZg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_zgPdoa0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgQEoK0wEe-wP9v3ycGJZg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQEoK0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgPdoa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQEoa0wEe-wP9v3ycGJZg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_zgQEoa0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgQEoK0wEe-wP9v3ycGJZg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQEpq0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgQEpa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQEp60wEe-wP9v3ycGJZg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_zgQEp60wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgQEpq0wEe-wP9v3ycGJZg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgQErq0wEe-wP9v3ycGJZg">
                      <branchBehaviour_BranchTransition id="_zgQEsK0wEe-wP9v3ycGJZg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_zgQEq60wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgQErK0wEe-wP9v3ycGJZg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQErK0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgQEq60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQEra0wEe-wP9v3ycGJZg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_zgQEra0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgQErK0wEe-wP9v3ycGJZg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgQEtK0wEe-wP9v3ycGJZg">
                      <branchBehaviour_BranchTransition id="_zgQEtq0wEe-wP9v3ycGJZg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_zgQEsa0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgQEsq0wEe-wP9v3ycGJZg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQEsq0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgQEsa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQEs60wEe-wP9v3ycGJZg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_zgQEs60wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgQEsq0wEe-wP9v3ycGJZg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQrsa0wEe-wP9v3ycGJZg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_zgQrsK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQrsq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQrsq0wEe-wP9v3ycGJZg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_zgQrsa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQrs60wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQrs60wEe-wP9v3ycGJZg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_zgQrsq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQrtK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQrtK0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgQrs60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQrta0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQrta0wEe-wP9v3ycGJZg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_zgQrtK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQrtq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQrtq0wEe-wP9v3ycGJZg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_zgQrta0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQrt60wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgQrt60wEe-wP9v3ycGJZg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_zgQrtq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQruK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgQruK0wEe-wP9v3ycGJZg" entityName="deferredResult" predecessor_AbstractAction="_zgQrt60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgQrua0wEe-wP9v3ycGJZg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgQrua0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgQruK0wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgQrvq0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgQrva0wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_zgRSw60wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgRSwq0wEe-wP9v3ycGJZg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_zhHATa0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_zhHnUa0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zhHnUK0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_zg8BJK0wEe-wP9v3ycGJZg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_zgNoZ60wEe-wP9v3ycGJZg" describedService__SEFF="_zaKqwa0wEe-wP9v3ycGJZg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_zauEYa0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgJ-AK0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_zgJ-AK0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zauEYa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgKlEK0wEe-wP9v3ycGJZg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgIv4K0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_zgJW8K0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zawgoK0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgII0K0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgII0K0wEe-wP9v3ycGJZg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_zawgoK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgII0a0wEe-wP9v3ycGJZg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgII0a0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgII0K0wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_zgKlEK0wEe-wP9v3ycGJZg" entityName="stopWatch.start()" predecessor_AbstractAction="_zgJ-AK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgNoZa0wEe-wP9v3ycGJZg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_zgNoZa0wEe-wP9v3ycGJZg" entityName="Switch Branch" predecessor_AbstractAction="_zgKlEK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgNoZq0wEe-wP9v3ycGJZg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgMaQK0wEe-wP9v3ycGJZg">
          <branchBehaviour_BranchTransition id="_zgMaQq0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgLMIK0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgLMIa0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLMIa0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgLMIK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLMIq0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLMIq0wEe-wP9v3ycGJZg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_zgLMIa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLMI60wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLMI60wEe-wP9v3ycGJZg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_zgLMIq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLMJK0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLMJK0wEe-wP9v3ycGJZg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_zgLMI60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLMJa0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgLMJa0wEe-wP9v3ycGJZg" entityName="deferredResult" predecessor_AbstractAction="_zgLMJK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLzN60wEe-wP9v3ycGJZg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_zgLzN60wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgLMJa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLzOK0wEe-wP9v3ycGJZg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgLzNK0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_zgLzNq0wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgLMJq0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgLMJ60wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLMJ60wEe-wP9v3ycGJZg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_zgLMJq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLMKK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLMKK0wEe-wP9v3ycGJZg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_zgLMJ60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLMKa0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLMKa0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgLMKK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLMKq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLMKq0wEe-wP9v3ycGJZg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_zgLMKa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLzMK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLzMK0wEe-wP9v3ycGJZg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_zgLMKq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLzMa0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLzMa0wEe-wP9v3ycGJZg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_zgLzMK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLzMq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgLzMq0wEe-wP9v3ycGJZg" entityName="deferredResult" predecessor_AbstractAction="_zgLzMa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLzM60wEe-wP9v3ycGJZg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgLzM60wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgLzMq0wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLzOK0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgLzN60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLzOa0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgLzOa0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgLzOK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgLzOq0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgLzOq0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgLzOa0wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgNBWa0wEe-wP9v3ycGJZg">
          <branchBehaviour_BranchTransition id="_zgNBW60wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgMaQ60wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgNBVa0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_zgNBVa0wEe-wP9v3ycGJZg" entityName="If Branch" predecessor_AbstractAction="_zgMaQ60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgNBVq0wEe-wP9v3ycGJZg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgNBUq0wEe-wP9v3ycGJZg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_zgNBVK0wEe-wP9v3ycGJZg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_zgMaRK0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgMaRa0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgMaRa0wEe-wP9v3ycGJZg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_zgMaRK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgMaRq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgMaRq0wEe-wP9v3ycGJZg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_zgMaRa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgMaR60wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgMaR60wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgMaRq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgMaSK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgMaSK0wEe-wP9v3ycGJZg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_zgMaR60wEe-wP9v3ycGJZg" successor_AbstractAction="_zgMaSa0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgMaSa0wEe-wP9v3ycGJZg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_zgMaSK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgMaSq0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_zgMaSq0wEe-wP9v3ycGJZg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_zgMaSa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgNBUK0wEe-wP9v3ycGJZg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_zgNBUK0wEe-wP9v3ycGJZg" entityName="deferredResult" predecessor_AbstractAction="_zgMaSq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgNBUa0wEe-wP9v3ycGJZg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_zgNBUa0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgNBUK0wEe-wP9v3ycGJZg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgNBVq0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgNBVa0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgNBV60wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgNBV60wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgNBVq0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgNBWK0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgNBWK0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgNBV60wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_zgNoYq0wEe-wP9v3ycGJZg">
          <branchBehaviour_BranchTransition id="_zgNoZK0wEe-wP9v3ycGJZg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_zgNBXK0wEe-wP9v3ycGJZg" entityName="Start Action" successor_AbstractAction="_zgNoYK0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_zgNoYK0wEe-wP9v3ycGJZg" entityName="stopWatch.stop()" predecessor_AbstractAction="_zgNBXK0wEe-wP9v3ycGJZg" successor_AbstractAction="_zgNoYa0wEe-wP9v3ycGJZg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_zgNoYa0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgNoYK0wEe-wP9v3ycGJZg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_zgNoZq0wEe-wP9v3ycGJZg" entityName="Stop Action" predecessor_AbstractAction="_zgNoZa0wEe-wP9v3ycGJZg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_zhL4wa0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_zhNG4K0wEe-wP9v3ycGJZg" encapsulatedComponent__AssemblyContext="_zg8BJ60wEe-wP9v3ycGJZg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_zhNt860wEe-wP9v3ycGJZg" innerProvidedRole_ProvidedDelegationConnector="_zg8BJq0wEe-wP9v3ycGJZg" outerProvidedRole_ProvidedDelegationConnector="_zhL4wK0wEe-wP9v3ycGJZg" assemblyContext_ProvidedDelegationConnector="_zhNG4K0wEe-wP9v3ycGJZg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zhL4wK0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_zg8BIq0wEe-wP9v3ycGJZg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_zhL4w60wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_zhMf1q0wEe-wP9v3ycGJZg" encapsulatedComponent__AssemblyContext="_zhFLHq0wEe-wP9v3ycGJZg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_zhNt9K0wEe-wP9v3ycGJZg" innerProvidedRole_ProvidedDelegationConnector="_zhFLHa0wEe-wP9v3ycGJZg" outerProvidedRole_ProvidedDelegationConnector="_zhL4wq0wEe-wP9v3ycGJZg" assemblyContext_ProvidedDelegationConnector="_zhMf1q0wEe-wP9v3ycGJZg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zhL4wq0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_zg8BIa0wEe-wP9v3ycGJZg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_zhL4xa0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_zhMf1K0wEe-wP9v3ycGJZg" encapsulatedComponent__AssemblyContext="_zhHnUa0wEe-wP9v3ycGJZg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_zhNt9a0wEe-wP9v3ycGJZg" innerProvidedRole_ProvidedDelegationConnector="_zhHnUK0wEe-wP9v3ycGJZg" outerProvidedRole_ProvidedDelegationConnector="_zhL4xK0wEe-wP9v3ycGJZg" assemblyContext_ProvidedDelegationConnector="_zhMf1K0wEe-wP9v3ycGJZg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zhL4xK0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_zg8BJK0wEe-wP9v3ycGJZg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_zhL4xq0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_zhMf0K0wEe-wP9v3ycGJZg" encapsulatedComponent__AssemblyContext="_zhHATa0wEe-wP9v3ycGJZg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_zhL4yK0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_zhMf0q0wEe-wP9v3ycGJZg" encapsulatedComponent__AssemblyContext="_zhDV5a0wEe-wP9v3ycGJZg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_zhNt8K0wEe-wP9v3ycGJZg" innerProvidedRole_ProvidedDelegationConnector="_zhDV5K0wEe-wP9v3ycGJZg" outerProvidedRole_ProvidedDelegationConnector="_zhL4x60wEe-wP9v3ycGJZg" assemblyContext_ProvidedDelegationConnector="_zhMf0q0wEe-wP9v3ycGJZg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zhL4x60wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_zg8BIK0wEe-wP9v3ycGJZg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_zhL4y60wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_zhNG4q0wEe-wP9v3ycGJZg" encapsulatedComponent__AssemblyContext="_zg_Ecq0wEe-wP9v3ycGJZg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_zhNt8a0wEe-wP9v3ycGJZg" innerProvidedRole_ProvidedDelegationConnector="_zg_EcK0wEe-wP9v3ycGJZg" outerProvidedRole_ProvidedDelegationConnector="_zhL4yq0wEe-wP9v3ycGJZg" assemblyContext_ProvidedDelegationConnector="_zhNG4q0wEe-wP9v3ycGJZg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_zhNt8q0wEe-wP9v3ycGJZg" innerProvidedRole_ProvidedDelegationConnector="_zg_Eca0wEe-wP9v3ycGJZg" outerProvidedRole_ProvidedDelegationConnector="_zhL4ya0wEe-wP9v3ycGJZg" assemblyContext_ProvidedDelegationConnector="_zhNG4q0wEe-wP9v3ycGJZg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zhL4ya0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_zg8BI60wEe-wP9v3ycGJZg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_zhL4yq0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_zg8BJa0wEe-wP9v3ycGJZg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_zg8BIK0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_zaMf860wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_zaLR1K0wEe-wP9v3ycGJZg">
      <parameters__OperationSignature dataType__Parameter="_zZWycK0wEe-wP9v3ycGJZg" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_zg8BIa0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_zaL44K0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_zZYAkK0wEe-wP9v3ycGJZg">
      <parameters__OperationSignature dataType__Parameter="_zZWycK0wEe-wP9v3ycGJZg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_zg8BIq0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_zZYnoK0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_zZYAkK0wEe-wP9v3ycGJZg">
      <parameters__OperationSignature dataType__Parameter="_zZWycK0wEe-wP9v3ycGJZg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_zg8BI60wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_zaLR1a0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_zaLR1K0wEe-wP9v3ycGJZg">
      <parameters__OperationSignature dataType__Parameter="_zaLR0q0wEe-wP9v3ycGJZg" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_zaLR060wEe-wP9v3ycGJZg" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_zg8BJK0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_zaKqwa0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_zZYAkK0wEe-wP9v3ycGJZg">
      <parameters__OperationSignature dataType__Parameter="_zaKqwK0wEe-wP9v3ycGJZg" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_zg8BJa0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_zaMf8K0wEe-wP9v3ycGJZg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_zaLR1K0wEe-wP9v3ycGJZg">
      <parameters__OperationSignature dataType__Parameter="_zaL4460wEe-wP9v3ycGJZg" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_zZWycK0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_zZYAkK0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_zaKqwK0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_zaLR0q0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_zaLR060wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_zaLR1K0wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_zaL4460wEe-wP9v3ycGJZg" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
