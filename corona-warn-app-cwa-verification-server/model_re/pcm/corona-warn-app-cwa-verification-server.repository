<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_wqjnLEiZEe-HjaUW52BsEw">
  <components__Repository xsi:type="repository:BasicComponent" id="_wqShZ0iZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqShZkiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_wqShYEiZEe-HjaUW52BsEw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_wppBK0iZEe-HjaUW52BsEw" describedService__SEFF="_wkVqY0iZEe-HjaUW52BsEw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_wpmk5EiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpmk60iZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_wpmk60iZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wpmk5EiZEe-HjaUW52BsEw" successor_AbstractAction="_wpmk7EiZEe-HjaUW52BsEw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpmk6EiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_wpmk6kiZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wpmk5UiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpmk5kiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpmk5kiZEe-HjaUW52BsEw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_wpmk5UiZEe-HjaUW52BsEw" successor_AbstractAction="_wpmk50iZEe-HjaUW52BsEw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wpmk50iZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpmk5kiZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_wpmk7EiZEe-HjaUW52BsEw" entityName="stopWatch.start()" predecessor_AbstractAction="_wpmk60iZEe-HjaUW52BsEw" successor_AbstractAction="_wppBKUiZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_wppBKUiZEe-HjaUW52BsEw" entityName="Switch Branch" predecessor_AbstractAction="_wpmk7EiZEe-HjaUW52BsEw" successor_AbstractAction="_wppBKkiZEe-HjaUW52BsEw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpnzCUiZEe-HjaUW52BsEw">
          <branchBehaviour_BranchTransition id="_wpnzC0iZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wpnL8EiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpnL8UiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL8UiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpnL8EiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnL8kiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL8kiZEe-HjaUW52BsEw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_wpnL8UiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnL80iZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL80iZEe-HjaUW52BsEw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_wpnL8kiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnL9EiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL9EiZEe-HjaUW52BsEw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_wpnL80iZEe-HjaUW52BsEw" successor_AbstractAction="_wpnL9UiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpnL9UiZEe-HjaUW52BsEw" entityName="deferredResult" predecessor_AbstractAction="_wpnL9EiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnzBUiZEe-HjaUW52BsEw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_wpnzBUiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wpnL9UiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnzBkiZEe-HjaUW52BsEw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpnzAkiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_wpnzBEiZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wpnL9kiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpnL90iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL90iZEe-HjaUW52BsEw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_wpnL9kiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnL-EiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL-EiZEe-HjaUW52BsEw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_wpnL90iZEe-HjaUW52BsEw" successor_AbstractAction="_wpnL-UiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL-UiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpnL-EiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnL-kiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL-kiZEe-HjaUW52BsEw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_wpnL-UiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnL-0iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL-0iZEe-HjaUW52BsEw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_wpnL-kiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnL_EiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnL_EiZEe-HjaUW52BsEw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_wpnL-0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpnzAEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpnzAEiZEe-HjaUW52BsEw" entityName="deferredResult" predecessor_AbstractAction="_wpnL_EiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnzAUiZEe-HjaUW52BsEw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wpnzAUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpnzAEiZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnzBkiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpnzBUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnzB0iZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnzB0iZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpnzBkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpnzCEiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wpnzCEiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpnzB0iZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wppBIEiZEe-HjaUW52BsEw">
          <branchBehaviour_BranchTransition id="_wppBIkiZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wpnzDEiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpoaGkiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_wpoaGkiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wpnzDEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaG0iZEe-HjaUW52BsEw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpoaF0iZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_wpoaGUiZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wpnzDUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpnzDkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpnzDkiZEe-HjaUW52BsEw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_wpnzDUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaEEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpoaEEiZEe-HjaUW52BsEw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_wpnzDkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaEUiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpoaEUiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpoaEEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaEkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpoaEkiZEe-HjaUW52BsEw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_wpoaEUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaE0iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpoaE0iZEe-HjaUW52BsEw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_wpoaEkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaFEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpoaFEiZEe-HjaUW52BsEw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_wpoaE0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaFUiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpoaFUiZEe-HjaUW52BsEw" entityName="deferredResult" predecessor_AbstractAction="_wpoaFEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaFkiZEe-HjaUW52BsEw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wpoaFkiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpoaFUiZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wpoaG0iZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpoaGkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaHEiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wpoaHEiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpoaG0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpoaHUiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wpoaHUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpoaHEiZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wppBJkiZEe-HjaUW52BsEw">
          <branchBehaviour_BranchTransition id="_wppBKEiZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wppBI0iZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wppBJEiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wppBJEiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wppBI0iZEe-HjaUW52BsEw" successor_AbstractAction="_wppBJUiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wppBJUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wppBJEiZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_wppBKkiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wppBKUiZEe-HjaUW52BsEw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_wqVktUiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqVks0iZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_wqShYUiZEe-HjaUW52BsEw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqVktEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_wqShY0iZEe-HjaUW52BsEw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_wpkvt0iZEe-HjaUW52BsEw" describedService__SEFF="_wjdgoEiZEe-HjaUW52BsEw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_wpkvtEiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpkvtUiZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpkvtUiZEe-HjaUW52BsEw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_wpkvtEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpkvtkiZEe-HjaUW52BsEw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_wpkvtkiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpkvtUiZEe-HjaUW52BsEw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_wpmk4kiZEe-HjaUW52BsEw" describedService__SEFF="_wkWRcUiZEe-HjaUW52BsEw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_wplWwUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpl90EiZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_wpl90EiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wplWwUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpmk4EiZEe-HjaUW52BsEw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wplWxUiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_wplWx0iZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wplWwkiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wplWw0iZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wplWw0iZEe-HjaUW52BsEw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_wplWwkiZEe-HjaUW52BsEw" successor_AbstractAction="_wplWxEiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wplWxEiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wplWw0iZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wplWy0iZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_wplWzUiZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wplWyEiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wplWyUiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_wplWyUiZEe-HjaUW52BsEw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_wplWyEiZEe-HjaUW52BsEw" successor_AbstractAction="_wplWykiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wplWykiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wplWyUiZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_wpmk4EiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wpl90EiZEe-HjaUW52BsEw" successor_AbstractAction="_wpmk4UiZEe-HjaUW52BsEw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpl94EiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_wpl94kiZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wpl90UiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpl93kiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_wpl93kiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wpl90UiZEe-HjaUW52BsEw" successor_AbstractAction="_wpl930iZEe-HjaUW52BsEw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpl91kiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_wpl92EiZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wpl90kiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpl900iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpl900iZEe-HjaUW52BsEw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_wpl90kiZEe-HjaUW52BsEw" successor_AbstractAction="_wpl91EiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpl91EiZEe-HjaUW52BsEw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_wpl900iZEe-HjaUW52BsEw" successor_AbstractAction="_wpl91UiZEe-HjaUW52BsEw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wpl91UiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpl91EiZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpl920iZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_wpl93UiZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wpl92UiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpl92kiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wpl92kiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpl92UiZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wpl930iZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpl93kiZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_wpmk4UiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpmk4EiZEe-HjaUW52BsEw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_wqadN0iZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqadNkiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_wqShZEiZEe-HjaUW52BsEw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_wptSnEiZEe-HjaUW52BsEw" describedService__SEFF="_wkWRdEiZEe-HjaUW52BsEw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_wprdcEiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpsEdEiZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_wpsEdEiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wprdcEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsEdUiZEe-HjaUW52BsEw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpsEcUiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_wpsEc0iZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wprdcUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wprdckiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wprdckiZEe-HjaUW52BsEw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_wprdcUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsEcEiZEe-HjaUW52BsEw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wpsEcEiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wprdckiZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsEdUiZEe-HjaUW52BsEw" entityName="stopWatch.start()" predecessor_AbstractAction="_wpsEdEiZEe-HjaUW52BsEw" successor_AbstractAction="_wptSmkiZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_wptSmkiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wpsEdUiZEe-HjaUW52BsEw" successor_AbstractAction="_wptSm0iZEe-HjaUW52BsEw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wptSl0iZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_wptSmUiZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wpsEdkiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wptSlUiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_wptSlUiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wpsEdkiZEe-HjaUW52BsEw" successor_AbstractAction="_wptSlkiZEe-HjaUW52BsEw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wptSkkiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_wptSlEiZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wpsEd0iZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpsrjEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_wpsrjEiZEe-HjaUW52BsEw" entityName="Switch Branch" predecessor_AbstractAction="_wpsEd0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpsrjUiZEe-HjaUW52BsEw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpsEgkiZEe-HjaUW52BsEw">
                      <branchBehaviour_BranchTransition id="_wpsEhEiZEe-HjaUW52BsEw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_wpsEeEiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpsEf0iZEe-HjaUW52BsEw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_wpsEf0iZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wpsEeEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsEgEiZEe-HjaUW52BsEw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpsEfEiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_wpsEfkiZEe-HjaUW52BsEw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_wpsEeUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpsEekiZEe-HjaUW52BsEw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsEekiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpsEeUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsEe0iZEe-HjaUW52BsEw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_wpsEe0iZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpsEekiZEe-HjaUW52BsEw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsEgEiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpsEf0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpsEgUiZEe-HjaUW52BsEw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_wpsEgUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpsEgEiZEe-HjaUW52BsEw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpsrg0iZEe-HjaUW52BsEw">
                      <branchBehaviour_BranchTransition id="_wpsrhUiZEe-HjaUW52BsEw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_wpsrgEiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpsrgUiZEe-HjaUW52BsEw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsrgUiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpsrgEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsrgkiZEe-HjaUW52BsEw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_wpsrgkiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpsrgUiZEe-HjaUW52BsEw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpsriUiZEe-HjaUW52BsEw">
                      <branchBehaviour_BranchTransition id="_wpsri0iZEe-HjaUW52BsEw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_wpsrhkiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpsrh0iZEe-HjaUW52BsEw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsrh0iZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpsrhkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsriEiZEe-HjaUW52BsEw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_wpsriEiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpsrh0iZEe-HjaUW52BsEw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsrjUiZEe-HjaUW52BsEw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_wpsrjEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsrjkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsrjkiZEe-HjaUW52BsEw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_wpsrjUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsrj0iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsrj0iZEe-HjaUW52BsEw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_wpsrjkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsrkEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsrkEiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpsrj0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpsrkUiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsrkUiZEe-HjaUW52BsEw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_wpsrkEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsrkkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsrkkiZEe-HjaUW52BsEw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_wpsrkUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpsrk0iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpsrk0iZEe-HjaUW52BsEw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_wpsrkkiZEe-HjaUW52BsEw" successor_AbstractAction="_wptSkEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wptSkEiZEe-HjaUW52BsEw" entityName="deferredResult" predecessor_AbstractAction="_wpsrk0iZEe-HjaUW52BsEw" successor_AbstractAction="_wptSkUiZEe-HjaUW52BsEw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wptSkUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wptSkEiZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wptSlkiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wptSlUiZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_wptSm0iZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wptSmkiZEe-HjaUW52BsEw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_wqc5c0iZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_wqc5dUiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqc5dEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_wqShYkiZEe-HjaUW52BsEw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_wpkvskiZEe-HjaUW52BsEw" describedService__SEFF="_wkVDVEiZEe-HjaUW52BsEw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_wk0LgUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpkIsUiZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_wpkIsUiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wk0LgUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpkvsEiZEe-HjaUW52BsEw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpkIrkiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_wpkIsEiZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wk2AsEiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpkIrEiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_wpkIrEiZEe-HjaUW52BsEw" entityName="Switch Branch" predecessor_AbstractAction="_wk2AsEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpkIrUiZEe-HjaUW52BsEw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpjhk0iZEe-HjaUW52BsEw">
                <branchBehaviour_BranchTransition id="_wpkIoEiZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wk2AsUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpgeQEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_wpgeQEiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wk2AsUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpgeQUiZEe-HjaUW52BsEw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpf3MkiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_wpf3NEiZEe-HjaUW52BsEw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_wk2AskiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpf3MEiZEe-HjaUW52BsEw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_wpf3MEiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wk2AskiZEe-HjaUW52BsEw" successor_AbstractAction="_wpf3MUiZEe-HjaUW52BsEw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wk2nwkiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_wk3O0EiZEe-HjaUW52BsEw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_wk2nwEiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wk2nwUiZEe-HjaUW52BsEw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_wk2nwUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wk2nwEiZEe-HjaUW52BsEw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_wpf3MUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpf3MEiZEe-HjaUW52BsEw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpgeQUiZEe-HjaUW52BsEw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_wpgeQEiZEe-HjaUW52BsEw" successor_AbstractAction="_wphFUEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wphFUEiZEe-HjaUW52BsEw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_wpgeQUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpjhkEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpjhkEiZEe-HjaUW52BsEw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_wphFUEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpjhkUiZEe-HjaUW52BsEw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpjhkUiZEe-HjaUW52BsEw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_wpjhkEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpjhkkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wpjhkkiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpjhkUiZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpkIpEiZEe-HjaUW52BsEw">
                <branchBehaviour_BranchTransition id="_wpkIpkiZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wpkIoUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpkIokiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpkIokiZEe-HjaUW52BsEw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_wpkIoUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpkIo0iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wpkIo0iZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpkIokiZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpkIqUiZEe-HjaUW52BsEw">
                <branchBehaviour_BranchTransition id="_wpkIq0iZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wpkIp0iZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpkIqEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wpkIqEiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpkIp0iZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wpkIrUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpkIrEiZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_wpkvsEiZEe-HjaUW52BsEw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_wpkIsUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpkvsUiZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_wpkvsUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpkvsEiZEe-HjaUW52BsEw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_wqeurkiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqeurUiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_wqShZUiZEe-HjaUW52BsEw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_wprdbkiZEe-HjaUW52BsEw" describedService__SEFF="_wkVDUUiZEe-HjaUW52BsEw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_wppBLUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wppoMEiZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_wppoMEiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wppBLUiZEe-HjaUW52BsEw" successor_AbstractAction="_wppoMUiZEe-HjaUW52BsEw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wppBMUiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_wppBM0iZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wppBLkiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wppBL0iZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wppBL0iZEe-HjaUW52BsEw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_wppBLkiZEe-HjaUW52BsEw" successor_AbstractAction="_wppBMEiZEe-HjaUW52BsEw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wppBMEiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wppBL0iZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_wppoMUiZEe-HjaUW52BsEw" entityName="stopWatch.start()" predecessor_AbstractAction="_wppoMEiZEe-HjaUW52BsEw" successor_AbstractAction="_wprda0iZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_wprda0iZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wppoMUiZEe-HjaUW52BsEw" successor_AbstractAction="_wprdbEiZEe-HjaUW52BsEw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wprdaEiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_wprdakiZEe-HjaUW52BsEw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_wppoMkiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wprdZkiZEe-HjaUW52BsEw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_wprdZkiZEe-HjaUW52BsEw" entityName="Switch Branch" predecessor_AbstractAction="_wppoMkiZEe-HjaUW52BsEw" successor_AbstractAction="_wprdZ0iZEe-HjaUW52BsEw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpqPTkiZEe-HjaUW52BsEw">
                <branchBehaviour_BranchTransition id="_wpq2UEiZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wppoM0iZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wppoNEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wppoNEiZEe-HjaUW52BsEw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_wppoM0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPQEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_wpqPQEiZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wppoNEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPQUiZEe-HjaUW52BsEw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wppoPUiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_wppoP0iZEe-HjaUW52BsEw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_wppoNUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wppoO0iZEe-HjaUW52BsEw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_wppoO0iZEe-HjaUW52BsEw" entityName="If Branch" predecessor_AbstractAction="_wppoNUiZEe-HjaUW52BsEw" successor_AbstractAction="_wppoPEiZEe-HjaUW52BsEw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wppoOEiZEe-HjaUW52BsEw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_wppoOkiZEe-HjaUW52BsEw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_wppoNkiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wppoN0iZEe-HjaUW52BsEw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_wppoN0iZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wppoNkiZEe-HjaUW52BsEw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_wppoPEiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wppoO0iZEe-HjaUW52BsEw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPQUiZEe-HjaUW52BsEw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_wpqPQEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPQkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPQkiZEe-HjaUW52BsEw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_wpqPQUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPQ0iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPQ0iZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpqPQkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPREiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPREiZEe-HjaUW52BsEw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_wpqPQ0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPRUiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPRUiZEe-HjaUW52BsEw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_wpqPREiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPRkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpqPRkiZEe-HjaUW52BsEw" entityName="deferredResult" predecessor_AbstractAction="_wpqPRUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPR0iZEe-HjaUW52BsEw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPR0iZEe-HjaUW52BsEw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_wpqPRkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPSEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPSEiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpqPR0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPSUiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPSUiZEe-HjaUW52BsEw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_wpqPSEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPSkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPSkiZEe-HjaUW52BsEw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_wpqPSUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPS0iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpqPS0iZEe-HjaUW52BsEw" entityName="deferredResult" predecessor_AbstractAction="_wpqPSkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPTEiZEe-HjaUW52BsEw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpqPTEiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpqPS0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpqPTUiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wpqPTUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpqPTEiZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wpq2WUiZEe-HjaUW52BsEw">
                <branchBehaviour_BranchTransition id="_wpq2W0iZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wpq2UUiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wpq2UkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpq2UkiZEe-HjaUW52BsEw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_wpq2UUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpq2U0iZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpq2U0iZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpq2UkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpq2VEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpq2VEiZEe-HjaUW52BsEw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_wpq2U0iZEe-HjaUW52BsEw" successor_AbstractAction="_wpq2VUiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpq2VUiZEe-HjaUW52BsEw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_wpq2VEiZEe-HjaUW52BsEw" successor_AbstractAction="_wpq2VkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_wpq2VkiZEe-HjaUW52BsEw" entityName="deferredResult" predecessor_AbstractAction="_wpq2VUiZEe-HjaUW52BsEw" successor_AbstractAction="_wpq2V0iZEe-HjaUW52BsEw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wpq2V0iZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wpq2VkiZEe-HjaUW52BsEw" successor_AbstractAction="_wpq2WEiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wpq2WEiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wpq2V0iZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_wprdY0iZEe-HjaUW52BsEw">
                <branchBehaviour_BranchTransition id="_wprdZUiZEe-HjaUW52BsEw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_wprdYEiZEe-HjaUW52BsEw" entityName="Start Action" successor_AbstractAction="_wprdYUiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_wprdYUiZEe-HjaUW52BsEw" entityName="stopWatch.stop()" predecessor_AbstractAction="_wprdYEiZEe-HjaUW52BsEw" successor_AbstractAction="_wprdYkiZEe-HjaUW52BsEw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_wprdYkiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wprdYUiZEe-HjaUW52BsEw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_wprdZ0iZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wprdZkiZEe-HjaUW52BsEw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_wprdbEiZEe-HjaUW52BsEw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_wprda0iZEe-HjaUW52BsEw" successor_AbstractAction="_wprdbUiZEe-HjaUW52BsEw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_wprdbUiZEe-HjaUW52BsEw" entityName="Stop Action" predecessor_AbstractAction="_wprdbEiZEe-HjaUW52BsEw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_wqjAEUiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_wqjnKEiZEe-HjaUW52BsEw" encapsulatedComponent__AssemblyContext="_wqc5dUiZEe-HjaUW52BsEw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_wqk1QUiZEe-HjaUW52BsEw" innerProvidedRole_ProvidedDelegationConnector="_wqc5dEiZEe-HjaUW52BsEw" outerProvidedRole_ProvidedDelegationConnector="_wqjAEEiZEe-HjaUW52BsEw" assemblyContext_ProvidedDelegationConnector="_wqjnKEiZEe-HjaUW52BsEw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqjAEEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_wqShYkiZEe-HjaUW52BsEw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_wqjAE0iZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_wqjnJEiZEe-HjaUW52BsEw" encapsulatedComponent__AssemblyContext="_wqadN0iZEe-HjaUW52BsEw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_wqkOMUiZEe-HjaUW52BsEw" innerProvidedRole_ProvidedDelegationConnector="_wqadNkiZEe-HjaUW52BsEw" outerProvidedRole_ProvidedDelegationConnector="_wqjAEkiZEe-HjaUW52BsEw" assemblyContext_ProvidedDelegationConnector="_wqjnJEiZEe-HjaUW52BsEw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqjAEkiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_wqShZEiZEe-HjaUW52BsEw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_wqjAFUiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_wqjnIkiZEe-HjaUW52BsEw" encapsulatedComponent__AssemblyContext="_wqeurkiZEe-HjaUW52BsEw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_wqk1Q0iZEe-HjaUW52BsEw" innerProvidedRole_ProvidedDelegationConnector="_wqeurUiZEe-HjaUW52BsEw" outerProvidedRole_ProvidedDelegationConnector="_wqjAFEiZEe-HjaUW52BsEw" assemblyContext_ProvidedDelegationConnector="_wqjnIkiZEe-HjaUW52BsEw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqjAFEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_wqShZUiZEe-HjaUW52BsEw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_wqjAF0iZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_wqjnJkiZEe-HjaUW52BsEw" encapsulatedComponent__AssemblyContext="_wqShZ0iZEe-HjaUW52BsEw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_wqkOMEiZEe-HjaUW52BsEw" innerProvidedRole_ProvidedDelegationConnector="_wqShZkiZEe-HjaUW52BsEw" outerProvidedRole_ProvidedDelegationConnector="_wqjAFkiZEe-HjaUW52BsEw" assemblyContext_ProvidedDelegationConnector="_wqjnJkiZEe-HjaUW52BsEw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqjAFkiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_wqShYEiZEe-HjaUW52BsEw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_wqjAGkiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_wqjnIEiZEe-HjaUW52BsEw" encapsulatedComponent__AssemblyContext="_wqVktUiZEe-HjaUW52BsEw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_wqk1QEiZEe-HjaUW52BsEw" innerProvidedRole_ProvidedDelegationConnector="_wqVks0iZEe-HjaUW52BsEw" outerProvidedRole_ProvidedDelegationConnector="_wqjAGUiZEe-HjaUW52BsEw" assemblyContext_ProvidedDelegationConnector="_wqjnIEiZEe-HjaUW52BsEw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_wqk1QkiZEe-HjaUW52BsEw" innerProvidedRole_ProvidedDelegationConnector="_wqVktEiZEe-HjaUW52BsEw" outerProvidedRole_ProvidedDelegationConnector="_wqjAGEiZEe-HjaUW52BsEw" assemblyContext_ProvidedDelegationConnector="_wqjnIEiZEe-HjaUW52BsEw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqjAGEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_wqShY0iZEe-HjaUW52BsEw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_wqjAGUiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_wqShYUiZEe-HjaUW52BsEw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_wqjAG0iZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_wqjnKkiZEe-HjaUW52BsEw" encapsulatedComponent__AssemblyContext="_wqc5c0iZEe-HjaUW52BsEw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_wqShYEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_wkVqY0iZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_wkVDUEiZEe-HjaUW52BsEw">
      <parameters__OperationSignature dataType__Parameter="_wkVqYkiZEe-HjaUW52BsEw" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_wqShYUiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_wjdgoEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_wjcSgEiZEe-HjaUW52BsEw">
      <parameters__OperationSignature dataType__Parameter="_wjbEYEiZEe-HjaUW52BsEw" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_wqShYkiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_wkVDVEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_wjcSgEiZEe-HjaUW52BsEw">
      <parameters__OperationSignature dataType__Parameter="_wkUcQEiZEe-HjaUW52BsEw" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_wqShY0iZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_wkWRcUiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_wjcSgEiZEe-HjaUW52BsEw">
      <parameters__OperationSignature dataType__Parameter="_wkVqZkiZEe-HjaUW52BsEw" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_wkWRcEiZEe-HjaUW52BsEw" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_wqShZEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_wkWRdEiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_wkVDUEiZEe-HjaUW52BsEw">
      <parameters__OperationSignature dataType__Parameter="_wkUcQEiZEe-HjaUW52BsEw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_wqShZUiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_wkVDUUiZEe-HjaUW52BsEw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_wkVDUEiZEe-HjaUW52BsEw">
      <parameters__OperationSignature dataType__Parameter="_wkUcQEiZEe-HjaUW52BsEw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_wjbEYEiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_wjcSgEiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_wkUcQEiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_wkVDUEiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_wkVqYkiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_wkVqZkiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_wkWRcEiZEe-HjaUW52BsEw" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
