<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_yse2tU-sEe-x3ahNemMJrg">
  <components__Repository xsi:type="repository:BasicComponent" id="_ysNw90-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysNw9k-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_ysNw9E-sEe-x3ahNemMJrg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_yrn7HU-sEe-x3ahNemMJrg" describedService__SEFF="_ylk9dk-sEe-x3ahNemMJrg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_yrmF6k-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrmF8U-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_yrmF8U-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrmF6k-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmF8k-sEe-x3ahNemMJrg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrmF7k-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_yrmF8E-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrmF60-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrmF7E-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrmF7E-sEe-x3ahNemMJrg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_yrmF60-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmF7U-sEe-x3ahNemMJrg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrmF7U-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrmF7E-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_yrmF8k-sEe-x3ahNemMJrg" entityName="stopWatch.start()" predecessor_AbstractAction="_yrmF8U-sEe-x3ahNemMJrg" successor_AbstractAction="_yrn7G0-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_yrn7G0-sEe-x3ahNemMJrg" entityName="Switch Branch" predecessor_AbstractAction="_yrmF8k-sEe-x3ahNemMJrg" successor_AbstractAction="_yrn7HE-sEe-x3ahNemMJrg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrmtBE-sEe-x3ahNemMJrg">
          <branchBehaviour_BranchTransition id="_yrnUAE-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrmF80-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrmF9E-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrmF9E-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrmF80-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms8E-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrms8E-sEe-x3ahNemMJrg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_yrmF9E-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms8U-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrms8U-sEe-x3ahNemMJrg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_yrms8E-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms8k-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrms8k-sEe-x3ahNemMJrg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_yrms8U-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms80-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrms80-sEe-x3ahNemMJrg" entityName="deferredResult" predecessor_AbstractAction="_yrms8k-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmtAE-sEe-x3ahNemMJrg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_yrmtAE-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrms80-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmtAU-sEe-x3ahNemMJrg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrms_U-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_yrms_0-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrms9E-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrms9U-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrms9U-sEe-x3ahNemMJrg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_yrms9E-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms9k-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrms9k-sEe-x3ahNemMJrg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_yrms9U-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms90-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrms90-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrms9k-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms-E-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrms-E-sEe-x3ahNemMJrg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_yrms90-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms-U-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrms-U-sEe-x3ahNemMJrg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_yrms-E-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms-k-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrms-k-sEe-x3ahNemMJrg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_yrms-U-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms-0-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrms-0-sEe-x3ahNemMJrg" entityName="deferredResult" predecessor_AbstractAction="_yrms-k-sEe-x3ahNemMJrg" successor_AbstractAction="_yrms_E-sEe-x3ahNemMJrg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrms_E-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrms-0-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrmtAU-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrmtAE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmtAk-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrmtAk-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrmtAU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmtA0-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrmtA0-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrmtAk-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrn7Ek-sEe-x3ahNemMJrg">
          <branchBehaviour_BranchTransition id="_yrn7FE-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrnUAU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrnUDk-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_yrnUDk-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrnUAU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrnUD0-sEe-x3ahNemMJrg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrnUC0-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_yrnUDU-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrnUAk-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrnUA0-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrnUA0-sEe-x3ahNemMJrg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_yrnUAk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrnUBE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrnUBE-sEe-x3ahNemMJrg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_yrnUA0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrnUBU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrnUBU-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrnUBE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrnUBk-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrnUBk-sEe-x3ahNemMJrg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_yrnUBU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrnUB0-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrnUB0-sEe-x3ahNemMJrg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_yrnUBk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrnUCE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrnUCE-sEe-x3ahNemMJrg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_yrnUB0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrnUCU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrnUCU-sEe-x3ahNemMJrg" entityName="deferredResult" predecessor_AbstractAction="_yrnUCE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrnUCk-sEe-x3ahNemMJrg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrnUCk-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrnUCU-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrnUD0-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrnUDk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrn7EE-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrn7EE-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrnUD0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrn7EU-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrn7EU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrn7EE-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrn7GE-sEe-x3ahNemMJrg">
          <branchBehaviour_BranchTransition id="_yrn7Gk-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrn7FU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrn7Fk-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrn7Fk-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrn7FU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrn7F0-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrn7F0-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrn7Fk-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_yrn7HE-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrn7G0-sEe-x3ahNemMJrg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_ysQ0RU-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysQ0RE-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_ysNw9U-sEe-x3ahNemMJrg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_yrjprE-sEe-x3ahNemMJrg" describedService__SEFF="_ylkWZE-sEe-x3ahNemMJrg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_yrh0f0-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yribgE-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_yribgE-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrh0f0-sEe-x3ahNemMJrg" successor_AbstractAction="_yribgU-sEe-x3ahNemMJrg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrh0g0-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_yrh0hU-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrh0gE-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrh0gU-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrh0gU-sEe-x3ahNemMJrg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_yrh0gE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrh0gk-sEe-x3ahNemMJrg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrh0gk-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrh0gU-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_yribgU-sEe-x3ahNemMJrg" entityName="stopWatch.start()" predecessor_AbstractAction="_yribgE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjpqk-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_yrjpqk-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yribgU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjpq0-sEe-x3ahNemMJrg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrjpp0-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_yrjpqU-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yribgk-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrjppU-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_yrjppU-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yribgk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjppk-sEe-x3ahNemMJrg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrjpok-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_yrjppE-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yribg0-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrjClk-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_yrjClk-sEe-x3ahNemMJrg" entityName="Switch Branch" predecessor_AbstractAction="_yribg0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjCl0-sEe-x3ahNemMJrg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yribjk-sEe-x3ahNemMJrg">
                      <branchBehaviour_BranchTransition id="_yribkE-sEe-x3ahNemMJrg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_yribhE-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yribi0-sEe-x3ahNemMJrg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_yribi0-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yribhE-sEe-x3ahNemMJrg" successor_AbstractAction="_yribjE-sEe-x3ahNemMJrg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yribiE-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_yribik-sEe-x3ahNemMJrg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_yribhU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yribhk-sEe-x3ahNemMJrg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_yribhk-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yribhU-sEe-x3ahNemMJrg" successor_AbstractAction="_yribh0-sEe-x3ahNemMJrg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_yribh0-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yribhk-sEe-x3ahNemMJrg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_yribjE-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yribi0-sEe-x3ahNemMJrg" successor_AbstractAction="_yribjU-sEe-x3ahNemMJrg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_yribjU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yribjE-sEe-x3ahNemMJrg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yriblE-sEe-x3ahNemMJrg">
                      <branchBehaviour_BranchTransition id="_yriblk-sEe-x3ahNemMJrg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_yribkU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yribkk-sEe-x3ahNemMJrg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_yribkk-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yribkU-sEe-x3ahNemMJrg" successor_AbstractAction="_yribk0-sEe-x3ahNemMJrg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_yribk0-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yribkk-sEe-x3ahNemMJrg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrjCk0-sEe-x3ahNemMJrg">
                      <branchBehaviour_BranchTransition id="_yrjClU-sEe-x3ahNemMJrg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_yrjCkE-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrjCkU-sEe-x3ahNemMJrg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_yrjCkU-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrjCkE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjCkk-sEe-x3ahNemMJrg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_yrjCkk-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrjCkU-sEe-x3ahNemMJrg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrjCl0-sEe-x3ahNemMJrg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_yrjClk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjCmE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrjCmE-sEe-x3ahNemMJrg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_yrjCl0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjCmU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrjCmU-sEe-x3ahNemMJrg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_yrjCmE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjCmk-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrjCmk-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrjCmU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjCm0-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrjCm0-sEe-x3ahNemMJrg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_yrjCmk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjCnE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrjCnE-sEe-x3ahNemMJrg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_yrjCm0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjCnU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrjCnU-sEe-x3ahNemMJrg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_yrjCnE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjpoE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrjpoE-sEe-x3ahNemMJrg" entityName="deferredResult" predecessor_AbstractAction="_yrjCnU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjpoU-sEe-x3ahNemMJrg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrjpoU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrjpoE-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrjppk-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrjppU-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_yrjpq0-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrjpqk-sEe-x3ahNemMJrg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_ysSpfk-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysSpfU-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_ysNw8U-sEe-x3ahNemMJrg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_yrh0fU-sEe-x3ahNemMJrg" describedService__SEFF="_ykyTQE-sEe-x3ahNemMJrg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_yrf_RE-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrh0ek-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_yrh0ek-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrf_RE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrh0e0-sEe-x3ahNemMJrg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrh0d0-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_yrh0eU-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrf_RU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrh0dU-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_yrh0dU-sEe-x3ahNemMJrg" entityName="Switch Branch" predecessor_AbstractAction="_yrf_RU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrh0dk-sEe-x3ahNemMJrg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrhNZk-sEe-x3ahNemMJrg">
                <branchBehaviour_BranchTransition id="_yrhNaE-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrgmUE-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrhNYE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_yrhNYE-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrgmUE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrhNYU-sEe-x3ahNemMJrg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrgmWU-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_yrgmW0-sEe-x3ahNemMJrg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_yrgmUU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrgmV0-sEe-x3ahNemMJrg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_yrgmV0-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrgmUU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrgmWE-sEe-x3ahNemMJrg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrgmVE-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_yrgmVk-sEe-x3ahNemMJrg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_yrgmUk-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrgmU0-sEe-x3ahNemMJrg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_yrgmU0-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrgmUk-sEe-x3ahNemMJrg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_yrgmWE-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrgmV0-sEe-x3ahNemMJrg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrhNYU-sEe-x3ahNemMJrg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_yrhNYE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrhNYk-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrhNYk-sEe-x3ahNemMJrg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_yrhNYU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrhNY0-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrhNY0-sEe-x3ahNemMJrg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_yrhNYk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrhNZE-sEe-x3ahNemMJrg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrhNZE-sEe-x3ahNemMJrg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_yrhNY0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrhNZU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrhNZU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrhNZE-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrhNbE-sEe-x3ahNemMJrg">
                <branchBehaviour_BranchTransition id="_yrhNbk-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrhNaU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrhNak-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrhNak-sEe-x3ahNemMJrg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_yrhNaU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrhNa0-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrhNa0-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrhNak-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrh0ck-sEe-x3ahNemMJrg">
                <branchBehaviour_BranchTransition id="_yrh0dE-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrh0cE-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrh0cU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrh0cU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrh0cE-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrh0dk-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrh0dU-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_yrh0e0-sEe-x3ahNemMJrg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_yrh0ek-sEe-x3ahNemMJrg" successor_AbstractAction="_yrh0fE-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_yrh0fE-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrh0e0-sEe-x3ahNemMJrg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_ysVFvk-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysVFvU-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_ysNw80-sEe-x3ahNemMJrg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_yrmF6E-sEe-x3ahNemMJrg" describedService__SEFF="_ylk9ck-sEe-x3ahNemMJrg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_yrjprk-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrkQsU-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_yrkQsU-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrjprk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrkQsk-sEe-x3ahNemMJrg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrjpsk-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_yrkQsE-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrjpr0-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrjpsE-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrjpsE-sEe-x3ahNemMJrg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_yrjpr0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrjpsU-sEe-x3ahNemMJrg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrjpsU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrjpsE-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_yrkQsk-sEe-x3ahNemMJrg" entityName="stopWatch.start()" predecessor_AbstractAction="_yrkQsU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmF5U-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_yrmF5U-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrkQsk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmF5k-sEe-x3ahNemMJrg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrmF4k-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_yrmF5E-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrkQs0-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrmF4E-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_yrmF4E-sEe-x3ahNemMJrg" entityName="Switch Branch" predecessor_AbstractAction="_yrkQs0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmF4U-sEe-x3ahNemMJrg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrk3yk-sEe-x3ahNemMJrg">
                <branchBehaviour_BranchTransition id="_yrk3zE-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrkQtE-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrkQtU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrkQtU-sEe-x3ahNemMJrg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_yrkQtE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrkQwU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_yrkQwU-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrkQtU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrkQwk-sEe-x3ahNemMJrg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrkQvk-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_yrkQwE-sEe-x3ahNemMJrg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_yrkQtk-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrkQvE-sEe-x3ahNemMJrg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_yrkQvE-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrkQtk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrkQvU-sEe-x3ahNemMJrg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrkQuU-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_yrkQu0-sEe-x3ahNemMJrg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_yrkQt0-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrkQuE-sEe-x3ahNemMJrg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_yrkQuE-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrkQt0-sEe-x3ahNemMJrg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_yrkQvU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrkQvE-sEe-x3ahNemMJrg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrkQwk-sEe-x3ahNemMJrg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_yrkQwU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrkQw0-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrkQw0-sEe-x3ahNemMJrg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_yrkQwk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrkQxE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrkQxE-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrkQw0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3wE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrk3wE-sEe-x3ahNemMJrg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_yrkQxE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3wU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrk3wU-sEe-x3ahNemMJrg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_yrk3wE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3wk-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrk3wk-sEe-x3ahNemMJrg" entityName="deferredResult" predecessor_AbstractAction="_yrk3wU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3w0-sEe-x3ahNemMJrg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrk3w0-sEe-x3ahNemMJrg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_yrk3wk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3xE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrk3xE-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrk3w0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3xU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrk3xU-sEe-x3ahNemMJrg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_yrk3xE-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3xk-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrk3xk-sEe-x3ahNemMJrg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_yrk3xU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3x0-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrk3x0-sEe-x3ahNemMJrg" entityName="deferredResult" predecessor_AbstractAction="_yrk3xk-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3yE-sEe-x3ahNemMJrg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrk3yE-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrk3x0-sEe-x3ahNemMJrg" successor_AbstractAction="_yrk3yU-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrk3yU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrk3yE-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrle2E-sEe-x3ahNemMJrg">
                <branchBehaviour_BranchTransition id="_yrle2k-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrle0E-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrle0U-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrle0U-sEe-x3ahNemMJrg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_yrle0E-sEe-x3ahNemMJrg" successor_AbstractAction="_yrle0k-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrle0k-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrle0U-sEe-x3ahNemMJrg" successor_AbstractAction="_yrle00-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrle00-sEe-x3ahNemMJrg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_yrle0k-sEe-x3ahNemMJrg" successor_AbstractAction="_yrle1E-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrle1E-sEe-x3ahNemMJrg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_yrle00-sEe-x3ahNemMJrg" successor_AbstractAction="_yrle1U-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrle1U-sEe-x3ahNemMJrg" entityName="deferredResult" predecessor_AbstractAction="_yrle1E-sEe-x3ahNemMJrg" successor_AbstractAction="_yrle1k-sEe-x3ahNemMJrg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrle1k-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrle1U-sEe-x3ahNemMJrg" successor_AbstractAction="_yrle10-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrle10-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrle1k-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrle3k-sEe-x3ahNemMJrg">
                <branchBehaviour_BranchTransition id="_yrle4E-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrle20-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrle3E-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrle3E-sEe-x3ahNemMJrg" entityName="stopWatch.stop()" predecessor_AbstractAction="_yrle20-sEe-x3ahNemMJrg" successor_AbstractAction="_yrle3U-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrle3U-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrle3E-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrmF4U-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrmF4E-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_yrmF5k-sEe-x3ahNemMJrg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_yrmF5U-sEe-x3ahNemMJrg" successor_AbstractAction="_yrmF50-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_yrmF50-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrmF5k-sEe-x3ahNemMJrg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_ysXh-U-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysXh90-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_ysNw8E-sEe-x3ahNemMJrg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysXh-E-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_ysNw8k-sEe-x3ahNemMJrg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_yrfYO0-sEe-x3ahNemMJrg" describedService__SEFF="_yllkhE-sEe-x3ahNemMJrg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_yl-mEU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrbt1k-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_yrbt1k-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yl-mEU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrfYOU-sEe-x3ahNemMJrg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ymCQcE-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ymC3gE-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ymAbQE-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_ymBpYE-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ymBpYE-sEe-x3ahNemMJrg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_ymAbQE-sEe-x3ahNemMJrg" successor_AbstractAction="_ymBpYU-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ymBpYU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_ymBpYE-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrbt00-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_yrbt1U-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrbt0E-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrbt0U-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_yrbt0U-sEe-x3ahNemMJrg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_yrbt0E-sEe-x3ahNemMJrg" successor_AbstractAction="_yrbt0k-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrbt0k-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrbt0U-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_yrfYOU-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrbt1k-sEe-x3ahNemMJrg" successor_AbstractAction="_yrfYOk-sEe-x3ahNemMJrg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrfYNk-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_yrfYOE-sEe-x3ahNemMJrg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_yrcU4E-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrfYNE-sEe-x3ahNemMJrg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_yrfYNE-sEe-x3ahNemMJrg" entityName="If Branch" predecessor_AbstractAction="_yrcU4E-sEe-x3ahNemMJrg" successor_AbstractAction="_yrfYNU-sEe-x3ahNemMJrg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrexIk-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_yrexJE-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrcU4U-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrcU4k-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_yrcU4k-sEe-x3ahNemMJrg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_yrcU4U-sEe-x3ahNemMJrg" successor_AbstractAction="_yrexIE-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrexIE-sEe-x3ahNemMJrg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_yrcU4k-sEe-x3ahNemMJrg" successor_AbstractAction="_yrexIU-sEe-x3ahNemMJrg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrexIU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrexIE-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_yrfYMU-sEe-x3ahNemMJrg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_yrfYM0-sEe-x3ahNemMJrg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_yrexJU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrfYME-sEe-x3ahNemMJrg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_yrfYME-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrexJU-sEe-x3ahNemMJrg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_yrfYNU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrfYNE-sEe-x3ahNemMJrg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_yrfYOk-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrfYOU-sEe-x3ahNemMJrg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_yrf_Qk-sEe-x3ahNemMJrg" describedService__SEFF="_ylkWYE-sEe-x3ahNemMJrg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_yrfYPU-sEe-x3ahNemMJrg" entityName="Start Action" successor_AbstractAction="_yrf_QE-sEe-x3ahNemMJrg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_yrf_QE-sEe-x3ahNemMJrg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_yrfYPU-sEe-x3ahNemMJrg" successor_AbstractAction="_yrf_QU-sEe-x3ahNemMJrg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_yrf_QU-sEe-x3ahNemMJrg" entityName="Stop Action" predecessor_AbstractAction="_yrf_QE-sEe-x3ahNemMJrg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_ysbzbE-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_ysdokU-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_ysePok-sEe-x3ahNemMJrg" encapsulatedComponent__AssemblyContext="_ysVFvk-sEe-x3ahNemMJrg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_ysfdwU-sEe-x3ahNemMJrg" innerProvidedRole_ProvidedDelegationConnector="_ysVFvU-sEe-x3ahNemMJrg" outerProvidedRole_ProvidedDelegationConnector="_ysdokE-sEe-x3ahNemMJrg" assemblyContext_ProvidedDelegationConnector="_ysePok-sEe-x3ahNemMJrg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysdokE-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_ysNw80-sEe-x3ahNemMJrg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_ysdok0-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_yse2s0-sEe-x3ahNemMJrg" encapsulatedComponent__AssemblyContext="_ysSpfk-sEe-x3ahNemMJrg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_ysfdwE-sEe-x3ahNemMJrg" innerProvidedRole_ProvidedDelegationConnector="_ysSpfU-sEe-x3ahNemMJrg" outerProvidedRole_ProvidedDelegationConnector="_ysdokk-sEe-x3ahNemMJrg" assemblyContext_ProvidedDelegationConnector="_yse2s0-sEe-x3ahNemMJrg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysdokk-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_ysNw8U-sEe-x3ahNemMJrg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_ysdolE-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_yse2sU-sEe-x3ahNemMJrg" encapsulatedComponent__AssemblyContext="_ysbzbE-sEe-x3ahNemMJrg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_ysdolk-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_ysePpE-sEe-x3ahNemMJrg" encapsulatedComponent__AssemblyContext="_ysNw90-sEe-x3ahNemMJrg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_ysfdxU-sEe-x3ahNemMJrg" innerProvidedRole_ProvidedDelegationConnector="_ysNw9k-sEe-x3ahNemMJrg" outerProvidedRole_ProvidedDelegationConnector="_ysdolU-sEe-x3ahNemMJrg" assemblyContext_ProvidedDelegationConnector="_ysePpE-sEe-x3ahNemMJrg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysdolU-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_ysNw9E-sEe-x3ahNemMJrg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_ysdomU-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_ysePoE-sEe-x3ahNemMJrg" encapsulatedComponent__AssemblyContext="_ysXh-U-sEe-x3ahNemMJrg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_ysfdw0-sEe-x3ahNemMJrg" innerProvidedRole_ProvidedDelegationConnector="_ysXh90-sEe-x3ahNemMJrg" outerProvidedRole_ProvidedDelegationConnector="_ysdol0-sEe-x3ahNemMJrg" assemblyContext_ProvidedDelegationConnector="_ysePoE-sEe-x3ahNemMJrg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_ysfdxE-sEe-x3ahNemMJrg" innerProvidedRole_ProvidedDelegationConnector="_ysXh-E-sEe-x3ahNemMJrg" outerProvidedRole_ProvidedDelegationConnector="_ysdomE-sEe-x3ahNemMJrg" assemblyContext_ProvidedDelegationConnector="_ysePoE-sEe-x3ahNemMJrg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysdol0-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_ysNw8E-sEe-x3ahNemMJrg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysdomE-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_ysNw8k-sEe-x3ahNemMJrg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_ysdom0-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_ysePpk-sEe-x3ahNemMJrg" encapsulatedComponent__AssemblyContext="_ysQ0RU-sEe-x3ahNemMJrg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_ysfdwk-sEe-x3ahNemMJrg" innerProvidedRole_ProvidedDelegationConnector="_ysQ0RE-sEe-x3ahNemMJrg" outerProvidedRole_ProvidedDelegationConnector="_ysdomk-sEe-x3ahNemMJrg" assemblyContext_ProvidedDelegationConnector="_ysePpk-sEe-x3ahNemMJrg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_ysdomk-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_ysNw9U-sEe-x3ahNemMJrg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_ysNw8E-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_yllkhE-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_ykxsME-sEe-x3ahNemMJrg">
      <parameters__OperationSignature dataType__Parameter="_yllkgk-sEe-x3ahNemMJrg" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_yllkg0-sEe-x3ahNemMJrg" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_ysNw8U-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_ykyTQE-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_ykxsME-sEe-x3ahNemMJrg">
      <parameters__OperationSignature dataType__Parameter="_ykxFIE-sEe-x3ahNemMJrg" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_ysNw8k-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_ylkWYE-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_ykxsME-sEe-x3ahNemMJrg">
      <parameters__OperationSignature dataType__Parameter="_yljvUE-sEe-x3ahNemMJrg" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_ysNw80-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_ylk9ck-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_ylkWY0-sEe-x3ahNemMJrg">
      <parameters__OperationSignature dataType__Parameter="_ykxFIE-sEe-x3ahNemMJrg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_ysNw9E-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_ylk9dk-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_ylkWY0-sEe-x3ahNemMJrg">
      <parameters__OperationSignature dataType__Parameter="_ylk9dU-sEe-x3ahNemMJrg" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_ysNw9U-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_ylkWZE-sEe-x3ahNemMJrg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_ylkWY0-sEe-x3ahNemMJrg">
      <parameters__OperationSignature dataType__Parameter="_ykxFIE-sEe-x3ahNemMJrg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ykxFIE-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ykxsME-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_yljvUE-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ylkWY0-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_ylk9dU-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_yllkgk-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_yllkg0-sEe-x3ahNemMJrg" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
