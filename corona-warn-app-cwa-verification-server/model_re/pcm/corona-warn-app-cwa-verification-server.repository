<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_iHO55nb3Ee-fPrI_1qu0YA">
  <components__Repository xsi:type="repository:BasicComponent" id="_iG_CSHb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iG_CRnb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_iG_CQXb3Ee-fPrI_1qu0YA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iG_CR3b3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_iG_CQnb3Ee-fPrI_1qu0YA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_iGYlUnb3Ee-fPrI_1qu0YA" describedService__SEFF="_iARWQ3b3Ee-fPrI_1qu0YA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_iGX-V3b3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGYlUHb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGYlUHb3Ee-fPrI_1qu0YA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_iGX-V3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGYlUXb3Ee-fPrI_1qu0YA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_iGYlUXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGYlUHb3Ee-fPrI_1qu0YA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_iGX-VXb3Ee-fPrI_1qu0YA" describedService__SEFF="_iAQvNnb3Ee-fPrI_1qu0YA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_iGXXOXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGX-QHb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_iGX-QHb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGXXOXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGX-U3b3Ee-fPrI_1qu0YA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGXXPXb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_iGXXP3b3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGXXOnb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGXXO3b3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGXXO3b3Ee-fPrI_1qu0YA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_iGXXOnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGXXPHb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGXXPHb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGXXO3b3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGXXQ3b3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_iGXXRXb3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGXXQHb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGXXQXb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGXXQXb3Ee-fPrI_1qu0YA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_iGXXQHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGXXQnb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGXXQnb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGXXQXb3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_iGX-U3b3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGX-QHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGX-VHb3Ee-fPrI_1qu0YA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGX-UHb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_iGX-Unb3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGX-QXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGX-Tnb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_iGX-Tnb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGX-QXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGX-T3b3Ee-fPrI_1qu0YA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGX-Rnb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_iGX-SHb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGX-Qnb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGX-Q3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGX-Q3b3Ee-fPrI_1qu0YA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_iGX-Qnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGX-RHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGX-RHb3Ee-fPrI_1qu0YA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_iGX-Q3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGX-RXb3Ee-fPrI_1qu0YA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGX-RXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGX-RHb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGX-S3b3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_iGX-TXb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGX-SXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGX-Snb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGX-Snb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGX-SXb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGX-T3b3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGX-Tnb3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_iGX-VHb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGX-U3b3Ee-fPrI_1qu0YA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_iHD6y3b3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHD6ynb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_iG_CRXb3Ee-fPrI_1qu0YA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_iGaah3b3Ee-fPrI_1qu0YA" describedService__SEFF="_iAQvMXb3Ee-fPrI_1qu0YA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_iGYlVHb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGYlW3b3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_iGYlW3b3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGYlVHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGYlXHb3Ee-fPrI_1qu0YA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGYlWHb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_iGYlWnb3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGYlVXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGYlVnb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGYlVnb3Ee-fPrI_1qu0YA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_iGYlVXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGYlV3b3Ee-fPrI_1qu0YA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGYlV3b3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGYlVnb3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_iGYlXHb3Ee-fPrI_1qu0YA" entityName="stopWatch.start()" predecessor_AbstractAction="_iGYlW3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGaahXb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_iGaahXb3Ee-fPrI_1qu0YA" entityName="Switch Branch" predecessor_AbstractAction="_iGYlXHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGaahnb3Ee-fPrI_1qu0YA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGZMdXb3Ee-fPrI_1qu0YA">
          <branchBehaviour_BranchTransition id="_iGZzcHb3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGYlXXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGZMYHb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMYHb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGYlXXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMYXb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMYXb3Ee-fPrI_1qu0YA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_iGZMYHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMYnb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMYnb3Ee-fPrI_1qu0YA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_iGZMYXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMY3b3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMY3b3Ee-fPrI_1qu0YA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_iGZMYnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMZHb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGZMZHb3Ee-fPrI_1qu0YA" entityName="deferredResult" predecessor_AbstractAction="_iGZMY3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMcXb3Ee-fPrI_1qu0YA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_iGZMcXb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGZMZHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMcnb3Ee-fPrI_1qu0YA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGZMbnb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_iGZMcHb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGZMZXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGZMZnb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMZnb3Ee-fPrI_1qu0YA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_iGZMZXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMZ3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMZ3b3Ee-fPrI_1qu0YA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_iGZMZnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMaHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMaHb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGZMZ3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMaXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMaXb3Ee-fPrI_1qu0YA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_iGZMaHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZManb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZManb3Ee-fPrI_1qu0YA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_iGZMaXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMa3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMa3b3Ee-fPrI_1qu0YA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_iGZManb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMbHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGZMbHb3Ee-fPrI_1qu0YA" entityName="deferredResult" predecessor_AbstractAction="_iGZMa3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMbXb3Ee-fPrI_1qu0YA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGZMbXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGZMbHb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMcnb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGZMcXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMc3b3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZMc3b3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGZMcnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZMdHb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGZMdHb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGZMc3b3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGZzgnb3Ee-fPrI_1qu0YA">
          <branchBehaviour_BranchTransition id="_iGZzhHb3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGZzcXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGZzfnb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_iGZzfnb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGZzcXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzf3b3Ee-fPrI_1qu0YA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGZze3b3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_iGZzfXb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGZzcnb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGZzc3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZzc3b3Ee-fPrI_1qu0YA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_iGZzcnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzdHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZzdHb3Ee-fPrI_1qu0YA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_iGZzc3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzdXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZzdXb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGZzdHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzdnb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZzdnb3Ee-fPrI_1qu0YA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_iGZzdXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzd3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZzd3b3Ee-fPrI_1qu0YA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_iGZzdnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzeHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZzeHb3Ee-fPrI_1qu0YA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_iGZzd3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzeXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGZzeXb3Ee-fPrI_1qu0YA" entityName="deferredResult" predecessor_AbstractAction="_iGZzeHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzenb3Ee-fPrI_1qu0YA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGZzenb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGZzeXb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZzf3b3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGZzfnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzgHb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGZzgHb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGZzf3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGZzgXb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGZzgXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGZzgHb3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGaagnb3Ee-fPrI_1qu0YA">
          <branchBehaviour_BranchTransition id="_iGaahHb3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGZzhXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGaagHb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_iGaagHb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGZzhXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGaagXb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGaagXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGaagHb3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_iGaahnb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGaahXb3Ee-fPrI_1qu0YA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_iHGXAHb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_iHGXAnb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHGXAXb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_iG_CQHb3Ee-fPrI_1qu0YA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_iGWJG3b3Ee-fPrI_1qu0YA" describedService__SEFF="_iAR9UHb3Ee-fPrI_1qu0YA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_iGTs2nb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGUT5Hb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_iGUT5Hb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGTs2nb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGUT5Xb3Ee-fPrI_1qu0YA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGUT4Xb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_iGUT43b3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGTs23b3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGTs3Hb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGTs3Hb3Ee-fPrI_1qu0YA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_iGTs23b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGUT4Hb3Ee-fPrI_1qu0YA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGUT4Hb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGTs3Hb3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_iGUT5Xb3Ee-fPrI_1qu0YA" entityName="stopWatch.start()" predecessor_AbstractAction="_iGUT5Hb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWJGHb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_iGWJGHb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGUT5Xb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWJGXb3Ee-fPrI_1qu0YA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGWJFXb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_iGWJF3b3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGUT5nb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGWJE3b3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_iGWJE3b3Ee-fPrI_1qu0YA" entityName="Switch Branch" predecessor_AbstractAction="_iGUT5nb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWJFHb3Ee-fPrI_1qu0YA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGU6-nb3Ee-fPrI_1qu0YA">
                <branchBehaviour_BranchTransition id="_iGU6_Hb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGUT53b3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGUT6Hb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGUT6Hb3Ee-fPrI_1qu0YA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_iGUT53b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGUT9Hb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_iGUT9Hb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGUT6Hb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGUT9Xb3Ee-fPrI_1qu0YA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGUT8Xb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_iGUT83b3Ee-fPrI_1qu0YA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_iGUT6Xb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGUT73b3Ee-fPrI_1qu0YA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_iGUT73b3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGUT6Xb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGUT8Hb3Ee-fPrI_1qu0YA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGUT7Hb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_iGUT7nb3Ee-fPrI_1qu0YA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_iGUT6nb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGUT63b3Ee-fPrI_1qu0YA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_iGUT63b3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGUT6nb3Ee-fPrI_1qu0YA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_iGUT8Hb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGUT73b3Ee-fPrI_1qu0YA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGUT9Xb3Ee-fPrI_1qu0YA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_iGUT9Hb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGUT9nb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGUT9nb3Ee-fPrI_1qu0YA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_iGUT9Xb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGUT93b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGUT93b3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGUT9nb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU68Hb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGU68Hb3Ee-fPrI_1qu0YA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_iGUT93b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU68Xb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGU68Xb3Ee-fPrI_1qu0YA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_iGU68Hb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU68nb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGU68nb3Ee-fPrI_1qu0YA" entityName="deferredResult" predecessor_AbstractAction="_iGU68Xb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU683b3Ee-fPrI_1qu0YA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGU683b3Ee-fPrI_1qu0YA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_iGU68nb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU69Hb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGU69Hb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGU683b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU69Xb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGU69Xb3Ee-fPrI_1qu0YA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_iGU69Hb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU69nb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGU69nb3Ee-fPrI_1qu0YA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_iGU69Xb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU693b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGU693b3Ee-fPrI_1qu0YA" entityName="deferredResult" predecessor_AbstractAction="_iGU69nb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU6-Hb3Ee-fPrI_1qu0YA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGU6-Hb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGU693b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGU6-Xb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGU6-Xb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGU6-Hb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGViCHb3Ee-fPrI_1qu0YA">
                <branchBehaviour_BranchTransition id="_iGViCnb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGViAHb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGViAXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGViAXb3Ee-fPrI_1qu0YA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_iGViAHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGViAnb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGViAnb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGViAXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGViA3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGViA3b3Ee-fPrI_1qu0YA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_iGViAnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGViBHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGViBHb3Ee-fPrI_1qu0YA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_iGViA3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGViBXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGViBXb3Ee-fPrI_1qu0YA" entityName="deferredResult" predecessor_AbstractAction="_iGViBHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGViBnb3Ee-fPrI_1qu0YA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGViBnb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGViBXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGViB3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGViB3b3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGViBnb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGWJEHb3Ee-fPrI_1qu0YA">
                <branchBehaviour_BranchTransition id="_iGWJEnb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGViC3b3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGViDHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGViDHb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGViC3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGViDXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGViDXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGViDHb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGWJFHb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGWJE3b3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_iGWJGXb3Ee-fPrI_1qu0YA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_iGWJGHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWJGnb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_iGWJGnb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGWJGXb3Ee-fPrI_1qu0YA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_iHIMO3b3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHIMOnb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_iG_CRHb3Ee-fPrI_1qu0YA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_iGXXN3b3Ee-fPrI_1qu0YA" describedService__SEFF="_h_hIUHb3Ee-fPrI_1qu0YA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_iGWJHXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGXXNHb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_iGXXNHb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGWJHXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGXXNXb3Ee-fPrI_1qu0YA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGXXMXb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_iGXXM3b3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGWJHnb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGWwNHb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_iGWwNHb3Ee-fPrI_1qu0YA" entityName="Switch Branch" predecessor_AbstractAction="_iGWJHnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGXXMHb3Ee-fPrI_1qu0YA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGWwJnb3Ee-fPrI_1qu0YA">
                <branchBehaviour_BranchTransition id="_iGWwKHb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGWJH3b3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGWwIHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_iGWwIHb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGWJH3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWwIXb3Ee-fPrI_1qu0YA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGWJKHb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_iGWJKnb3Ee-fPrI_1qu0YA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_iGWJIHb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGWJJnb3Ee-fPrI_1qu0YA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_iGWJJnb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGWJIHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWJJ3b3Ee-fPrI_1qu0YA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGWJI3b3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_iGWJJXb3Ee-fPrI_1qu0YA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_iGWJIXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGWJInb3Ee-fPrI_1qu0YA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_iGWJInb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGWJIXb3Ee-fPrI_1qu0YA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_iGWJJ3b3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGWJJnb3Ee-fPrI_1qu0YA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGWwIXb3Ee-fPrI_1qu0YA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_iGWwIHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWwInb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGWwInb3Ee-fPrI_1qu0YA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_iGWwIXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWwI3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGWwI3b3Ee-fPrI_1qu0YA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_iGWwInb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWwJHb3Ee-fPrI_1qu0YA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGWwJHb3Ee-fPrI_1qu0YA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_iGWwI3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWwJXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGWwJXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGWwJHb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGWwLHb3Ee-fPrI_1qu0YA">
                <branchBehaviour_BranchTransition id="_iGWwLnb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGWwKXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGWwKnb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGWwKnb3Ee-fPrI_1qu0YA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_iGWwKXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGWwK3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGWwK3b3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGWwKnb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGWwMXb3Ee-fPrI_1qu0YA">
                <branchBehaviour_BranchTransition id="_iGWwM3b3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGWwL3b3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGWwMHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGWwMHb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGWwL3b3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGXXMHb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGWwNHb3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_iGXXNXb3Ee-fPrI_1qu0YA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_iGXXNHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGXXNnb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_iGXXNnb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGXXNXb3Ee-fPrI_1qu0YA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_iHKBbnb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHKBbXb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_iG_CQ3b3Ee-fPrI_1qu0YA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_iGTs2Hb3Ee-fPrI_1qu0YA" describedService__SEFF="_iAQIIXb3Ee-fPrI_1qu0YA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_iA2lEXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGQpgHb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_iGQpgHb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iA2lEXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGRQkHb3Ee-fPrI_1qu0YA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGPbYHb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_iGQCcHb3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iA4aQHb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGO0UHb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGO0UHb3Ee-fPrI_1qu0YA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_iA4aQHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGO0UXb3Ee-fPrI_1qu0YA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGO0UXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGO0UHb3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_iGRQkHb3Ee-fPrI_1qu0YA" entityName="stopWatch.start()" predecessor_AbstractAction="_iGQpgHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTs1nb3Ee-fPrI_1qu0YA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_iGTs1nb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGRQkHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTs13b3Ee-fPrI_1qu0YA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGTs03b3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_iGTs1Xb3Ee-fPrI_1qu0YA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_iGRQkXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGTs0Xb3Ee-fPrI_1qu0YA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_iGTs0Xb3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGRQkXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTs0nb3Ee-fPrI_1qu0YA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGTFy3b3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_iGTs0Hb3Ee-fPrI_1qu0YA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_iGRQknb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGTFwXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_iGTFwXb3Ee-fPrI_1qu0YA" entityName="Switch Branch" predecessor_AbstractAction="_iGRQknb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTFwnb3Ee-fPrI_1qu0YA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGSetnb3Ee-fPrI_1qu0YA">
                      <branchBehaviour_BranchTransition id="_iGSeuHb3Ee-fPrI_1qu0YA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_iGR3oHb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGSes3b3Ee-fPrI_1qu0YA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_iGSes3b3Ee-fPrI_1qu0YA" entityName="If Branch" predecessor_AbstractAction="_iGR3oHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGSetHb3Ee-fPrI_1qu0YA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGSesHb3Ee-fPrI_1qu0YA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_iGSesnb3Ee-fPrI_1qu0YA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_iGR3oXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGR3onb3Ee-fPrI_1qu0YA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_iGR3onb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGR3oXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGR3o3b3Ee-fPrI_1qu0YA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_iGR3o3b3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGR3onb3Ee-fPrI_1qu0YA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_iGSetHb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGSes3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGSetXb3Ee-fPrI_1qu0YA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_iGSetXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGSetHb3Ee-fPrI_1qu0YA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGSevHb3Ee-fPrI_1qu0YA">
                      <branchBehaviour_BranchTransition id="_iGSevnb3Ee-fPrI_1qu0YA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_iGSeuXb3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGSeunb3Ee-fPrI_1qu0YA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_iGSeunb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGSeuXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGSeu3b3Ee-fPrI_1qu0YA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_iGSeu3b3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGSeunb3Ee-fPrI_1qu0YA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_iGSewnb3Ee-fPrI_1qu0YA">
                      <branchBehaviour_BranchTransition id="_iGTFwHb3Ee-fPrI_1qu0YA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_iGSev3b3Ee-fPrI_1qu0YA" entityName="Start Action" successor_AbstractAction="_iGSewHb3Ee-fPrI_1qu0YA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_iGSewHb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGSev3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGSewXb3Ee-fPrI_1qu0YA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_iGSewXb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGSewHb3Ee-fPrI_1qu0YA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGTFwnb3Ee-fPrI_1qu0YA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_iGTFwXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTFw3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGTFw3b3Ee-fPrI_1qu0YA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_iGTFwnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTFxHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGTFxHb3Ee-fPrI_1qu0YA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_iGTFw3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTFxXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGTFxXb3Ee-fPrI_1qu0YA" entityName="stopWatch.stop()" predecessor_AbstractAction="_iGTFxHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTFxnb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGTFxnb3Ee-fPrI_1qu0YA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_iGTFxXb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTFx3b3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGTFx3b3Ee-fPrI_1qu0YA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_iGTFxnb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTFyHb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_iGTFyHb3Ee-fPrI_1qu0YA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_iGTFx3b3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTFyXb3Ee-fPrI_1qu0YA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_iGTFyXb3Ee-fPrI_1qu0YA" entityName="deferredResult" predecessor_AbstractAction="_iGTFyHb3Ee-fPrI_1qu0YA" successor_AbstractAction="_iGTFynb3Ee-fPrI_1qu0YA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_iGTFynb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGTFyXb3Ee-fPrI_1qu0YA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_iGTs0nb3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGTs0Xb3Ee-fPrI_1qu0YA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_iGTs13b3Ee-fPrI_1qu0YA" entityName="Stop Action" predecessor_AbstractAction="_iGTs1nb3Ee-fPrI_1qu0YA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_iHNrwHb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_iHO54Hb3Ee-fPrI_1qu0YA" encapsulatedComponent__AssemblyContext="_iHGXAHb3Ee-fPrI_1qu0YA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_iHNrwnb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_iHO54nb3Ee-fPrI_1qu0YA" encapsulatedComponent__AssemblyContext="_iHKBbnb3Ee-fPrI_1qu0YA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_iHPg9Hb3Ee-fPrI_1qu0YA" innerProvidedRole_ProvidedDelegationConnector="_iHKBbXb3Ee-fPrI_1qu0YA" outerProvidedRole_ProvidedDelegationConnector="_iHNrwXb3Ee-fPrI_1qu0YA" assemblyContext_ProvidedDelegationConnector="_iHO54nb3Ee-fPrI_1qu0YA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHNrwXb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_iG_CQ3b3Ee-fPrI_1qu0YA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_iHNrxHb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_iHOS0nb3Ee-fPrI_1qu0YA" encapsulatedComponent__AssemblyContext="_iHIMO3b3Ee-fPrI_1qu0YA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_iHPg8Hb3Ee-fPrI_1qu0YA" innerProvidedRole_ProvidedDelegationConnector="_iHIMOnb3Ee-fPrI_1qu0YA" outerProvidedRole_ProvidedDelegationConnector="_iHNrw3b3Ee-fPrI_1qu0YA" assemblyContext_ProvidedDelegationConnector="_iHOS0nb3Ee-fPrI_1qu0YA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHNrw3b3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_iG_CRHb3Ee-fPrI_1qu0YA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_iHNrx3b3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_iHO55Hb3Ee-fPrI_1qu0YA" encapsulatedComponent__AssemblyContext="_iG_CSHb3Ee-fPrI_1qu0YA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_iHPg8Xb3Ee-fPrI_1qu0YA" innerProvidedRole_ProvidedDelegationConnector="_iG_CRnb3Ee-fPrI_1qu0YA" outerProvidedRole_ProvidedDelegationConnector="_iHNrxXb3Ee-fPrI_1qu0YA" assemblyContext_ProvidedDelegationConnector="_iHO55Hb3Ee-fPrI_1qu0YA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_iHPg8nb3Ee-fPrI_1qu0YA" innerProvidedRole_ProvidedDelegationConnector="_iG_CR3b3Ee-fPrI_1qu0YA" outerProvidedRole_ProvidedDelegationConnector="_iHNrxnb3Ee-fPrI_1qu0YA" assemblyContext_ProvidedDelegationConnector="_iHO55Hb3Ee-fPrI_1qu0YA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHNrxXb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_iG_CQXb3Ee-fPrI_1qu0YA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHNrxnb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_iG_CQnb3Ee-fPrI_1qu0YA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_iHNryXb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_iHOS1nb3Ee-fPrI_1qu0YA" encapsulatedComponent__AssemblyContext="_iHGXAnb3Ee-fPrI_1qu0YA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_iHPg83b3Ee-fPrI_1qu0YA" innerProvidedRole_ProvidedDelegationConnector="_iHGXAXb3Ee-fPrI_1qu0YA" outerProvidedRole_ProvidedDelegationConnector="_iHNryHb3Ee-fPrI_1qu0YA" assemblyContext_ProvidedDelegationConnector="_iHOS1nb3Ee-fPrI_1qu0YA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHNryHb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_iG_CQHb3Ee-fPrI_1qu0YA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_iHOS0Xb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_iHOS1Hb3Ee-fPrI_1qu0YA" encapsulatedComponent__AssemblyContext="_iHD6y3b3Ee-fPrI_1qu0YA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_iHPg9Xb3Ee-fPrI_1qu0YA" innerProvidedRole_ProvidedDelegationConnector="_iHD6ynb3Ee-fPrI_1qu0YA" outerProvidedRole_ProvidedDelegationConnector="_iHOS0Hb3Ee-fPrI_1qu0YA" assemblyContext_ProvidedDelegationConnector="_iHOS1Hb3Ee-fPrI_1qu0YA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_iHOS0Hb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_iG_CRXb3Ee-fPrI_1qu0YA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_iG_CQHb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_iAR9UHb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_iAQIIHb3Ee-fPrI_1qu0YA">
      <parameters__OperationSignature dataType__Parameter="_h_fTIHb3Ee-fPrI_1qu0YA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_iG_CQXb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_iARWQ3b3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_h_ghQHb3Ee-fPrI_1qu0YA">
      <parameters__OperationSignature dataType__Parameter="_iARWQnb3Ee-fPrI_1qu0YA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_iG_CQnb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_iAQvNnb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_h_ghQHb3Ee-fPrI_1qu0YA">
      <parameters__OperationSignature dataType__Parameter="_iAQvNHb3Ee-fPrI_1qu0YA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_iAQvNXb3Ee-fPrI_1qu0YA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_iG_CQ3b3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_iAQIIXb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_iAQIIHb3Ee-fPrI_1qu0YA">
      <parameters__OperationSignature dataType__Parameter="_h_fTIHb3Ee-fPrI_1qu0YA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_iG_CRHb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_h_hIUHb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_h_ghQHb3Ee-fPrI_1qu0YA">
      <parameters__OperationSignature dataType__Parameter="_h_fTIHb3Ee-fPrI_1qu0YA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_iG_CRXb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_iAQvMXb3Ee-fPrI_1qu0YA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_iAQIIHb3Ee-fPrI_1qu0YA">
      <parameters__OperationSignature dataType__Parameter="_iAQvMHb3Ee-fPrI_1qu0YA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_h_fTIHb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_h_ghQHb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_iAQIIHb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_iAQvMHb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_iAQvNHb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_iAQvNXb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_iARWQnb3Ee-fPrI_1qu0YA" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
