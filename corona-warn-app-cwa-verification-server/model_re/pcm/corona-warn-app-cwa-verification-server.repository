<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_GoV2AuJxEe6AuPERUOz03w">
  <components__Repository xsi:type="repository:BasicComponent" id="_GoEJOOJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoEJNuJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_GoEJNOJxEe6AuPERUOz03w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoEJN-JxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_GoEJNeJxEe6AuPERUOz03w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_GnZa0eJxEe6AuPERUOz03w" describedService__SEFF="_GhDiQuJxEe6AuPERUOz03w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_GnYMteJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnYMwuJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_GnYMwuJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnYMteJxEe6AuPERUOz03w" successor_AbstractAction="_GnYz0uJxEe6AuPERUOz03w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnYMueJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_GnYMu-JxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnYMtuJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnYMt-JxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnYMt-JxEe6AuPERUOz03w" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_GnYMtuJxEe6AuPERUOz03w" successor_AbstractAction="_GnYMuOJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnYMuOJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnYMt-JxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnYMv-JxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_GnYMweJxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnYMvOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnYMveJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnYMveJxEe6AuPERUOz03w" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_GnYMvOJxEe6AuPERUOz03w" successor_AbstractAction="_GnYMvuJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnYMvuJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnYMveJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_GnYz0uJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnYMwuJxEe6AuPERUOz03w" successor_AbstractAction="_GnZa0OJxEe6AuPERUOz03w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnYzz-JxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_GnYz0eJxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnYzwOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnYzzeJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_GnYzzeJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnYzwOJxEe6AuPERUOz03w" successor_AbstractAction="_GnYzzuJxEe6AuPERUOz03w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnYzxeJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_GnYzx-JxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnYzweJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnYzwuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnYzwuJxEe6AuPERUOz03w" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_GnYzweJxEe6AuPERUOz03w" successor_AbstractAction="_GnYzw-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnYzw-JxEe6AuPERUOz03w" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_GnYzwuJxEe6AuPERUOz03w" successor_AbstractAction="_GnYzxOJxEe6AuPERUOz03w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnYzxOJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnYzw-JxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnYzyuJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_GnYzzOJxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnYzyOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnYzyeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnYzyeJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnYzyOJxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnYzzuJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnYzzeJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_GnZa0OJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnYz0uJxEe6AuPERUOz03w"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_GnZa1uJxEe6AuPERUOz03w" describedService__SEFF="_GhFXcOJxEe6AuPERUOz03w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_GnZa0-JxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnZa1OJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnZa1OJxEe6AuPERUOz03w" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_GnZa0-JxEe6AuPERUOz03w" successor_AbstractAction="_GnZa1eJxEe6AuPERUOz03w">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_GnZa1eJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnZa1OJxEe6AuPERUOz03w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_GoJozuJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoJozeJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_GoEJMuJxEe6AuPERUOz03w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_GnVJcOJxEe6AuPERUOz03w" describedService__SEFF="_GhEJUOJxEe6AuPERUOz03w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_GheZAeJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnSGEOJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_GnSGEOJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GheZAeJxEe6AuPERUOz03w" successor_AbstractAction="_GnStIOJxEe6AuPERUOz03w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnQ38OJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_GnRfAOJxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GhgOMOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnQQ4OJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnQQ4OJxEe6AuPERUOz03w" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_GhgOMOJxEe6AuPERUOz03w" successor_AbstractAction="_GnQQ4eJxEe6AuPERUOz03w">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnQQ4eJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnQQ4OJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_GnStIOJxEe6AuPERUOz03w" entityName="stopWatch.start()" predecessor_AbstractAction="_GnSGEOJxEe6AuPERUOz03w" successor_AbstractAction="_GnVJbuJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_GnVJbuJxEe6AuPERUOz03w" entityName="Switch Branch" predecessor_AbstractAction="_GnStIOJxEe6AuPERUOz03w" successor_AbstractAction="_GnVJb-JxEe6AuPERUOz03w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnT7SuJxEe6AuPERUOz03w">
          <branchBehaviour_BranchTransition id="_GnUiUOJxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnStIeJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnTUMOJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnTUMOJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnStIeJxEe6AuPERUOz03w" successor_AbstractAction="_GnTUMeJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnTUMeJxEe6AuPERUOz03w" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_GnTUMOJxEe6AuPERUOz03w" successor_AbstractAction="_GnTUMuJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnTUMuJxEe6AuPERUOz03w" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_GnTUMeJxEe6AuPERUOz03w" successor_AbstractAction="_GnTUM-JxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnTUM-JxEe6AuPERUOz03w" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_GnTUMuJxEe6AuPERUOz03w" successor_AbstractAction="_GnTUNOJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnTUNOJxEe6AuPERUOz03w" entityName="deferredResult" predecessor_AbstractAction="_GnTUM-JxEe6AuPERUOz03w" successor_AbstractAction="_GnT7RuJxEe6AuPERUOz03w">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_GnT7RuJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnTUNOJxEe6AuPERUOz03w" successor_AbstractAction="_GnT7R-JxEe6AuPERUOz03w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnT7Q-JxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_GnT7ReJxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnTUNeJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnTUNuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnTUNuJxEe6AuPERUOz03w" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_GnTUNeJxEe6AuPERUOz03w" successor_AbstractAction="_GnTUN-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnTUN-JxEe6AuPERUOz03w" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_GnTUNuJxEe6AuPERUOz03w" successor_AbstractAction="_GnTUOOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnTUOOJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnTUN-JxEe6AuPERUOz03w" successor_AbstractAction="_GnTUOeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnTUOeJxEe6AuPERUOz03w" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_GnTUOOJxEe6AuPERUOz03w" successor_AbstractAction="_GnTUOuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnTUOuJxEe6AuPERUOz03w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_GnTUOeJxEe6AuPERUOz03w" successor_AbstractAction="_GnT7QOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnT7QOJxEe6AuPERUOz03w" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_GnTUOuJxEe6AuPERUOz03w" successor_AbstractAction="_GnT7QeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnT7QeJxEe6AuPERUOz03w" entityName="deferredResult" predecessor_AbstractAction="_GnT7QOJxEe6AuPERUOz03w" successor_AbstractAction="_GnT7QuJxEe6AuPERUOz03w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnT7QuJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnT7QeJxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnT7R-JxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnT7RuJxEe6AuPERUOz03w" successor_AbstractAction="_GnT7SOJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnT7SOJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnT7R-JxEe6AuPERUOz03w" successor_AbstractAction="_GnT7SeJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnT7SeJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnT7SOJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnVJZeJxEe6AuPERUOz03w">
          <branchBehaviour_BranchTransition id="_GnVJZ-JxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnUiUeJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnVJYeJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_GnVJYeJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnUiUeJxEe6AuPERUOz03w" successor_AbstractAction="_GnVJYuJxEe6AuPERUOz03w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnUiW-JxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_GnVJYOJxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnUiUuJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnUiU-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnUiU-JxEe6AuPERUOz03w" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_GnUiUuJxEe6AuPERUOz03w" successor_AbstractAction="_GnUiVOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnUiVOJxEe6AuPERUOz03w" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_GnUiU-JxEe6AuPERUOz03w" successor_AbstractAction="_GnUiVeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnUiVeJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnUiVOJxEe6AuPERUOz03w" successor_AbstractAction="_GnUiVuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnUiVuJxEe6AuPERUOz03w" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_GnUiVeJxEe6AuPERUOz03w" successor_AbstractAction="_GnUiV-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnUiV-JxEe6AuPERUOz03w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_GnUiVuJxEe6AuPERUOz03w" successor_AbstractAction="_GnUiWOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnUiWOJxEe6AuPERUOz03w" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_GnUiV-JxEe6AuPERUOz03w" successor_AbstractAction="_GnUiWeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnUiWeJxEe6AuPERUOz03w" entityName="deferredResult" predecessor_AbstractAction="_GnUiWOJxEe6AuPERUOz03w" successor_AbstractAction="_GnUiWuJxEe6AuPERUOz03w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnUiWuJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnUiWeJxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnVJYuJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnVJYeJxEe6AuPERUOz03w" successor_AbstractAction="_GnVJY-JxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnVJY-JxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnVJYuJxEe6AuPERUOz03w" successor_AbstractAction="_GnVJZOJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnVJZOJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnVJY-JxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnVJa-JxEe6AuPERUOz03w">
          <branchBehaviour_BranchTransition id="_GnVJbeJxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnVJaOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnVJaeJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_GnVJaeJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnVJaOJxEe6AuPERUOz03w" successor_AbstractAction="_GnVJauJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnVJauJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnVJaeJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_GnVJb-JxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnVJbuJxEe6AuPERUOz03w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_GoMFCeJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_GoMFC-JxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoMFCuJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_GoEJMeJxEe6AuPERUOz03w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_GndFOOJxEe6AuPERUOz03w" describedService__SEFF="_GhEJU-JxEe6AuPERUOz03w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Gnb3GOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GndFNeJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_GndFNeJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_Gnb3GOJxEe6AuPERUOz03w" successor_AbstractAction="_GndFNuJxEe6AuPERUOz03w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GndFMuJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_GndFNOJxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Gnb3GeJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GndFMOJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_GndFMOJxEe6AuPERUOz03w" entityName="Switch Branch" predecessor_AbstractAction="_Gnb3GeJxEe6AuPERUOz03w" successor_AbstractAction="_GndFMeJxEe6AuPERUOz03w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnceJuJxEe6AuPERUOz03w">
                <branchBehaviour_BranchTransition id="_GnceKOJxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Gnb3GuJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnceIOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_GnceIOJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_Gnb3GuJxEe6AuPERUOz03w" successor_AbstractAction="_GnceIeJxEe6AuPERUOz03w">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Gnb3I-JxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_Gnb3JeJxEe6AuPERUOz03w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Gnb3G-JxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_Gnb3IeJxEe6AuPERUOz03w"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Gnb3IeJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_Gnb3G-JxEe6AuPERUOz03w" successor_AbstractAction="_Gnb3IuJxEe6AuPERUOz03w">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Gnb3HuJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Gnb3IOJxEe6AuPERUOz03w">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Gnb3HOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_Gnb3HeJxEe6AuPERUOz03w"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Gnb3HeJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_Gnb3HOJxEe6AuPERUOz03w"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Gnb3IuJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_Gnb3IeJxEe6AuPERUOz03w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnceIeJxEe6AuPERUOz03w" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_GnceIOJxEe6AuPERUOz03w" successor_AbstractAction="_GnceIuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnceIuJxEe6AuPERUOz03w" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_GnceIeJxEe6AuPERUOz03w" successor_AbstractAction="_GnceI-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnceI-JxEe6AuPERUOz03w" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_GnceIuJxEe6AuPERUOz03w" successor_AbstractAction="_GnceJOJxEe6AuPERUOz03w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnceJOJxEe6AuPERUOz03w" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_GnceI-JxEe6AuPERUOz03w" successor_AbstractAction="_GnceJeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnceJeJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnceJOJxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnceLOJxEe6AuPERUOz03w">
                <branchBehaviour_BranchTransition id="_GnceLuJxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnceKeJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnceKuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnceKuJxEe6AuPERUOz03w" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_GnceKeJxEe6AuPERUOz03w" successor_AbstractAction="_GnceK-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnceK-JxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnceKuJxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnceMeJxEe6AuPERUOz03w">
                <branchBehaviour_BranchTransition id="_GnceM-JxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnceL-JxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnceMOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnceMOJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnceL-JxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GndFMeJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GndFMOJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_GndFNuJxEe6AuPERUOz03w" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_GndFNeJxEe6AuPERUOz03w" successor_AbstractAction="_GndFN-JxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_GndFN-JxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GndFNuJxEe6AuPERUOz03w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_GoOhROJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoOhQ-JxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_GoEJM-JxEe6AuPERUOz03w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_GnYMs-JxEe6AuPERUOz03w" describedService__SEFF="_GhEwYuJxEe6AuPERUOz03w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_GnVJcuJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnVwduJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_GnVwduJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnVJcuJxEe6AuPERUOz03w" successor_AbstractAction="_GnVwd-JxEe6AuPERUOz03w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnVwc-JxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_GnVwdeJxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnVwcOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnVwceJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnVwceJxEe6AuPERUOz03w" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_GnVwcOJxEe6AuPERUOz03w" successor_AbstractAction="_GnVwcuJxEe6AuPERUOz03w">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnVwcuJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnVwceJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_GnVwd-JxEe6AuPERUOz03w" entityName="stopWatch.start()" predecessor_AbstractAction="_GnVwduJxEe6AuPERUOz03w" successor_AbstractAction="_GnYMsOJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_GnYMsOJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnVwd-JxEe6AuPERUOz03w" successor_AbstractAction="_GnYMseJxEe6AuPERUOz03w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnXlr-JxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_GnXlseJxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnVweOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnXlreJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_GnXlreJxEe6AuPERUOz03w" entityName="Switch Branch" predecessor_AbstractAction="_GnVweOJxEe6AuPERUOz03w" successor_AbstractAction="_GnXlruJxEe6AuPERUOz03w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnW-leJxEe6AuPERUOz03w">
                <branchBehaviour_BranchTransition id="_GnW-l-JxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnVweeJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnVweuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnVweuJxEe6AuPERUOz03w" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_GnVweeJxEe6AuPERUOz03w" successor_AbstractAction="_GnWXhuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_GnWXhuJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnVweuJxEe6AuPERUOz03w" successor_AbstractAction="_GnWXh-JxEe6AuPERUOz03w">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnWXg-JxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_GnWXheJxEe6AuPERUOz03w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_GnVwe-JxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnWXgeJxEe6AuPERUOz03w"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_GnWXgeJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnVwe-JxEe6AuPERUOz03w" successor_AbstractAction="_GnWXguJxEe6AuPERUOz03w">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnVwfuJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_GnWXgOJxEe6AuPERUOz03w">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_GnVwfOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnVwfeJxEe6AuPERUOz03w"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_GnVwfeJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnVwfOJxEe6AuPERUOz03w"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_GnWXguJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnWXgeJxEe6AuPERUOz03w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnWXh-JxEe6AuPERUOz03w" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_GnWXhuJxEe6AuPERUOz03w" successor_AbstractAction="_GnWXiOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnWXiOJxEe6AuPERUOz03w" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_GnWXh-JxEe6AuPERUOz03w" successor_AbstractAction="_GnWXieJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnWXieJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnWXiOJxEe6AuPERUOz03w" successor_AbstractAction="_GnWXiuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnWXiuJxEe6AuPERUOz03w" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_GnWXieJxEe6AuPERUOz03w" successor_AbstractAction="_GnWXi-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnWXi-JxEe6AuPERUOz03w" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_GnWXiuJxEe6AuPERUOz03w" successor_AbstractAction="_GnWXjOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnWXjOJxEe6AuPERUOz03w" entityName="deferredResult" predecessor_AbstractAction="_GnWXi-JxEe6AuPERUOz03w" successor_AbstractAction="_GnWXjeJxEe6AuPERUOz03w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnWXjeJxEe6AuPERUOz03w" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_GnWXjOJxEe6AuPERUOz03w" successor_AbstractAction="_GnWXjuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnWXjuJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnWXjeJxEe6AuPERUOz03w" successor_AbstractAction="_GnW-kOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnW-kOJxEe6AuPERUOz03w" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_GnWXjuJxEe6AuPERUOz03w" successor_AbstractAction="_GnW-keJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnW-keJxEe6AuPERUOz03w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_GnW-kOJxEe6AuPERUOz03w" successor_AbstractAction="_GnW-kuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnW-kuJxEe6AuPERUOz03w" entityName="deferredResult" predecessor_AbstractAction="_GnW-keJxEe6AuPERUOz03w" successor_AbstractAction="_GnW-k-JxEe6AuPERUOz03w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnW-k-JxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnW-kuJxEe6AuPERUOz03w" successor_AbstractAction="_GnW-lOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnW-lOJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnW-k-JxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnXlpOJxEe6AuPERUOz03w">
                <branchBehaviour_BranchTransition id="_GnXlpuJxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnW-mOJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnW-meJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnW-meJxEe6AuPERUOz03w" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_GnW-mOJxEe6AuPERUOz03w" successor_AbstractAction="_GnW-muJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnW-muJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnW-meJxEe6AuPERUOz03w" successor_AbstractAction="_GnW-m-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnW-m-JxEe6AuPERUOz03w" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_GnW-muJxEe6AuPERUOz03w" successor_AbstractAction="_GnXloOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnXloOJxEe6AuPERUOz03w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_GnW-m-JxEe6AuPERUOz03w" successor_AbstractAction="_GnXloeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnXloeJxEe6AuPERUOz03w" entityName="deferredResult" predecessor_AbstractAction="_GnXloOJxEe6AuPERUOz03w" successor_AbstractAction="_GnXlouJxEe6AuPERUOz03w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnXlouJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnXloeJxEe6AuPERUOz03w" successor_AbstractAction="_GnXlo-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnXlo-JxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnXlouJxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnXlquJxEe6AuPERUOz03w">
                <branchBehaviour_BranchTransition id="_GnXlrOJxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnXlp-JxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnXlqOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnXlqOJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnXlp-JxEe6AuPERUOz03w" successor_AbstractAction="_GnXlqeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnXlqeJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnXlqOJxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnXlruJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnXlreJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_GnYMseJxEe6AuPERUOz03w" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_GnYMsOJxEe6AuPERUOz03w" successor_AbstractAction="_GnYMsuJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_GnYMsuJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnYMseJxEe6AuPERUOz03w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_GoQWfuJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoQWfeJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_GoEJMOJxEe6AuPERUOz03w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Gnb3FuJxEe6AuPERUOz03w" describedService__SEFF="_GgTUUOJxEe6AuPERUOz03w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_GnZa2OJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnaB5eJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_GnaB5eJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnZa2OJxEe6AuPERUOz03w" successor_AbstractAction="_GnaB5uJxEe6AuPERUOz03w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnaB4uJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_GnaB5OJxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnZa2eJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnaB4OJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnaB4OJxEe6AuPERUOz03w" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_GnZa2eJxEe6AuPERUOz03w" successor_AbstractAction="_GnaB4eJxEe6AuPERUOz03w">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_GnaB4eJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnaB4OJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_GnaB5uJxEe6AuPERUOz03w" entityName="stopWatch.start()" predecessor_AbstractAction="_GnaB5eJxEe6AuPERUOz03w" successor_AbstractAction="_Gnb3FOJxEe6AuPERUOz03w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Gnb3FOJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnaB5uJxEe6AuPERUOz03w" successor_AbstractAction="_Gnb3FeJxEe6AuPERUOz03w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Gnb3EeJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Gnb3E-JxEe6AuPERUOz03w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_GnaB5-JxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnbQDOJxEe6AuPERUOz03w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_GnbQDOJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnaB5-JxEe6AuPERUOz03w" successor_AbstractAction="_Gnb3EOJxEe6AuPERUOz03w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnbQCeJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_GnbQC-JxEe6AuPERUOz03w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_GnaB6OJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnapAOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_GnapAOJxEe6AuPERUOz03w" entityName="Switch Branch" predecessor_AbstractAction="_GnaB6OJxEe6AuPERUOz03w" successor_AbstractAction="_GnbQAOJxEe6AuPERUOz03w">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Gnao8eJxEe6AuPERUOz03w">
                      <branchBehaviour_BranchTransition id="_Gnao8-JxEe6AuPERUOz03w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_GnaB6eJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnaB8OJxEe6AuPERUOz03w"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_GnaB8OJxEe6AuPERUOz03w" entityName="If Branch" predecessor_AbstractAction="_GnaB6eJxEe6AuPERUOz03w" successor_AbstractAction="_GnaB8eJxEe6AuPERUOz03w">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_GnaB7eJxEe6AuPERUOz03w" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_GnaB7-JxEe6AuPERUOz03w">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_GnaB6uJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_GnaB6-JxEe6AuPERUOz03w"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_GnaB6-JxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnaB6uJxEe6AuPERUOz03w" successor_AbstractAction="_GnaB7OJxEe6AuPERUOz03w"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_GnaB7OJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnaB6-JxEe6AuPERUOz03w"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_GnaB8eJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnaB8OJxEe6AuPERUOz03w" successor_AbstractAction="_Gnao8OJxEe6AuPERUOz03w"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Gnao8OJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnaB8eJxEe6AuPERUOz03w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Gnao9-JxEe6AuPERUOz03w">
                      <branchBehaviour_BranchTransition id="_Gnao-eJxEe6AuPERUOz03w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Gnao9OJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_Gnao9eJxEe6AuPERUOz03w"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_Gnao9eJxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_Gnao9OJxEe6AuPERUOz03w" successor_AbstractAction="_Gnao9uJxEe6AuPERUOz03w"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Gnao9uJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_Gnao9eJxEe6AuPERUOz03w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Gnao_eJxEe6AuPERUOz03w">
                      <branchBehaviour_BranchTransition id="_Gnao_-JxEe6AuPERUOz03w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Gnao-uJxEe6AuPERUOz03w" entityName="Start Action" successor_AbstractAction="_Gnao--JxEe6AuPERUOz03w"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_Gnao--JxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_Gnao-uJxEe6AuPERUOz03w" successor_AbstractAction="_Gnao_OJxEe6AuPERUOz03w"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Gnao_OJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_Gnao--JxEe6AuPERUOz03w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnbQAOJxEe6AuPERUOz03w" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_GnapAOJxEe6AuPERUOz03w" successor_AbstractAction="_GnbQAeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnbQAeJxEe6AuPERUOz03w" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_GnbQAOJxEe6AuPERUOz03w" successor_AbstractAction="_GnbQAuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnbQAuJxEe6AuPERUOz03w" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_GnbQAeJxEe6AuPERUOz03w" successor_AbstractAction="_GnbQA-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnbQA-JxEe6AuPERUOz03w" entityName="stopWatch.stop()" predecessor_AbstractAction="_GnbQAuJxEe6AuPERUOz03w" successor_AbstractAction="_GnbQBOJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnbQBOJxEe6AuPERUOz03w" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_GnbQA-JxEe6AuPERUOz03w" successor_AbstractAction="_GnbQBeJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnbQBeJxEe6AuPERUOz03w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_GnbQBOJxEe6AuPERUOz03w" successor_AbstractAction="_GnbQBuJxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_GnbQBuJxEe6AuPERUOz03w" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_GnbQBeJxEe6AuPERUOz03w" successor_AbstractAction="_GnbQB-JxEe6AuPERUOz03w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_GnbQB-JxEe6AuPERUOz03w" entityName="deferredResult" predecessor_AbstractAction="_GnbQBuJxEe6AuPERUOz03w" successor_AbstractAction="_GnbQCOJxEe6AuPERUOz03w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_GnbQCOJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnbQB-JxEe6AuPERUOz03w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Gnb3EOJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_GnbQDOJxEe6AuPERUOz03w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Gnb3FeJxEe6AuPERUOz03w" entityName="Stop Action" predecessor_AbstractAction="_Gnb3FOJxEe6AuPERUOz03w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_GoUn4uJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_GoVO-OJxEe6AuPERUOz03w" encapsulatedComponent__AssemblyContext="_GoEJOOJxEe6AuPERUOz03w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_GoWdEOJxEe6AuPERUOz03w" innerProvidedRole_ProvidedDelegationConnector="_GoEJNuJxEe6AuPERUOz03w" outerProvidedRole_ProvidedDelegationConnector="_GoUn4OJxEe6AuPERUOz03w" assemblyContext_ProvidedDelegationConnector="_GoVO-OJxEe6AuPERUOz03w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_GoWdE-JxEe6AuPERUOz03w" innerProvidedRole_ProvidedDelegationConnector="_GoEJN-JxEe6AuPERUOz03w" outerProvidedRole_ProvidedDelegationConnector="_GoUn4eJxEe6AuPERUOz03w" assemblyContext_ProvidedDelegationConnector="_GoVO-OJxEe6AuPERUOz03w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoUn4OJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_GoEJNOJxEe6AuPERUOz03w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoUn4eJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_GoEJNeJxEe6AuPERUOz03w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_GoUn5OJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_GoV2AOJxEe6AuPERUOz03w" encapsulatedComponent__AssemblyContext="_GoMFC-JxEe6AuPERUOz03w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_GoWdFOJxEe6AuPERUOz03w" innerProvidedRole_ProvidedDelegationConnector="_GoMFCuJxEe6AuPERUOz03w" outerProvidedRole_ProvidedDelegationConnector="_GoUn4-JxEe6AuPERUOz03w" assemblyContext_ProvidedDelegationConnector="_GoV2AOJxEe6AuPERUOz03w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoUn4-JxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_GoEJMeJxEe6AuPERUOz03w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_GoUn5uJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_GoVO9OJxEe6AuPERUOz03w" encapsulatedComponent__AssemblyContext="_GoOhROJxEe6AuPERUOz03w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_GoWdEeJxEe6AuPERUOz03w" innerProvidedRole_ProvidedDelegationConnector="_GoOhQ-JxEe6AuPERUOz03w" outerProvidedRole_ProvidedDelegationConnector="_GoUn5eJxEe6AuPERUOz03w" assemblyContext_ProvidedDelegationConnector="_GoVO9OJxEe6AuPERUOz03w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoUn5eJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_GoEJM-JxEe6AuPERUOz03w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_GoUn6OJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_GoVO8OJxEe6AuPERUOz03w" encapsulatedComponent__AssemblyContext="_GoQWfuJxEe6AuPERUOz03w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_GoWdFeJxEe6AuPERUOz03w" innerProvidedRole_ProvidedDelegationConnector="_GoQWfeJxEe6AuPERUOz03w" outerProvidedRole_ProvidedDelegationConnector="_GoUn5-JxEe6AuPERUOz03w" assemblyContext_ProvidedDelegationConnector="_GoVO8OJxEe6AuPERUOz03w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoUn5-JxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_GoEJMOJxEe6AuPERUOz03w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_GoUn6eJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_GoVO8uJxEe6AuPERUOz03w" encapsulatedComponent__AssemblyContext="_GoMFCeJxEe6AuPERUOz03w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_GoUn6-JxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_GoVO9uJxEe6AuPERUOz03w" encapsulatedComponent__AssemblyContext="_GoJozuJxEe6AuPERUOz03w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_GoWdEuJxEe6AuPERUOz03w" innerProvidedRole_ProvidedDelegationConnector="_GoJozeJxEe6AuPERUOz03w" outerProvidedRole_ProvidedDelegationConnector="_GoUn6uJxEe6AuPERUOz03w" assemblyContext_ProvidedDelegationConnector="_GoVO9uJxEe6AuPERUOz03w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_GoUn6uJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_GoEJMuJxEe6AuPERUOz03w"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_GoEJMOJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_GgTUUOJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_GgStQOJxEe6AuPERUOz03w">
      <parameters__OperationSignature dataType__Parameter="_GgRfIOJxEe6AuPERUOz03w" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_GoEJMeJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_GhEJU-JxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_GhDiQeJxEe6AuPERUOz03w">
      <parameters__OperationSignature dataType__Parameter="_GgRfIOJxEe6AuPERUOz03w" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_GoEJMuJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_GhEJUOJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_GgStQOJxEe6AuPERUOz03w">
      <parameters__OperationSignature dataType__Parameter="_GhDiReJxEe6AuPERUOz03w" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_GoEJM-JxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_GhEwYuJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_GgStQOJxEe6AuPERUOz03w">
      <parameters__OperationSignature dataType__Parameter="_GgRfIOJxEe6AuPERUOz03w" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_GoEJNOJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_GhDiQuJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_GhDiQeJxEe6AuPERUOz03w">
      <parameters__OperationSignature dataType__Parameter="_GhC7MOJxEe6AuPERUOz03w" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_GhDiQOJxEe6AuPERUOz03w" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_GoEJNeJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_GhFXcOJxEe6AuPERUOz03w" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_GhDiQeJxEe6AuPERUOz03w">
      <parameters__OperationSignature dataType__Parameter="_GhEwZeJxEe6AuPERUOz03w" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_GgRfIOJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_GgStQOJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_GhC7MOJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_GhDiQOJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_GhDiQeJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_GhDiReJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_GhEwZeJxEe6AuPERUOz03w" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
