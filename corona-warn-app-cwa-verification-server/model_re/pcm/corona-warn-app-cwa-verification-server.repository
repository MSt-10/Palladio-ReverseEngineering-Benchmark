<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_YG58BNanEe6-X7MK_YLnkw">
  <components__Repository xsi:type="repository:BasicComponent" id="_YGnoJtanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_YGnoKdanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YGnoJ9anEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_YGnoItanEe6-X7MK_YLnkw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YGnoKNanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_YGnoJNanEe6-X7MK_YLnkw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YF4BRNanEe6-X7MK_YLnkw" describedService__SEFF="_YAH-lNanEe6-X7MK_YLnkw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YF4BQdanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF4BQtanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF4BQtanEe6-X7MK_YLnkw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_YF4BQdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF4BQ9anEe6-X7MK_YLnkw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YF4BQ9anEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF4BQtanEe6-X7MK_YLnkw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YF3aQdanEe6-X7MK_YLnkw" describedService__SEFF="_YAIlotanEe6-X7MK_YLnkw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YAwQsdanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF0W4NanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YF0W4NanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YAwQsdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF3aP9anEe6-X7MK_YLnkw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YAz7ENanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YA0iINanEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YAyF4NanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YAzUANanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YAzUANanEe6-X7MK_YLnkw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_YAyF4NanEe6-X7MK_YLnkw" successor_AbstractAction="_YAzUAdanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YAzUAdanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YAzUANanEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YFzv09anEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YFzv1danEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YFzv0NanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YFzv0danEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YFzv0danEe6-X7MK_YLnkw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_YFzv0NanEe6-X7MK_YLnkw" successor_AbstractAction="_YFzv0tanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YFzv0tanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YFzv0danEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YF3aP9anEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF0W4NanEe6-X7MK_YLnkw" successor_AbstractAction="_YF3aQNanEe6-X7MK_YLnkw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF3aPNanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YF3aPtanEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF0W4danEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF3aOtanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YF3aOtanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF0W4danEe6-X7MK_YLnkw" successor_AbstractAction="_YF3aO9anEe6-X7MK_YLnkw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF3aMtanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YF3aNNanEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF0W4tanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF0W49anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF0W49anEe6-X7MK_YLnkw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_YF0W4tanEe6-X7MK_YLnkw" successor_AbstractAction="_YF3aMNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF3aMNanEe6-X7MK_YLnkw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_YF0W49anEe6-X7MK_YLnkw" successor_AbstractAction="_YF3aMdanEe6-X7MK_YLnkw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF3aMdanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF3aMNanEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF3aN9anEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YF3aOdanEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF3aNdanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF3aNtanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF3aNtanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF3aNdanEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YF3aO9anEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF3aOtanEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YF3aQNanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF3aP9anEe6-X7MK_YLnkw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_YGtuzdanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YGtuzNanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_YGnoI9anEe6-X7MK_YLnkw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YF7El9anEe6-X7MK_YLnkw" describedService__SEFF="_X_OmsNanEe6-X7MK_YLnkw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YF4BRtanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF4oVNanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YF4oVNanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF4BRtanEe6-X7MK_YLnkw" successor_AbstractAction="_YF4oVdanEe6-X7MK_YLnkw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF4oUdanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YF4oU9anEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF4BR9anEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF4BSNanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF4BSNanEe6-X7MK_YLnkw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_YF4BR9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF4oUNanEe6-X7MK_YLnkw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YF4oUNanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF4BSNanEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YF4oVdanEe6-X7MK_YLnkw" entityName="stopWatch.start()" predecessor_AbstractAction="_YF4oVNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7ElNanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YF7ElNanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF4oVdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7EldanEe6-X7MK_YLnkw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF7EkdanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YF7Ek9anEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF4oVtanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF6dj9anEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YF6dj9anEe6-X7MK_YLnkw" entityName="Switch Branch" predecessor_AbstractAction="_YF4oVtanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7EkNanEe6-X7MK_YLnkw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF52eNanEe6-X7MK_YLnkw">
                <branchBehaviour_BranchTransition id="_YF52etanEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF5PYNanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF5PYdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF5PYdanEe6-X7MK_YLnkw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_YF5PYNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF5PbdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_YF5PbdanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF5PYdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF5PbtanEe6-X7MK_YLnkw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF5PatanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_YF5PbNanEe6-X7MK_YLnkw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YF5PYtanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF5PaNanEe6-X7MK_YLnkw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_YF5PaNanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF5PYtanEe6-X7MK_YLnkw" successor_AbstractAction="_YF5PadanEe6-X7MK_YLnkw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF5PZdanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_YF5PZ9anEe6-X7MK_YLnkw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_YF5PY9anEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF5PZNanEe6-X7MK_YLnkw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_YF5PZNanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF5PY9anEe6-X7MK_YLnkw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YF5PadanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF5PaNanEe6-X7MK_YLnkw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF5PbtanEe6-X7MK_YLnkw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_YF5PbdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF5Pb9anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF5Pb9anEe6-X7MK_YLnkw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_YF5PbtanEe6-X7MK_YLnkw" successor_AbstractAction="_YF5PcNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF5PcNanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF5Pb9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF5PcdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF5PcdanEe6-X7MK_YLnkw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YF5PcNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF5PctanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF5PctanEe6-X7MK_YLnkw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_YF5PcdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF52cNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF52cNanEe6-X7MK_YLnkw" entityName="deferredResult" predecessor_AbstractAction="_YF5PctanEe6-X7MK_YLnkw" successor_AbstractAction="_YF52cdanEe6-X7MK_YLnkw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF52cdanEe6-X7MK_YLnkw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_YF52cNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF52ctanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF52ctanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF52cdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF52c9anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF52c9anEe6-X7MK_YLnkw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YF52ctanEe6-X7MK_YLnkw" successor_AbstractAction="_YF52dNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF52dNanEe6-X7MK_YLnkw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_YF52c9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF52ddanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF52ddanEe6-X7MK_YLnkw" entityName="deferredResult" predecessor_AbstractAction="_YF52dNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF52dtanEe6-X7MK_YLnkw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF52dtanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF52ddanEe6-X7MK_YLnkw" successor_AbstractAction="_YF52d9anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF52d9anEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF52dtanEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF6dhtanEe6-X7MK_YLnkw">
                <branchBehaviour_BranchTransition id="_YF6diNanEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF52e9anEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF52fNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF52fNanEe6-X7MK_YLnkw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_YF52e9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF6dgNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF6dgNanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF52fNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF6dgdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF6dgdanEe6-X7MK_YLnkw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YF6dgNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF6dgtanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF6dgtanEe6-X7MK_YLnkw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_YF6dgdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF6dg9anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF6dg9anEe6-X7MK_YLnkw" entityName="deferredResult" predecessor_AbstractAction="_YF6dgtanEe6-X7MK_YLnkw" successor_AbstractAction="_YF6dhNanEe6-X7MK_YLnkw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF6dhNanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF6dg9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF6dhdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF6dhdanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF6dhNanEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF6djNanEe6-X7MK_YLnkw">
                <branchBehaviour_BranchTransition id="_YF6djtanEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF6didanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF6ditanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF6ditanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF6didanEe6-X7MK_YLnkw" successor_AbstractAction="_YF6di9anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF6di9anEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF6ditanEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YF7EkNanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF6dj9anEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7EldanEe6-X7MK_YLnkw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_YF7ElNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7EltanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YF7EltanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF7EldanEe6-X7MK_YLnkw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_YGwyE9anEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YGwyEtanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_YGnoIdanEe6-X7MK_YLnkw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YF9g2NanEe6-X7MK_YLnkw" describedService__SEFF="_YAH-kNanEe6-X7MK_YLnkw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YF7EmdanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF7EoNanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YF7EoNanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF7EmdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7EodanEe6-X7MK_YLnkw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF7EndanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YF7En9anEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF7EmtanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF7Em9anEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF7Em9anEe6-X7MK_YLnkw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_YF7EmtanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7EnNanEe6-X7MK_YLnkw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YF7EnNanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF7Em9anEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7EodanEe6-X7MK_YLnkw" entityName="stopWatch.start()" predecessor_AbstractAction="_YF7EoNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF9g1tanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YF9g1tanEe6-X7MK_YLnkw" entityName="Switch Branch" predecessor_AbstractAction="_YF7EodanEe6-X7MK_YLnkw" successor_AbstractAction="_YF9g19anEe6-X7MK_YLnkw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF8SudanEe6-X7MK_YLnkw">
          <branchBehaviour_BranchTransition id="_YF8Su9anEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF7EotanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF7Eo9anEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7Eo9anEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF7EotanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7roNanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7roNanEe6-X7MK_YLnkw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YF7Eo9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF7rodanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7rodanEe6-X7MK_YLnkw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_YF7roNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7rotanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7rotanEe6-X7MK_YLnkw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_YF7rodanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7ro9anEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF7ro9anEe6-X7MK_YLnkw" entityName="deferredResult" predecessor_AbstractAction="_YF7rotanEe6-X7MK_YLnkw" successor_AbstractAction="_YF8StdanEe6-X7MK_YLnkw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YF8StdanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF7ro9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF8SttanEe6-X7MK_YLnkw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF8SstanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YF8StNanEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF7rpNanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF7rpdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7rpdanEe6-X7MK_YLnkw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_YF7rpNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7rptanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7rptanEe6-X7MK_YLnkw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_YF7rpdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7rp9anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7rp9anEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF7rptanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7rqNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7rqNanEe6-X7MK_YLnkw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YF7rp9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF7rqdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7rqdanEe6-X7MK_YLnkw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_YF7rqNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF7rqtanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF7rqtanEe6-X7MK_YLnkw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_YF7rqdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF8SsNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF8SsNanEe6-X7MK_YLnkw" entityName="deferredResult" predecessor_AbstractAction="_YF7rqtanEe6-X7MK_YLnkw" successor_AbstractAction="_YF8SsdanEe6-X7MK_YLnkw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF8SsdanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF8SsNanEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YF8SttanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF8StdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF8St9anEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YF8St9anEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF8SttanEe6-X7MK_YLnkw" successor_AbstractAction="_YF8SuNanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YF8SuNanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF8St9anEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF85z9anEe6-X7MK_YLnkw">
          <branchBehaviour_BranchTransition id="_YF850danEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF8SvNanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF85y9anEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YF85y9anEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF8SvNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF85zNanEe6-X7MK_YLnkw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF85yNanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YF85ytanEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF8SvdanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF85wNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF85wNanEe6-X7MK_YLnkw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_YF8SvdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF85wdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF85wdanEe6-X7MK_YLnkw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_YF85wNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF85wtanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF85wtanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF85wdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF85w9anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF85w9anEe6-X7MK_YLnkw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YF85wtanEe6-X7MK_YLnkw" successor_AbstractAction="_YF85xNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF85xNanEe6-X7MK_YLnkw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_YF85w9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF85xdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF85xdanEe6-X7MK_YLnkw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_YF85xNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF85xtanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF85xtanEe6-X7MK_YLnkw" entityName="deferredResult" predecessor_AbstractAction="_YF85xdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF85x9anEe6-X7MK_YLnkw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF85x9anEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF85xtanEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YF85zNanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF85y9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF85zdanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YF85zdanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF85zNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF85ztanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YF85ztanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF85zdanEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF9g09anEe6-X7MK_YLnkw">
          <branchBehaviour_BranchTransition id="_YF9g1danEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF9g0NanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF9g0danEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YF9g0danEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF9g0NanEe6-X7MK_YLnkw" successor_AbstractAction="_YF9g0tanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YF9g0tanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF9g0danEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YF9g19anEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF9g1tanEe6-X7MK_YLnkw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_YGynTtanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YGynTdanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_YGnoJdanEe6-X7MK_YLnkw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YF_WB9anEe6-X7MK_YLnkw" describedService__SEFF="_YAHXgNanEe6-X7MK_YLnkw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YF9g2tanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF9g4danEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YF9g4danEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF9g2tanEe6-X7MK_YLnkw" successor_AbstractAction="_YF9g4tanEe6-X7MK_YLnkw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF9g3tanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YF9g4NanEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF9g29anEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF9g3NanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF9g3NanEe6-X7MK_YLnkw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_YF9g29anEe6-X7MK_YLnkw" successor_AbstractAction="_YF9g3danEe6-X7MK_YLnkw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YF9g3danEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF9g3NanEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YF9g4tanEe6-X7MK_YLnkw" entityName="stopWatch.start()" predecessor_AbstractAction="_YF9g4danEe6-X7MK_YLnkw" successor_AbstractAction="_YF_WBdanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YF_WBdanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF9g4tanEe6-X7MK_YLnkw" successor_AbstractAction="_YF_WBtanEe6-X7MK_YLnkw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF_WAtanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YF_WBNanEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF-H4NanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF_WANanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YF_WANanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF-H4NanEe6-X7MK_YLnkw" successor_AbstractAction="_YF_WAdanEe6-X7MK_YLnkw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF-u_danEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YF-u_9anEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF-H4danEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF-u89anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_YF-u89anEe6-X7MK_YLnkw" entityName="Switch Branch" predecessor_AbstractAction="_YF-H4danEe6-X7MK_YLnkw" successor_AbstractAction="_YF-u9NanEe6-X7MK_YLnkw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF-H7NanEe6-X7MK_YLnkw">
                      <branchBehaviour_BranchTransition id="_YF-H7tanEe6-X7MK_YLnkw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YF-H4tanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF-H6danEe6-X7MK_YLnkw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_YF-H6danEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF-H4tanEe6-X7MK_YLnkw" successor_AbstractAction="_YF-H6tanEe6-X7MK_YLnkw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF-H5tanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_YF-H6NanEe6-X7MK_YLnkw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_YF-H49anEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF-H5NanEe6-X7MK_YLnkw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-H5NanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF-H49anEe6-X7MK_YLnkw" successor_AbstractAction="_YF-H5danEe6-X7MK_YLnkw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_YF-H5danEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF-H5NanEe6-X7MK_YLnkw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-H6tanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF-H6danEe6-X7MK_YLnkw" successor_AbstractAction="_YF-H69anEe6-X7MK_YLnkw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YF-H69anEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF-H6tanEe6-X7MK_YLnkw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF-H8tanEe6-X7MK_YLnkw">
                      <branchBehaviour_BranchTransition id="_YF-H9NanEe6-X7MK_YLnkw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YF-H79anEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF-H8NanEe6-X7MK_YLnkw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-H8NanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF-H79anEe6-X7MK_YLnkw" successor_AbstractAction="_YF-H8danEe6-X7MK_YLnkw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YF-H8danEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF-H8NanEe6-X7MK_YLnkw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF-u8NanEe6-X7MK_YLnkw">
                      <branchBehaviour_BranchTransition id="_YF-u8tanEe6-X7MK_YLnkw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YF-H9danEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF-H9tanEe6-X7MK_YLnkw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-H9tanEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF-H9danEe6-X7MK_YLnkw" successor_AbstractAction="_YF-H99anEe6-X7MK_YLnkw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YF-H99anEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF-H9tanEe6-X7MK_YLnkw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-u9NanEe6-X7MK_YLnkw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_YF-u89anEe6-X7MK_YLnkw" successor_AbstractAction="_YF-u9danEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-u9danEe6-X7MK_YLnkw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_YF-u9NanEe6-X7MK_YLnkw" successor_AbstractAction="_YF-u9tanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-u9tanEe6-X7MK_YLnkw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_YF-u9danEe6-X7MK_YLnkw" successor_AbstractAction="_YF-u99anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-u99anEe6-X7MK_YLnkw" entityName="stopWatch.stop()" predecessor_AbstractAction="_YF-u9tanEe6-X7MK_YLnkw" successor_AbstractAction="_YF-u-NanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-u-NanEe6-X7MK_YLnkw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YF-u99anEe6-X7MK_YLnkw" successor_AbstractAction="_YF-u-danEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-u-danEe6-X7MK_YLnkw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_YF-u-NanEe6-X7MK_YLnkw" successor_AbstractAction="_YF-u-tanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF-u-tanEe6-X7MK_YLnkw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_YF-u-danEe6-X7MK_YLnkw" successor_AbstractAction="_YF-u-9anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF-u-9anEe6-X7MK_YLnkw" entityName="deferredResult" predecessor_AbstractAction="_YF-u-tanEe6-X7MK_YLnkw" successor_AbstractAction="_YF-u_NanEe6-X7MK_YLnkw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF-u_NanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF-u-9anEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YF_WAdanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF_WANanEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YF_WBtanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF_WBdanEe6-X7MK_YLnkw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_YG1DiNanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YG1Dh9anEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_YGnoINanEe6-X7MK_YLnkw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YGAkLdanEe6-X7MK_YLnkw" describedService__SEFF="_YAFiUdanEe6-X7MK_YLnkw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YF_WCdanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YGAkKtanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YGAkKtanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF_WCdanEe6-X7MK_YLnkw" successor_AbstractAction="_YGAkK9anEe6-X7MK_YLnkw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YGAkJ9anEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YGAkKdanEe6-X7MK_YLnkw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YF_WCtanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YGAkJdanEe6-X7MK_YLnkw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YGAkJdanEe6-X7MK_YLnkw" entityName="Switch Branch" predecessor_AbstractAction="_YF_WCtanEe6-X7MK_YLnkw" successor_AbstractAction="_YGAkJtanEe6-X7MK_YLnkw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF_9GdanEe6-X7MK_YLnkw">
                <branchBehaviour_BranchTransition id="_YF_9G9anEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF_WC9anEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF_9E9anEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_YF_9E9anEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF_WC9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF_9FNanEe6-X7MK_YLnkw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF_9ENanEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_YF_9EtanEe6-X7MK_YLnkw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YF_WDNanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF_WEtanEe6-X7MK_YLnkw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_YF_WEtanEe6-X7MK_YLnkw" entityName="If Branch" predecessor_AbstractAction="_YF_WDNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF_WE9anEe6-X7MK_YLnkw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF_WD9anEe6-X7MK_YLnkw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_YF_WEdanEe6-X7MK_YLnkw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_YF_WDdanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF_WDtanEe6-X7MK_YLnkw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_YF_WDtanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF_WDdanEe6-X7MK_YLnkw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YF_WE9anEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF_WEtanEe6-X7MK_YLnkw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF_9FNanEe6-X7MK_YLnkw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_YF_9E9anEe6-X7MK_YLnkw" successor_AbstractAction="_YF_9FdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF_9FdanEe6-X7MK_YLnkw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_YF_9FNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF_9FtanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YF_9FtanEe6-X7MK_YLnkw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_YF_9FdanEe6-X7MK_YLnkw" successor_AbstractAction="_YF_9F9anEe6-X7MK_YLnkw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF_9F9anEe6-X7MK_YLnkw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_YF_9FtanEe6-X7MK_YLnkw" successor_AbstractAction="_YF_9GNanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF_9GNanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF_9F9anEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YF_9H9anEe6-X7MK_YLnkw">
                <branchBehaviour_BranchTransition id="_YF_9IdanEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YF_9HNanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YF_9HdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YF_9HdanEe6-X7MK_YLnkw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_YF_9HNanEe6-X7MK_YLnkw" successor_AbstractAction="_YF_9HtanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YF_9HtanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YF_9HdanEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YGAkItanEe6-X7MK_YLnkw">
                <branchBehaviour_BranchTransition id="_YGAkJNanEe6-X7MK_YLnkw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YGAkINanEe6-X7MK_YLnkw" entityName="Start Action" successor_AbstractAction="_YGAkIdanEe6-X7MK_YLnkw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YGAkIdanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YGAkINanEe6-X7MK_YLnkw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YGAkJtanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YGAkJdanEe6-X7MK_YLnkw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YGAkK9anEe6-X7MK_YLnkw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_YGAkKtanEe6-X7MK_YLnkw" successor_AbstractAction="_YGAkLNanEe6-X7MK_YLnkw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YGAkLNanEe6-X7MK_YLnkw" entityName="Stop Action" predecessor_AbstractAction="_YGAkK9anEe6-X7MK_YLnkw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YG4t4danEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_YG58AtanEe6-X7MK_YLnkw" encapsulatedComponent__AssemblyContext="_YGtuzdanEe6-X7MK_YLnkw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YG6jE9anEe6-X7MK_YLnkw" innerProvidedRole_ProvidedDelegationConnector="_YGtuzNanEe6-X7MK_YLnkw" outerProvidedRole_ProvidedDelegationConnector="_YG4t4NanEe6-X7MK_YLnkw" assemblyContext_ProvidedDelegationConnector="_YG58AtanEe6-X7MK_YLnkw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YG4t4NanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_YGnoI9anEe6-X7MK_YLnkw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YG4t49anEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_YG5U8NanEe6-X7MK_YLnkw" encapsulatedComponent__AssemblyContext="_YG1DiNanEe6-X7MK_YLnkw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YG6jENanEe6-X7MK_YLnkw" innerProvidedRole_ProvidedDelegationConnector="_YG1Dh9anEe6-X7MK_YLnkw" outerProvidedRole_ProvidedDelegationConnector="_YG4t4tanEe6-X7MK_YLnkw" assemblyContext_ProvidedDelegationConnector="_YG5U8NanEe6-X7MK_YLnkw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YG4t4tanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_YGnoINanEe6-X7MK_YLnkw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YG4t5NanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_YG58ANanEe6-X7MK_YLnkw" encapsulatedComponent__AssemblyContext="_YGnoJtanEe6-X7MK_YLnkw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YG4t5tanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_YG5U9tanEe6-X7MK_YLnkw" encapsulatedComponent__AssemblyContext="_YGwyE9anEe6-X7MK_YLnkw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YG6jFNanEe6-X7MK_YLnkw" innerProvidedRole_ProvidedDelegationConnector="_YGwyEtanEe6-X7MK_YLnkw" outerProvidedRole_ProvidedDelegationConnector="_YG4t5danEe6-X7MK_YLnkw" assemblyContext_ProvidedDelegationConnector="_YG5U9tanEe6-X7MK_YLnkw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YG4t5danEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_YGnoIdanEe6-X7MK_YLnkw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YG4t6danEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_YG5U8tanEe6-X7MK_YLnkw" encapsulatedComponent__AssemblyContext="_YGnoKdanEe6-X7MK_YLnkw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YG6jEtanEe6-X7MK_YLnkw" innerProvidedRole_ProvidedDelegationConnector="_YGnoKNanEe6-X7MK_YLnkw" outerProvidedRole_ProvidedDelegationConnector="_YG4t59anEe6-X7MK_YLnkw" assemblyContext_ProvidedDelegationConnector="_YG5U8tanEe6-X7MK_YLnkw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YG6jFdanEe6-X7MK_YLnkw" innerProvidedRole_ProvidedDelegationConnector="_YGnoJ9anEe6-X7MK_YLnkw" outerProvidedRole_ProvidedDelegationConnector="_YG4t6NanEe6-X7MK_YLnkw" assemblyContext_ProvidedDelegationConnector="_YG5U8tanEe6-X7MK_YLnkw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YG4t59anEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_YGnoJNanEe6-X7MK_YLnkw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YG4t6NanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_YGnoItanEe6-X7MK_YLnkw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YG4t69anEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_YG5U9NanEe6-X7MK_YLnkw" encapsulatedComponent__AssemblyContext="_YGynTtanEe6-X7MK_YLnkw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YG6jEdanEe6-X7MK_YLnkw" innerProvidedRole_ProvidedDelegationConnector="_YGynTdanEe6-X7MK_YLnkw" outerProvidedRole_ProvidedDelegationConnector="_YG4t6tanEe6-X7MK_YLnkw" assemblyContext_ProvidedDelegationConnector="_YG5U9NanEe6-X7MK_YLnkw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YG4t6tanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_YGnoJdanEe6-X7MK_YLnkw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YGnoINanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_YAFiUdanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_YAFiUNanEe6-X7MK_YLnkw">
      <parameters__OperationSignature dataType__Parameter="_X_MxgNanEe6-X7MK_YLnkw" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YGnoIdanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_YAH-kNanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_X_N_oNanEe6-X7MK_YLnkw">
      <parameters__OperationSignature dataType__Parameter="_YAHXg9anEe6-X7MK_YLnkw" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YGnoItanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_YAH-lNanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_YAFiUNanEe6-X7MK_YLnkw">
      <parameters__OperationSignature dataType__Parameter="_YAH-k9anEe6-X7MK_YLnkw" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YGnoI9anEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_X_OmsNanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_X_N_oNanEe6-X7MK_YLnkw">
      <parameters__OperationSignature dataType__Parameter="_X_MxgNanEe6-X7MK_YLnkw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YGnoJNanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_YAIlotanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_YAFiUNanEe6-X7MK_YLnkw">
      <parameters__OperationSignature dataType__Parameter="_YAIloNanEe6-X7MK_YLnkw" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_YAIlodanEe6-X7MK_YLnkw" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YGnoJdanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_YAHXgNanEe6-X7MK_YLnkw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_X_N_oNanEe6-X7MK_YLnkw">
      <parameters__OperationSignature dataType__Parameter="_X_MxgNanEe6-X7MK_YLnkw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_X_MxgNanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_X_N_oNanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YAFiUNanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YAHXg9anEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YAH-k9anEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YAIloNanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YAIlodanEe6-X7MK_YLnkw" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
