<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_22I43A5zEe-omMhRiq_2-Q">
  <components__Repository xsi:type="repository:BasicComponent" id="_212k8w5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_212k8Q5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_21195w5zEe-omMhRiq_2-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_212k8g5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_21196g5zEe-omMhRiq_2-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_21KBbA5zEe-omMhRiq_2-Q" describedService__SEFF="_2u951A5zEe-omMhRiq_2-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_21JaUA5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21JaXQ5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_21JaXQ5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21JaUA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KBag5zEe-omMhRiq_2-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21JaVA5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_21JaVg5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21JaUQ5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21JaUg5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21JaUg5zEe-omMhRiq_2-Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_21JaUQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21JaUw5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21JaUw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21JaUg5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21JaWg5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_21JaXA5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21JaVw5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21JaWA5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21JaWA5zEe-omMhRiq_2-Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_21JaVw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21JaWQ5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21JaWQ5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21JaWA5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_21KBag5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21JaXQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KBaw5zEe-omMhRiq_2-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21KBZw5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_21KBaQ5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21JaXg5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21KBZQ5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_21KBZQ5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21JaXg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KBZg5zEe-omMhRiq_2-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21JaYw5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_21JaZQ5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21JaXw5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21JaYA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21JaYA5zEe-omMhRiq_2-Q" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_21JaXw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21JaYQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21JaYQ5zEe-omMhRiq_2-Q" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_21JaYA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21JaYg5zEe-omMhRiq_2-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21JaYg5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21JaYQ5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21KBYg5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_21KBZA5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21KBYA5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21KBYQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21KBYQ5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21KBYA5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21KBZg5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21KBZQ5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_21KBaw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21KBag5zEe-omMhRiq_2-Q"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_21IzSA5zEe-omMhRiq_2-Q" describedService__SEFF="_2u9SxQ5zEe-omMhRiq_2-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_21IzRQ5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21IzRg5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21IzRg5zEe-omMhRiq_2-Q" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_21IzRQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21IzRw5zEe-omMhRiq_2-Q">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_21IzRw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21IzRg5zEe-omMhRiq_2-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_217dfg5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_217dfQ5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_212k8A5zEe-omMhRiq_2-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_21G-HA5zEe-omMhRiq_2-Q" describedService__SEFF="_2u-g4g5zEe-omMhRiq_2-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2vZ-sw5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21Eh0A5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_21Eh0A5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_2vZ-sw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Eh0Q5zEe-omMhRiq_2-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21DTsA5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_21D6wA5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2vca8A5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21CsoA5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21CsoA5zEe-omMhRiq_2-Q" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_2vca8A5zEe-omMhRiq_2-Q" successor_AbstractAction="_21CsoQ5zEe-omMhRiq_2-Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21CsoQ5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21CsoA5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_21Eh0Q5zEe-omMhRiq_2-Q" entityName="stopWatch.start()" predecessor_AbstractAction="_21Eh0A5zEe-omMhRiq_2-Q" successor_AbstractAction="_21G-Gg5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_21G-Gg5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21Eh0Q5zEe-omMhRiq_2-Q" successor_AbstractAction="_21G-Gw5zEe-omMhRiq_2-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21G-Fw5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_21G-GQ5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21FI4A5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21G-FQ5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_21G-FQ5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21FI4A5zEe-omMhRiq_2-Q" successor_AbstractAction="_21G-Fg5zEe-omMhRiq_2-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21G-Eg5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_21G-FA5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21FI4Q5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21GXBg5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_21GXBg5zEe-omMhRiq_2-Q" entityName="Switch Branch" predecessor_AbstractAction="_21FI4Q5zEe-omMhRiq_2-Q" successor_AbstractAction="_21GXBw5zEe-omMhRiq_2-Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21Fv-A5zEe-omMhRiq_2-Q">
                      <branchBehaviour_BranchTransition id="_21Fv-g5zEe-omMhRiq_2-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_21FI4g5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21Fv9Q5zEe-omMhRiq_2-Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_21Fv9Q5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21FI4g5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Fv9g5zEe-omMhRiq_2-Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21Fv8g5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_21Fv9A5zEe-omMhRiq_2-Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_21FI4w5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21Fv8A5zEe-omMhRiq_2-Q"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_21Fv8A5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21FI4w5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Fv8Q5zEe-omMhRiq_2-Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_21Fv8Q5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21Fv8A5zEe-omMhRiq_2-Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_21Fv9g5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21Fv9Q5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Fv9w5zEe-omMhRiq_2-Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_21Fv9w5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21Fv9g5zEe-omMhRiq_2-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21Fv_g5zEe-omMhRiq_2-Q">
                      <branchBehaviour_BranchTransition id="_21FwAA5zEe-omMhRiq_2-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_21Fv-w5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21Fv_A5zEe-omMhRiq_2-Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_21Fv_A5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21Fv-w5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Fv_Q5zEe-omMhRiq_2-Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_21Fv_Q5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21Fv_A5zEe-omMhRiq_2-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21GXAw5zEe-omMhRiq_2-Q">
                      <branchBehaviour_BranchTransition id="_21GXBQ5zEe-omMhRiq_2-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_21GXAA5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21GXAQ5zEe-omMhRiq_2-Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_21GXAQ5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21GXAA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21GXAg5zEe-omMhRiq_2-Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_21GXAg5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21GXAQ5zEe-omMhRiq_2-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21GXBw5zEe-omMhRiq_2-Q" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_21GXBg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21GXCA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21GXCA5zEe-omMhRiq_2-Q" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_21GXBw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21GXCQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21GXCQ5zEe-omMhRiq_2-Q" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_21GXCA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21GXCg5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21GXCg5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21GXCQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21GXCw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21GXCw5zEe-omMhRiq_2-Q" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_21GXCg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21GXDA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21GXDA5zEe-omMhRiq_2-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_21GXCw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21GXDQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21GXDQ5zEe-omMhRiq_2-Q" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_21GXDA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21G-EA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21G-EA5zEe-omMhRiq_2-Q" entityName="deferredResult" predecessor_AbstractAction="_21GXDQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21G-EQ5zEe-omMhRiq_2-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21G-EQ5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21G-EA5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21G-Fg5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21G-FQ5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_21G-Gw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21G-Gg5zEe-omMhRiq_2-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_21-gxw5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_21-gxg5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_21196A5zEe-omMhRiq_2-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_21L2oA5zEe-omMhRiq_2-Q" describedService__SEFF="_2uG-MA5zEe-omMhRiq_2-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_21KBbg5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21KBdQ5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_21KBdQ5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21KBbg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KocA5zEe-omMhRiq_2-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21KBcg5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_21KBdA5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21KBbw5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21KBcA5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21KBcA5zEe-omMhRiq_2-Q" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_21KBbw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KBcQ5zEe-omMhRiq_2-Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21KBcQ5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21KBcA5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_21KocA5zEe-omMhRiq_2-Q" entityName="stopWatch.start()" predecessor_AbstractAction="_21KBdQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21L2ng5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_21L2ng5zEe-omMhRiq_2-Q" entityName="Switch Branch" predecessor_AbstractAction="_21KocA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21L2nw5zEe-omMhRiq_2-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21LPhA5zEe-omMhRiq_2-Q">
          <branchBehaviour_BranchTransition id="_21LPhg5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21KocQ5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21Kocg5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21Kocg5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21KocQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Kocw5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21Kocw5zEe-omMhRiq_2-Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_21Kocg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KodA5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21KodA5zEe-omMhRiq_2-Q" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_21Kocw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KodQ5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21KodQ5zEe-omMhRiq_2-Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_21KodA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Kodg5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21Kodg5zEe-omMhRiq_2-Q" entityName="deferredResult" predecessor_AbstractAction="_21KodQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPgA5zEe-omMhRiq_2-Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_21LPgA5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21Kodg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPgQ5zEe-omMhRiq_2-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21KogA5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_21Kogg5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21Kodw5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21KoeA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21KoeA5zEe-omMhRiq_2-Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_21Kodw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KoeQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21KoeQ5zEe-omMhRiq_2-Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_21KoeA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Koeg5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21Koeg5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21KoeQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Koew5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21Koew5zEe-omMhRiq_2-Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_21Koeg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KofA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21KofA5zEe-omMhRiq_2-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_21Koew5zEe-omMhRiq_2-Q" successor_AbstractAction="_21KofQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21KofQ5zEe-omMhRiq_2-Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_21KofA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Kofg5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21Kofg5zEe-omMhRiq_2-Q" entityName="deferredResult" predecessor_AbstractAction="_21KofQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Kofw5zEe-omMhRiq_2-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21Kofw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21Kofg5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21LPgQ5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21LPgA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPgg5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21LPgg5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21LPgQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPgw5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21LPgw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21LPgg5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21L2lQ5zEe-omMhRiq_2-Q">
          <branchBehaviour_BranchTransition id="_21L2lw5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21LPhw5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21L2kQ5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_21L2kQ5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21LPhw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21L2kg5zEe-omMhRiq_2-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21LPkQ5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_21L2kA5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21LPiA5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21LPiQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21LPiQ5zEe-omMhRiq_2-Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_21LPiA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPig5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21LPig5zEe-omMhRiq_2-Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_21LPiQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPiw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21LPiw5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21LPig5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPjA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21LPjA5zEe-omMhRiq_2-Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_21LPiw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPjQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21LPjQ5zEe-omMhRiq_2-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_21LPjA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPjg5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21LPjg5zEe-omMhRiq_2-Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_21LPjQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPjw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21LPjw5zEe-omMhRiq_2-Q" entityName="deferredResult" predecessor_AbstractAction="_21LPjg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21LPkA5zEe-omMhRiq_2-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21LPkA5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21LPjw5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21L2kg5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21L2kQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21L2kw5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21L2kw5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21L2kg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21L2lA5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21L2lA5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21L2kw5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21L2mw5zEe-omMhRiq_2-Q">
          <branchBehaviour_BranchTransition id="_21L2nQ5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21L2mA5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21L2mQ5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_21L2mQ5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21L2mA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21L2mg5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21L2mg5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21L2mQ5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_21L2nw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21L2ng5zEe-omMhRiq_2-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_22A9Cg5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_22A9CQ5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_21196Q5zEe-omMhRiq_2-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_21OS3g5zEe-omMhRiq_2-Q" describedService__SEFF="_2u8rsQ5zEe-omMhRiq_2-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_21MdoQ5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21MdqA5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_21MdqA5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21MdoQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21MdqQ5zEe-omMhRiq_2-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21MdpQ5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_21Mdpw5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21Mdog5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21Mdow5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21Mdow5zEe-omMhRiq_2-Q" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_21Mdog5zEe-omMhRiq_2-Q" successor_AbstractAction="_21MdpA5zEe-omMhRiq_2-Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21MdpA5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21Mdow5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_21MdqQ5zEe-omMhRiq_2-Q" entityName="stopWatch.start()" predecessor_AbstractAction="_21MdqA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21OS2w5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_21OS2w5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21MdqQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21OS3A5zEe-omMhRiq_2-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21OS2A5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_21OS2g5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21Mdqg5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21OS1g5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_21OS1g5zEe-omMhRiq_2-Q" entityName="Switch Branch" predecessor_AbstractAction="_21Mdqg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21OS1w5zEe-omMhRiq_2-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21NrwQ5zEe-omMhRiq_2-Q">
                <branchBehaviour_BranchTransition id="_21Nrww5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21Mdqw5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21MdrA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21MdrA5zEe-omMhRiq_2-Q" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_21Mdqw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEsQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_21NEsQ5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21MdrA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEsg5zEe-omMhRiq_2-Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21MdtQ5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_21NEsA5zEe-omMhRiq_2-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_21MdrQ5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21Mdsw5zEe-omMhRiq_2-Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_21Mdsw5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21MdrQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21MdtA5zEe-omMhRiq_2-Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21MdsA5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_21Mdsg5zEe-omMhRiq_2-Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_21Mdrg5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21Mdrw5zEe-omMhRiq_2-Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_21Mdrw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21Mdrg5zEe-omMhRiq_2-Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_21MdtA5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21Mdsw5zEe-omMhRiq_2-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEsg5zEe-omMhRiq_2-Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_21NEsQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEsw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEsw5zEe-omMhRiq_2-Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_21NEsg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEtA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEtA5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21NEsw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEtQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEtQ5zEe-omMhRiq_2-Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_21NEtA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEtg5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEtg5zEe-omMhRiq_2-Q" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_21NEtQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEtw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21NEtw5zEe-omMhRiq_2-Q" entityName="deferredResult" predecessor_AbstractAction="_21NEtg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEuA5zEe-omMhRiq_2-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEuA5zEe-omMhRiq_2-Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_21NEtw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEuQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEuQ5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21NEuA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEug5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEug5zEe-omMhRiq_2-Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_21NEuQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEuw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEuw5zEe-omMhRiq_2-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_21NEug5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEvA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21NEvA5zEe-omMhRiq_2-Q" entityName="deferredResult" predecessor_AbstractAction="_21NEuw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NEvQ5zEe-omMhRiq_2-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NEvQ5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21NEvA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NrwA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21NrwA5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21NEvQ5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21NrzA5zEe-omMhRiq_2-Q">
                <branchBehaviour_BranchTransition id="_21Nrzg5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21NrxA5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21NrxQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NrxQ5zEe-omMhRiq_2-Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_21NrxA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Nrxg5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21Nrxg5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21NrxQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Nrxw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21Nrxw5zEe-omMhRiq_2-Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_21Nrxg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NryA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21NryA5zEe-omMhRiq_2-Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_21Nrxw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21NryQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21NryQ5zEe-omMhRiq_2-Q" entityName="deferredResult" predecessor_AbstractAction="_21NryA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Nryg5zEe-omMhRiq_2-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21Nryg5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21NryQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21Nryw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21Nryw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21Nryg5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21OS0w5zEe-omMhRiq_2-Q">
                <branchBehaviour_BranchTransition id="_21OS1Q5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21OS0A5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21OS0Q5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21OS0Q5zEe-omMhRiq_2-Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_21OS0A5zEe-omMhRiq_2-Q" successor_AbstractAction="_21OS0g5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21OS0g5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21OS0Q5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21OS1w5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21OS1g5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_21OS3A5zEe-omMhRiq_2-Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_21OS2w5zEe-omMhRiq_2-Q" successor_AbstractAction="_21OS3Q5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_21OS3Q5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21OS3A5zEe-omMhRiq_2-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_22DZSw5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_22DZSg5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_21196w5zEe-omMhRiq_2-Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_21IzQw5zEe-omMhRiq_2-Q" describedService__SEFF="_2u9SwQ5zEe-omMhRiq_2-Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_21G-Hg5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21IzQA5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_21IzQA5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21G-Hg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21IzQQ5zEe-omMhRiq_2-Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21IMQg5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_21IMRA5zEe-omMhRiq_2-Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_21HlIA5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21IMQA5zEe-omMhRiq_2-Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_21IMQA5zEe-omMhRiq_2-Q" entityName="Switch Branch" predecessor_AbstractAction="_21HlIA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21IMQQ5zEe-omMhRiq_2-Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21IMMg5zEe-omMhRiq_2-Q">
                <branchBehaviour_BranchTransition id="_21IMNA5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21HlIQ5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21HlLQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_21HlLQ5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21HlIQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21HlLg5zEe-omMhRiq_2-Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21HlKg5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_21HlLA5zEe-omMhRiq_2-Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_21HlIg5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21HlKA5zEe-omMhRiq_2-Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_21HlKA5zEe-omMhRiq_2-Q" entityName="If Branch" predecessor_AbstractAction="_21HlIg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21HlKQ5zEe-omMhRiq_2-Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21HlJQ5zEe-omMhRiq_2-Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_21HlJw5zEe-omMhRiq_2-Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_21HlIw5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21HlJA5zEe-omMhRiq_2-Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_21HlJA5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21HlIw5zEe-omMhRiq_2-Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_21HlKQ5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21HlKA5zEe-omMhRiq_2-Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21HlLg5zEe-omMhRiq_2-Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_21HlLQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21HlLw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21HlLw5zEe-omMhRiq_2-Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_21HlLg5zEe-omMhRiq_2-Q" successor_AbstractAction="_21HlMA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_21HlMA5zEe-omMhRiq_2-Q" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_21HlLw5zEe-omMhRiq_2-Q" successor_AbstractAction="_21IMMA5zEe-omMhRiq_2-Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21IMMA5zEe-omMhRiq_2-Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_21HlMA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21IMMQ5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21IMMQ5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21IMMA5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21IMOA5zEe-omMhRiq_2-Q">
                <branchBehaviour_BranchTransition id="_21IMOg5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21IMNQ5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21IMNg5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_21IMNg5zEe-omMhRiq_2-Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_21IMNQ5zEe-omMhRiq_2-Q" successor_AbstractAction="_21IMNw5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21IMNw5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21IMNg5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_21IMPQ5zEe-omMhRiq_2-Q">
                <branchBehaviour_BranchTransition id="_21IMPw5zEe-omMhRiq_2-Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_21IMOw5zEe-omMhRiq_2-Q" entityName="Start Action" successor_AbstractAction="_21IMPA5zEe-omMhRiq_2-Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_21IMPA5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21IMOw5zEe-omMhRiq_2-Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_21IMQQ5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21IMQA5zEe-omMhRiq_2-Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_21IzQQ5zEe-omMhRiq_2-Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_21IzQA5zEe-omMhRiq_2-Q" successor_AbstractAction="_21IzQg5zEe-omMhRiq_2-Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_21IzQg5zEe-omMhRiq_2-Q" entityName="Stop Action" predecessor_AbstractAction="_21IzQQ5zEe-omMhRiq_2-Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_22F1jQ5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_22IRwQ5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_22I42g5zEe-omMhRiq_2-Q" encapsulatedComponent__AssemblyContext="_21-gxw5zEe-omMhRiq_2-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_22KG9A5zEe-omMhRiq_2-Q" innerProvidedRole_ProvidedDelegationConnector="_21-gxg5zEe-omMhRiq_2-Q" outerProvidedRole_ProvidedDelegationConnector="_22IRwA5zEe-omMhRiq_2-Q" assemblyContext_ProvidedDelegationConnector="_22I42g5zEe-omMhRiq_2-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_22IRwA5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_21196A5zEe-omMhRiq_2-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_22IRxA5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_22I41g5zEe-omMhRiq_2-Q" encapsulatedComponent__AssemblyContext="_212k8w5zEe-omMhRiq_2-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_22Jf4A5zEe-omMhRiq_2-Q" innerProvidedRole_ProvidedDelegationConnector="_212k8Q5zEe-omMhRiq_2-Q" outerProvidedRole_ProvidedDelegationConnector="_22IRwg5zEe-omMhRiq_2-Q" assemblyContext_ProvidedDelegationConnector="_22I41g5zEe-omMhRiq_2-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_22KG8g5zEe-omMhRiq_2-Q" innerProvidedRole_ProvidedDelegationConnector="_212k8g5zEe-omMhRiq_2-Q" outerProvidedRole_ProvidedDelegationConnector="_22IRww5zEe-omMhRiq_2-Q" assemblyContext_ProvidedDelegationConnector="_22I41g5zEe-omMhRiq_2-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_22IRwg5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_21195w5zEe-omMhRiq_2-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_22IRww5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_21196g5zEe-omMhRiq_2-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_22IRxg5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_22I41A5zEe-omMhRiq_2-Q" encapsulatedComponent__AssemblyContext="_22DZSw5zEe-omMhRiq_2-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_22KG8Q5zEe-omMhRiq_2-Q" innerProvidedRole_ProvidedDelegationConnector="_22DZSg5zEe-omMhRiq_2-Q" outerProvidedRole_ProvidedDelegationConnector="_22IRxQ5zEe-omMhRiq_2-Q" assemblyContext_ProvidedDelegationConnector="_22I41A5zEe-omMhRiq_2-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_22IRxQ5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_21196w5zEe-omMhRiq_2-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_22IRxw5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_22I42A5zEe-omMhRiq_2-Q" encapsulatedComponent__AssemblyContext="_22F1jQ5zEe-omMhRiq_2-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_22IRyQ5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_22I40g5zEe-omMhRiq_2-Q" encapsulatedComponent__AssemblyContext="_22A9Cg5zEe-omMhRiq_2-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_22KG8A5zEe-omMhRiq_2-Q" innerProvidedRole_ProvidedDelegationConnector="_22A9CQ5zEe-omMhRiq_2-Q" outerProvidedRole_ProvidedDelegationConnector="_22IRyA5zEe-omMhRiq_2-Q" assemblyContext_ProvidedDelegationConnector="_22I40g5zEe-omMhRiq_2-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_22IRyA5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_21196Q5zEe-omMhRiq_2-Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_22IRyw5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_22I40A5zEe-omMhRiq_2-Q" encapsulatedComponent__AssemblyContext="_217dfg5zEe-omMhRiq_2-Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_22KG8w5zEe-omMhRiq_2-Q" innerProvidedRole_ProvidedDelegationConnector="_217dfQ5zEe-omMhRiq_2-Q" outerProvidedRole_ProvidedDelegationConnector="_22IRyg5zEe-omMhRiq_2-Q" assemblyContext_ProvidedDelegationConnector="_22I40A5zEe-omMhRiq_2-Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_22IRyg5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_212k8A5zEe-omMhRiq_2-Q"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_21195w5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_2u951A5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_2u9SwA5zEe-omMhRiq_2-Q">
      <parameters__OperationSignature dataType__Parameter="_2u950g5zEe-omMhRiq_2-Q" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_2u950w5zEe-omMhRiq_2-Q" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_21196A5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_2uG-MA5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_2uGXIA5zEe-omMhRiq_2-Q">
      <parameters__OperationSignature dataType__Parameter="_2uFJAA5zEe-omMhRiq_2-Q" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_21196Q5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_2u8rsQ5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_2uGXIA5zEe-omMhRiq_2-Q">
      <parameters__OperationSignature dataType__Parameter="_2u8rsA5zEe-omMhRiq_2-Q" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_21196g5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_2u9SxQ5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_2u9SwA5zEe-omMhRiq_2-Q">
      <parameters__OperationSignature dataType__Parameter="_2u9SxA5zEe-omMhRiq_2-Q" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_21196w5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_2u9SwQ5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_2u9SwA5zEe-omMhRiq_2-Q">
      <parameters__OperationSignature dataType__Parameter="_2u8rsA5zEe-omMhRiq_2-Q" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_212k8A5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_2u-g4g5zEe-omMhRiq_2-Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_2uGXIA5zEe-omMhRiq_2-Q">
      <parameters__OperationSignature dataType__Parameter="_2u8rsA5zEe-omMhRiq_2-Q" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2uFJAA5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2uGXIA5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2u8rsA5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2u9SwA5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2u9SxA5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2u950g5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_2u950w5zEe-omMhRiq_2-Q" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
