<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_QL0c6vSEEe6VRvLvJ9EsWw">
  <components__Repository xsi:type="repository:BasicComponent" id="_QLXw-vSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLXw-fSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_QLXw9PSEEe6VRvLvJ9EsWw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_QKuQwPSEEe6VRvLvJ9EsWw" describedService__SEFF="_QEzO4vSEEe6VRvLvJ9EsWw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_QKtCmPSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKuQvfSEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QKuQvfSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKtCmPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKuQvvSEEe6VRvLvJ9EsWw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKuQuvSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QKuQvPSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKtCmfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKuQuPSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QKuQuPSEEe6VRvLvJ9EsWw" entityName="Switch Branch" predecessor_AbstractAction="_QKtCmfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKuQufSEEe6VRvLvJ9EsWw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKtpq_SEEe6VRvLvJ9EsWw">
                <branchBehaviour_BranchTransition id="_QKtprfSEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKtCmvSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKtppfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_QKtppfSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKtCmvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtppvSEEe6VRvLvJ9EsWw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKtpovSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_QKtppPSEEe6VRvLvJ9EsWw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_QKtCm_SEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKtpoPSEEe6VRvLvJ9EsWw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_QKtpoPSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKtCm_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtpofSEEe6VRvLvJ9EsWw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKtCnvSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_QKtCoPSEEe6VRvLvJ9EsWw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_QKtCnPSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKtCnfSEEe6VRvLvJ9EsWw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_QKtCnfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKtCnPSEEe6VRvLvJ9EsWw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_QKtpofSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKtpoPSEEe6VRvLvJ9EsWw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKtppvSEEe6VRvLvJ9EsWw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_QKtppfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtpp_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKtpp_SEEe6VRvLvJ9EsWw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_QKtppvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtpqPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKtpqPSEEe6VRvLvJ9EsWw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_QKtpp_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtpqfSEEe6VRvLvJ9EsWw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKtpqfSEEe6VRvLvJ9EsWw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_QKtpqPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtpqvSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKtpqvSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKtpqfSEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKuQsPSEEe6VRvLvJ9EsWw">
                <branchBehaviour_BranchTransition id="_QKuQsvSEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKtprvSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKtpr_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKtpr_SEEe6VRvLvJ9EsWw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_QKtprvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtpsPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKtpsPSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKtpr_SEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKuQtfSEEe6VRvLvJ9EsWw">
                <branchBehaviour_BranchTransition id="_QKuQt_SEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKuQs_SEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKuQtPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKuQtPSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKuQs_SEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKuQufSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKuQuPSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_QKuQvvSEEe6VRvLvJ9EsWw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_QKuQvfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKuQv_SEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_QKuQv_SEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKuQvvSEEe6VRvLvJ9EsWw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_QLfFs_SEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLfFsvSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_QLXw8_SEEe6VRvLvJ9EsWw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_QKm7_fSEEe6VRvLvJ9EsWw" describedService__SEFF="_QEK8wfSEEe6VRvLvJ9EsWw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_QFWogfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKjRkfSEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QKjRkfSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QFWogfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKj4oPSEEe6VRvLvJ9EsWw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKiqgPSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QKjRkPSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QFZr0PSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKiDcPSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKiDcPSEEe6VRvLvJ9EsWw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_QFZr0PSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKiDcfSEEe6VRvLvJ9EsWw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKiDcfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKiDcPSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_QKj4oPSEEe6VRvLvJ9EsWw" entityName="stopWatch.start()" predecessor_AbstractAction="_QKjRkfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKm7-_SEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QKm7-_SEEe6VRvLvJ9EsWw" entityName="Switch Branch" predecessor_AbstractAction="_QKj4oPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKm7_PSEEe6VRvLvJ9EsWw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKlt1PSEEe6VRvLvJ9EsWw">
          <branchBehaviour_BranchTransition id="_QKlt1vSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKkfsPSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKkfsfSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKkfsfSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKkfsPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKkfsvSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKkfsvSEEe6VRvLvJ9EsWw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QKkfsfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKkfs_SEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKkfs_SEEe6VRvLvJ9EsWw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_QKkfsvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKkftPSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKkftPSEEe6VRvLvJ9EsWw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_QKkfs_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlGwPSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKlGwPSEEe6VRvLvJ9EsWw" entityName="deferredResult" predecessor_AbstractAction="_QKkftPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlt0PSEEe6VRvLvJ9EsWw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QKlt0PSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKlGwPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlt0fSEEe6VRvLvJ9EsWw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKlGyvSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_QKlGzPSEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKlGwfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKlGwvSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlGwvSEEe6VRvLvJ9EsWw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_QKlGwfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlGw_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlGw_SEEe6VRvLvJ9EsWw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_QKlGwvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlGxPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlGxPSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKlGw_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlGxfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlGxfSEEe6VRvLvJ9EsWw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QKlGxPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlGxvSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlGxvSEEe6VRvLvJ9EsWw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_QKlGxfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlGx_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlGx_SEEe6VRvLvJ9EsWw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_QKlGxvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlGyPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKlGyPSEEe6VRvLvJ9EsWw" entityName="deferredResult" predecessor_AbstractAction="_QKlGx_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlGyfSEEe6VRvLvJ9EsWw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKlGyfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKlGyPSEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlt0fSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKlt0PSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlt0vSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlt0vSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKlt0fSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlt0_SEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKlt0_SEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKlt0vSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKm78vSEEe6VRvLvJ9EsWw">
          <branchBehaviour_BranchTransition id="_QKm79PSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKlt1_SEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKmU6fSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QKmU6fSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKlt1_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKmU6vSEEe6VRvLvJ9EsWw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKmU5vSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_QKmU6PSEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKlt2PSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKlt2fSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlt2fSEEe6VRvLvJ9EsWw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_QKlt2PSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKlt2vSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKlt2vSEEe6VRvLvJ9EsWw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_QKlt2fSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKmU4PSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKmU4PSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKlt2vSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKmU4fSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKmU4fSEEe6VRvLvJ9EsWw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QKmU4PSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKmU4vSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKmU4vSEEe6VRvLvJ9EsWw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_QKmU4fSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKmU4_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKmU4_SEEe6VRvLvJ9EsWw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_QKmU4vSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKmU5PSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKmU5PSEEe6VRvLvJ9EsWw" entityName="deferredResult" predecessor_AbstractAction="_QKmU4_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKmU5fSEEe6VRvLvJ9EsWw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKmU5fSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKmU5PSEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKmU6vSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKmU6fSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKm78PSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKm78PSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKmU6vSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKm78fSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKm78fSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKm78PSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKm7-PSEEe6VRvLvJ9EsWw">
          <branchBehaviour_BranchTransition id="_QKm7-vSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKm79fSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKm79vSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKm79vSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKm79fSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKm79_SEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKm79_SEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKm79vSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_QKm7_PSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKm7-_SEEe6VRvLvJ9EsWw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_QLj-MfSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLjXKvSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_QLXw9fSEEe6VRvLvJ9EsWw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLj-MPSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_QLXw-PSEEe6VRvLvJ9EsWw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_QKnjAvSEEe6VRvLvJ9EsWw" describedService__SEFF="_QE1EEPSEEe6VRvLvJ9EsWw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_QKm7__SEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKnjAPSEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKnjAPSEEe6VRvLvJ9EsWw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_QKm7__SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKnjAfSEEe6VRvLvJ9EsWw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_QKnjAfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKnjAPSEEe6VRvLvJ9EsWw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_QKoxKPSEEe6VRvLvJ9EsWw" describedService__SEFF="_QE0dAvSEEe6VRvLvJ9EsWw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_QKnjBPSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKoKF_SEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QKoKF_SEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKnjBPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKoxJvSEEe6VRvLvJ9EsWw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKnjCPSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QKoKEPSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKnjBfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKnjBvSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKnjBvSEEe6VRvLvJ9EsWw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_QKnjBfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKnjB_SEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKnjB_SEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKnjBvSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKoKFPSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QKoKFvSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKoKEfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKoKEvSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QKoKEvSEEe6VRvLvJ9EsWw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_QKoKEfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKoKE_SEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKoKE_SEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKoKEvSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QKoxJvSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKoKF_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKoxJ_SEEe6VRvLvJ9EsWw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKoxI_SEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QKoxJfSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKoKGPSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKoxIfSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QKoxIfSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKoKGPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKoxIvSEEe6VRvLvJ9EsWw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKoKHfSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_QKoKH_SEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKoKGfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKoKGvSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKoKGvSEEe6VRvLvJ9EsWw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_QKoKGfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKoKG_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKoKG_SEEe6VRvLvJ9EsWw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_QKoKGvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKoKHPSEEe6VRvLvJ9EsWw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKoKHPSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKoKG_SEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKoKIvSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_QKoxIPSEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKoKIPSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKoKIfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKoKIfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKoKIPSEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKoxIvSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKoxIfSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_QKoxJ_SEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKoxJvSEEe6VRvLvJ9EsWw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_QLqE3vSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLqE3fSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_QLXw9_SEEe6VRvLvJ9EsWw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_QKtClvSEEe6VRvLvJ9EsWw" describedService__SEFF="_QE1EE_SEEe6VRvLvJ9EsWw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_QKrNYfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKrNaPSEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QKrNaPSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKrNYfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKrNafSEEe6VRvLvJ9EsWw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKrNZfSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QKrNZ_SEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKrNYvSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKrNY_SEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKrNY_SEEe6VRvLvJ9EsWw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_QKrNYvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKrNZPSEEe6VRvLvJ9EsWw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKrNZPSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKrNY_SEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_QKrNafSEEe6VRvLvJ9EsWw" entityName="stopWatch.start()" predecessor_AbstractAction="_QKrNaPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtClPSEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QKtClPSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKrNafSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtClfSEEe6VRvLvJ9EsWw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKtCkfSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QKtCk_SEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKrNavSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKsbiPSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QKsbiPSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKrNavSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKtCkPSEEe6VRvLvJ9EsWw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKsbhfSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_QKsbh_SEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKrNa_SEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKr0gfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_QKr0gfSEEe6VRvLvJ9EsWw" entityName="Switch Branch" predecessor_AbstractAction="_QKrNa_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKr0gvSEEe6VRvLvJ9EsWw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKr0cvSEEe6VRvLvJ9EsWw">
                      <branchBehaviour_BranchTransition id="_QKr0dPSEEe6VRvLvJ9EsWw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_QKrNbPSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKrNc_SEEe6VRvLvJ9EsWw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_QKrNc_SEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKrNbPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKr0cPSEEe6VRvLvJ9EsWw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKrNcPSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_QKrNcvSEEe6VRvLvJ9EsWw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_QKrNbfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKrNbvSEEe6VRvLvJ9EsWw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_QKrNbvSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKrNbfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKrNb_SEEe6VRvLvJ9EsWw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_QKrNb_SEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKrNbvSEEe6VRvLvJ9EsWw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_QKr0cPSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKrNc_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKr0cfSEEe6VRvLvJ9EsWw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_QKr0cfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKr0cPSEEe6VRvLvJ9EsWw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKr0ePSEEe6VRvLvJ9EsWw">
                      <branchBehaviour_BranchTransition id="_QKr0evSEEe6VRvLvJ9EsWw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_QKr0dfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKr0dvSEEe6VRvLvJ9EsWw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_QKr0dvSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKr0dfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKr0d_SEEe6VRvLvJ9EsWw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_QKr0d_SEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKr0dvSEEe6VRvLvJ9EsWw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKr0fvSEEe6VRvLvJ9EsWw">
                      <branchBehaviour_BranchTransition id="_QKr0gPSEEe6VRvLvJ9EsWw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_QKr0e_SEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKr0fPSEEe6VRvLvJ9EsWw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_QKr0fPSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKr0e_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKr0ffSEEe6VRvLvJ9EsWw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_QKr0ffSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKr0fPSEEe6VRvLvJ9EsWw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKr0gvSEEe6VRvLvJ9EsWw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_QKr0gfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKr0g_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKr0g_SEEe6VRvLvJ9EsWw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_QKr0gvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKr0hPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKr0hPSEEe6VRvLvJ9EsWw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_QKr0g_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKr0hfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKr0hfSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKr0hPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKsbgPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKsbgPSEEe6VRvLvJ9EsWw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QKr0hfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKsbgfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKsbgfSEEe6VRvLvJ9EsWw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_QKsbgPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKsbgvSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKsbgvSEEe6VRvLvJ9EsWw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_QKsbgfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKsbg_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKsbg_SEEe6VRvLvJ9EsWw" entityName="deferredResult" predecessor_AbstractAction="_QKsbgvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKsbhPSEEe6VRvLvJ9EsWw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKsbhPSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKsbg_SEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKtCkPSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKsbiPSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_QKtClfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKtClPSEEe6VRvLvJ9EsWw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_QLshHfSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_QLshH_SEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLshHvSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_QLXw9vSEEe6VRvLvJ9EsWw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_QKqmZPSEEe6VRvLvJ9EsWw" describedService__SEFF="_QEz18vSEEe6VRvLvJ9EsWw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_QKoxKvSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKoxMfSEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QKoxMfSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKoxKvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKoxMvSEEe6VRvLvJ9EsWw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKoxLvSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QKoxMPSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKoxK_SEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKoxLPSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKoxLPSEEe6VRvLvJ9EsWw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_QKoxK_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKoxLfSEEe6VRvLvJ9EsWw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKoxLfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKoxLPSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_QKoxMvSEEe6VRvLvJ9EsWw" entityName="stopWatch.start()" predecessor_AbstractAction="_QKoxMfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKqmYfSEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QKqmYfSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKoxMvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKqmYvSEEe6VRvLvJ9EsWw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKqmXvSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QKqmYPSEEe6VRvLvJ9EsWw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QKoxM_SEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKqmXPSEEe6VRvLvJ9EsWw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QKqmXPSEEe6VRvLvJ9EsWw" entityName="Switch Branch" predecessor_AbstractAction="_QKoxM_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKqmXfSEEe6VRvLvJ9EsWw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKp_RvSEEe6VRvLvJ9EsWw">
                <branchBehaviour_BranchTransition id="_QKp_SPSEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKpYMPSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKpYMfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKpYMfSEEe6VRvLvJ9EsWw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_QKpYMPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKpYPfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_QKpYPfSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKpYMfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKpYPvSEEe6VRvLvJ9EsWw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKpYOvSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_QKpYPPSEEe6VRvLvJ9EsWw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_QKpYMvSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKpYOPSEEe6VRvLvJ9EsWw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_QKpYOPSEEe6VRvLvJ9EsWw" entityName="If Branch" predecessor_AbstractAction="_QKpYMvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKpYOfSEEe6VRvLvJ9EsWw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKpYNfSEEe6VRvLvJ9EsWw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_QKpYN_SEEe6VRvLvJ9EsWw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_QKpYM_SEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKpYNPSEEe6VRvLvJ9EsWw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_QKpYNPSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKpYM_SEEe6VRvLvJ9EsWw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_QKpYOfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKpYOPSEEe6VRvLvJ9EsWw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKpYPvSEEe6VRvLvJ9EsWw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_QKpYPfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKpYP_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKpYP_SEEe6VRvLvJ9EsWw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_QKpYPvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKpYQPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKpYQPSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKpYP_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKpYQfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKpYQfSEEe6VRvLvJ9EsWw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QKpYQPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKpYQvSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKpYQvSEEe6VRvLvJ9EsWw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_QKpYQfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKpYQ_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKpYQ_SEEe6VRvLvJ9EsWw" entityName="deferredResult" predecessor_AbstractAction="_QKpYQvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKpYRPSEEe6VRvLvJ9EsWw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKpYRPSEEe6VRvLvJ9EsWw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_QKpYQ_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKp_QPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKp_QPSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKpYRPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKp_QfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKp_QfSEEe6VRvLvJ9EsWw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QKp_QPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKp_QvSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKp_QvSEEe6VRvLvJ9EsWw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_QKp_QfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKp_Q_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKp_Q_SEEe6VRvLvJ9EsWw" entityName="deferredResult" predecessor_AbstractAction="_QKp_QvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKp_RPSEEe6VRvLvJ9EsWw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKp_RPSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKp_Q_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKp_RfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKp_RfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKp_RPSEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKqmU_SEEe6VRvLvJ9EsWw">
                <branchBehaviour_BranchTransition id="_QKqmVfSEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKp_SfSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKp_SvSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKp_SvSEEe6VRvLvJ9EsWw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_QKp_SfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKp_S_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKp_S_SEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKp_SvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKp_TPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKp_TPSEEe6VRvLvJ9EsWw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QKp_S_SEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKp_TfSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKp_TfSEEe6VRvLvJ9EsWw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_QKp_TPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKqmUPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QKqmUPSEEe6VRvLvJ9EsWw" entityName="deferredResult" predecessor_AbstractAction="_QKp_TfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKqmUfSEEe6VRvLvJ9EsWw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKqmUfSEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKqmUPSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKqmUvSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKqmUvSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKqmUfSEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QKqmWfSEEe6VRvLvJ9EsWw">
                <branchBehaviour_BranchTransition id="_QKqmW_SEEe6VRvLvJ9EsWw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QKqmVvSEEe6VRvLvJ9EsWw" entityName="Start Action" successor_AbstractAction="_QKqmV_SEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QKqmV_SEEe6VRvLvJ9EsWw" entityName="stopWatch.stop()" predecessor_AbstractAction="_QKqmVvSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKqmWPSEEe6VRvLvJ9EsWw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QKqmWPSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKqmV_SEEe6VRvLvJ9EsWw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QKqmXfSEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKqmXPSEEe6VRvLvJ9EsWw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_QKqmYvSEEe6VRvLvJ9EsWw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_QKqmYfSEEe6VRvLvJ9EsWw" successor_AbstractAction="_QKqmY_SEEe6VRvLvJ9EsWw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_QKqmY_SEEe6VRvLvJ9EsWw" entityName="Stop Action" predecessor_AbstractAction="_QKqmYvSEEe6VRvLvJ9EsWw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_QLzOwfSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_QL0c5vSEEe6VRvLvJ9EsWw" encapsulatedComponent__AssemblyContext="_QLshH_SEEe6VRvLvJ9EsWw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QL1rA_SEEe6VRvLvJ9EsWw" innerProvidedRole_ProvidedDelegationConnector="_QLshHvSEEe6VRvLvJ9EsWw" outerProvidedRole_ProvidedDelegationConnector="_QLzOwPSEEe6VRvLvJ9EsWw" assemblyContext_ProvidedDelegationConnector="_QL0c5vSEEe6VRvLvJ9EsWw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLzOwPSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_QLXw9vSEEe6VRvLvJ9EsWw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_QLzOwvSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_QL0c4PSEEe6VRvLvJ9EsWw" encapsulatedComponent__AssemblyContext="_QLshHfSEEe6VRvLvJ9EsWw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_QLzOxfSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_QL0c6PSEEe6VRvLvJ9EsWw" encapsulatedComponent__AssemblyContext="_QLj-MfSEEe6VRvLvJ9EsWw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QL1rAfSEEe6VRvLvJ9EsWw" innerProvidedRole_ProvidedDelegationConnector="_QLj-MPSEEe6VRvLvJ9EsWw" outerProvidedRole_ProvidedDelegationConnector="_QLzOw_SEEe6VRvLvJ9EsWw" assemblyContext_ProvidedDelegationConnector="_QL0c6PSEEe6VRvLvJ9EsWw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QL1rBPSEEe6VRvLvJ9EsWw" innerProvidedRole_ProvidedDelegationConnector="_QLjXKvSEEe6VRvLvJ9EsWw" outerProvidedRole_ProvidedDelegationConnector="_QLzOxPSEEe6VRvLvJ9EsWw" assemblyContext_ProvidedDelegationConnector="_QL0c6PSEEe6VRvLvJ9EsWw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLzOw_SEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_QLXw-PSEEe6VRvLvJ9EsWw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLzOxPSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_QLXw9fSEEe6VRvLvJ9EsWw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_QLz10fSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_QL0c5PSEEe6VRvLvJ9EsWw" encapsulatedComponent__AssemblyContext="_QLXw-vSEEe6VRvLvJ9EsWw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QL1D8PSEEe6VRvLvJ9EsWw" innerProvidedRole_ProvidedDelegationConnector="_QLXw-fSEEe6VRvLvJ9EsWw" outerProvidedRole_ProvidedDelegationConnector="_QLz10PSEEe6VRvLvJ9EsWw" assemblyContext_ProvidedDelegationConnector="_QL0c5PSEEe6VRvLvJ9EsWw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLz10PSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_QLXw9PSEEe6VRvLvJ9EsWw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_QLz10_SEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_QLz11vSEEe6VRvLvJ9EsWw" encapsulatedComponent__AssemblyContext="_QLfFs_SEEe6VRvLvJ9EsWw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QL1rAPSEEe6VRvLvJ9EsWw" innerProvidedRole_ProvidedDelegationConnector="_QLfFsvSEEe6VRvLvJ9EsWw" outerProvidedRole_ProvidedDelegationConnector="_QLz10vSEEe6VRvLvJ9EsWw" assemblyContext_ProvidedDelegationConnector="_QLz11vSEEe6VRvLvJ9EsWw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLz10vSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_QLXw8_SEEe6VRvLvJ9EsWw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_QLz11fSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_QL0c4vSEEe6VRvLvJ9EsWw" encapsulatedComponent__AssemblyContext="_QLqE3vSEEe6VRvLvJ9EsWw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QL1rAvSEEe6VRvLvJ9EsWw" innerProvidedRole_ProvidedDelegationConnector="_QLqE3fSEEe6VRvLvJ9EsWw" outerProvidedRole_ProvidedDelegationConnector="_QLz11PSEEe6VRvLvJ9EsWw" assemblyContext_ProvidedDelegationConnector="_QL0c4vSEEe6VRvLvJ9EsWw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QLz11PSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_QLXw9_SEEe6VRvLvJ9EsWw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QLXw8_SEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_QEK8wfSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_QEK8wPSEEe6VRvLvJ9EsWw">
      <parameters__OperationSignature dataType__Parameter="_QEJuoPSEEe6VRvLvJ9EsWw" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QLXw9PSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_QEzO4vSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_QEzO4fSEEe6VRvLvJ9EsWw">
      <parameters__OperationSignature dataType__Parameter="_QEzO4PSEEe6VRvLvJ9EsWw" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QLXw9fSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_QE1EEPSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_QEzO4fSEEe6VRvLvJ9EsWw">
      <parameters__OperationSignature dataType__Parameter="_QE0dBfSEEe6VRvLvJ9EsWw" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QLXw9vSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_QEz18vSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_QEK8wPSEEe6VRvLvJ9EsWw">
      <parameters__OperationSignature dataType__Parameter="_QEzO4PSEEe6VRvLvJ9EsWw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QLXw9_SEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_QE1EE_SEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_QEK8wPSEEe6VRvLvJ9EsWw">
      <parameters__OperationSignature dataType__Parameter="_QEzO4PSEEe6VRvLvJ9EsWw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QLXw-PSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_QE0dAvSEEe6VRvLvJ9EsWw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_QEzO4fSEEe6VRvLvJ9EsWw">
      <parameters__OperationSignature dataType__Parameter="_QE0dAPSEEe6VRvLvJ9EsWw" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_QE0dAfSEEe6VRvLvJ9EsWw" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QEJuoPSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QEK8wPSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QEzO4PSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QEzO4fSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QE0dAPSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QE0dAfSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QE0dBfSEEe6VRvLvJ9EsWw" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
