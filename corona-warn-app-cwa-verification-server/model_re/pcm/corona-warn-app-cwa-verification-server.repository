<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_d2cw4GpkEe-g9_EGD3znvQ">
  <components__Repository xsi:type="repository:BasicComponent" id="_d2M5QWpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2M5QGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_d2MSOGpkEe-g9_EGD3znvQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_d1gVu2pkEe-g9_EGD3znvQ" describedService__SEFF="_dvXRcmpkEe-g9_EGD3znvQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_d1d5d2pkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1eggGpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_d1eggGpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1d5d2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1eggWpkEe-g9_EGD3znvQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1d5e2pkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_d1d5fWpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1d5eGpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1d5eWpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1d5eWpkEe-g9_EGD3znvQ" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_d1d5eGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1d5empkEe-g9_EGD3znvQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1d5empkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1d5eWpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_d1eggWpkEe-g9_EGD3znvQ" entityName="stopWatch.start()" predecessor_AbstractAction="_d1eggGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1gVuWpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_d1gVuWpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1eggWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1gVumpkEe-g9_EGD3znvQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1gVtmpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_d1gVuGpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1eggmpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1gVtGpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_d1gVtGpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1eggmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1gVtWpkEe-g9_EGD3znvQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1gVsWpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_d1gVs2pkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1egg2pkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1fuqWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_d1fuqWpkEe-g9_EGD3znvQ" entityName="Switch Branch" predecessor_AbstractAction="_d1egg2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fuqmpkEe-g9_EGD3znvQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1fHmmpkEe-g9_EGD3znvQ">
                      <branchBehaviour_BranchTransition id="_d1fHnGpkEe-g9_EGD3znvQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_d1fHkGpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1fHl2pkEe-g9_EGD3znvQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_d1fHl2pkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1fHkGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fHmGpkEe-g9_EGD3znvQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1fHlGpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_d1fHlmpkEe-g9_EGD3znvQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_d1fHkWpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1fHkmpkEe-g9_EGD3znvQ"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_d1fHkmpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1fHkWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fHk2pkEe-g9_EGD3znvQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_d1fHk2pkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1fHkmpkEe-g9_EGD3znvQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_d1fHmGpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1fHl2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fHmWpkEe-g9_EGD3znvQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_d1fHmWpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1fHmGpkEe-g9_EGD3znvQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1fuoGpkEe-g9_EGD3znvQ">
                      <branchBehaviour_BranchTransition id="_d1fuompkEe-g9_EGD3znvQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_d1fHnWpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1fHnmpkEe-g9_EGD3znvQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_d1fHnmpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1fHnWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fHn2pkEe-g9_EGD3znvQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_d1fHn2pkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1fHnmpkEe-g9_EGD3znvQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1fupmpkEe-g9_EGD3znvQ">
                      <branchBehaviour_BranchTransition id="_d1fuqGpkEe-g9_EGD3znvQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_d1fuo2pkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1fupGpkEe-g9_EGD3znvQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_d1fupGpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1fuo2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fupWpkEe-g9_EGD3znvQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_d1fupWpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1fupGpkEe-g9_EGD3znvQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1fuqmpkEe-g9_EGD3znvQ" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_d1fuqWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fuq2pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1fuq2pkEe-g9_EGD3znvQ" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_d1fuqmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1furGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1furGpkEe-g9_EGD3znvQ" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_d1fuq2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1furWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1furWpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1furGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1furmpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1furmpkEe-g9_EGD3znvQ" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_d1furWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fur2pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1fur2pkEe-g9_EGD3znvQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_d1furmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fusGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1fusGpkEe-g9_EGD3znvQ" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_d1fur2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1fusWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1fusWpkEe-g9_EGD3znvQ" entityName="deferredResult" predecessor_AbstractAction="_d1fusGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1gVsGpkEe-g9_EGD3znvQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1gVsGpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1fusWpkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1gVtWpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1gVtGpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_d1gVumpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1gVuWpkEe-g9_EGD3znvQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_d2PVg2pkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_d2PVhmpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2PVhGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_d2MSOmpkEe-g9_EGD3znvQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2PVhWpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_d2MSN2pkEe-g9_EGD3znvQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_d1d5dWpkEe-g9_EGD3znvQ" describedService__SEFF="_dumccGpkEe-g9_EGD3znvQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_d1aPEWpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1crVmpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_d1crVmpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1aPEWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1d5c2pkEe-g9_EGD3znvQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1bdMGpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_d1cEQGpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1aPEmpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1a2IGpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1a2IGpkEe-g9_EGD3znvQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_d1aPEmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1a2IWpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1a2IWpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1a2IGpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1crU2pkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_d1crVWpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1crUGpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1crUWpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1crUWpkEe-g9_EGD3znvQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_d1crUGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1crUmpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1crUmpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1crUWpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_d1d5c2pkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1crVmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1d5dGpkEe-g9_EGD3znvQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1d5cGpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_d1d5cmpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1dSYGpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1dSbWpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_d1dSbWpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1dSYGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1dSbmpkEe-g9_EGD3znvQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1dSZWpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_d1dSZ2pkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1dSYWpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1dSYmpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1dSYmpkEe-g9_EGD3znvQ" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_d1dSYWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1dSY2pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1dSY2pkEe-g9_EGD3znvQ" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_d1dSYmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1dSZGpkEe-g9_EGD3znvQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1dSZGpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1dSY2pkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1dSampkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_d1dSbGpkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1dSaGpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1dSaWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1dSaWpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1dSaGpkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1dSbmpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1dSbWpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_d1d5dGpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1d5c2pkEe-g9_EGD3znvQ"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_d1ZoAmpkEe-g9_EGD3znvQ" describedService__SEFF="_dvX4gGpkEe-g9_EGD3znvQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_dvxhIWpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1ZoAGpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1ZoAGpkEe-g9_EGD3znvQ" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_dvxhIWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1ZoAWpkEe-g9_EGD3znvQ">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_d1ZoAWpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1ZoAGpkEe-g9_EGD3znvQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_d2Tm_GpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2Tm-2pkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_d2MSO2pkEe-g9_EGD3znvQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_d1l1QmpkEe-g9_EGD3znvQ" describedService__SEFF="_dvWqZGpkEe-g9_EGD3znvQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_d1knJWpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1lORmpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_d1lORmpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1knJWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1l1QGpkEe-g9_EGD3znvQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1lOQ2pkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_d1lORWpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1knJmpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1lOQWpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_d1lOQWpkEe-g9_EGD3znvQ" entityName="Switch Branch" predecessor_AbstractAction="_d1knJmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1lOQmpkEe-g9_EGD3znvQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1lOM2pkEe-g9_EGD3znvQ">
                <branchBehaviour_BranchTransition id="_d1lONWpkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1knJ2pkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1knM2pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_d1knM2pkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1knJ2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1knNGpkEe-g9_EGD3znvQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1knMGpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_d1knMmpkEe-g9_EGD3znvQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_d1knKGpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1knLmpkEe-g9_EGD3znvQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_d1knLmpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1knKGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1knL2pkEe-g9_EGD3znvQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1knK2pkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_d1knLWpkEe-g9_EGD3znvQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_d1knKWpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1knKmpkEe-g9_EGD3znvQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_d1knKmpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1knKWpkEe-g9_EGD3znvQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_d1knL2pkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1knLmpkEe-g9_EGD3znvQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1knNGpkEe-g9_EGD3znvQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_d1knM2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1knNWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1knNWpkEe-g9_EGD3znvQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_d1knNGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1lOMGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1lOMGpkEe-g9_EGD3znvQ" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_d1knNWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1lOMWpkEe-g9_EGD3znvQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1lOMWpkEe-g9_EGD3znvQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_d1lOMGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1lOMmpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1lOMmpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1lOMWpkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1lOOWpkEe-g9_EGD3znvQ">
                <branchBehaviour_BranchTransition id="_d1lOO2pkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1lONmpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1lON2pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1lON2pkEe-g9_EGD3znvQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_d1lONmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1lOOGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1lOOGpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1lON2pkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1lOPmpkEe-g9_EGD3znvQ">
                <branchBehaviour_BranchTransition id="_d1lOQGpkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1lOPGpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1lOPWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1lOPWpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1lOPGpkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1lOQmpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1lOQWpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_d1l1QGpkEe-g9_EGD3znvQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_d1lORmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1l1QWpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_d1l1QWpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1l1QGpkEe-g9_EGD3znvQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_d2WDMWpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2WDMGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_d2MSOWpkEe-g9_EGD3znvQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_d1knI2pkEe-g9_EGD3znvQ" describedService__SEFF="_dvX4hGpkEe-g9_EGD3znvQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_d1ix8GpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1ix92pkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_d1ix92pkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1ix8GpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1ix-GpkEe-g9_EGD3znvQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1ix9GpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_d1ix9mpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1ix8WpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1ix8mpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1ix8mpkEe-g9_EGD3znvQ" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_d1ix8WpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1ix82pkEe-g9_EGD3znvQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1ix82pkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1ix8mpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_d1ix-GpkEe-g9_EGD3znvQ" entityName="stopWatch.start()" predecessor_AbstractAction="_d1ix92pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1knIWpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_d1knIWpkEe-g9_EGD3znvQ" entityName="Switch Branch" predecessor_AbstractAction="_d1ix-GpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1knImpkEe-g9_EGD3znvQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1jZC2pkEe-g9_EGD3znvQ">
          <branchBehaviour_BranchTransition id="_d1jZDWpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1ix-WpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1ix-mpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1ix-mpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1ix-WpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1ix-2pkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1ix-2pkEe-g9_EGD3znvQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_d1ix-mpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1ix_GpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1ix_GpkEe-g9_EGD3znvQ" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_d1ix-2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1ix_WpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1ix_WpkEe-g9_EGD3znvQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_d1ix_GpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1ix_mpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1ix_mpkEe-g9_EGD3znvQ" entityName="deferredResult" predecessor_AbstractAction="_d1ix_WpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1jZB2pkEe-g9_EGD3znvQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_d1jZB2pkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1ix_mpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1jZCGpkEe-g9_EGD3znvQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1jZBGpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_d1jZBmpkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1ix_2pkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1iyAGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1iyAGpkEe-g9_EGD3znvQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_d1ix_2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iyAWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1iyAWpkEe-g9_EGD3znvQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_d1iyAGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iyAmpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1iyAmpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1iyAWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iyA2pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1iyA2pkEe-g9_EGD3znvQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_d1iyAmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1jZAGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1jZAGpkEe-g9_EGD3znvQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_d1iyA2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1jZAWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1jZAWpkEe-g9_EGD3znvQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_d1jZAGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1jZAmpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1jZAmpkEe-g9_EGD3znvQ" entityName="deferredResult" predecessor_AbstractAction="_d1jZAWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1jZA2pkEe-g9_EGD3znvQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1jZA2pkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1jZAmpkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1jZCGpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1jZB2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1jZCWpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1jZCWpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1jZCGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1jZCmpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1jZCmpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1jZCWpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1kAHWpkEe-g9_EGD3znvQ">
          <branchBehaviour_BranchTransition id="_d1kAH2pkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1jZDmpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1kAGWpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_d1kAGWpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1jZDmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAGmpkEe-g9_EGD3znvQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1kAFmpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_d1kAGGpkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1jZD2pkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1jZEGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1jZEGpkEe-g9_EGD3znvQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_d1jZD2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1jZEWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1jZEWpkEe-g9_EGD3znvQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_d1jZEGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAEGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1kAEGpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1jZEWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAEWpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1kAEWpkEe-g9_EGD3znvQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_d1kAEGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAEmpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1kAEmpkEe-g9_EGD3znvQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_d1kAEWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAE2pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1kAE2pkEe-g9_EGD3znvQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_d1kAEmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAFGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1kAFGpkEe-g9_EGD3znvQ" entityName="deferredResult" predecessor_AbstractAction="_d1kAE2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAFWpkEe-g9_EGD3znvQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1kAFWpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1kAFGpkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1kAGmpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1kAGWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAG2pkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1kAG2pkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1kAGmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAHGpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1kAHGpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1kAG2pkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1kAI2pkEe-g9_EGD3znvQ">
          <branchBehaviour_BranchTransition id="_d1knIGpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1kAIGpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1kAIWpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_d1kAIWpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1kAIGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1kAImpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1kAImpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1kAIWpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_d1knImpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1knIWpkEe-g9_EGD3znvQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_d2X4ampkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2X4aWpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_d2MSNmpkEe-g9_EGD3znvQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_d1iK9WpkEe-g9_EGD3znvQ" describedService__SEFF="_dvWqYWpkEe-g9_EGD3znvQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_d1gVvWpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1g8wGpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_d1g8wGpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1gVvWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1g8wWpkEe-g9_EGD3znvQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1gVwWpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_d1gVw2pkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1gVvmpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1gVv2pkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1gVv2pkEe-g9_EGD3znvQ" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_d1gVvmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1gVwGpkEe-g9_EGD3znvQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1gVwGpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1gVv2pkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_d1g8wWpkEe-g9_EGD3znvQ" entityName="stopWatch.start()" predecessor_AbstractAction="_d1g8wGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iK8mpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_d1iK8mpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1g8wWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iK82pkEe-g9_EGD3znvQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1iK72pkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_d1iK8WpkEe-g9_EGD3znvQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_d1g8wmpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1iK7WpkEe-g9_EGD3znvQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_d1iK7WpkEe-g9_EGD3znvQ" entityName="Switch Branch" predecessor_AbstractAction="_d1g8wmpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iK7mpkEe-g9_EGD3znvQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1hj2GpkEe-g9_EGD3znvQ">
                <branchBehaviour_BranchTransition id="_d1hj2mpkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1g8w2pkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1g8xGpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1g8xGpkEe-g9_EGD3znvQ" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_d1g8w2pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1g80GpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_d1g80GpkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1g8xGpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1g80WpkEe-g9_EGD3znvQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1g8zWpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_d1g8z2pkEe-g9_EGD3znvQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_d1g8xWpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1g8y2pkEe-g9_EGD3znvQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_d1g8y2pkEe-g9_EGD3znvQ" entityName="If Branch" predecessor_AbstractAction="_d1g8xWpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1g8zGpkEe-g9_EGD3znvQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1g8yGpkEe-g9_EGD3znvQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_d1g8ympkEe-g9_EGD3znvQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_d1g8xmpkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1g8x2pkEe-g9_EGD3znvQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_d1g8x2pkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1g8xmpkEe-g9_EGD3znvQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_d1g8zGpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1g8y2pkEe-g9_EGD3znvQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1g80WpkEe-g9_EGD3znvQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_d1g80GpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1g80mpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1g80mpkEe-g9_EGD3znvQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_d1g80WpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1g802pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1g802pkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1g80mpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1g81GpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1g81GpkEe-g9_EGD3znvQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_d1g802pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1g81WpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1g81WpkEe-g9_EGD3znvQ" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_d1g81GpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj0GpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1hj0GpkEe-g9_EGD3znvQ" entityName="deferredResult" predecessor_AbstractAction="_d1g81WpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj0WpkEe-g9_EGD3znvQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1hj0WpkEe-g9_EGD3znvQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_d1hj0GpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj0mpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1hj0mpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1hj0WpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj02pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1hj02pkEe-g9_EGD3znvQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_d1hj0mpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj1GpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1hj1GpkEe-g9_EGD3znvQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_d1hj02pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj1WpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1hj1WpkEe-g9_EGD3znvQ" entityName="deferredResult" predecessor_AbstractAction="_d1hj1GpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj1mpkEe-g9_EGD3znvQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1hj1mpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1hj1WpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj12pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1hj12pkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1hj1mpkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1iK5GpkEe-g9_EGD3znvQ">
                <branchBehaviour_BranchTransition id="_d1iK5mpkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1hj22pkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1hj3GpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1hj3GpkEe-g9_EGD3znvQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_d1hj22pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj3WpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1hj3WpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1hj3GpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1hj3mpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1hj3mpkEe-g9_EGD3znvQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_d1hj3WpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iK4GpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1iK4GpkEe-g9_EGD3znvQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_d1hj3mpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iK4WpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_d1iK4WpkEe-g9_EGD3znvQ" entityName="deferredResult" predecessor_AbstractAction="_d1iK4GpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iK4mpkEe-g9_EGD3znvQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1iK4mpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1iK4WpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iK42pkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1iK42pkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1iK4mpkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_d1iK6mpkEe-g9_EGD3znvQ">
                <branchBehaviour_BranchTransition id="_d1iK7GpkEe-g9_EGD3znvQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_d1iK52pkEe-g9_EGD3znvQ" entityName="Start Action" successor_AbstractAction="_d1iK6GpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_d1iK6GpkEe-g9_EGD3znvQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_d1iK52pkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iK6WpkEe-g9_EGD3znvQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_d1iK6WpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1iK6GpkEe-g9_EGD3znvQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_d1iK7mpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1iK7WpkEe-g9_EGD3znvQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_d1iK82pkEe-g9_EGD3znvQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_d1iK8mpkEe-g9_EGD3znvQ" successor_AbstractAction="_d1iK9GpkEe-g9_EGD3znvQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_d1iK9GpkEe-g9_EGD3znvQ" entityName="Stop Action" predecessor_AbstractAction="_d1iK82pkEe-g9_EGD3znvQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_d2biwWpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_d2cJ0mpkEe-g9_EGD3znvQ" encapsulatedComponent__AssemblyContext="_d2WDMWpkEe-g9_EGD3znvQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_d2dX8WpkEe-g9_EGD3znvQ" innerProvidedRole_ProvidedDelegationConnector="_d2WDMGpkEe-g9_EGD3znvQ" outerProvidedRole_ProvidedDelegationConnector="_d2biwGpkEe-g9_EGD3znvQ" assemblyContext_ProvidedDelegationConnector="_d2cJ0mpkEe-g9_EGD3znvQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2biwGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_d2MSOWpkEe-g9_EGD3znvQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_d2bixGpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_d2cJ0GpkEe-g9_EGD3znvQ" encapsulatedComponent__AssemblyContext="_d2PVhmpkEe-g9_EGD3znvQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_d2dX8mpkEe-g9_EGD3znvQ" innerProvidedRole_ProvidedDelegationConnector="_d2PVhWpkEe-g9_EGD3znvQ" outerProvidedRole_ProvidedDelegationConnector="_d2biw2pkEe-g9_EGD3znvQ" assemblyContext_ProvidedDelegationConnector="_d2cJ0GpkEe-g9_EGD3znvQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_d2dX9GpkEe-g9_EGD3znvQ" innerProvidedRole_ProvidedDelegationConnector="_d2PVhGpkEe-g9_EGD3znvQ" outerProvidedRole_ProvidedDelegationConnector="_d2biwmpkEe-g9_EGD3znvQ" assemblyContext_ProvidedDelegationConnector="_d2cJ0GpkEe-g9_EGD3znvQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2biwmpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_d2MSOmpkEe-g9_EGD3znvQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2biw2pkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_d2MSN2pkEe-g9_EGD3znvQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_d2bixWpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_d2cJ2GpkEe-g9_EGD3znvQ" encapsulatedComponent__AssemblyContext="_d2PVg2pkEe-g9_EGD3znvQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_d2bix2pkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_d2cJ2mpkEe-g9_EGD3znvQ" encapsulatedComponent__AssemblyContext="_d2X4ampkEe-g9_EGD3znvQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_d2dX82pkEe-g9_EGD3znvQ" innerProvidedRole_ProvidedDelegationConnector="_d2X4aWpkEe-g9_EGD3znvQ" outerProvidedRole_ProvidedDelegationConnector="_d2bixmpkEe-g9_EGD3znvQ" assemblyContext_ProvidedDelegationConnector="_d2cJ2mpkEe-g9_EGD3znvQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2bixmpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_d2MSNmpkEe-g9_EGD3znvQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_d2biyWpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_d2cJ1mpkEe-g9_EGD3znvQ" encapsulatedComponent__AssemblyContext="_d2M5QWpkEe-g9_EGD3znvQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_d2dX9WpkEe-g9_EGD3znvQ" innerProvidedRole_ProvidedDelegationConnector="_d2M5QGpkEe-g9_EGD3znvQ" outerProvidedRole_ProvidedDelegationConnector="_d2biyGpkEe-g9_EGD3znvQ" assemblyContext_ProvidedDelegationConnector="_d2cJ1mpkEe-g9_EGD3znvQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2biyGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_d2MSOGpkEe-g9_EGD3znvQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_d2biy2pkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_d2cJ1GpkEe-g9_EGD3znvQ" encapsulatedComponent__AssemblyContext="_d2Tm_GpkEe-g9_EGD3znvQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_d2dX8GpkEe-g9_EGD3znvQ" innerProvidedRole_ProvidedDelegationConnector="_d2Tm-2pkEe-g9_EGD3znvQ" outerProvidedRole_ProvidedDelegationConnector="_d2biympkEe-g9_EGD3znvQ" assemblyContext_ProvidedDelegationConnector="_d2cJ1GpkEe-g9_EGD3znvQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_d2biympkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_d2MSO2pkEe-g9_EGD3znvQ"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_d2MSNmpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_dvWqYWpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_dvWqYGpkEe-g9_EGD3znvQ">
      <parameters__OperationSignature dataType__Parameter="_dvWDUGpkEe-g9_EGD3znvQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_d2MSN2pkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_dvX4gGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_dul1YWpkEe-g9_EGD3znvQ">
      <parameters__OperationSignature dataType__Parameter="_dvXRdWpkEe-g9_EGD3znvQ" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_d2MSOGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_dvXRcmpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_dvWqYGpkEe-g9_EGD3znvQ">
      <parameters__OperationSignature dataType__Parameter="_dvWDUGpkEe-g9_EGD3znvQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_d2MSOWpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_dvX4hGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_dvWqYGpkEe-g9_EGD3znvQ">
      <parameters__OperationSignature dataType__Parameter="_dvX4g2pkEe-g9_EGD3znvQ" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_d2MSOmpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_dumccGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_dul1YWpkEe-g9_EGD3znvQ">
      <parameters__OperationSignature dataType__Parameter="_duknQGpkEe-g9_EGD3znvQ" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_dul1YGpkEe-g9_EGD3znvQ" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_d2MSO2pkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_dvWqZGpkEe-g9_EGD3znvQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_dul1YWpkEe-g9_EGD3znvQ">
      <parameters__OperationSignature dataType__Parameter="_dvWDUGpkEe-g9_EGD3znvQ" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_duknQGpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dul1YGpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dul1YWpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dvWDUGpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dvWqYGpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dvXRdWpkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dvX4g2pkEe-g9_EGD3znvQ" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
