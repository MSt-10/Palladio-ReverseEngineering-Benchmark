<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_Llj9XJAdEe-GIYzDqXmHlQ">
  <components__Repository xsi:type="repository:BasicComponent" id="_LlTeppAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LlTepZAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_LlTeopAdEe-GIYzDqXmHlQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LkeYRJAdEe-GIYzDqXmHlQ" describedService__SEFF="_LeP0YJAdEe-GIYzDqXmHlQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LeqEEZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkeYQZAdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LkeYQZAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_LeqEEZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkeYQpAdEe-GIYzDqXmHlQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkeYPpAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LkeYQJAdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ler5QJAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkeYPJAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LkeYPJAdEe-GIYzDqXmHlQ" entityName="Switch Branch" predecessor_AbstractAction="_Ler5QJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkeYPZAdEe-GIYzDqXmHlQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkdxI5AdEe-GIYzDqXmHlQ">
                <branchBehaviour_BranchTransition id="_LkeYMJAdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LesgUJAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkaGxZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_LkaGxZAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_LesgUJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkbU4JAdEe-GIYzDqXmHlQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkaGwpAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_LkaGxJAdEe-GIYzDqXmHlQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LesgUZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkaGwJAdEe-GIYzDqXmHlQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_LkaGwJAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_LesgUZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkaGwZAdEe-GIYzDqXmHlQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LetHYJAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_LetucJAdEe-GIYzDqXmHlQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_LesgUpAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LesgU5AdEe-GIYzDqXmHlQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_LesgU5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LesgUpAdEe-GIYzDqXmHlQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LkaGwZAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkaGwJAdEe-GIYzDqXmHlQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkbU4JAdEe-GIYzDqXmHlQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_LkaGxZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkbU4ZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkbU4ZAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_LkbU4JAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkdxIJAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LkdxIJAdEe-GIYzDqXmHlQ" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_LkbU4ZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkdxIZAdEe-GIYzDqXmHlQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkdxIZAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_LkdxIJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkdxIpAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LkdxIpAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkdxIZAdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkeYNJAdEe-GIYzDqXmHlQ">
                <branchBehaviour_BranchTransition id="_LkeYNpAdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LkeYMZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkeYMpAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkeYMpAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_LkeYMZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkeYM5AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LkeYM5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkeYMpAdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkeYOZAdEe-GIYzDqXmHlQ">
                <branchBehaviour_BranchTransition id="_LkeYO5AdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LkeYN5AdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkeYOJAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LkeYOJAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkeYN5AdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LkeYPZAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkeYPJAdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LkeYQpAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_LkeYQZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkeYQ5AdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LkeYQ5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkeYQpAdEe-GIYzDqXmHlQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LlWh9JAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LlWh85AdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_LlTepJAdEe-GIYzDqXmHlQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LkgNcpAdEe-GIYzDqXmHlQ" describedService__SEFF="_LeOmRJAdEe-GIYzDqXmHlQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Lke_QZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lke_SJAdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Lke_SJAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lke_QZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lke_SZAdEe-GIYzDqXmHlQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lke_RZAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Lke_R5AdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lke_QpAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lke_Q5AdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Lke_Q5AdEe-GIYzDqXmHlQ" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_Lke_QpAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lke_RJAdEe-GIYzDqXmHlQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lke_RJAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lke_Q5AdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Lke_SZAdEe-GIYzDqXmHlQ" entityName="stopWatch.start()" predecessor_AbstractAction="_Lke_SJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNcJAdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LkgNcJAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lke_SZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNcZAdEe-GIYzDqXmHlQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkgNbZAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LkgNb5AdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lke_SpAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkgNa5AdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LkgNa5AdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lke_SpAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNbJAdEe-GIYzDqXmHlQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkgNaJAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LkgNapAdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Lke_S5AdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkfmY5AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_LkfmY5AdEe-GIYzDqXmHlQ" entityName="Switch Branch" predecessor_AbstractAction="_Lke_S5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkfmZJAdEe-GIYzDqXmHlQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkfmVJAdEe-GIYzDqXmHlQ">
                      <branchBehaviour_BranchTransition id="_LkfmVpAdEe-GIYzDqXmHlQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Lke_TJAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkfmUZAdEe-GIYzDqXmHlQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_LkfmUZAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lke_TJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkfmUpAdEe-GIYzDqXmHlQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lke_UJAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_LkfmUJAdEe-GIYzDqXmHlQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Lke_TZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lke_TpAdEe-GIYzDqXmHlQ"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_Lke_TpAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Lke_TZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lke_T5AdEe-GIYzDqXmHlQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Lke_T5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lke_TpAdEe-GIYzDqXmHlQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_LkfmUpAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkfmUZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkfmU5AdEe-GIYzDqXmHlQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LkfmU5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkfmUpAdEe-GIYzDqXmHlQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkfmWpAdEe-GIYzDqXmHlQ">
                      <branchBehaviour_BranchTransition id="_LkfmXJAdEe-GIYzDqXmHlQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LkfmV5AdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkfmWJAdEe-GIYzDqXmHlQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_LkfmWJAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkfmV5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkfmWZAdEe-GIYzDqXmHlQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LkfmWZAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkfmWJAdEe-GIYzDqXmHlQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkfmYJAdEe-GIYzDqXmHlQ">
                      <branchBehaviour_BranchTransition id="_LkfmYpAdEe-GIYzDqXmHlQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LkfmXZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkfmXpAdEe-GIYzDqXmHlQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_LkfmXpAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkfmXZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkfmX5AdEe-GIYzDqXmHlQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LkfmX5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkfmXpAdEe-GIYzDqXmHlQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkfmZJAdEe-GIYzDqXmHlQ" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_LkfmY5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNYJAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkgNYJAdEe-GIYzDqXmHlQ" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_LkfmZJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNYZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkgNYZAdEe-GIYzDqXmHlQ" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_LkgNYJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNYpAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkgNYpAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkgNYZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNY5AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkgNY5AdEe-GIYzDqXmHlQ" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LkgNYpAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNZJAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkgNZJAdEe-GIYzDqXmHlQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_LkgNY5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNZZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkgNZZAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_LkgNZJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNZpAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LkgNZpAdEe-GIYzDqXmHlQ" entityName="deferredResult" predecessor_AbstractAction="_LkgNZZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkgNZ5AdEe-GIYzDqXmHlQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LkgNZ5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkgNZpAdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LkgNbJAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkgNa5AdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LkgNcZAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkgNcJAdEe-GIYzDqXmHlQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LlY-NZAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LlY-M5AdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_LlTeoZAdEe-GIYzDqXmHlQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LlY-NJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_LlTeo5AdEe-GIYzDqXmHlQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LkiCkpAdEe-GIYzDqXmHlQ" describedService__SEFF="_Ldb8EJAdEe-GIYzDqXmHlQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Lkhbj5AdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkiCkJAdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LkiCkJAdEe-GIYzDqXmHlQ" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_Lkhbj5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiCkZAdEe-GIYzDqXmHlQ">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LkiCkZAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkiCkJAdEe-GIYzDqXmHlQ"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LkhbjZAdEe-GIYzDqXmHlQ" describedService__SEFF="_LeP0ZZAdEe-GIYzDqXmHlQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Lkg0cZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkg0fpAdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Lkg0fpAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lkg0cZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkhbi5AdEe-GIYzDqXmHlQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkg0dZAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Lkg0d5AdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lkg0cpAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkg0c5AdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkg0c5AdEe-GIYzDqXmHlQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_Lkg0cpAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkg0dJAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lkg0dJAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkg0c5AdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkg0e5AdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Lkg0fZAdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lkg0eJAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkg0eZAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkg0eZAdEe-GIYzDqXmHlQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_Lkg0eJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkg0epAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lkg0epAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkg0eZAdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Lkhbi5AdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lkg0fpAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkhbjJAdEe-GIYzDqXmHlQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkhbiJAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LkhbipAdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lkg0f5AdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkhbhpAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LkhbhpAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lkg0f5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkhbh5AdEe-GIYzDqXmHlQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkg0hJAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LkhbgJAdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Lkg0gJAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkg0gZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkg0gZAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_Lkg0gJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkg0gpAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Lkg0gpAdEe-GIYzDqXmHlQ" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_Lkg0gZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkg0g5AdEe-GIYzDqXmHlQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Lkg0g5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkg0gpAdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkhbg5AdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LkhbhZAdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LkhbgZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkhbgpAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LkhbgpAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkhbgZAdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lkhbh5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkhbhpAdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LkhbjJAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkhbi5AdEe-GIYzDqXmHlQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LldPppAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LldPpZAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_LlS3mpAdEe-GIYzDqXmHlQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LkltA5AdEe-GIYzDqXmHlQ" describedService__SEFF="_LeOmQZAdEe-GIYzDqXmHlQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Lkj3zpAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkj31ZAdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Lkj31ZAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lkj3zpAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkj31pAdEe-GIYzDqXmHlQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkj30pAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Lkj31JAdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lkj3z5AdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkj30JAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Lkj30JAdEe-GIYzDqXmHlQ" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_Lkj3z5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkj30ZAdEe-GIYzDqXmHlQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lkj30ZAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkj30JAdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkj31pAdEe-GIYzDqXmHlQ" entityName="stopWatch.start()" predecessor_AbstractAction="_Lkj31ZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkltAJAdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LkltAJAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lkj31pAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkltAZAdEe-GIYzDqXmHlQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkls_ZAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Lkls_5AdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lkke0JAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkls-5AdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Lkls-5AdEe-GIYzDqXmHlQ" entityName="Switch Branch" predecessor_AbstractAction="_Lkke0JAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkls_JAdEe-GIYzDqXmHlQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LklF55AdEe-GIYzDqXmHlQ">
                <branchBehaviour_BranchTransition id="_LklF6ZAdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Lkke0ZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkke0pAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkke0pAdEe-GIYzDqXmHlQ" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_Lkke0ZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkke3pAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_Lkke3pAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lkke0pAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkke35AdEe-GIYzDqXmHlQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkke25AdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_Lkke3ZAdEe-GIYzDqXmHlQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Lkke05AdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkke2ZAdEe-GIYzDqXmHlQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Lkke2ZAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_Lkke05AdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkke2pAdEe-GIYzDqXmHlQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkke1pAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Lkke2JAdEe-GIYzDqXmHlQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Lkke1JAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkke1ZAdEe-GIYzDqXmHlQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Lkke1ZAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkke1JAdEe-GIYzDqXmHlQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Lkke2pAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkke2ZAdEe-GIYzDqXmHlQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkke35AdEe-GIYzDqXmHlQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_Lkke3pAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkke4JAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkke4JAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_Lkke35AdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkke4ZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkke4ZAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Lkke4JAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkke4pAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkke4pAdEe-GIYzDqXmHlQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Lkke4ZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkke45AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkke45AdEe-GIYzDqXmHlQ" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_Lkke4pAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkke5JAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Lkke5JAdEe-GIYzDqXmHlQ" entityName="deferredResult" predecessor_AbstractAction="_Lkke45AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF4JAdEe-GIYzDqXmHlQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LklF4JAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_Lkke5JAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF4ZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LklF4ZAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LklF4JAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF4pAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LklF4pAdEe-GIYzDqXmHlQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LklF4ZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF45AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LklF45AdEe-GIYzDqXmHlQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_LklF4pAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF5JAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LklF5JAdEe-GIYzDqXmHlQ" entityName="deferredResult" predecessor_AbstractAction="_LklF45AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF5ZAdEe-GIYzDqXmHlQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LklF5ZAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LklF5JAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF5pAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LklF5pAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LklF5ZAdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkls8pAdEe-GIYzDqXmHlQ">
                <branchBehaviour_BranchTransition id="_Lkls9JAdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LklF6pAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LklF65AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LklF65AdEe-GIYzDqXmHlQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_LklF6pAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF7JAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LklF7JAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LklF65AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF7ZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LklF7ZAdEe-GIYzDqXmHlQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LklF7JAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF7pAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LklF7pAdEe-GIYzDqXmHlQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_LklF7ZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LklF75AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LklF75AdEe-GIYzDqXmHlQ" entityName="deferredResult" predecessor_AbstractAction="_LklF7pAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkls8JAdEe-GIYzDqXmHlQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkls8JAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LklF75AdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkls8ZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Lkls8ZAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkls8JAdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkls-JAdEe-GIYzDqXmHlQ">
                <branchBehaviour_BranchTransition id="_Lkls-pAdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Lkls9ZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkls9pAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkls9pAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Lkls9ZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkls95AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Lkls95AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkls9pAdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lkls_JAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkls-5AdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LkltAZAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_LkltAJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkltApAdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LkltApAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkltAZAdEe-GIYzDqXmHlQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LlfE3ZAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_LlfE35AdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LlfE3pAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_LlTeoJAdEe-GIYzDqXmHlQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Lkj3zJAdEe-GIYzDqXmHlQ" describedService__SEFF="_LePNU5AdEe-GIYzDqXmHlQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LkiClJAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkiCm5AdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LkiCm5AdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_LkiClJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiCnJAdEe-GIYzDqXmHlQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkiCmJAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LkiCmpAdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LkiClZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkiClpAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LkiClpAdEe-GIYzDqXmHlQ" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_LkiClZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiCl5AdEe-GIYzDqXmHlQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LkiCl5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkiClpAdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LkiCnJAdEe-GIYzDqXmHlQ" entityName="stopWatch.start()" predecessor_AbstractAction="_LkiCm5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkj3ypAdEe-GIYzDqXmHlQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Lkj3ypAdEe-GIYzDqXmHlQ" entityName="Switch Branch" predecessor_AbstractAction="_LkiCnJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkj3y5AdEe-GIYzDqXmHlQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkipsJAdEe-GIYzDqXmHlQ">
          <branchBehaviour_BranchTransition id="_LkipspAdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LkiCnZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkiCnpAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LkiCnpAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkiCnZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiCn5AdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LkiCn5AdEe-GIYzDqXmHlQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LkiCnpAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiCoJAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LkiCoJAdEe-GIYzDqXmHlQ" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_LkiCn5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiCoZAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LkiCoZAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_LkiCoJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiCopAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LkiCopAdEe-GIYzDqXmHlQ" entityName="deferredResult" predecessor_AbstractAction="_LkiCoZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiprJAdEe-GIYzDqXmHlQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LkiprJAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_LkiCopAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiprZAdEe-GIYzDqXmHlQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkipqZAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Lkipq5AdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LkipoJAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkipoZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkipoZAdEe-GIYzDqXmHlQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_LkipoJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkipopAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkipopAdEe-GIYzDqXmHlQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_LkipoZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkipo5AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkipo5AdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkipopAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkippJAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkippJAdEe-GIYzDqXmHlQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Lkipo5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkippZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkippZAdEe-GIYzDqXmHlQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_LkippJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkipppAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkipppAdEe-GIYzDqXmHlQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_LkippZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkipp5AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Lkipp5AdEe-GIYzDqXmHlQ" entityName="deferredResult" predecessor_AbstractAction="_LkipppAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkipqJAdEe-GIYzDqXmHlQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LkipqJAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkipp5AdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LkiprZAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkiprJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkiprpAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LkiprpAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkiprZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkipr5AdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lkipr5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkiprpAdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkj3wZAdEe-GIYzDqXmHlQ">
          <branchBehaviour_BranchTransition id="_Lkj3w5AdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LkjQsJAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkjQvZAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LkjQvZAdEe-GIYzDqXmHlQ" entityName="If Branch" predecessor_AbstractAction="_LkjQsJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkjQvpAdEe-GIYzDqXmHlQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LkjQupAdEe-GIYzDqXmHlQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LkjQvJAdEe-GIYzDqXmHlQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LkjQsZAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_LkjQspAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkjQspAdEe-GIYzDqXmHlQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_LkjQsZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkjQs5AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkjQs5AdEe-GIYzDqXmHlQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_LkjQspAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkjQtJAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkjQtJAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkjQs5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkjQtZAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkjQtZAdEe-GIYzDqXmHlQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LkjQtJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkjQtpAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkjQtpAdEe-GIYzDqXmHlQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_LkjQtZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkjQt5AdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LkjQt5AdEe-GIYzDqXmHlQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_LkjQtpAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkjQuJAdEe-GIYzDqXmHlQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LkjQuJAdEe-GIYzDqXmHlQ" entityName="deferredResult" predecessor_AbstractAction="_LkjQt5AdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkjQuZAdEe-GIYzDqXmHlQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LkjQuZAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkjQuJAdEe-GIYzDqXmHlQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LkjQvpAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkjQvZAdEe-GIYzDqXmHlQ" successor_AbstractAction="_LkjQv5AdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LkjQv5AdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_LkjQvpAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkj3wJAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lkj3wJAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_LkjQv5AdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lkj3x5AdEe-GIYzDqXmHlQ">
          <branchBehaviour_BranchTransition id="_Lkj3yZAdEe-GIYzDqXmHlQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lkj3xJAdEe-GIYzDqXmHlQ" entityName="Start Action" successor_AbstractAction="_Lkj3xZAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Lkj3xZAdEe-GIYzDqXmHlQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Lkj3xJAdEe-GIYzDqXmHlQ" successor_AbstractAction="_Lkj3xpAdEe-GIYzDqXmHlQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lkj3xpAdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkj3xZAdEe-GIYzDqXmHlQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Lkj3y5AdEe-GIYzDqXmHlQ" entityName="Stop Action" predecessor_AbstractAction="_Lkj3ypAdEe-GIYzDqXmHlQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LlivMZAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_Llj9VJAdEe-GIYzDqXmHlQ" encapsulatedComponent__AssemblyContext="_LlWh9JAdEe-GIYzDqXmHlQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LllLc5AdEe-GIYzDqXmHlQ" innerProvidedRole_ProvidedDelegationConnector="_LlWh85AdEe-GIYzDqXmHlQ" outerProvidedRole_ProvidedDelegationConnector="_LlivMJAdEe-GIYzDqXmHlQ" assemblyContext_ProvidedDelegationConnector="_Llj9VJAdEe-GIYzDqXmHlQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LlivMJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_LlTepJAdEe-GIYzDqXmHlQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LljWQZAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_Llj9WpAdEe-GIYzDqXmHlQ" encapsulatedComponent__AssemblyContext="_LlfE35AdEe-GIYzDqXmHlQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LllLcJAdEe-GIYzDqXmHlQ" innerProvidedRole_ProvidedDelegationConnector="_LlfE3pAdEe-GIYzDqXmHlQ" outerProvidedRole_ProvidedDelegationConnector="_LljWQJAdEe-GIYzDqXmHlQ" assemblyContext_ProvidedDelegationConnector="_Llj9WpAdEe-GIYzDqXmHlQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LljWQJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_LlTeoJAdEe-GIYzDqXmHlQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LljWQpAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_Llj9UpAdEe-GIYzDqXmHlQ" encapsulatedComponent__AssemblyContext="_LlfE3ZAdEe-GIYzDqXmHlQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LljWRZAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_Llj9UJAdEe-GIYzDqXmHlQ" encapsulatedComponent__AssemblyContext="_LlY-NZAdEe-GIYzDqXmHlQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LlkkYJAdEe-GIYzDqXmHlQ" innerProvidedRole_ProvidedDelegationConnector="_LlY-NJAdEe-GIYzDqXmHlQ" outerProvidedRole_ProvidedDelegationConnector="_LljWQ5AdEe-GIYzDqXmHlQ" assemblyContext_ProvidedDelegationConnector="_Llj9UJAdEe-GIYzDqXmHlQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LllLcZAdEe-GIYzDqXmHlQ" innerProvidedRole_ProvidedDelegationConnector="_LlY-M5AdEe-GIYzDqXmHlQ" outerProvidedRole_ProvidedDelegationConnector="_LljWRJAdEe-GIYzDqXmHlQ" assemblyContext_ProvidedDelegationConnector="_Llj9UJAdEe-GIYzDqXmHlQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LljWQ5AdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_LlTeo5AdEe-GIYzDqXmHlQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LljWRJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_LlTeoZAdEe-GIYzDqXmHlQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LljWR5AdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_Llj9VpAdEe-GIYzDqXmHlQ" encapsulatedComponent__AssemblyContext="_LlTeppAdEe-GIYzDqXmHlQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LllLdJAdEe-GIYzDqXmHlQ" innerProvidedRole_ProvidedDelegationConnector="_LlTepZAdEe-GIYzDqXmHlQ" outerProvidedRole_ProvidedDelegationConnector="_LljWRpAdEe-GIYzDqXmHlQ" assemblyContext_ProvidedDelegationConnector="_Llj9VpAdEe-GIYzDqXmHlQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LljWRpAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_LlTeopAdEe-GIYzDqXmHlQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LljWSZAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_Llj9WJAdEe-GIYzDqXmHlQ" encapsulatedComponent__AssemblyContext="_LldPppAdEe-GIYzDqXmHlQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LllLcpAdEe-GIYzDqXmHlQ" innerProvidedRole_ProvidedDelegationConnector="_LldPpZAdEe-GIYzDqXmHlQ" outerProvidedRole_ProvidedDelegationConnector="_LljWSJAdEe-GIYzDqXmHlQ" assemblyContext_ProvidedDelegationConnector="_Llj9WJAdEe-GIYzDqXmHlQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LljWSJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_LlS3mpAdEe-GIYzDqXmHlQ"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LlS3mpAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_LeOmQZAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_LeOmQJAdEe-GIYzDqXmHlQ">
      <parameters__OperationSignature dataType__Parameter="_LeN_MJAdEe-GIYzDqXmHlQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LlTeoJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_LePNU5AdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_LeOmQJAdEe-GIYzDqXmHlQ">
      <parameters__OperationSignature dataType__Parameter="_LePNUpAdEe-GIYzDqXmHlQ" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LlTeoZAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_Ldb8EJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_LdbVAJAdEe-GIYzDqXmHlQ">
      <parameters__OperationSignature dataType__Parameter="_LdaG4JAdEe-GIYzDqXmHlQ" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LlTeopAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_LeP0YJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_LdbVAJAdEe-GIYzDqXmHlQ">
      <parameters__OperationSignature dataType__Parameter="_LeN_MJAdEe-GIYzDqXmHlQ" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LlTeo5AdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_LeP0ZZAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_LdbVAJAdEe-GIYzDqXmHlQ">
      <parameters__OperationSignature dataType__Parameter="_LeP0Y5AdEe-GIYzDqXmHlQ" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_LeP0ZJAdEe-GIYzDqXmHlQ" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LlTepJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_LeOmRJAdEe-GIYzDqXmHlQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_LeOmQJAdEe-GIYzDqXmHlQ">
      <parameters__OperationSignature dataType__Parameter="_LeN_MJAdEe-GIYzDqXmHlQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LdaG4JAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LdbVAJAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LeN_MJAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LeOmQJAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LePNUpAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LeP0Y5AdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LeP0ZJAdEe-GIYzDqXmHlQ" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
