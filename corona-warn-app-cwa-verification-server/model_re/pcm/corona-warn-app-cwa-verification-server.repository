<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_jol86uyoEe6uNp5NP68SeQ">
  <components__Repository xsi:type="repository:BasicComponent" id="_joVeOeyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_joVeN-yoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_joVeNOyoEe6uNp5NP68SeQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_joVeOOyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_joVeM-yoEe6uNp5NP68SeQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jnslGuyoEe6uNp5NP68SeQ" describedService__SEFF="_jhczEuyoEe6uNp5NP68SeQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jnr-AeyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnslBeyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jnslBeyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jnr-AeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnslGOyoEe6uNp5NP68SeQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnr-BeyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jnr-B-yoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jnr-AuyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnr-A-yoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jnr-A-yoEe6uNp5NP68SeQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_jnr-AuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnr-BOyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnr-BOyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnr-A-yoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnslAuyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jnslBOyoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jnr-COyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnslAOyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jnslAOyoEe6uNp5NP68SeQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_jnr-COyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnslAeyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnslAeyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnslAOyoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jnslGOyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jnslBeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnslGeyoEe6uNp5NP68SeQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnslFeyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jnslF-yoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jnslBuyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnslE-yoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jnslE-yoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jnslBuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnslFOyoEe6uNp5NP68SeQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnslC-yoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jnslDeyoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jnslB-yoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnslCOyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnslCOyoEe6uNp5NP68SeQ" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_jnslB-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnslCeyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jnslCeyoEe6uNp5NP68SeQ" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_jnslCOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnslCuyoEe6uNp5NP68SeQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnslCuyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnslCeyoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnslEOyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jnslEuyoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jnslDuyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnslD-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnslD-yoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnslDuyoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnslFOyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnslE-yoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jnslGeyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnslGOyoEe6uNp5NP68SeQ"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jntMFOyoEe6uNp5NP68SeQ" describedService__SEFF="_jhcMA-yoEe6uNp5NP68SeQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jntMEeyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jntMEuyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jntMEuyoEe6uNp5NP68SeQ" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_jntMEeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntME-yoEe6uNp5NP68SeQ">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jntME-yoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jntMEuyoEe6uNp5NP68SeQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_joa9w-yoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_joa9xeyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_joa9xOyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_joVeMeyoEe6uNp5NP68SeQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jnvBVOyoEe6uNp5NP68SeQ" describedService__SEFF="_jhdaJOyoEe6uNp5NP68SeQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jntMFuyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jntzJOyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jntzJOyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jntMFuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzJeyoEe6uNp5NP68SeQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jntzIeyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jntzI-yoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jntMF-yoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jntMGOyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jntMGOyoEe6uNp5NP68SeQ" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_jntMF-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzIOyoEe6uNp5NP68SeQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jntzIOyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jntMGOyoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzJeyoEe6uNp5NP68SeQ" entityName="stopWatch.start()" predecessor_AbstractAction="_jntzJOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnvBUuyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jnvBUuyoEe6uNp5NP68SeQ" entityName="Switch Branch" predecessor_AbstractAction="_jntzJeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnvBU-yoEe6uNp5NP68SeQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnuaOOyoEe6uNp5NP68SeQ">
          <branchBehaviour_BranchTransition id="_jnuaOuyoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jntzJuyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jntzJ-yoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzJ-yoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jntzJuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzKOyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzKOyoEe6uNp5NP68SeQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jntzJ-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzKeyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzKeyoEe6uNp5NP68SeQ" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_jntzKOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzKuyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzKuyoEe6uNp5NP68SeQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_jntzKeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzK-yoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jntzK-yoEe6uNp5NP68SeQ" entityName="deferredResult" predecessor_AbstractAction="_jntzKuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaNOyoEe6uNp5NP68SeQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jnuaNOyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jntzK-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaNeyoEe6uNp5NP68SeQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnuaMeyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jnuaM-yoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jntzLOyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jntzLeyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzLeyoEe6uNp5NP68SeQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_jntzLOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzLuyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzLuyoEe6uNp5NP68SeQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_jntzLeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzL-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzL-yoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jntzLuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzMOyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzMOyoEe6uNp5NP68SeQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jntzL-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzMeyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzMeyoEe6uNp5NP68SeQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_jntzMOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzMuyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jntzMuyoEe6uNp5NP68SeQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_jntzMeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jntzM-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jntzM-yoEe6uNp5NP68SeQ" entityName="deferredResult" predecessor_AbstractAction="_jntzMuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaMOyoEe6uNp5NP68SeQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnuaMOyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jntzM-yoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jnuaNeyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnuaNOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaNuyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jnuaNuyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnuaNeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaN-yoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnuaN-yoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnuaNuyoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnvBSeyoEe6uNp5NP68SeQ">
          <branchBehaviour_BranchTransition id="_jnvBS-yoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jnuaO-yoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnvBReyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jnvBReyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jnuaO-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnvBRuyoEe6uNp5NP68SeQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnvBQuyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jnvBROyoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jnuaPOyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnuaPeyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnuaPeyoEe6uNp5NP68SeQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_jnuaPOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaPuyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnuaPuyoEe6uNp5NP68SeQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_jnuaPeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaP-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnuaP-yoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnuaPuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaQOyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnuaQOyoEe6uNp5NP68SeQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jnuaP-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaQeyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnuaQeyoEe6uNp5NP68SeQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_jnuaQOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnuaQuyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnuaQuyoEe6uNp5NP68SeQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_jnuaQeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnvBQOyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jnvBQOyoEe6uNp5NP68SeQ" entityName="deferredResult" predecessor_AbstractAction="_jnuaQuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnvBQeyoEe6uNp5NP68SeQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnvBQeyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnvBQOyoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jnvBRuyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnvBReyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnvBR-yoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jnvBR-yoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnvBRuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnvBSOyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnvBSOyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnvBR-yoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnvBT-yoEe6uNp5NP68SeQ">
          <branchBehaviour_BranchTransition id="_jnvBUeyoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jnvBTOyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnvBTeyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_jnvBTeyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnvBTOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnvBTuyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnvBTuyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnvBTeyoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jnvBU-yoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnvBUuyoEe6uNp5NP68SeQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_jocy_uyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jocy_eyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_joVeMuyoEe6uNp5NP68SeQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jnqIyOyoEe6uNp5NP68SeQ" describedService__SEFF="_jhdaIOyoEe6uNp5NP68SeQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jnoTo-yoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jno6peyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jno6peyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jnoTo-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jno6puyoEe6uNp5NP68SeQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jno6ouyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jno6pOyoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jnoTpOyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jno6oOyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jno6oOyoEe6uNp5NP68SeQ" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_jnoTpOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jno6oeyoEe6uNp5NP68SeQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jno6oeyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jno6oOyoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jno6puyoEe6uNp5NP68SeQ" entityName="stopWatch.start()" predecessor_AbstractAction="_jno6peyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqIxuyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jnqIxuyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jno6puyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqIx-yoEe6uNp5NP68SeQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnqIw-yoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jnqIxeyoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jno6p-yoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnqIweyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jnqIweyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jno6p-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqIwuyoEe6uNp5NP68SeQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnphw-yoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_jnqIwOyoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jno6qOyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnphueyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_jnphueyoEe6uNp5NP68SeQ" entityName="Switch Branch" predecessor_AbstractAction="_jno6qOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphuuyoEe6uNp5NP68SeQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jno6s-yoEe6uNp5NP68SeQ">
                      <branchBehaviour_BranchTransition id="_jno6teyoEe6uNp5NP68SeQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jno6qeyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jno6sOyoEe6uNp5NP68SeQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_jno6sOyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jno6qeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jno6seyoEe6uNp5NP68SeQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jno6reyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_jno6r-yoEe6uNp5NP68SeQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_jno6quyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jno6q-yoEe6uNp5NP68SeQ"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_jno6q-yoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jno6quyoEe6uNp5NP68SeQ" successor_AbstractAction="_jno6rOyoEe6uNp5NP68SeQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_jno6rOyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jno6q-yoEe6uNp5NP68SeQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_jno6seyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jno6sOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jno6suyoEe6uNp5NP68SeQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jno6suyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jno6seyoEe6uNp5NP68SeQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnphsOyoEe6uNp5NP68SeQ">
                      <branchBehaviour_BranchTransition id="_jnphsuyoEe6uNp5NP68SeQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jno6tuyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jno6t-yoEe6uNp5NP68SeQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_jno6t-yoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jno6tuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jno6uOyoEe6uNp5NP68SeQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jno6uOyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jno6t-yoEe6uNp5NP68SeQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnphtuyoEe6uNp5NP68SeQ">
                      <branchBehaviour_BranchTransition id="_jnphuOyoEe6uNp5NP68SeQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jnphs-yoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnphtOyoEe6uNp5NP68SeQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_jnphtOyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnphs-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphteyoEe6uNp5NP68SeQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jnphteyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnphtOyoEe6uNp5NP68SeQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnphuuyoEe6uNp5NP68SeQ" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_jnphueyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphu-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnphu-yoEe6uNp5NP68SeQ" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_jnphuuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphvOyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnphvOyoEe6uNp5NP68SeQ" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_jnphu-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphveyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnphveyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnphvOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphvuyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnphvuyoEe6uNp5NP68SeQ" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jnphveyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphv-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnphv-yoEe6uNp5NP68SeQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_jnphvuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphwOyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnphwOyoEe6uNp5NP68SeQ" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_jnphv-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphweyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jnphweyoEe6uNp5NP68SeQ" entityName="deferredResult" predecessor_AbstractAction="_jnphwOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnphwuyoEe6uNp5NP68SeQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnphwuyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnphweyoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnqIwuyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnqIweyoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jnqIx-yoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnqIxuyoEe6uNp5NP68SeQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_jofPNeyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jofPNOyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_joVeNeyoEe6uNp5NP68SeQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jnoToeyoEe6uNp5NP68SeQ" describedService__SEFF="_jhbk8eyoEe6uNp5NP68SeQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jh3CxOyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnoTnuyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jnoTnuyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jh3CxOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnoTn-yoEe6uNp5NP68SeQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnoTm-yoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jnoTneyoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jh5fAOyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnoTmeyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jnoTmeyoEe6uNp5NP68SeQ" entityName="Switch Branch" predecessor_AbstractAction="_jh5fAOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnoTmuyoEe6uNp5NP68SeQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnnsg-yoEe6uNp5NP68SeQ">
                <branchBehaviour_BranchTransition id="_jnnsheyoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jh5fAeyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnkCJeyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_jnkCJeyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jh5fAeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnkpMOyoEe6uNp5NP68SeQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnkCIuyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_jnkCJOyoEe6uNp5NP68SeQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jh6GEOyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnkCIOyoEe6uNp5NP68SeQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_jnkCIOyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jh6GEOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnkCIeyoEe6uNp5NP68SeQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jh6tIOyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_jh7UMOyoEe6uNp5NP68SeQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_jh6GEeyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jh6GEuyoEe6uNp5NP68SeQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_jh6GEuyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jh6GEeyoEe6uNp5NP68SeQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jnkCIeyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnkCIOyoEe6uNp5NP68SeQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnkpMOyoEe6uNp5NP68SeQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_jnkCJeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnkpMeyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnkpMeyoEe6uNp5NP68SeQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_jnkpMOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnnsgOyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jnnsgOyoEe6uNp5NP68SeQ" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_jnkpMeyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnnsgeyoEe6uNp5NP68SeQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnnsgeyoEe6uNp5NP68SeQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_jnnsgOyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnnsguyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnnsguyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnnsgeyoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnoTkeyoEe6uNp5NP68SeQ">
                <branchBehaviour_BranchTransition id="_jnoTk-yoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jnnshuyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnnsh-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnnsh-yoEe6uNp5NP68SeQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_jnnshuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnoTkOyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnoTkOyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnnsh-yoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnoTluyoEe6uNp5NP68SeQ">
                <branchBehaviour_BranchTransition id="_jnoTmOyoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jnoTlOyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnoTleyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnoTleyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnoTlOyoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnoTmuyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnoTmeyoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jnoTn-yoEe6uNp5NP68SeQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_jnoTnuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnoToOyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jnoToOyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnoTn-yoEe6uNp5NP68SeQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_johEbuyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_johEbeyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_joVeNuyoEe6uNp5NP68SeQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_jnr9_-yoEe6uNp5NP68SeQ" describedService__SEFF="_jgqI4OyoEe6uNp5NP68SeQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_jnqIyuyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnqI0eyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jnqI0eyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jnqIyuyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv0OyoEe6uNp5NP68SeQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnqIzuyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jnqI0OyoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jnqIy-yoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnqIzOyoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jnqIzOyoEe6uNp5NP68SeQ" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_jnqIy-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqIzeyoEe6uNp5NP68SeQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnqIzeyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnqIzOyoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jnqv0OyoEe6uNp5NP68SeQ" entityName="stopWatch.start()" predecessor_AbstractAction="_jnqI0eyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnr9_OyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_jnr9_OyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jnqv0OyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnr9_eyoEe6uNp5NP68SeQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnr9-eyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_jnr9--yoEe6uNp5NP68SeQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_jnqv0eyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnr99-yoEe6uNp5NP68SeQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_jnr99-yoEe6uNp5NP68SeQ" entityName="Switch Branch" predecessor_AbstractAction="_jnqv0eyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnr9-OyoEe6uNp5NP68SeQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnrW5eyoEe6uNp5NP68SeQ">
                <branchBehaviour_BranchTransition id="_jnrW5-yoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jnqv0uyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnqv0-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnqv0-yoEe6uNp5NP68SeQ" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_jnqv0uyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv3-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_jnqv3-yoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jnqv0-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv4OyoEe6uNp5NP68SeQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnqv3OyoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_jnqv3uyoEe6uNp5NP68SeQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_jnqv1OyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnqv2uyoEe6uNp5NP68SeQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_jnqv2uyoEe6uNp5NP68SeQ" entityName="If Branch" predecessor_AbstractAction="_jnqv1OyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv2-yoEe6uNp5NP68SeQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnqv1-yoEe6uNp5NP68SeQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_jnqv2eyoEe6uNp5NP68SeQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_jnqv1eyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnqv1uyoEe6uNp5NP68SeQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_jnqv1uyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnqv1eyoEe6uNp5NP68SeQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_jnqv2-yoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnqv2uyoEe6uNp5NP68SeQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnqv4OyoEe6uNp5NP68SeQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_jnqv3-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv4eyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnqv4eyoEe6uNp5NP68SeQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_jnqv4OyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv4uyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnqv4uyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnqv4eyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv4-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnqv4-yoEe6uNp5NP68SeQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jnqv4uyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv5OyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnqv5OyoEe6uNp5NP68SeQ" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_jnqv4-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv5eyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jnqv5eyoEe6uNp5NP68SeQ" entityName="deferredResult" predecessor_AbstractAction="_jnqv5OyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv5uyoEe6uNp5NP68SeQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnqv5uyoEe6uNp5NP68SeQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_jnqv5eyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnqv5-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnqv5-yoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnqv5uyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW4OyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnrW4OyoEe6uNp5NP68SeQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jnqv5-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW4eyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnrW4eyoEe6uNp5NP68SeQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_jnrW4OyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW4uyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jnrW4uyoEe6uNp5NP68SeQ" entityName="deferredResult" predecessor_AbstractAction="_jnrW4eyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW4-yoEe6uNp5NP68SeQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnrW4-yoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnrW4uyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW5OyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnrW5OyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnrW4-yoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnrW8OyoEe6uNp5NP68SeQ">
                <branchBehaviour_BranchTransition id="_jnr98OyoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jnrW6OyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnrW6eyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnrW6eyoEe6uNp5NP68SeQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_jnrW6OyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW6uyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnrW6uyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnrW6eyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW6-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnrW6-yoEe6uNp5NP68SeQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_jnrW6uyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW7OyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnrW7OyoEe6uNp5NP68SeQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_jnrW6-yoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW7eyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_jnrW7eyoEe6uNp5NP68SeQ" entityName="deferredResult" predecessor_AbstractAction="_jnrW7OyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW7uyoEe6uNp5NP68SeQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnrW7uyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnrW7eyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnrW7-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnrW7-yoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnrW7uyoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_jnr99OyoEe6uNp5NP68SeQ">
                <branchBehaviour_BranchTransition id="_jnr99uyoEe6uNp5NP68SeQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_jnr98eyoEe6uNp5NP68SeQ" entityName="Start Action" successor_AbstractAction="_jnr98uyoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_jnr98uyoEe6uNp5NP68SeQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_jnr98eyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnr98-yoEe6uNp5NP68SeQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_jnr98-yoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnr98uyoEe6uNp5NP68SeQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_jnr9-OyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnr99-yoEe6uNp5NP68SeQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_jnr9_eyoEe6uNp5NP68SeQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_jnr9_OyoEe6uNp5NP68SeQ" successor_AbstractAction="_jnr9_uyoEe6uNp5NP68SeQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_jnr9_uyoEe6uNp5NP68SeQ" entityName="Stop Action" predecessor_AbstractAction="_jnr9_eyoEe6uNp5NP68SeQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jokuweyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_jol84OyoEe6uNp5NP68SeQ" encapsulatedComponent__AssemblyContext="_johEbuyoEe6uNp5NP68SeQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jomj8-yoEe6uNp5NP68SeQ" innerProvidedRole_ProvidedDelegationConnector="_johEbeyoEe6uNp5NP68SeQ" outerProvidedRole_ProvidedDelegationConnector="_jokuwOyoEe6uNp5NP68SeQ" assemblyContext_ProvidedDelegationConnector="_jol84OyoEe6uNp5NP68SeQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jokuwOyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_joVeNuyoEe6uNp5NP68SeQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jokuwuyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_jol85OyoEe6uNp5NP68SeQ" encapsulatedComponent__AssemblyContext="_joa9w-yoEe6uNp5NP68SeQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jokuxOyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_jol85uyoEe6uNp5NP68SeQ" encapsulatedComponent__AssemblyContext="_jocy_uyoEe6uNp5NP68SeQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jomj9OyoEe6uNp5NP68SeQ" innerProvidedRole_ProvidedDelegationConnector="_jocy_eyoEe6uNp5NP68SeQ" outerProvidedRole_ProvidedDelegationConnector="_jokuw-yoEe6uNp5NP68SeQ" assemblyContext_ProvidedDelegationConnector="_jol85uyoEe6uNp5NP68SeQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jokuw-yoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_joVeMuyoEe6uNp5NP68SeQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jokux-yoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_jol84uyoEe6uNp5NP68SeQ" encapsulatedComponent__AssemblyContext="_joVeOeyoEe6uNp5NP68SeQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jomj8eyoEe6uNp5NP68SeQ" innerProvidedRole_ProvidedDelegationConnector="_joVeN-yoEe6uNp5NP68SeQ" outerProvidedRole_ProvidedDelegationConnector="_jokuxeyoEe6uNp5NP68SeQ" assemblyContext_ProvidedDelegationConnector="_jol84uyoEe6uNp5NP68SeQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jomj9eyoEe6uNp5NP68SeQ" innerProvidedRole_ProvidedDelegationConnector="_joVeOOyoEe6uNp5NP68SeQ" outerProvidedRole_ProvidedDelegationConnector="_jokuxuyoEe6uNp5NP68SeQ" assemblyContext_ProvidedDelegationConnector="_jol84uyoEe6uNp5NP68SeQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jokuxeyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_joVeNOyoEe6uNp5NP68SeQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jokuxuyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_joVeM-yoEe6uNp5NP68SeQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jokuyeyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_jol86OyoEe6uNp5NP68SeQ" encapsulatedComponent__AssemblyContext="_joa9xeyoEe6uNp5NP68SeQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jomj8OyoEe6uNp5NP68SeQ" innerProvidedRole_ProvidedDelegationConnector="_joa9xOyoEe6uNp5NP68SeQ" outerProvidedRole_ProvidedDelegationConnector="_jokuyOyoEe6uNp5NP68SeQ" assemblyContext_ProvidedDelegationConnector="_jol86OyoEe6uNp5NP68SeQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jokuyOyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_joVeMeyoEe6uNp5NP68SeQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_jolV0eyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_jolV0uyoEe6uNp5NP68SeQ" encapsulatedComponent__AssemblyContext="_jofPNeyoEe6uNp5NP68SeQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_jomj8uyoEe6uNp5NP68SeQ" innerProvidedRole_ProvidedDelegationConnector="_jofPNOyoEe6uNp5NP68SeQ" outerProvidedRole_ProvidedDelegationConnector="_jolV0OyoEe6uNp5NP68SeQ" assemblyContext_ProvidedDelegationConnector="_jolV0uyoEe6uNp5NP68SeQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_jolV0OyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_joVeNeyoEe6uNp5NP68SeQ"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_joVeMeyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_jhdaJOyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_jgph0OyoEe6uNp5NP68SeQ">
      <parameters__OperationSignature dataType__Parameter="_jhdaI-yoEe6uNp5NP68SeQ" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_joVeMuyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_jhdaIOyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_jgph0OyoEe6uNp5NP68SeQ">
      <parameters__OperationSignature dataType__Parameter="_jgnsoOyoEe6uNp5NP68SeQ" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_joVeM-yoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_jhcMA-yoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_jhbk8OyoEe6uNp5NP68SeQ">
      <parameters__OperationSignature dataType__Parameter="_jhcMAuyoEe6uNp5NP68SeQ" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_joVeNOyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_jhczEuyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_jhbk8OyoEe6uNp5NP68SeQ">
      <parameters__OperationSignature dataType__Parameter="_jhczEOyoEe6uNp5NP68SeQ" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_jhczEeyoEe6uNp5NP68SeQ" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_joVeNeyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_jhbk8eyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_jhbk8OyoEe6uNp5NP68SeQ">
      <parameters__OperationSignature dataType__Parameter="_jgnsoOyoEe6uNp5NP68SeQ" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_joVeNuyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_jgqI4OyoEe6uNp5NP68SeQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_jgph0OyoEe6uNp5NP68SeQ">
      <parameters__OperationSignature dataType__Parameter="_jgnsoOyoEe6uNp5NP68SeQ" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jgnsoOyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jgph0OyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jhbk8OyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jhcMAuyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jhczEOyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jhczEeyoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_jhdaI-yoEe6uNp5NP68SeQ" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
