<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="__gri4CRzEe-wHJOUQYWwIA">
  <components__Repository xsi:type="repository:BasicComponent" id="__gZPBiRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="__gZPCCRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gZPByRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="__gZPAiRzEe-wHJOUQYWwIA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__fugqSRzEe-wHJOUQYWwIA" describedService__SEFF="__Zq78CRzEe-wHJOUQYWwIA">
      <steps_Behaviour xsi:type="seff:StartAction" id="__ftShiRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fugpiRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__fugpiRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__ftShiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fugpyRzEe-wHJOUQYWwIA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fugoyRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__fugpSRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__ftShyRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fugoSRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__fugoSRzEe-wHJOUQYWwIA" entityName="Switch Branch" predecessor_AbstractAction="__ftShyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fugoiRzEe-wHJOUQYWwIA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__ft5lSRzEe-wHJOUQYWwIA">
                <branchBehaviour_BranchTransition id="__ft5lyRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__ftSiCRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__ftSlCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="__ftSlCRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__ftSiCRzEe-wHJOUQYWwIA" successor_AbstractAction="__ft5kCRzEe-wHJOUQYWwIA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__ftSkSRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="__ftSkyRzEe-wHJOUQYWwIA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__ftSiSRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__ftSjyRzEe-wHJOUQYWwIA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="__ftSjyRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__ftSiSRzEe-wHJOUQYWwIA" successor_AbstractAction="__ftSkCRzEe-wHJOUQYWwIA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__ftSjCRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="__ftSjiRzEe-wHJOUQYWwIA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="__ftSiiRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__ftSiyRzEe-wHJOUQYWwIA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="__ftSiyRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__ftSiiRzEe-wHJOUQYWwIA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__ftSkCRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__ftSjyRzEe-wHJOUQYWwIA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__ft5kCRzEe-wHJOUQYWwIA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="__ftSlCRzEe-wHJOUQYWwIA" successor_AbstractAction="__ft5kSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__ft5kSRzEe-wHJOUQYWwIA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="__ft5kCRzEe-wHJOUQYWwIA" successor_AbstractAction="__ft5kiRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__ft5kiRzEe-wHJOUQYWwIA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="__ft5kSRzEe-wHJOUQYWwIA" successor_AbstractAction="__ft5kyRzEe-wHJOUQYWwIA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__ft5kyRzEe-wHJOUQYWwIA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="__ft5kiRzEe-wHJOUQYWwIA" successor_AbstractAction="__ft5lCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__ft5lCRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__ft5kyRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__ft5myRzEe-wHJOUQYWwIA">
                <branchBehaviour_BranchTransition id="__ft5nSRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__ft5mCRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__ft5mSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__ft5mSRzEe-wHJOUQYWwIA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="__ft5mCRzEe-wHJOUQYWwIA" successor_AbstractAction="__ft5miRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__ft5miRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__ft5mSRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__ft5oCRzEe-wHJOUQYWwIA">
                <branchBehaviour_BranchTransition id="__fugoCRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__ft5niRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__ft5nyRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__ft5nyRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__ft5niRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fugoiRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fugoSRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__fugpyRzEe-wHJOUQYWwIA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="__fugpiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fugqCRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="__fugqCRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fugpyRzEe-wHJOUQYWwIA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__gc5YCRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gcSWiRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="__gZPASRzEe-wHJOUQYWwIA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__fzZISRzEe-wHJOUQYWwIA" describedService__SEFF="__ZqU4SRzEe-wHJOUQYWwIA">
      <steps_Behaviour xsi:type="seff:StartAction" id="__fw86iRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fxj8SRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__fxj8SRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fw86iRzEe-wHJOUQYWwIA" successor_AbstractAction="__fxj8iRzEe-wHJOUQYWwIA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fw87iRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__fxj8CRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fw86yRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fw87CRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fw87CRzEe-wHJOUQYWwIA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="__fw86yRzEe-wHJOUQYWwIA" successor_AbstractAction="__fw87SRzEe-wHJOUQYWwIA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fw87SRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fw87CRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__fxj8iRzEe-wHJOUQYWwIA" entityName="stopWatch.start()" predecessor_AbstractAction="__fxj8SRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyyHCRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__fyyHCRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fxj8iRzEe-wHJOUQYWwIA" successor_AbstractAction="__fzZICRzEe-wHJOUQYWwIA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fyyGSRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__fyyGyRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fxj8yRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fyyFyRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__fyyFyRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fxj8yRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyyGCRzEe-wHJOUQYWwIA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fyyFCRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__fyyFiRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__fxj9CRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fyLDCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="__fyLDCRzEe-wHJOUQYWwIA" entityName="Switch Branch" predecessor_AbstractAction="__fxj9CRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyLDSRzEe-wHJOUQYWwIA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fxj_yRzEe-wHJOUQYWwIA">
                      <branchBehaviour_BranchTransition id="__fxkASRzEe-wHJOUQYWwIA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__fxj9SRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fxj_CRzEe-wHJOUQYWwIA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="__fxj_CRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fxj9SRzEe-wHJOUQYWwIA" successor_AbstractAction="__fxj_SRzEe-wHJOUQYWwIA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fxj-SRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="__fxj-yRzEe-wHJOUQYWwIA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="__fxj9iRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fxj9yRzEe-wHJOUQYWwIA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="__fxj9yRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fxj9iRzEe-wHJOUQYWwIA" successor_AbstractAction="__fxj-CRzEe-wHJOUQYWwIA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="__fxj-CRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fxj9yRzEe-wHJOUQYWwIA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="__fxj_SRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fxj_CRzEe-wHJOUQYWwIA" successor_AbstractAction="__fxj_iRzEe-wHJOUQYWwIA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__fxj_iRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fxj_SRzEe-wHJOUQYWwIA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fyLAyRzEe-wHJOUQYWwIA">
                      <branchBehaviour_BranchTransition id="__fyLBSRzEe-wHJOUQYWwIA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__fyLACRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fyLASRzEe-wHJOUQYWwIA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="__fyLASRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fyLACRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyLAiRzEe-wHJOUQYWwIA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__fyLAiRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fyLASRzEe-wHJOUQYWwIA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fyLCSRzEe-wHJOUQYWwIA">
                      <branchBehaviour_BranchTransition id="__fyLCyRzEe-wHJOUQYWwIA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__fyLBiRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fyLByRzEe-wHJOUQYWwIA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="__fyLByRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fyLBiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyLCCRzEe-wHJOUQYWwIA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__fyLCCRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fyLByRzEe-wHJOUQYWwIA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fyLDSRzEe-wHJOUQYWwIA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="__fyLDCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyLDiRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fyLDiRzEe-wHJOUQYWwIA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="__fyLDSRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyLDyRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fyLDyRzEe-wHJOUQYWwIA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="__fyLDiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyLECRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fyLECRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fyLDyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyLESRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fyLESRzEe-wHJOUQYWwIA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__fyLECRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyyECRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fyyECRzEe-wHJOUQYWwIA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="__fyLESRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyyESRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fyyESRzEe-wHJOUQYWwIA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="__fyyECRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyyEiRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fyyEiRzEe-wHJOUQYWwIA" entityName="deferredResult" predecessor_AbstractAction="__fyyESRzEe-wHJOUQYWwIA" successor_AbstractAction="__fyyEyRzEe-wHJOUQYWwIA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__fyyEyRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fyyEiRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fyyGCRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fyyFyRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__fzZICRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fyyHCRzEe-wHJOUQYWwIA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__geuniRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__geunSRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="__gZPAyRzEe-wHJOUQYWwIA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__fw86CRzEe-wHJOUQYWwIA" describedService__SEFF="__ZpGwiRzEe-wHJOUQYWwIA">
      <steps_Behaviour xsi:type="seff:StartAction" id="__fugqyRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fugsiRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__fugsiRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fugqyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fugsyRzEe-wHJOUQYWwIA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fugryRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__fugsSRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fugrCRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fugrSRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fugrSRzEe-wHJOUQYWwIA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="__fugrCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fugriRzEe-wHJOUQYWwIA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fugriRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fugrSRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__fugsyRzEe-wHJOUQYWwIA" entityName="stopWatch.start()" predecessor_AbstractAction="__fugsiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fw85iRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__fw85iRzEe-wHJOUQYWwIA" entityName="Switch Branch" predecessor_AbstractAction="__fugsyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fw85yRzEe-wHJOUQYWwIA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fvuxSRzEe-wHJOUQYWwIA">
          <branchBehaviour_BranchTransition id="__fvuxyRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fvHsCRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fvHsSRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHsSRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fvHsCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHsiRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHsiRzEe-wHJOUQYWwIA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__fvHsSRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHsyRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHsyRzEe-wHJOUQYWwIA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="__fvHsiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHtCRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHtCRzEe-wHJOUQYWwIA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="__fvHsyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHtSRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fvHtSRzEe-wHJOUQYWwIA" entityName="deferredResult" predecessor_AbstractAction="__fvHtCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvuwSRzEe-wHJOUQYWwIA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__fvuwSRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fvHtSRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvuwiRzEe-wHJOUQYWwIA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fvHvyRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__fvuwCRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__fvHtiRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fvHtyRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHtyRzEe-wHJOUQYWwIA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="__fvHtiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHuCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHuCRzEe-wHJOUQYWwIA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="__fvHtyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHuSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHuSRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fvHuCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHuiRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHuiRzEe-wHJOUQYWwIA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__fvHuSRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHuyRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHuyRzEe-wHJOUQYWwIA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="__fvHuiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHvCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fvHvCRzEe-wHJOUQYWwIA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="__fvHuyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHvSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fvHvSRzEe-wHJOUQYWwIA" entityName="deferredResult" predecessor_AbstractAction="__fvHvCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvHviRzEe-wHJOUQYWwIA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__fvHviRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fvHvSRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fvuwiRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fvuwSRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvuwyRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fvuwyRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fvuwiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvuxCRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fvuxCRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fvuwyRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fwV3CRzEe-wHJOUQYWwIA">
          <branchBehaviour_BranchTransition id="__fwV3iRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fvuyCRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fwV2CRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__fwV2CRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fvuyCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fwV2SRzEe-wHJOUQYWwIA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fwV1SRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__fwV1yRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__fvuySRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fvuyiRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fvuyiRzEe-wHJOUQYWwIA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="__fvuySRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvuyyRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fvuyyRzEe-wHJOUQYWwIA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="__fvuyiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fvuzCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fvuzCRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fvuyyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fwV0CRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fwV0CRzEe-wHJOUQYWwIA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__fvuzCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fwV0SRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fwV0SRzEe-wHJOUQYWwIA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="__fwV0CRzEe-wHJOUQYWwIA" successor_AbstractAction="__fwV0iRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fwV0iRzEe-wHJOUQYWwIA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="__fwV0SRzEe-wHJOUQYWwIA" successor_AbstractAction="__fwV0yRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fwV0yRzEe-wHJOUQYWwIA" entityName="deferredResult" predecessor_AbstractAction="__fwV0iRzEe-wHJOUQYWwIA" successor_AbstractAction="__fwV1CRzEe-wHJOUQYWwIA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__fwV1CRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fwV0yRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fwV2SRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fwV2CRzEe-wHJOUQYWwIA" successor_AbstractAction="__fwV2iRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fwV2iRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fwV2SRzEe-wHJOUQYWwIA" successor_AbstractAction="__fwV2yRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fwV2yRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fwV2iRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fw84yRzEe-wHJOUQYWwIA">
          <branchBehaviour_BranchTransition id="__fw85SRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fw84CRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fw84SRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fw84SRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fw84CRzEe-wHJOUQYWwIA" successor_AbstractAction="__fw84iRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fw84iRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fw84SRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__fw85yRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fw85iRzEe-wHJOUQYWwIA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__ghx4SRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__ghx4CRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="__gZPBSRzEe-wHJOUQYWwIA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__ftShCRzEe-wHJOUQYWwIA" describedService__SEFF="__Zq78yRzEe-wHJOUQYWwIA">
      <steps_Behaviour xsi:type="seff:StartAction" id="__fqPMSRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fqPOCRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__fqPOCRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fqPMSRzEe-wHJOUQYWwIA" successor_AbstractAction="__fqPOSRzEe-wHJOUQYWwIA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fqPNSRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__fqPNyRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fqPMiRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fqPMyRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fqPMyRzEe-wHJOUQYWwIA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="__fqPMiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fqPNCRzEe-wHJOUQYWwIA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fqPNCRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fqPMyRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__fqPOSRzEe-wHJOUQYWwIA" entityName="stopWatch.start()" predecessor_AbstractAction="__fqPOCRzEe-wHJOUQYWwIA" successor_AbstractAction="__ftSgSRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__ftSgSRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fqPOSRzEe-wHJOUQYWwIA" successor_AbstractAction="__ftSgiRzEe-wHJOUQYWwIA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fsrfyRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__ftSgCRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fqPOiRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fsrfSRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__fsrfSRzEe-wHJOUQYWwIA" entityName="Switch Branch" predecessor_AbstractAction="__fqPOiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsrfiRzEe-wHJOUQYWwIA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fsEZCRzEe-wHJOUQYWwIA">
                <branchBehaviour_BranchTransition id="__fsEZiRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__fq2QCRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fq2QSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fq2QSRzEe-wHJOUQYWwIA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="__fq2QCRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdViRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="__frdViRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fq2QSRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdVyRzEe-wHJOUQYWwIA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__frdUyRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="__frdVSRzEe-wHJOUQYWwIA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="__fq2QiRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__frdUSRzEe-wHJOUQYWwIA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="__frdUSRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fq2QiRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdUiRzEe-wHJOUQYWwIA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fq2RSRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="__frdUCRzEe-wHJOUQYWwIA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="__fq2QyRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fq2RCRzEe-wHJOUQYWwIA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="__fq2RCRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fq2QyRzEe-wHJOUQYWwIA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="__frdUiRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__frdUSRzEe-wHJOUQYWwIA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__frdVyRzEe-wHJOUQYWwIA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="__frdViRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdWCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__frdWCRzEe-wHJOUQYWwIA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="__frdVyRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdWSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__frdWSRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__frdWCRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdWiRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__frdWiRzEe-wHJOUQYWwIA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__frdWSRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdWyRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__frdWyRzEe-wHJOUQYWwIA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="__frdWiRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdXCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__frdXCRzEe-wHJOUQYWwIA" entityName="deferredResult" predecessor_AbstractAction="__frdWyRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdXSRzEe-wHJOUQYWwIA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__frdXSRzEe-wHJOUQYWwIA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="__frdXCRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdXiRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__frdXiRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__frdXSRzEe-wHJOUQYWwIA" successor_AbstractAction="__frdXyRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__frdXyRzEe-wHJOUQYWwIA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__frdXiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsEYCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fsEYCRzEe-wHJOUQYWwIA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="__frdXyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsEYSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fsEYSRzEe-wHJOUQYWwIA" entityName="deferredResult" predecessor_AbstractAction="__fsEYCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsEYiRzEe-wHJOUQYWwIA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fsEYiRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fsEYSRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsEYyRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__fsEYyRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fsEYiRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fsrdCRzEe-wHJOUQYWwIA">
                <branchBehaviour_BranchTransition id="__fsrdiRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__fsEZyRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fsEaCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fsEaCRzEe-wHJOUQYWwIA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="__fsEZyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsEaSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fsEaSRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fsEaCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsEaiRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fsEaiRzEe-wHJOUQYWwIA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="__fsEaSRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsrcCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fsrcCRzEe-wHJOUQYWwIA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="__fsEaiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsrcSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fsrcSRzEe-wHJOUQYWwIA" entityName="deferredResult" predecessor_AbstractAction="__fsrcCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsrciRzEe-wHJOUQYWwIA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fsrciRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fsrcSRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsrcyRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__fsrcyRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fsrciRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fsreiRzEe-wHJOUQYWwIA">
                <branchBehaviour_BranchTransition id="__fsrfCRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__fsrdyRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fsreCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fsreCRzEe-wHJOUQYWwIA" entityName="stopWatch.stop()" predecessor_AbstractAction="__fsrdyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fsreSRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__fsreSRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fsreCRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fsrfiRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fsrfSRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="__ftSgiRzEe-wHJOUQYWwIA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="__ftSgSRzEe-wHJOUQYWwIA" successor_AbstractAction="__ftSgyRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="__ftSgyRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__ftSgiRzEe-wHJOUQYWwIA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="__gkOISRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gjnHSRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="__gZPBCRzEe-wHJOUQYWwIA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gkOICRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="__gZPACRzEe-wHJOUQYWwIA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__fpoMSRzEe-wHJOUQYWwIA" describedService__SEFF="__Y8jMCRzEe-wHJOUQYWwIA">
      <steps_Behaviour xsi:type="seff:StartAction" id="__fmk0yRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fpBESRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__fpBESRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fmk0yRzEe-wHJOUQYWwIA" successor_AbstractAction="__fpoLyRzEe-wHJOUQYWwIA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fny8CRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__foaACRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fmk1CRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fnL4CRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__fnL4CRzEe-wHJOUQYWwIA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="__fmk1CRzEe-wHJOUQYWwIA" successor_AbstractAction="__fnL4SRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fnL4SRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fnL4CRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__foaBCRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__fpBECRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__foaASRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__foaAiRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="__foaAiRzEe-wHJOUQYWwIA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="__foaASRzEe-wHJOUQYWwIA" successor_AbstractAction="__foaAyRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="__foaAyRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__foaAiRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="__fpoLyRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fpBESRzEe-wHJOUQYWwIA" successor_AbstractAction="__fpoMCRzEe-wHJOUQYWwIA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fpoLCRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="__fpoLiRzEe-wHJOUQYWwIA">
            <steps_Behaviour xsi:type="seff:StartAction" id="__fpBEiRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fpoKiRzEe-wHJOUQYWwIA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="__fpoKiRzEe-wHJOUQYWwIA" entityName="If Branch" predecessor_AbstractAction="__fpBEiRzEe-wHJOUQYWwIA" successor_AbstractAction="__fpoKyRzEe-wHJOUQYWwIA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fpoIiRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__fpoJCRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__fpBEyRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fpBFCRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="__fpBFCRzEe-wHJOUQYWwIA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="__fpBEyRzEe-wHJOUQYWwIA" successor_AbstractAction="__fpoICRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fpoICRzEe-wHJOUQYWwIA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="__fpBFCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fpoISRzEe-wHJOUQYWwIA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__fpoISRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fpoICRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="__fpoJyRzEe-wHJOUQYWwIA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="__fpoKSRzEe-wHJOUQYWwIA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="__fpoJSRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fpoJiRzEe-wHJOUQYWwIA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="__fpoJiRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fpoJSRzEe-wHJOUQYWwIA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="__fpoKyRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fpoKiRzEe-wHJOUQYWwIA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__fpoMCRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fpoLyRzEe-wHJOUQYWwIA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="__fmk0SRzEe-wHJOUQYWwIA" describedService__SEFF="__Zpt0yRzEe-wHJOUQYWwIA">
      <steps_Behaviour xsi:type="seff:StartAction" id="__aFytCRzEe-wHJOUQYWwIA" entityName="Start Action" successor_AbstractAction="__fl9wCRzEe-wHJOUQYWwIA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="__fl9wCRzEe-wHJOUQYWwIA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="__aFytCRzEe-wHJOUQYWwIA" successor_AbstractAction="__fmk0CRzEe-wHJOUQYWwIA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="__fmk0CRzEe-wHJOUQYWwIA" entityName="Stop Action" predecessor_AbstractAction="__fl9wCRzEe-wHJOUQYWwIA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__gqUwiRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="__gq70CRzEe-wHJOUQYWwIA" encapsulatedComponent__AssemblyContext="__gkOISRzEe-wHJOUQYWwIA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__gsJ8iRzEe-wHJOUQYWwIA" innerProvidedRole_ProvidedDelegationConnector="__gkOICRzEe-wHJOUQYWwIA" outerProvidedRole_ProvidedDelegationConnector="__gqUwCRzEe-wHJOUQYWwIA" assemblyContext_ProvidedDelegationConnector="__gq70CRzEe-wHJOUQYWwIA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__gsJ8yRzEe-wHJOUQYWwIA" innerProvidedRole_ProvidedDelegationConnector="__gjnHSRzEe-wHJOUQYWwIA" outerProvidedRole_ProvidedDelegationConnector="__gqUwSRzEe-wHJOUQYWwIA" assemblyContext_ProvidedDelegationConnector="__gq70CRzEe-wHJOUQYWwIA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gqUwCRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="__gZPACRzEe-wHJOUQYWwIA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gqUwSRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="__gZPBCRzEe-wHJOUQYWwIA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__gqUxCRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="__gq71CRzEe-wHJOUQYWwIA" encapsulatedComponent__AssemblyContext="__geuniRzEe-wHJOUQYWwIA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__gsJ9SRzEe-wHJOUQYWwIA" innerProvidedRole_ProvidedDelegationConnector="__geunSRzEe-wHJOUQYWwIA" outerProvidedRole_ProvidedDelegationConnector="__gqUwyRzEe-wHJOUQYWwIA" assemblyContext_ProvidedDelegationConnector="__gq71CRzEe-wHJOUQYWwIA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gqUwyRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="__gZPAyRzEe-wHJOUQYWwIA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__gqUxiRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="__gq72iRzEe-wHJOUQYWwIA" encapsulatedComponent__AssemblyContext="__ghx4SRzEe-wHJOUQYWwIA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__gsJ9CRzEe-wHJOUQYWwIA" innerProvidedRole_ProvidedDelegationConnector="__ghx4CRzEe-wHJOUQYWwIA" outerProvidedRole_ProvidedDelegationConnector="__gqUxSRzEe-wHJOUQYWwIA" assemblyContext_ProvidedDelegationConnector="__gq72iRzEe-wHJOUQYWwIA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gqUxSRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="__gZPBSRzEe-wHJOUQYWwIA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__gqUyCRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="__gq70iRzEe-wHJOUQYWwIA" encapsulatedComponent__AssemblyContext="__gc5YCRzEe-wHJOUQYWwIA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__gsJ8CRzEe-wHJOUQYWwIA" innerProvidedRole_ProvidedDelegationConnector="__gcSWiRzEe-wHJOUQYWwIA" outerProvidedRole_ProvidedDelegationConnector="__gqUxyRzEe-wHJOUQYWwIA" assemblyContext_ProvidedDelegationConnector="__gq70iRzEe-wHJOUQYWwIA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gqUxyRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="__gZPASRzEe-wHJOUQYWwIA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__gqUyiRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="__gq72CRzEe-wHJOUQYWwIA" encapsulatedComponent__AssemblyContext="__gZPCCRzEe-wHJOUQYWwIA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="__gsJ8SRzEe-wHJOUQYWwIA" innerProvidedRole_ProvidedDelegationConnector="__gZPByRzEe-wHJOUQYWwIA" outerProvidedRole_ProvidedDelegationConnector="__gqUySRzEe-wHJOUQYWwIA" assemblyContext_ProvidedDelegationConnector="__gq72CRzEe-wHJOUQYWwIA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="__gqUySRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="__gZPAiRzEe-wHJOUQYWwIA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="__gqUyyRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="__gq71iRzEe-wHJOUQYWwIA" encapsulatedComponent__AssemblyContext="__gZPBiRzEe-wHJOUQYWwIA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__gZPACRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="__Zpt0yRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="__Y78ISRzEe-wHJOUQYWwIA">
      <parameters__OperationSignature dataType__Parameter="__Zpt0iRzEe-wHJOUQYWwIA" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__gZPASRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="__ZqU4SRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="__ZpGwSRzEe-wHJOUQYWwIA">
      <parameters__OperationSignature dataType__Parameter="__ZqU4CRzEe-wHJOUQYWwIA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__gZPAiRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="__Zq78CRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="__Y78ISRzEe-wHJOUQYWwIA">
      <parameters__OperationSignature dataType__Parameter="__ZqU4CRzEe-wHJOUQYWwIA" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__gZPAyRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="__ZpGwiRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="__ZpGwSRzEe-wHJOUQYWwIA">
      <parameters__OperationSignature dataType__Parameter="__ZpGwCRzEe-wHJOUQYWwIA" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__gZPBCRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="__Y8jMCRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="__Y78ISRzEe-wHJOUQYWwIA">
      <parameters__OperationSignature dataType__Parameter="__Y6uACRzEe-wHJOUQYWwIA" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="__Y78ICRzEe-wHJOUQYWwIA" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="__gZPBSRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="__Zq78yRzEe-wHJOUQYWwIA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="__ZpGwSRzEe-wHJOUQYWwIA">
      <parameters__OperationSignature dataType__Parameter="__ZqU4CRzEe-wHJOUQYWwIA" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__Y6uACRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__Y78ICRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__Y78ISRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__ZpGwCRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__ZpGwSRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__Zpt0iRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="__ZqU4CRzEe-wHJOUQYWwIA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
</repository:Repository>
