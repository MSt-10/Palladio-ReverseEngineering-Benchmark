<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_LZOanHMKEe-9cZ0XdT98Ow">
  <components__Repository xsi:type="repository:BasicComponent" id="_LY7fqXMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_LY8GsnMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LY8GsHMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_LY7fpHMKEe-9cZ0XdT98Ow"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LY8GsXMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_LY7fo3MKEe-9cZ0XdT98Ow"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LYT0lHMKEe-9cZ0XdT98Ow" describedService__SEFF="_LRv5kHMKEe-9cZ0XdT98Ow">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LYT0kXMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYT0knMKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYT0knMKEe-9cZ0XdT98Ow" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_LYT0kXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYT0k3MKEe-9cZ0XdT98Ow">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LYT0k3MKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYT0knMKEe-9cZ0XdT98Ow"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LYVCt3MKEe-9cZ0XdT98Ow" describedService__SEFF="_LSW9knMKEe-9cZ0XdT98Ow">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LYT0lnMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYUbp3MKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LYUbp3MKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYT0lnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYVCtXMKEe-9cZ0XdT98Ow">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYT0mnMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LYUboHMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYT0l3MKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYT0mHMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYT0mHMKEe-9cZ0XdT98Ow" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_LYT0l3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYT0mXMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYT0mXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYT0mHMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYUbpHMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LYUbpnMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYUboXMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYUbonMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYUbonMKEe-9cZ0XdT98Ow" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_LYUboXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYUbo3MKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYUbo3MKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYUbonMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LYVCtXMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYUbp3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYVCtnMKEe-9cZ0XdT98Ow">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYVCsnMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LYVCtHMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYUbqHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYVCsHMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LYVCsHMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYUbqHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYVCsXMKEe-9cZ0XdT98Ow">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYUbrXMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LYUbr3MKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYUbqXMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYUbqnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYUbqnMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_LYUbqXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYUbq3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYUbq3MKEe-9cZ0XdT98Ow" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_LYUbqnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYUbrHMKEe-9cZ0XdT98Ow">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYUbrHMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYUbq3MKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYUbsnMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LYUbtHMKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYUbsHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYUbsXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYUbsXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYUbsHMKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYVCsXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYVCsHMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LYVCtnMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYVCtXMKEe-9cZ0XdT98Ow"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LZBmS3MKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZBmSnMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_LY7fp3MKEe-9cZ0XdT98Ow"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LYQxTXMKEe-9cZ0XdT98Ow" describedService__SEFF="_LSYyw3MKEe-9cZ0XdT98Ow">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LYPjKHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYQxSnMKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LYQxSnMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYPjKHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYQxS3MKEe-9cZ0XdT98Ow">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYQxR3MKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LYQxSXMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYPjKXMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYQxRXMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LYQxRXMKEe-9cZ0XdT98Ow" entityName="Switch Branch" predecessor_AbstractAction="_LYPjKXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYQxRnMKEe-9cZ0XdT98Ow">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYQKNHMKEe-9cZ0XdT98Ow">
                <branchBehaviour_BranchTransition id="_LYQKNnMKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYPjKnMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYPjNnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_LYPjNnMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYPjKnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYPjN3MKEe-9cZ0XdT98Ow">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYPjM3MKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_LYPjNXMKEe-9cZ0XdT98Ow">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LYPjK3MKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYPjMXMKEe-9cZ0XdT98Ow"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_LYPjMXMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYPjK3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYPjMnMKEe-9cZ0XdT98Ow">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYPjLnMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_LYPjMHMKEe-9cZ0XdT98Ow">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_LYPjLHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYPjLXMKEe-9cZ0XdT98Ow"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_LYPjLXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYPjLHMKEe-9cZ0XdT98Ow"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LYPjMnMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYPjMXMKEe-9cZ0XdT98Ow"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYPjN3MKEe-9cZ0XdT98Ow" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_LYPjNnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYQKMHMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYQKMHMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_LYPjN3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYQKMXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYQKMXMKEe-9cZ0XdT98Ow" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_LYQKMHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYQKMnMKEe-9cZ0XdT98Ow">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYQKMnMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_LYQKMXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYQKM3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYQKM3MKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYQKMnMKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYQKOnMKEe-9cZ0XdT98Ow">
                <branchBehaviour_BranchTransition id="_LYQKPHMKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYQKN3MKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYQKOHMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYQKOHMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_LYQKN3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYQKOXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYQKOXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYQKOHMKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYQxQnMKEe-9cZ0XdT98Ow">
                <branchBehaviour_BranchTransition id="_LYQxRHMKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYQxQHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYQxQXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYQxQXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYQxQHMKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYQxRnMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYQxRXMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LYQxS3MKEe-9cZ0XdT98Ow" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_LYQxSnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYQxTHMKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LYQxTHMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYQxS3MKEe-9cZ0XdT98Ow"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LZECjnMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZECjXMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_LY7fqHMKEe-9cZ0XdT98Ow"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LYPjJnMKEe-9cZ0XdT98Ow" describedService__SEFF="_LSYywHMKEe-9cZ0XdT98Ow">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LYNt9HMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYNt-3MKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LYNt-3MKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYNt9HMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNt_HMKEe-9cZ0XdT98Ow">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYNt-HMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LYNt-nMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYNt9XMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYNt9nMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYNt9nMKEe-9cZ0XdT98Ow" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_LYNt9XMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNt93MKEe-9cZ0XdT98Ow">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYNt93MKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYNt9nMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LYNt_HMKEe-9cZ0XdT98Ow" entityName="stopWatch.start()" predecessor_AbstractAction="_LYNt-3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYPjJHMKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LYPjJHMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYNt_HMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYPjJXMKEe-9cZ0XdT98Ow">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYPjIXMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LYPjI3MKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYNt_XMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYO8HXMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LYO8HXMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYNt_XMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYPjIHMKEe-9cZ0XdT98Ow">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYO8GnMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LYO8HHMKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYNt_nMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYO8EHMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_LYO8EHMKEe-9cZ0XdT98Ow" entityName="Switch Branch" predecessor_AbstractAction="_LYNt_nMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYO8EXMKEe-9cZ0XdT98Ow">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYOVCXMKEe-9cZ0XdT98Ow">
                      <branchBehaviour_BranchTransition id="_LYOVC3MKEe-9cZ0XdT98Ow">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LYNt_3MKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYOVBnMKEe-9cZ0XdT98Ow"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_LYOVBnMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYNt_3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYOVB3MKEe-9cZ0XdT98Ow">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYOVA3MKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_LYOVBXMKEe-9cZ0XdT98Ow">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_LYOVAHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYOVAXMKEe-9cZ0XdT98Ow"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_LYOVAXMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYOVAHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYOVAnMKEe-9cZ0XdT98Ow"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_LYOVAnMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYOVAXMKEe-9cZ0XdT98Ow"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_LYOVB3MKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYOVBnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYOVCHMKEe-9cZ0XdT98Ow"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LYOVCHMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYOVB3MKEe-9cZ0XdT98Ow"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYOVD3MKEe-9cZ0XdT98Ow">
                      <branchBehaviour_BranchTransition id="_LYOVEXMKEe-9cZ0XdT98Ow">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LYOVDHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYOVDXMKEe-9cZ0XdT98Ow"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_LYOVDXMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYOVDHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYOVDnMKEe-9cZ0XdT98Ow"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LYOVDnMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYOVDXMKEe-9cZ0XdT98Ow"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYOVFXMKEe-9cZ0XdT98Ow">
                      <branchBehaviour_BranchTransition id="_LYOVF3MKEe-9cZ0XdT98Ow">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LYOVEnMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYOVE3MKEe-9cZ0XdT98Ow"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_LYOVE3MKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYOVEnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYOVFHMKEe-9cZ0XdT98Ow"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LYOVFHMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYOVE3MKEe-9cZ0XdT98Ow"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYO8EXMKEe-9cZ0XdT98Ow" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_LYO8EHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYO8EnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYO8EnMKEe-9cZ0XdT98Ow" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_LYO8EXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYO8E3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYO8E3MKEe-9cZ0XdT98Ow" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_LYO8EnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYO8FHMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYO8FHMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYO8E3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYO8FXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYO8FXMKEe-9cZ0XdT98Ow" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LYO8FHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYO8FnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYO8FnMKEe-9cZ0XdT98Ow" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_LYO8FXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYO8F3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYO8F3MKEe-9cZ0XdT98Ow" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_LYO8FnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYO8GHMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYO8GHMKEe-9cZ0XdT98Ow" entityName="deferredResult" predecessor_AbstractAction="_LYO8F3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYO8GXMKEe-9cZ0XdT98Ow">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYO8GXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYO8GHMKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYPjIHMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYO8HXMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LYPjJXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYPjJHMKEe-9cZ0XdT98Ow"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LZGeznMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZGezXMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_LY7fpnMKEe-9cZ0XdT98Ow"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LYTNjnMKEe-9cZ0XdT98Ow" describedService__SEFF="_LSXkpHMKEe-9cZ0XdT98Ow">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LYQxT3MKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYRYUXMKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LYRYUXMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYQxT3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYRYUnMKEe-9cZ0XdT98Ow">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYQxU3MKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LYRYUHMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYQxUHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYQxUXMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYQxUXMKEe-9cZ0XdT98Ow" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_LYQxUHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYQxUnMKEe-9cZ0XdT98Ow">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYQxUnMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYQxUXMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LYRYUnMKEe-9cZ0XdT98Ow" entityName="stopWatch.start()" predecessor_AbstractAction="_LYRYUXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYTNi3MKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LYTNi3MKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYRYUnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYTNjHMKEe-9cZ0XdT98Ow">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYTNiHMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LYTNinMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYRYU3MKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYTNhnMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LYTNhnMKEe-9cZ0XdT98Ow" entityName="Switch Branch" predecessor_AbstractAction="_LYRYU3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYTNh3MKEe-9cZ0XdT98Ow">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYR_a3MKEe-9cZ0XdT98Ow">
                <branchBehaviour_BranchTransition id="_LYR_bXMKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYRYVHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYRYVXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYRYVXMKEe-9cZ0XdT98Ow" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_LYRYVHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYRYYXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_LYRYYXMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYRYVXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYRYYnMKEe-9cZ0XdT98Ow">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYRYXnMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_LYRYYHMKEe-9cZ0XdT98Ow">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LYRYVnMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYRYXHMKEe-9cZ0XdT98Ow"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_LYRYXHMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYRYVnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYRYXXMKEe-9cZ0XdT98Ow">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYRYWXMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_LYRYW3MKEe-9cZ0XdT98Ow">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_LYRYV3MKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYRYWHMKEe-9cZ0XdT98Ow"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_LYRYWHMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYRYV3MKEe-9cZ0XdT98Ow"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LYRYXXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYRYXHMKEe-9cZ0XdT98Ow"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYRYYnMKEe-9cZ0XdT98Ow" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_LYRYYXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYRYY3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYRYY3MKEe-9cZ0XdT98Ow" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_LYRYYnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_YHMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYR_YHMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYRYY3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_YXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYR_YXMKEe-9cZ0XdT98Ow" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LYR_YHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_YnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYR_YnMKEe-9cZ0XdT98Ow" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_LYR_YXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_Y3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYR_Y3MKEe-9cZ0XdT98Ow" entityName="deferredResult" predecessor_AbstractAction="_LYR_YnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_ZHMKEe-9cZ0XdT98Ow">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYR_ZHMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_LYR_Y3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_ZXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYR_ZXMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYR_ZHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_ZnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYR_ZnMKEe-9cZ0XdT98Ow" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LYR_ZXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_Z3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYR_Z3MKEe-9cZ0XdT98Ow" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_LYR_ZnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_aHMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYR_aHMKEe-9cZ0XdT98Ow" entityName="deferredResult" predecessor_AbstractAction="_LYR_Z3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_aXMKEe-9cZ0XdT98Ow">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYR_aXMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYR_aHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYR_anMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYR_anMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYR_aXMKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYSmeHMKEe-9cZ0XdT98Ow">
                <branchBehaviour_BranchTransition id="_LYSmenMKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYSmcHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYSmcXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYSmcXMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_LYSmcHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYSmcnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYSmcnMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYSmcXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYSmc3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYSmc3MKEe-9cZ0XdT98Ow" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LYSmcnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYSmdHMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYSmdHMKEe-9cZ0XdT98Ow" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_LYSmc3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYSmdXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYSmdXMKEe-9cZ0XdT98Ow" entityName="deferredResult" predecessor_AbstractAction="_LYSmdHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYSmdnMKEe-9cZ0XdT98Ow">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYSmdnMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYSmdXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYSmd3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYSmd3MKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYSmdnMKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYTNg3MKEe-9cZ0XdT98Ow">
                <branchBehaviour_BranchTransition id="_LYTNhXMKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYTNgHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYTNgXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYTNgXMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYTNgHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYTNgnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYTNgnMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYTNgXMKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYTNh3MKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYTNhnMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LYTNjHMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_LYTNi3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYTNjXMKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LYTNjXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYTNjHMKEe-9cZ0XdT98Ow"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LZI7DnMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZI7DXMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_LY7fpXMKEe-9cZ0XdT98Ow"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LYNt8nMKEe-9cZ0XdT98Ow" describedService__SEFF="_LSYLs3MKEe-9cZ0XdT98Ow">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LSx0UXMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYKDkHMKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LYKDkHMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LSx0UXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYKqoHMKEe-9cZ0XdT98Ow">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYI1cHMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LYJcgHMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LSzpgHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYIOYHMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYIOYHMKEe-9cZ0XdT98Ow" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_LSzpgHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYIOYXMKEe-9cZ0XdT98Ow">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYIOYXMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYIOYHMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LYKqoHMKEe-9cZ0XdT98Ow" entityName="stopWatch.start()" predecessor_AbstractAction="_LYKDkHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNt8HMKEe-9cZ0XdT98Ow"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LYNt8HMKEe-9cZ0XdT98Ow" entityName="Switch Branch" predecessor_AbstractAction="_LYKqoHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNt8XMKEe-9cZ0XdT98Ow">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYMf03MKEe-9cZ0XdT98Ow">
          <branchBehaviour_BranchTransition id="_LYMf1XMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYLRsHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYLRsXMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYLRsXMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYLRsHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYLRsnMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYLRsnMKEe-9cZ0XdT98Ow" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LYLRsXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYLRs3MKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYLRs3MKEe-9cZ0XdT98Ow" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_LYLRsnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYLRtHMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYLRtHMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_LYLRs3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYLRtXMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYLRtXMKEe-9cZ0XdT98Ow" entityName="deferredResult" predecessor_AbstractAction="_LYLRtHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYL4zHMKEe-9cZ0XdT98Ow">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LYL4zHMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYLRtXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYMf0HMKEe-9cZ0XdT98Ow">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYL4yXMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LYL4y3MKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYL4wHMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYL4wXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYL4wXMKEe-9cZ0XdT98Ow" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_LYL4wHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYL4wnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYL4wnMKEe-9cZ0XdT98Ow" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_LYL4wXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYL4w3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYL4w3MKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYL4wnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYL4xHMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYL4xHMKEe-9cZ0XdT98Ow" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LYL4w3MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYL4xXMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYL4xXMKEe-9cZ0XdT98Ow" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_LYL4xHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYL4xnMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYL4xnMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_LYL4xXMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYL4x3MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYL4x3MKEe-9cZ0XdT98Ow" entityName="deferredResult" predecessor_AbstractAction="_LYL4xnMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYL4yHMKEe-9cZ0XdT98Ow">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYL4yHMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYL4x3MKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYMf0HMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYL4zHMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYMf0XMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYMf0XMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYMf0HMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYMf0nMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYMf0nMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYMf0XMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYNG6XMKEe-9cZ0XdT98Ow">
          <branchBehaviour_BranchTransition id="_LYNG63MKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYMf1nMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYNG5XMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LYNG5XMKEe-9cZ0XdT98Ow" entityName="If Branch" predecessor_AbstractAction="_LYMf1nMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNG5nMKEe-9cZ0XdT98Ow">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYNG4nMKEe-9cZ0XdT98Ow" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LYNG5HMKEe-9cZ0XdT98Ow">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LYMf13MKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYMf2HMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYMf2HMKEe-9cZ0XdT98Ow" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_LYMf13MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYMf2XMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYMf2XMKEe-9cZ0XdT98Ow" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_LYMf2HMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYMf2nMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYMf2nMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYMf2XMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYMf23MKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYMf23MKEe-9cZ0XdT98Ow" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LYMf2nMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYMf3HMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYMf3HMKEe-9cZ0XdT98Ow" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_LYMf23MKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYMf3XMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LYMf3XMKEe-9cZ0XdT98Ow" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_LYMf3HMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNG4HMKEe-9cZ0XdT98Ow"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LYNG4HMKEe-9cZ0XdT98Ow" entityName="deferredResult" predecessor_AbstractAction="_LYMf3XMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNG4XMKEe-9cZ0XdT98Ow">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LYNG4XMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYNG4HMKEe-9cZ0XdT98Ow"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYNG5nMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYNG5XMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNG53MKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYNG53MKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYNG5nMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNG6HMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYNG6HMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYNG53MKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LYNG73MKEe-9cZ0XdT98Ow">
          <branchBehaviour_BranchTransition id="_LYNG8XMKEe-9cZ0XdT98Ow">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LYNG7HMKEe-9cZ0XdT98Ow" entityName="Start Action" successor_AbstractAction="_LYNG7XMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LYNG7XMKEe-9cZ0XdT98Ow" entityName="stopWatch.stop()" predecessor_AbstractAction="_LYNG7HMKEe-9cZ0XdT98Ow" successor_AbstractAction="_LYNG7nMKEe-9cZ0XdT98Ow"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LYNG7nMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYNG7XMKEe-9cZ0XdT98Ow"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LYNt8XMKEe-9cZ0XdT98Ow" entityName="Stop Action" predecessor_AbstractAction="_LYNt8HMKEe-9cZ0XdT98Ow"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LZNMcXMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_LZOamnMKEe-9cZ0XdT98Ow" encapsulatedComponent__AssemblyContext="_LZGeznMKEe-9cZ0XdT98Ow"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LZPotHMKEe-9cZ0XdT98Ow" innerProvidedRole_ProvidedDelegationConnector="_LZGezXMKEe-9cZ0XdT98Ow" outerProvidedRole_ProvidedDelegationConnector="_LZNMcHMKEe-9cZ0XdT98Ow" assemblyContext_ProvidedDelegationConnector="_LZOamnMKEe-9cZ0XdT98Ow"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZNMcHMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_LY7fpnMKEe-9cZ0XdT98Ow"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LZNMc3MKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_LZOamHMKEe-9cZ0XdT98Ow" encapsulatedComponent__AssemblyContext="_LZBmS3MKEe-9cZ0XdT98Ow"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LZPosXMKEe-9cZ0XdT98Ow" innerProvidedRole_ProvidedDelegationConnector="_LZBmSnMKEe-9cZ0XdT98Ow" outerProvidedRole_ProvidedDelegationConnector="_LZNMcnMKEe-9cZ0XdT98Ow" assemblyContext_ProvidedDelegationConnector="_LZOamHMKEe-9cZ0XdT98Ow"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZNMcnMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_LY7fp3MKEe-9cZ0XdT98Ow"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LZNMdXMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_LZOaknMKEe-9cZ0XdT98Ow" encapsulatedComponent__AssemblyContext="_LZI7DnMKEe-9cZ0XdT98Ow"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LZPosnMKEe-9cZ0XdT98Ow" innerProvidedRole_ProvidedDelegationConnector="_LZI7DXMKEe-9cZ0XdT98Ow" outerProvidedRole_ProvidedDelegationConnector="_LZNMdHMKEe-9cZ0XdT98Ow" assemblyContext_ProvidedDelegationConnector="_LZOaknMKEe-9cZ0XdT98Ow"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZNMdHMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_LY7fpXMKEe-9cZ0XdT98Ow"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LZNzgnMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_LZOalHMKEe-9cZ0XdT98Ow" encapsulatedComponent__AssemblyContext="_LY8GsnMKEe-9cZ0XdT98Ow"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LZPosHMKEe-9cZ0XdT98Ow" innerProvidedRole_ProvidedDelegationConnector="_LY8GsXMKEe-9cZ0XdT98Ow" outerProvidedRole_ProvidedDelegationConnector="_LZNzgXMKEe-9cZ0XdT98Ow" assemblyContext_ProvidedDelegationConnector="_LZOalHMKEe-9cZ0XdT98Ow"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LZPos3MKEe-9cZ0XdT98Ow" innerProvidedRole_ProvidedDelegationConnector="_LY8GsHMKEe-9cZ0XdT98Ow" outerProvidedRole_ProvidedDelegationConnector="_LZNzgHMKEe-9cZ0XdT98Ow" assemblyContext_ProvidedDelegationConnector="_LZOalHMKEe-9cZ0XdT98Ow"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZNzgHMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_LY7fpHMKEe-9cZ0XdT98Ow"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZNzgXMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_LY7fo3MKEe-9cZ0XdT98Ow"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LZNzhHMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_LZOalnMKEe-9cZ0XdT98Ow" encapsulatedComponent__AssemblyContext="_LZECjnMKEe-9cZ0XdT98Ow"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_LZPBoHMKEe-9cZ0XdT98Ow" innerProvidedRole_ProvidedDelegationConnector="_LZECjXMKEe-9cZ0XdT98Ow" outerProvidedRole_ProvidedDelegationConnector="_LZNzg3MKEe-9cZ0XdT98Ow" assemblyContext_ProvidedDelegationConnector="_LZOalnMKEe-9cZ0XdT98Ow"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LZNzg3MKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_LY7fqHMKEe-9cZ0XdT98Ow"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LZNzhXMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_LZOakHMKEe-9cZ0XdT98Ow" encapsulatedComponent__AssemblyContext="_LY7fqXMKEe-9cZ0XdT98Ow"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LY7fo3MKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_LSW9knMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_LRvSgHMKEe-9cZ0XdT98Ow">
      <parameters__OperationSignature dataType__Parameter="_LSW9kHMKEe-9cZ0XdT98Ow" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_LSW9kXMKEe-9cZ0XdT98Ow" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LY7fpHMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_LRv5kHMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_LRvSgHMKEe-9cZ0XdT98Ow">
      <parameters__OperationSignature dataType__Parameter="_LRuEYHMKEe-9cZ0XdT98Ow" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LY7fpXMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_LSYLs3MKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_LSXko3MKEe-9cZ0XdT98Ow">
      <parameters__OperationSignature dataType__Parameter="_LSYLsnMKEe-9cZ0XdT98Ow" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LY7fpnMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_LSXkpHMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_LSXko3MKEe-9cZ0XdT98Ow">
      <parameters__OperationSignature dataType__Parameter="_LSXkonMKEe-9cZ0XdT98Ow" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LY7fp3MKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_LSYyw3MKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_LRvSgHMKEe-9cZ0XdT98Ow">
      <parameters__OperationSignature dataType__Parameter="_LSXkonMKEe-9cZ0XdT98Ow" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LY7fqHMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_LSYywHMKEe-9cZ0XdT98Ow" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_LSXko3MKEe-9cZ0XdT98Ow">
      <parameters__OperationSignature dataType__Parameter="_LSXkonMKEe-9cZ0XdT98Ow" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LRuEYHMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LRvSgHMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LSW9kHMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LSW9kXMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LSXkonMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LSXko3MKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LSYLsnMKEe-9cZ0XdT98Ow" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
