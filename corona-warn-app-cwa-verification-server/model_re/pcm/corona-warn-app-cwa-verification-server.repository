<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_TIDsHJDmEe-1RM8ilfvvZA">
  <components__Repository xsi:type="repository:BasicComponent" id="_THwKFpDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_THwKFZDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_THwKEZDmEe-1RM8ilfvvZA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_TG_8KZDmEe-1RM8ilfvvZA" describedService__SEFF="_TBLA8pDmEe-1RM8ilfvvZA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_TBns4ZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_TG8RwJDmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TG8RwJDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_TBns4ZDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG840JDmEe-1RM8ilfvvZA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TG7DopDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TG7qsJDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TBo7AJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_TG7DoJDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TG7DoJDmEe-1RM8ilfvvZA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_TBo7AJDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG7DoZDmEe-1RM8ilfvvZA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TG7DoZDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_TG7DoJDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_TG840JDmEe-1RM8ilfvvZA" entityName="stopWatch.start()" predecessor_AbstractAction="_TG8RwJDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_8JpDmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_TG_8JpDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_TG840JDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_8J5DmEe-1RM8ilfvvZA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TG_8I5DmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_TG_8JZDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TG840ZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_TG_8IZDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_TG_8IZDmEe-1RM8ilfvvZA" entityName="Switch Branch" predecessor_AbstractAction="_TG840ZDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_8IpDmEe-1RM8ilfvvZA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TG-uBJDmEe-1RM8ilfvvZA">
                <branchBehaviour_BranchTransition id="_TG-uBpDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TG9f4JDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_TG9f4ZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG9f4ZDmEe-1RM8ilfvvZA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_TG9f4JDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G9JDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_TG-G9JDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_TG9f4ZDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G9ZDmEe-1RM8ilfvvZA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TG-G8ZDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_TG-G85DmEe-1RM8ilfvvZA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_TG9f4pDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_TG9f6JDmEe-1RM8ilfvvZA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_TG9f6JDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_TG9f4pDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G8JDmEe-1RM8ilfvvZA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TG9f5ZDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_TG9f55DmEe-1RM8ilfvvZA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_TG9f45DmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_TG9f5JDmEe-1RM8ilfvvZA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_TG9f5JDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_TG9f45DmEe-1RM8ilfvvZA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_TG-G8JDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_TG9f6JDmEe-1RM8ilfvvZA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-G9ZDmEe-1RM8ilfvvZA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_TG-G9JDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G9pDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-G9pDmEe-1RM8ilfvvZA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_TG-G9ZDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G95DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-G95DmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TG-G9pDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G-JDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-G-JDmEe-1RM8ilfvvZA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_TG-G95DmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G-ZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-G-ZDmEe-1RM8ilfvvZA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_TG-G-JDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G-pDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TG-G-pDmEe-1RM8ilfvvZA" entityName="deferredResult" predecessor_AbstractAction="_TG-G-ZDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G-5DmEe-1RM8ilfvvZA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-G-5DmEe-1RM8ilfvvZA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_TG-G-pDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G_JDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-G_JDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TG-G-5DmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-G_ZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-G_ZDmEe-1RM8ilfvvZA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_TG-G_JDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-uAJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-uAJDmEe-1RM8ilfvvZA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_TG-G_ZDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-uAZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TG-uAZDmEe-1RM8ilfvvZA" entityName="deferredResult" predecessor_AbstractAction="_TG-uAJDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-uApDmEe-1RM8ilfvvZA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-uApDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TG-uAZDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG-uA5DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TG-uA5DmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_TG-uApDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TG_VFpDmEe-1RM8ilfvvZA">
                <branchBehaviour_BranchTransition id="_TG_VGJDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TG-uB5DmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_TG-uCJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG-uCJDmEe-1RM8ilfvvZA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_TG-uB5DmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_VEJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG_VEJDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TG-uCJDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_VEZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG_VEZDmEe-1RM8ilfvvZA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_TG_VEJDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_VEpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG_VEpDmEe-1RM8ilfvvZA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_TG_VEZDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_VE5DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_TG_VE5DmEe-1RM8ilfvvZA" entityName="deferredResult" predecessor_AbstractAction="_TG_VEpDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_VFJDmEe-1RM8ilfvvZA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG_VFJDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TG_VE5DmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_VFZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TG_VFZDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_TG_VFJDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_TG_VHJDmEe-1RM8ilfvvZA">
                <branchBehaviour_BranchTransition id="_TG_8IJDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TG_VGZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_TG_VGpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_TG_VGpDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_TG_VGZDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_VG5DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_TG_VG5DmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_TG_VGpDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_TG_8IpDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_TG_8IZDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_TG_8J5DmEe-1RM8ilfvvZA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_TG_8JpDmEe-1RM8ilfvvZA" successor_AbstractAction="_TG_8KJDmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_TG_8KJDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_TG_8J5DmEe-1RM8ilfvvZA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_THz0dJDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_THz0c5DmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_THvjCZDmEe-1RM8ilfvvZA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_THGCxZDmEe-1RM8ilfvvZA" describedService__SEFF="_TBLoA5DmEe-1RM8ilfvvZA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_THDmh5DmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THDmjpDmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_THDmjpDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THDmh5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THDmj5DmEe-1RM8ilfvvZA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THDmi5DmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_THDmjZDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_THDmiJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THDmiZDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_THDmiZDmEe-1RM8ilfvvZA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_THDmiJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THDmipDmEe-1RM8ilfvvZA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THDmipDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THDmiZDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_THDmj5DmEe-1RM8ilfvvZA" entityName="stopWatch.start()" predecessor_AbstractAction="_THDmjpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THGCw5DmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_THGCw5DmEe-1RM8ilfvvZA" entityName="Switch Branch" predecessor_AbstractAction="_THDmj5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THGCxJDmEe-1RM8ilfvvZA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THE0pJDmEe-1RM8ilfvvZA">
          <branchBehaviour_BranchTransition id="_THE0ppDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_THDmkJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THDmkZDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THDmkZDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THDmkJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THDmkpDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THDmkpDmEe-1RM8ilfvvZA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_THDmkZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THENkJDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THENkJDmEe-1RM8ilfvvZA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_THDmkpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THENkZDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THENkZDmEe-1RM8ilfvvZA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_THENkJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THENkpDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_THENkpDmEe-1RM8ilfvvZA" entityName="deferredResult" predecessor_AbstractAction="_THENkZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THE0oJDmEe-1RM8ilfvvZA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_THE0oJDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THENkpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THE0oZDmEe-1RM8ilfvvZA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THENnJDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_THENnpDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_THENk5DmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THENlJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THENlJDmEe-1RM8ilfvvZA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_THENk5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THENlZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THENlZDmEe-1RM8ilfvvZA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_THENlJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THENlpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THENlpDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THENlZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THENl5DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THENl5DmEe-1RM8ilfvvZA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_THENlpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THENmJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THENmJDmEe-1RM8ilfvvZA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_THENl5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THENmZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THENmZDmEe-1RM8ilfvvZA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_THENmJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THENmpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_THENmpDmEe-1RM8ilfvvZA" entityName="deferredResult" predecessor_AbstractAction="_THENmZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THENm5DmEe-1RM8ilfvvZA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_THENm5DmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THENmpDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THE0oZDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THE0oJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THE0opDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THE0opDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THE0oZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THE0o5DmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THE0o5DmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THE0opDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THFbuZDmEe-1RM8ilfvvZA">
          <branchBehaviour_BranchTransition id="_THFbu5DmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_THE0p5DmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THFbtZDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_THFbtZDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THE0p5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THFbtpDmEe-1RM8ilfvvZA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THFbspDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_THFbtJDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_THE0qJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THE0qZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THE0qZDmEe-1RM8ilfvvZA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_THE0qJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THE0qpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THE0qpDmEe-1RM8ilfvvZA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_THE0qZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THE0q5DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THE0q5DmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THE0qpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THE0rJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THE0rJDmEe-1RM8ilfvvZA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_THE0q5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THE0rZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THE0rZDmEe-1RM8ilfvvZA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_THE0rJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THE0rpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THE0rpDmEe-1RM8ilfvvZA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_THE0rZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THFbsJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_THFbsJDmEe-1RM8ilfvvZA" entityName="deferredResult" predecessor_AbstractAction="_THE0rpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THFbsZDmEe-1RM8ilfvvZA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_THFbsZDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THFbsJDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THFbtpDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THFbtZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THFbt5DmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THFbt5DmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THFbtpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THFbuJDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THFbuJDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THFbt5DmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THGCwJDmEe-1RM8ilfvvZA">
          <branchBehaviour_BranchTransition id="_THGCwpDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_THFbvJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THFbvZDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THFbvZDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THFbvJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THFbvpDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THFbvpDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THFbvZDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_THGCxJDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THGCw5DmEe-1RM8ilfvvZA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_TH23wpDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TH23wZDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_THwKEJDmEe-1RM8ilfvvZA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_THDmhZDmEe-1RM8ilfvvZA" describedService__SEFF="_TBM2IJDmEe-1RM8ilfvvZA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_THBxVJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THBxW5DmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_THBxW5DmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THBxVJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THBxXJDmEe-1RM8ilfvvZA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THBxWJDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_THBxWpDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_THBxVZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THBxVpDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_THBxVpDmEe-1RM8ilfvvZA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_THBxVZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THBxV5DmEe-1RM8ilfvvZA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THBxV5DmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THBxVpDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_THBxXJDmEe-1RM8ilfvvZA" entityName="stopWatch.start()" predecessor_AbstractAction="_THBxW5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THDmg5DmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_THDmg5DmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THBxXJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THDmhJDmEe-1RM8ilfvvZA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THDmgJDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_THDmgpDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_THBxXZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THC_fZDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_THC_fZDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THBxXZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_fpDmEe-1RM8ilfvvZA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THC_epDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_THC_fJDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_THBxXpDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THC_cJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_THC_cJDmEe-1RM8ilfvvZA" entityName="Switch Branch" predecessor_AbstractAction="_THBxXpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_cZDmEe-1RM8ilfvvZA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THCYaZDmEe-1RM8ilfvvZA">
                      <branchBehaviour_BranchTransition id="_THCYa5DmEe-1RM8ilfvvZA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_THBxX5DmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THCYZpDmEe-1RM8ilfvvZA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_THCYZpDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THBxX5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THCYZ5DmEe-1RM8ilfvvZA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THCYY5DmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_THCYZZDmEe-1RM8ilfvvZA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_THCYYJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THCYYZDmEe-1RM8ilfvvZA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_THCYYZDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THCYYJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THCYYpDmEe-1RM8ilfvvZA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_THCYYpDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THCYYZDmEe-1RM8ilfvvZA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_THCYZ5DmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THCYZpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THCYaJDmEe-1RM8ilfvvZA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_THCYaJDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THCYZ5DmEe-1RM8ilfvvZA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THCYb5DmEe-1RM8ilfvvZA">
                      <branchBehaviour_BranchTransition id="_THCYcZDmEe-1RM8ilfvvZA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_THCYbJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THCYbZDmEe-1RM8ilfvvZA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_THCYbZDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THCYbJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THCYbpDmEe-1RM8ilfvvZA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_THCYbpDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THCYbZDmEe-1RM8ilfvvZA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THCYdZDmEe-1RM8ilfvvZA">
                      <branchBehaviour_BranchTransition id="_THCYd5DmEe-1RM8ilfvvZA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_THCYcpDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THCYc5DmEe-1RM8ilfvvZA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_THCYc5DmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THCYcpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THCYdJDmEe-1RM8ilfvvZA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_THCYdJDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THCYc5DmEe-1RM8ilfvvZA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THC_cZDmEe-1RM8ilfvvZA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_THC_cJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_cpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THC_cpDmEe-1RM8ilfvvZA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_THC_cZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_c5DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THC_c5DmEe-1RM8ilfvvZA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_THC_cpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_dJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THC_dJDmEe-1RM8ilfvvZA" entityName="stopWatch.stop()" predecessor_AbstractAction="_THC_c5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_dZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THC_dZDmEe-1RM8ilfvvZA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_THC_dJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_dpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THC_dpDmEe-1RM8ilfvvZA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_THC_dZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_d5DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THC_d5DmEe-1RM8ilfvvZA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_THC_dpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_eJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_THC_eJDmEe-1RM8ilfvvZA" entityName="deferredResult" predecessor_AbstractAction="_THC_d5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THC_eZDmEe-1RM8ilfvvZA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_THC_eZDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THC_eJDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THC_fpDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THC_fZDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_THDmhJDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THDmg5DmEe-1RM8ilfvvZA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_TH5UDJDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TH5UCpDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_THwKFJDmEe-1RM8ilfvvZA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TH5UC5DmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_THwKE5DmEe-1RM8ilfvvZA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_THH38pDmEe-1RM8ilfvvZA" describedService__SEFF="_TAiHwJDmEe-1RM8ilfvvZA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_THHQ7ZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THH38JDmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_THH38JDmEe-1RM8ilfvvZA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_THHQ7ZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THH38ZDmEe-1RM8ilfvvZA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_THH38ZDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THH38JDmEe-1RM8ilfvvZA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_THHQ65DmEe-1RM8ilfvvZA" describedService__SEFF="_TBMPFJDmEe-1RM8ilfvvZA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_THGCx5DmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THGp1JDmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_THGp1JDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THGCx5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THHQ6ZDmEe-1RM8ilfvvZA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THGCy5DmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_THGCzZDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_THGCyJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THGCyZDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THGCyZDmEe-1RM8ilfvvZA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_THGCyJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THGCypDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THGCypDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THGCyZDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THGp0ZDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_THGp05DmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_THGCzpDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THGCz5DmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_THGCz5DmEe-1RM8ilfvvZA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_THGCzpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THGp0JDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THGp0JDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THGCz5DmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_THHQ6ZDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THGp1JDmEe-1RM8ilfvvZA" successor_AbstractAction="_THHQ6pDmEe-1RM8ilfvvZA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THHQ5pDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_THHQ6JDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_THGp1ZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THHQ5JDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_THHQ5JDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THGp1ZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THHQ5ZDmEe-1RM8ilfvvZA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THGp2pDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_THGp3JDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_THGp1pDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THGp15DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THGp15DmEe-1RM8ilfvvZA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_THGp1pDmEe-1RM8ilfvvZA" successor_AbstractAction="_THGp2JDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_THGp2JDmEe-1RM8ilfvvZA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_THGp15DmEe-1RM8ilfvvZA" successor_AbstractAction="_THGp2ZDmEe-1RM8ilfvvZA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_THGp2ZDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THGp2JDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THHQ4ZDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_THHQ45DmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_THGp3ZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THHQ4JDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_THHQ4JDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THGp3ZDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THHQ5ZDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THHQ5JDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_THHQ6pDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THHQ6ZDmEe-1RM8ilfvvZA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_TH-zkZDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TH-zkJDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_THwKEpDmEe-1RM8ilfvvZA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_THBxUpDmEe-1RM8ilfvvZA" describedService__SEFF="_TBM2I5DmEe-1RM8ilfvvZA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_TG_8K5DmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THBKU5DmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_THBKU5DmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_TG_8K5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THBxUJDmEe-1RM8ilfvvZA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THBKUJDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_THBKUpDmEe-1RM8ilfvvZA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_TG_8LJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THBKTpDmEe-1RM8ilfvvZA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_THBKTpDmEe-1RM8ilfvvZA" entityName="Switch Branch" predecessor_AbstractAction="_TG_8LJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THBKT5DmEe-1RM8ilfvvZA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THBKQJDmEe-1RM8ilfvvZA">
                <branchBehaviour_BranchTransition id="_THBKQpDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_TG_8LZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THAjO5DmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_THAjO5DmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_TG_8LZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THAjPJDmEe-1RM8ilfvvZA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THAjOJDmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_THAjOpDmEe-1RM8ilfvvZA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_THAjMJDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THAjNpDmEe-1RM8ilfvvZA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_THAjNpDmEe-1RM8ilfvvZA" entityName="If Branch" predecessor_AbstractAction="_THAjMJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THAjN5DmEe-1RM8ilfvvZA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THAjM5DmEe-1RM8ilfvvZA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_THAjNZDmEe-1RM8ilfvvZA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_THAjMZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THAjMpDmEe-1RM8ilfvvZA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_THAjMpDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THAjMZDmEe-1RM8ilfvvZA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_THAjN5DmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THAjNpDmEe-1RM8ilfvvZA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THAjPJDmEe-1RM8ilfvvZA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_THAjO5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THAjPZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THAjPZDmEe-1RM8ilfvvZA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_THAjPJDmEe-1RM8ilfvvZA" successor_AbstractAction="_THAjPpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_THAjPpDmEe-1RM8ilfvvZA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_THAjPZDmEe-1RM8ilfvvZA" successor_AbstractAction="_THAjP5DmEe-1RM8ilfvvZA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THAjP5DmEe-1RM8ilfvvZA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_THAjPpDmEe-1RM8ilfvvZA" successor_AbstractAction="_THAjQJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_THAjQJDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THAjP5DmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THBKRpDmEe-1RM8ilfvvZA">
                <branchBehaviour_BranchTransition id="_THBKSJDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_THBKQ5DmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THBKRJDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_THBKRJDmEe-1RM8ilfvvZA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_THBKQ5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THBKRZDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_THBKRZDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THBKRJDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_THBKS5DmEe-1RM8ilfvvZA">
                <branchBehaviour_BranchTransition id="_THBKTZDmEe-1RM8ilfvvZA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_THBKSZDmEe-1RM8ilfvvZA" entityName="Start Action" successor_AbstractAction="_THBKSpDmEe-1RM8ilfvvZA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_THBKSpDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THBKSZDmEe-1RM8ilfvvZA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_THBKT5DmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THBKTpDmEe-1RM8ilfvvZA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_THBxUJDmEe-1RM8ilfvvZA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_THBKU5DmEe-1RM8ilfvvZA" successor_AbstractAction="_THBxUZDmEe-1RM8ilfvvZA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_THBxUZDmEe-1RM8ilfvvZA" entityName="Stop Action" predecessor_AbstractAction="_THBxUJDmEe-1RM8ilfvvZA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_TIBP0JDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TIDFApDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_TIDsEpDmEe-1RM8ilfvvZA" encapsulatedComponent__AssemblyContext="_TH5UDJDmEe-1RM8ilfvvZA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TIE6MZDmEe-1RM8ilfvvZA" innerProvidedRole_ProvidedDelegationConnector="_TH5UC5DmEe-1RM8ilfvvZA" outerProvidedRole_ProvidedDelegationConnector="_TIDFAJDmEe-1RM8ilfvvZA" assemblyContext_ProvidedDelegationConnector="_TIDsEpDmEe-1RM8ilfvvZA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TIE6M5DmEe-1RM8ilfvvZA" innerProvidedRole_ProvidedDelegationConnector="_TH5UCpDmEe-1RM8ilfvvZA" outerProvidedRole_ProvidedDelegationConnector="_TIDFAZDmEe-1RM8ilfvvZA" assemblyContext_ProvidedDelegationConnector="_TIDsEpDmEe-1RM8ilfvvZA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TIDFAJDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_THwKE5DmEe-1RM8ilfvvZA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TIDFAZDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_THwKFJDmEe-1RM8ilfvvZA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TIDFBJDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_TIDsGJDmEe-1RM8ilfvvZA" encapsulatedComponent__AssemblyContext="_TH23wpDmEe-1RM8ilfvvZA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TIE6MpDmEe-1RM8ilfvvZA" innerProvidedRole_ProvidedDelegationConnector="_TH23wZDmEe-1RM8ilfvvZA" outerProvidedRole_ProvidedDelegationConnector="_TIDFA5DmEe-1RM8ilfvvZA" assemblyContext_ProvidedDelegationConnector="_TIDsGJDmEe-1RM8ilfvvZA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TIDFA5DmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_THwKEJDmEe-1RM8ilfvvZA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TIDFBpDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_TIDsGpDmEe-1RM8ilfvvZA" encapsulatedComponent__AssemblyContext="_TH-zkZDmEe-1RM8ilfvvZA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TIE6MJDmEe-1RM8ilfvvZA" innerProvidedRole_ProvidedDelegationConnector="_TH-zkJDmEe-1RM8ilfvvZA" outerProvidedRole_ProvidedDelegationConnector="_TIDFBZDmEe-1RM8ilfvvZA" assemblyContext_ProvidedDelegationConnector="_TIDsGpDmEe-1RM8ilfvvZA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TIDFBZDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_THwKEpDmEe-1RM8ilfvvZA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TIDFCJDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_TIDsFpDmEe-1RM8ilfvvZA" encapsulatedComponent__AssemblyContext="_THwKFpDmEe-1RM8ilfvvZA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TIE6NJDmEe-1RM8ilfvvZA" innerProvidedRole_ProvidedDelegationConnector="_THwKFZDmEe-1RM8ilfvvZA" outerProvidedRole_ProvidedDelegationConnector="_TIDFB5DmEe-1RM8ilfvvZA" assemblyContext_ProvidedDelegationConnector="_TIDsFpDmEe-1RM8ilfvvZA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TIDFB5DmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_THwKEZDmEe-1RM8ilfvvZA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TIDFCpDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_TIDsFJDmEe-1RM8ilfvvZA" encapsulatedComponent__AssemblyContext="_THz0dJDmEe-1RM8ilfvvZA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_TIE6NZDmEe-1RM8ilfvvZA" innerProvidedRole_ProvidedDelegationConnector="_THz0c5DmEe-1RM8ilfvvZA" outerProvidedRole_ProvidedDelegationConnector="_TIDFCZDmEe-1RM8ilfvvZA" assemblyContext_ProvidedDelegationConnector="_TIDsFJDmEe-1RM8ilfvvZA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_TIDFCZDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_THvjCZDmEe-1RM8ilfvvZA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_TIDFC5DmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_TIDsEJDmEe-1RM8ilfvvZA" encapsulatedComponent__AssemblyContext="_TIBP0JDmEe-1RM8ilfvvZA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_THvjCZDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_TBLoA5DmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_TBLA8ZDmEe-1RM8ilfvvZA">
      <parameters__OperationSignature dataType__Parameter="_TBLoApDmEe-1RM8ilfvvZA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_THwKEJDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_TBM2IJDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_TBLA8ZDmEe-1RM8ilfvvZA">
      <parameters__OperationSignature dataType__Parameter="_TBLA8JDmEe-1RM8ilfvvZA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_THwKEZDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_TBLA8pDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_TBLA8ZDmEe-1RM8ilfvvZA">
      <parameters__OperationSignature dataType__Parameter="_TBLA8JDmEe-1RM8ilfvvZA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_THwKEpDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_TBM2I5DmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_TAhgsJDmEe-1RM8ilfvvZA">
      <parameters__OperationSignature dataType__Parameter="_TBLA8JDmEe-1RM8ilfvvZA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_THwKE5DmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_TBMPFJDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_TAhgsJDmEe-1RM8ilfvvZA">
      <parameters__OperationSignature dataType__Parameter="_TBMPEpDmEe-1RM8ilfvvZA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_TBMPE5DmEe-1RM8ilfvvZA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_THwKFJDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_TAiHwJDmEe-1RM8ilfvvZA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_TAhgsJDmEe-1RM8ilfvvZA">
      <parameters__OperationSignature dataType__Parameter="_TAgSkJDmEe-1RM8ilfvvZA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_TAgSkJDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_TAhgsJDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_TBLA8JDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_TBLA8ZDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_TBLoApDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_TBMPEpDmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_TBMPE5DmEe-1RM8ilfvvZA" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
