<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_OocsDAqFEe-p2sKgoE6p0A">
  <components__Repository xsi:type="repository:BasicComponent" id="_OoMNWAqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_OoMNWgqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OoMNWQqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_OoMNUwqFEe-p2sKgoE6p0A"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OnmXcgqFEe-p2sKgoE6p0A" describedService__SEFF="_Oh2UxAqFEe-p2sKgoE6p0A">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OnlJWQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnlwdwqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OnlwdwqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnlJWQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnmXcAqFEe-p2sKgoE6p0A">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnlwdAqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OnlwdgqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OnlJWgqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnlwcgqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OnlwcgqFEe-p2sKgoE6p0A" entityName="Switch Branch" predecessor_AbstractAction="_OnlJWgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlwcwqFEe-p2sKgoE6p0A">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnlwZAqFEe-p2sKgoE6p0A">
                <branchBehaviour_BranchTransition id="_OnlwZgqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OnlJWwqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnlJZwqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_OnlJZwqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnlJWwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlJaAqFEe-p2sKgoE6p0A">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnlJZAqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_OnlJZgqFEe-p2sKgoE6p0A">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_OnlJXAqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnlJYgqFEe-p2sKgoE6p0A"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_OnlJYgqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnlJXAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlJYwqFEe-p2sKgoE6p0A">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnlJXwqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_OnlJYQqFEe-p2sKgoE6p0A">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_OnlJXQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnlJXgqFEe-p2sKgoE6p0A"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_OnlJXgqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnlJXQqFEe-p2sKgoE6p0A"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_OnlJYwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnlJYgqFEe-p2sKgoE6p0A"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnlJaAqFEe-p2sKgoE6p0A" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_OnlJZwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlwYAqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnlwYAqFEe-p2sKgoE6p0A" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_OnlJaAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlwYQqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OnlwYQqFEe-p2sKgoE6p0A" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_OnlwYAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlwYgqFEe-p2sKgoE6p0A">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnlwYgqFEe-p2sKgoE6p0A" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_OnlwYQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlwYwqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OnlwYwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnlwYgqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnlwagqFEe-p2sKgoE6p0A">
                <branchBehaviour_BranchTransition id="_OnlwbAqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OnlwZwqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnlwaAqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnlwaAqFEe-p2sKgoE6p0A" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_OnlwZwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlwaQqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OnlwaQqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnlwaAqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnlwbwqFEe-p2sKgoE6p0A">
                <branchBehaviour_BranchTransition id="_OnlwcQqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OnlwbQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnlwbgqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OnlwbgqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnlwbQqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnlwcwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnlwcgqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_OnmXcAqFEe-p2sKgoE6p0A" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_OnlwdwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnmXcQqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OnmXcQqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnmXcAqFEe-p2sKgoE6p0A"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OoP3sQqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OoPQqwqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_OoMNVwqFEe-p2sKgoE6p0A"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OoP3sAqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_OoMNVQqFEe-p2sKgoE6p0A"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Onj7MgqFEe-p2sKgoE6p0A" describedService__SEFF="_OhFfwAqFEe-p2sKgoE6p0A">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OnjUMgqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_Onj7MAqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Onj7MAqFEe-p2sKgoE6p0A" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_OnjUMgqFEe-p2sKgoE6p0A" successor_AbstractAction="_Onj7MQqFEe-p2sKgoE6p0A">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Onj7MQqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Onj7MAqFEe-p2sKgoE6p0A"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OnlJVwqFEe-p2sKgoE6p0A" describedService__SEFF="_Oh3i4gqFEe-p2sKgoE6p0A">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Onj7NAqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnkiRQqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OnkiRQqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_Onj7NAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlJVQqFEe-p2sKgoE6p0A">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Onj7OAqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Onj7OgqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Onj7NQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_Onj7NgqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Onj7NgqFEe-p2sKgoE6p0A" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_Onj7NQqFEe-p2sKgoE6p0A" successor_AbstractAction="_Onj7NwqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Onj7NwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Onj7NgqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnkiQgqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OnkiRAqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Onj7OwqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnkiQAqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OnkiQAqFEe-p2sKgoE6p0A" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_Onj7OwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnkiQQqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnkiQQqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnkiQAqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OnlJVQqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnkiRQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlJVgqFEe-p2sKgoE6p0A">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnlJUgqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OnlJVAqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OnkiRgqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnlJUAqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OnlJUAqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnkiRgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnlJUQqFEe-p2sKgoE6p0A">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnkiSwqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OnkiTQqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OnkiRwqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnkiSAqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnkiSAqFEe-p2sKgoE6p0A" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_OnkiRwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnkiSQqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OnkiSQqFEe-p2sKgoE6p0A" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_OnkiSAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnkiSgqFEe-p2sKgoE6p0A">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OnkiSgqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnkiSQqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnkiUAqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OnkiUgqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OnkiTgqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnkiTwqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OnkiTwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnkiTgqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnlJUQqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnlJUAqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OnlJVgqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnlJVQqFEe-p2sKgoE6p0A"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OoUJLAqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OoUJKwqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_OoMNUgqFEe-p2sKgoE6p0A"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OnfCvwqFEe-p2sKgoE6p0A" describedService__SEFF="_Oh1tsgqFEe-p2sKgoE6p0A">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OiQkdAqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OncmcAqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OncmcAqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OiQkdAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OndNgAqFEe-p2sKgoE6p0A">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnbYUAqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Onb_YAqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OiTAsAqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnaxQAqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OnaxQAqFEe-p2sKgoE6p0A" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_OiTAsAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnaxQQqFEe-p2sKgoE6p0A">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnaxQQqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnaxQAqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_OndNgAqFEe-p2sKgoE6p0A" entityName="stopWatch.start()" predecessor_AbstractAction="_OncmcAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfCvQqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OnfCvQqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OndNgAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfCvgqFEe-p2sKgoE6p0A">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnfCugqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OnfCvAqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OndNgQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnfCuAqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OnfCuAqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OndNgQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfCuQqFEe-p2sKgoE6p0A">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnfCtQqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OnfCtwqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OndNggqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnebrwqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_OnebrwqFEe-p2sKgoE6p0A" entityName="Switch Branch" predecessor_AbstractAction="_OndNggqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnebsAqFEe-p2sKgoE6p0A">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OneboAqFEe-p2sKgoE6p0A">
                      <branchBehaviour_BranchTransition id="_OnebogqFEe-p2sKgoE6p0A">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Ond0kAqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_Ond0lwqFEe-p2sKgoE6p0A"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Ond0lwqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_Ond0kAqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ond0mAqFEe-p2sKgoE6p0A">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ond0lAqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Ond0lgqFEe-p2sKgoE6p0A">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Ond0kQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_Ond0kgqFEe-p2sKgoE6p0A"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_Ond0kgqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ond0kQqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ond0kwqFEe-p2sKgoE6p0A"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Ond0kwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Ond0kgqFEe-p2sKgoE6p0A"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_Ond0mAqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ond0lwqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ond0mQqFEe-p2sKgoE6p0A"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Ond0mQqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Ond0mAqFEe-p2sKgoE6p0A"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnebpgqFEe-p2sKgoE6p0A">
                      <branchBehaviour_BranchTransition id="_OnebqAqFEe-p2sKgoE6p0A">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_OnebowqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnebpAqFEe-p2sKgoE6p0A"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_OnebpAqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OnebowqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnebpQqFEe-p2sKgoE6p0A"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_OnebpQqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnebpAqFEe-p2sKgoE6p0A"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnebrAqFEe-p2sKgoE6p0A">
                      <branchBehaviour_BranchTransition id="_OnebrgqFEe-p2sKgoE6p0A">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_OnebqQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnebqgqFEe-p2sKgoE6p0A"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_OnebqgqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OnebqQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnebqwqFEe-p2sKgoE6p0A"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_OnebqwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnebqgqFEe-p2sKgoE6p0A"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnebsAqFEe-p2sKgoE6p0A" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_OnebrwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnebsQqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnebsQqFEe-p2sKgoE6p0A" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_OnebsAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnebsgqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnebsgqFEe-p2sKgoE6p0A" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_OnebsQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnebswqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnebswqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OnebsgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfCsAqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnfCsAqFEe-p2sKgoE6p0A" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OnebswqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfCsQqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnfCsQqFEe-p2sKgoE6p0A" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_OnfCsAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfCsgqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnfCsgqFEe-p2sKgoE6p0A" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_OnfCsQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfCswqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OnfCswqFEe-p2sKgoE6p0A" entityName="deferredResult" predecessor_AbstractAction="_OnfCsgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfCtAqFEe-p2sKgoE6p0A">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OnfCtAqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnfCswqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnfCuQqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnfCuAqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OnfCvgqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnfCvQqFEe-p2sKgoE6p0A"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OoWlYQqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OoWlYAqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_OoMNVgqFEe-p2sKgoE6p0A"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Onhe_gqFEe-p2sKgoE6p0A" describedService__SEFF="_Oh270gqFEe-p2sKgoE6p0A">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OnfpwQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnfpyAqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OnfpyAqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnfpwQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfpyQqFEe-p2sKgoE6p0A">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnfpxQqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OnfpxwqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OnfpwgqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnfpwwqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OnfpwwqFEe-p2sKgoE6p0A" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_OnfpwgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnfpxAqFEe-p2sKgoE6p0A">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnfpxAqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnfpwwqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_OnfpyQqFEe-p2sKgoE6p0A" entityName="stopWatch.start()" predecessor_AbstractAction="_OnfpyAqFEe-p2sKgoE6p0A" successor_AbstractAction="_Onhe-wqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Onhe-wqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnfpyQqFEe-p2sKgoE6p0A" successor_AbstractAction="_Onhe_AqFEe-p2sKgoE6p0A">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Onhe-AqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Onhe-gqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OnfpygqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_Onhe9gqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Onhe9gqFEe-p2sKgoE6p0A" entityName="Switch Branch" predecessor_AbstractAction="_OnfpygqFEe-p2sKgoE6p0A" successor_AbstractAction="_Onhe9wqFEe-p2sKgoE6p0A">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ong34gqFEe-p2sKgoE6p0A">
                <branchBehaviour_BranchTransition id="_Ong35AqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OnfpywqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnfpzAqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnfpzAqFEe-p2sKgoE6p0A" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_OnfpywqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ0gqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_OngQ0gqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnfpzAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ0wqFEe-p2sKgoE6p0A">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Onfp1QqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_OngQ0QqFEe-p2sKgoE6p0A">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_OnfpzQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_Onfp0wqFEe-p2sKgoE6p0A"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Onfp0wqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnfpzQqFEe-p2sKgoE6p0A" successor_AbstractAction="_Onfp1AqFEe-p2sKgoE6p0A">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Onfp0AqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Onfp0gqFEe-p2sKgoE6p0A">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_OnfpzgqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnfpzwqFEe-p2sKgoE6p0A"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_OnfpzwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnfpzgqFEe-p2sKgoE6p0A"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Onfp1AqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Onfp0wqFEe-p2sKgoE6p0A"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OngQ0wqFEe-p2sKgoE6p0A" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_OngQ0gqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ1AqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OngQ1AqFEe-p2sKgoE6p0A" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_OngQ0wqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ1QqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OngQ1QqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OngQ1AqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ1gqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OngQ1gqFEe-p2sKgoE6p0A" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OngQ1QqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ1wqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OngQ1wqFEe-p2sKgoE6p0A" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_OngQ1gqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ2AqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OngQ2AqFEe-p2sKgoE6p0A" entityName="deferredResult" predecessor_AbstractAction="_OngQ1wqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ2QqFEe-p2sKgoE6p0A">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OngQ2QqFEe-p2sKgoE6p0A" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_OngQ2AqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ2gqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OngQ2gqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OngQ2QqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ2wqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OngQ2wqFEe-p2sKgoE6p0A" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OngQ2gqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ3AqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OngQ3AqFEe-p2sKgoE6p0A" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_OngQ2wqFEe-p2sKgoE6p0A" successor_AbstractAction="_OngQ3QqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OngQ3QqFEe-p2sKgoE6p0A" entityName="deferredResult" predecessor_AbstractAction="_OngQ3AqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ong34AqFEe-p2sKgoE6p0A">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ong34AqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OngQ3QqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ong34QqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ong34QqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Ong34AqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ong37QqFEe-p2sKgoE6p0A">
                <branchBehaviour_BranchTransition id="_Ong37wqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ong35QqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_Ong35gqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ong35gqFEe-p2sKgoE6p0A" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_Ong35QqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ong35wqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ong35wqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ong35gqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ong36AqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ong36AqFEe-p2sKgoE6p0A" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Ong35wqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ong36QqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ong36QqFEe-p2sKgoE6p0A" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_Ong36AqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ong36gqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ong36gqFEe-p2sKgoE6p0A" entityName="deferredResult" predecessor_AbstractAction="_Ong36QqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ong36wqFEe-p2sKgoE6p0A">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ong36wqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ong36gqFEe-p2sKgoE6p0A" successor_AbstractAction="_Ong37AqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ong37AqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Ong36wqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Onhe8wqFEe-p2sKgoE6p0A">
                <branchBehaviour_BranchTransition id="_Onhe9QqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Onhe8AqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_Onhe8QqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Onhe8QqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_Onhe8AqFEe-p2sKgoE6p0A" successor_AbstractAction="_Onhe8gqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Onhe8gqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Onhe8QqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Onhe9wqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Onhe9gqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Onhe_AqFEe-p2sKgoE6p0A" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_Onhe-wqFEe-p2sKgoE6p0A" successor_AbstractAction="_Onhe_QqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Onhe_QqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_Onhe_AqFEe-p2sKgoE6p0A"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_OoYalAqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OoYakwqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_OoMNVAqFEe-p2sKgoE6p0A"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_OnjUMAqFEe-p2sKgoE6p0A" describedService__SEFF="_Oh2UwQqFEe-p2sKgoE6p0A">
      <steps_Behaviour xsi:type="seff:StartAction" id="_OnhfAAqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnhfBwqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OnhfBwqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnhfAAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGAAqFEe-p2sKgoE6p0A">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnhfBAqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_OnhfBgqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OnhfAQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnhfAgqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OnhfAgqFEe-p2sKgoE6p0A" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_OnhfAQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnhfAwqFEe-p2sKgoE6p0A">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnhfAwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnhfAgqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGAAqFEe-p2sKgoE6p0A" entityName="stopWatch.start()" predecessor_AbstractAction="_OnhfBwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnjULgqFEe-p2sKgoE6p0A"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_OnjULgqFEe-p2sKgoE6p0A" entityName="Switch Branch" predecessor_AbstractAction="_OniGAAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnjULwqFEe-p2sKgoE6p0A">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnitEwqFEe-p2sKgoE6p0A">
          <branchBehaviour_BranchTransition id="_OnitFQqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OniGAQqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OniGAgqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGAgqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OniGAQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGAwqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGAwqFEe-p2sKgoE6p0A" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OniGAgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGBAqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGBAqFEe-p2sKgoE6p0A" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_OniGAwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGBQqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGBQqFEe-p2sKgoE6p0A" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_OniGBAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGBgqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OniGBgqFEe-p2sKgoE6p0A" entityName="deferredResult" predecessor_AbstractAction="_OniGBQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGEwqFEe-p2sKgoE6p0A">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OniGEwqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OniGBgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitEAqFEe-p2sKgoE6p0A">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OniGEAqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OniGEgqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OniGBwqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OniGCAqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGCAqFEe-p2sKgoE6p0A" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_OniGBwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGCQqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGCQqFEe-p2sKgoE6p0A" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_OniGCAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGCgqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGCgqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OniGCQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGCwqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGCwqFEe-p2sKgoE6p0A" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OniGCgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGDAqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGDAqFEe-p2sKgoE6p0A" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_OniGCwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGDQqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OniGDQqFEe-p2sKgoE6p0A" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_OniGDAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGDgqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OniGDgqFEe-p2sKgoE6p0A" entityName="deferredResult" predecessor_AbstractAction="_OniGDQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OniGDwqFEe-p2sKgoE6p0A">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OniGDwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OniGDgqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OnitEAqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OniGEwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitEQqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OnitEQqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OnitEAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitEgqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnitEgqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnitEQqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnjUJQqFEe-p2sKgoE6p0A">
          <branchBehaviour_BranchTransition id="_OnjUJwqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OnitFgqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnjUIQqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_OnjUIQqFEe-p2sKgoE6p0A" entityName="If Branch" predecessor_AbstractAction="_OnitFgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnjUIgqFEe-p2sKgoE6p0A">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnitIAqFEe-p2sKgoE6p0A" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_OnjUIAqFEe-p2sKgoE6p0A">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_OnitFwqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnitGAqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnitGAqFEe-p2sKgoE6p0A" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_OnitFwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitGQqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnitGQqFEe-p2sKgoE6p0A" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_OnitGAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitGgqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnitGgqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OnitGQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitGwqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnitGwqFEe-p2sKgoE6p0A" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_OnitGgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitHAqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnitHAqFEe-p2sKgoE6p0A" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_OnitGwqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitHQqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_OnitHQqFEe-p2sKgoE6p0A" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_OnitHAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitHgqFEe-p2sKgoE6p0A"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_OnitHgqFEe-p2sKgoE6p0A" entityName="deferredResult" predecessor_AbstractAction="_OnitHQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnitHwqFEe-p2sKgoE6p0A">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_OnitHwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnitHgqFEe-p2sKgoE6p0A"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OnjUIgqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OnjUIQqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnjUIwqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OnjUIwqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OnjUIgqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnjUJAqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnjUJAqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnjUIwqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_OnjUKwqFEe-p2sKgoE6p0A">
          <branchBehaviour_BranchTransition id="_OnjULQqFEe-p2sKgoE6p0A">
            <steps_Behaviour xsi:type="seff:StartAction" id="_OnjUKAqFEe-p2sKgoE6p0A" entityName="Start Action" successor_AbstractAction="_OnjUKQqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_OnjUKQqFEe-p2sKgoE6p0A" entityName="stopWatch.stop()" predecessor_AbstractAction="_OnjUKAqFEe-p2sKgoE6p0A" successor_AbstractAction="_OnjUKgqFEe-p2sKgoE6p0A"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_OnjUKgqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnjUKQqFEe-p2sKgoE6p0A"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_OnjULwqFEe-p2sKgoE6p0A" entityName="Stop Action" predecessor_AbstractAction="_OnjULgqFEe-p2sKgoE6p0A"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OocE8AqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_OocsAgqFEe-p2sKgoE6p0A" encapsulatedComponent__AssemblyContext="_OoMNWAqFEe-p2sKgoE6p0A"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OocE8gqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_OocsAAqFEe-p2sKgoE6p0A" encapsulatedComponent__AssemblyContext="_OoWlYQqFEe-p2sKgoE6p0A"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Ood6JAqFEe-p2sKgoE6p0A" innerProvidedRole_ProvidedDelegationConnector="_OoWlYAqFEe-p2sKgoE6p0A" outerProvidedRole_ProvidedDelegationConnector="_OocE8QqFEe-p2sKgoE6p0A" assemblyContext_ProvidedDelegationConnector="_OocsAAqFEe-p2sKgoE6p0A"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OocE8QqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_OoMNVgqFEe-p2sKgoE6p0A"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OocE9AqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_OocsBAqFEe-p2sKgoE6p0A" encapsulatedComponent__AssemblyContext="_OoMNWgqFEe-p2sKgoE6p0A"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Ood6IwqFEe-p2sKgoE6p0A" innerProvidedRole_ProvidedDelegationConnector="_OoMNWQqFEe-p2sKgoE6p0A" outerProvidedRole_ProvidedDelegationConnector="_OocE8wqFEe-p2sKgoE6p0A" assemblyContext_ProvidedDelegationConnector="_OocsBAqFEe-p2sKgoE6p0A"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OocE8wqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_OoMNUwqFEe-p2sKgoE6p0A"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OocE9gqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_OocsCgqFEe-p2sKgoE6p0A" encapsulatedComponent__AssemblyContext="_OoUJLAqFEe-p2sKgoE6p0A"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Ood6JQqFEe-p2sKgoE6p0A" innerProvidedRole_ProvidedDelegationConnector="_OoUJKwqFEe-p2sKgoE6p0A" outerProvidedRole_ProvidedDelegationConnector="_OocE9QqFEe-p2sKgoE6p0A" assemblyContext_ProvidedDelegationConnector="_OocsCgqFEe-p2sKgoE6p0A"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OocE9QqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_OoMNUgqFEe-p2sKgoE6p0A"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OocE-AqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_OocsBgqFEe-p2sKgoE6p0A" encapsulatedComponent__AssemblyContext="_OoYalAqFEe-p2sKgoE6p0A"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Ood6IAqFEe-p2sKgoE6p0A" innerProvidedRole_ProvidedDelegationConnector="_OoYakwqFEe-p2sKgoE6p0A" outerProvidedRole_ProvidedDelegationConnector="_OocE9wqFEe-p2sKgoE6p0A" assemblyContext_ProvidedDelegationConnector="_OocsBgqFEe-p2sKgoE6p0A"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OocE9wqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_OoMNVAqFEe-p2sKgoE6p0A"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_OocE-wqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_OocsCAqFEe-p2sKgoE6p0A" encapsulatedComponent__AssemblyContext="_OoP3sQqFEe-p2sKgoE6p0A"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Ood6IQqFEe-p2sKgoE6p0A" innerProvidedRole_ProvidedDelegationConnector="_OoPQqwqFEe-p2sKgoE6p0A" outerProvidedRole_ProvidedDelegationConnector="_OocE-QqFEe-p2sKgoE6p0A" assemblyContext_ProvidedDelegationConnector="_OocsCAqFEe-p2sKgoE6p0A"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Ood6IgqFEe-p2sKgoE6p0A" innerProvidedRole_ProvidedDelegationConnector="_OoP3sAqFEe-p2sKgoE6p0A" outerProvidedRole_ProvidedDelegationConnector="_OocE-gqFEe-p2sKgoE6p0A" assemblyContext_ProvidedDelegationConnector="_OocsCAqFEe-p2sKgoE6p0A"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OocE-QqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_OoMNVwqFEe-p2sKgoE6p0A"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_OocE-gqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_OoMNVQqFEe-p2sKgoE6p0A"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OoMNUgqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_Oh1tsgqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_Oh1tsQqFEe-p2sKgoE6p0A">
      <parameters__OperationSignature dataType__Parameter="_Oh1tsAqFEe-p2sKgoE6p0A" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OoMNUwqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_Oh2UxAqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_OhE4sAqFEe-p2sKgoE6p0A">
      <parameters__OperationSignature dataType__Parameter="_Oh1tsAqFEe-p2sKgoE6p0A" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OoMNVAqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_Oh2UwQqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_Oh1tsQqFEe-p2sKgoE6p0A">
      <parameters__OperationSignature dataType__Parameter="_Oh2UwAqFEe-p2sKgoE6p0A" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OoMNVQqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_Oh3i4gqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_OhE4sAqFEe-p2sKgoE6p0A">
      <parameters__OperationSignature dataType__Parameter="_Oh3i4AqFEe-p2sKgoE6p0A" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_Oh3i4QqFEe-p2sKgoE6p0A" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OoMNVgqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_Oh270gqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_Oh1tsQqFEe-p2sKgoE6p0A">
      <parameters__OperationSignature dataType__Parameter="_Oh1tsAqFEe-p2sKgoE6p0A" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_OoMNVwqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_OhFfwAqFEe-p2sKgoE6p0A" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_OhE4sAqFEe-p2sKgoE6p0A">
      <parameters__OperationSignature dataType__Parameter="_OhERoAqFEe-p2sKgoE6p0A" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OhERoAqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_OhE4sAqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Oh1tsAqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Oh1tsQqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Oh2UwAqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Oh3i4AqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Oh3i4QqFEe-p2sKgoE6p0A" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
