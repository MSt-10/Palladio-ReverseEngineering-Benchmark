<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_8JKawc1nEe-56cRExGfmkg">
  <components__Repository xsi:type="repository:BasicComponent" id="_8I3f0s1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8I3f0M1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_8I24xc1nEe-56cRExGfmkg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8I3f0c1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_8I24w81nEe-56cRExGfmkg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8IIgA81nEe-56cRExGfmkg" describedService__SEFF="_8Cxe5c1nEe-56cRExGfmkg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8IIgAM1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IIgAc1nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IIgAc1nEe-56cRExGfmkg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_8IIgAM1nEe-56cRExGfmkg" successor_AbstractAction="_8IIgAs1nEe-56cRExGfmkg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8IIgAs1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IIgAc1nEe-56cRExGfmkg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8IJuLM1nEe-56cRExGfmkg" describedService__SEFF="_8CzUEM1nEe-56cRExGfmkg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8IIgBc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IJHGc1nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8IJHGc1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IIgBc1nEe-56cRExGfmkg" successor_AbstractAction="_8IJuKs1nEe-56cRExGfmkg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IJHEM1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8IJHEs1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8IIgBs1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IIgB81nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8IIgB81nEe-56cRExGfmkg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_8IIgBs1nEe-56cRExGfmkg" successor_AbstractAction="_8IIgCM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IIgCM1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IIgB81nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IJHFs1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8IJHGM1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8IJHE81nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IJHFM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8IJHFM1nEe-56cRExGfmkg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_8IJHE81nEe-56cRExGfmkg" successor_AbstractAction="_8IJHFc1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IJHFc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IJHFM1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8IJuKs1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IJHGc1nEe-56cRExGfmkg" successor_AbstractAction="_8IJuK81nEe-56cRExGfmkg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IJuJ81nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8IJuKc1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8IJHGs1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IJuJc1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8IJuJc1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IJHGs1nEe-56cRExGfmkg" successor_AbstractAction="_8IJuJs1nEe-56cRExGfmkg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IJHH81nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8IJHIc1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8IJHG81nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IJHHM1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IJHHM1nEe-56cRExGfmkg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_8IJHG81nEe-56cRExGfmkg" successor_AbstractAction="_8IJHHc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IJHHc1nEe-56cRExGfmkg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_8IJHHM1nEe-56cRExGfmkg" successor_AbstractAction="_8IJHHs1nEe-56cRExGfmkg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IJHHs1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IJHHc1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IJuIs1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8IJuJM1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8IJuIM1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IJuIc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IJuIc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IJuIM1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IJuJs1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IJuJc1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8IJuK81nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IJuKs1nEe-56cRExGfmkg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_8I8_bM1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8I8_a81nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_8I24x81nEe-56cRExGfmkg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8ILjW81nEe-56cRExGfmkg" describedService__SEFF="_8Cxe4c1nEe-56cRExGfmkg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8IJuLs1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IKVMM1nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8IKVMM1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IJuLs1nEe-56cRExGfmkg" successor_AbstractAction="_8IKVMc1nEe-56cRExGfmkg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IJuMs1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8IJuNM1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8IJuL81nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IJuMM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IJuMM1nEe-56cRExGfmkg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_8IJuL81nEe-56cRExGfmkg" successor_AbstractAction="_8IJuMc1nEe-56cRExGfmkg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IJuMc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IJuMM1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8IKVMc1nEe-56cRExGfmkg" entityName="stopWatch.start()" predecessor_AbstractAction="_8IKVMM1nEe-56cRExGfmkg" successor_AbstractAction="_8ILjWc1nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8ILjWc1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IKVMc1nEe-56cRExGfmkg" successor_AbstractAction="_8ILjWs1nEe-56cRExGfmkg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8ILjVs1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8ILjWM1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8IKVMs1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8ILjVM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8ILjVM1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IKVMs1nEe-56cRExGfmkg" successor_AbstractAction="_8ILjVc1nEe-56cRExGfmkg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8ILjUc1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8ILjU81nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8IKVM81nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IK8Sc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_8IK8Sc1nEe-56cRExGfmkg" entityName="Switch Branch" predecessor_AbstractAction="_8IKVM81nEe-56cRExGfmkg" successor_AbstractAction="_8IK8Ss1nEe-56cRExGfmkg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IKVPs1nEe-56cRExGfmkg">
                      <branchBehaviour_BranchTransition id="_8IKVQM1nEe-56cRExGfmkg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8IKVNM1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IKVO81nEe-56cRExGfmkg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_8IKVO81nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IKVNM1nEe-56cRExGfmkg" successor_AbstractAction="_8IKVPM1nEe-56cRExGfmkg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IKVOM1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_8IKVOs1nEe-56cRExGfmkg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_8IKVNc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IKVNs1nEe-56cRExGfmkg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_8IKVNs1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IKVNc1nEe-56cRExGfmkg" successor_AbstractAction="_8IKVN81nEe-56cRExGfmkg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_8IKVN81nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IKVNs1nEe-56cRExGfmkg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_8IKVPM1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IKVO81nEe-56cRExGfmkg" successor_AbstractAction="_8IKVPc1nEe-56cRExGfmkg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8IKVPc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IKVPM1nEe-56cRExGfmkg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IK8QM1nEe-56cRExGfmkg">
                      <branchBehaviour_BranchTransition id="_8IK8Qs1nEe-56cRExGfmkg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8IKVQc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IKVQs1nEe-56cRExGfmkg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_8IKVQs1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IKVQc1nEe-56cRExGfmkg" successor_AbstractAction="_8IKVQ81nEe-56cRExGfmkg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8IKVQ81nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IKVQs1nEe-56cRExGfmkg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IK8Rs1nEe-56cRExGfmkg">
                      <branchBehaviour_BranchTransition id="_8IK8SM1nEe-56cRExGfmkg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8IK8Q81nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IK8RM1nEe-56cRExGfmkg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_8IK8RM1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IK8Q81nEe-56cRExGfmkg" successor_AbstractAction="_8IK8Rc1nEe-56cRExGfmkg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8IK8Rc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IK8RM1nEe-56cRExGfmkg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IK8Ss1nEe-56cRExGfmkg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_8IK8Sc1nEe-56cRExGfmkg" successor_AbstractAction="_8IK8S81nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IK8S81nEe-56cRExGfmkg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_8IK8Ss1nEe-56cRExGfmkg" successor_AbstractAction="_8IK8TM1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IK8TM1nEe-56cRExGfmkg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_8IK8S81nEe-56cRExGfmkg" successor_AbstractAction="_8IK8Tc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IK8Tc1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IK8TM1nEe-56cRExGfmkg" successor_AbstractAction="_8IK8Ts1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IK8Ts1nEe-56cRExGfmkg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8IK8Tc1nEe-56cRExGfmkg" successor_AbstractAction="_8IK8T81nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IK8T81nEe-56cRExGfmkg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_8IK8Ts1nEe-56cRExGfmkg" successor_AbstractAction="_8IK8UM1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IK8UM1nEe-56cRExGfmkg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_8IK8T81nEe-56cRExGfmkg" successor_AbstractAction="_8IK8Uc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IK8Uc1nEe-56cRExGfmkg" entityName="deferredResult" predecessor_AbstractAction="_8IK8UM1nEe-56cRExGfmkg" successor_AbstractAction="_8ILjUM1nEe-56cRExGfmkg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8ILjUM1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IK8Uc1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8ILjVc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8ILjVM1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8ILjWs1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8ILjWc1nEe-56cRExGfmkg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_8JACsM1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8I_brc1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_8I24ws1nEe-56cRExGfmkg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8IMxfs1nEe-56cRExGfmkg" describedService__SEFF="_8CDGIM1nEe-56cRExGfmkg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8ILjXc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IMxe81nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8IMxe81nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8ILjXc1nEe-56cRExGfmkg" successor_AbstractAction="_8IMxfM1nEe-56cRExGfmkg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IMxeM1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8IMxes1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8ILjXs1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IMxds1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8IMxds1nEe-56cRExGfmkg" entityName="Switch Branch" predecessor_AbstractAction="_8ILjXs1nEe-56cRExGfmkg" successor_AbstractAction="_8IMxd81nEe-56cRExGfmkg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IMKa81nEe-56cRExGfmkg">
                <branchBehaviour_BranchTransition id="_8IMKbc1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8ILjX81nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IMKZc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_8IMKZc1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8ILjX81nEe-56cRExGfmkg" successor_AbstractAction="_8IMKZs1nEe-56cRExGfmkg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IMKYs1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_8IMKZM1nEe-56cRExGfmkg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8ILjYM1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IMKYM1nEe-56cRExGfmkg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_8IMKYM1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8ILjYM1nEe-56cRExGfmkg" successor_AbstractAction="_8IMKYc1nEe-56cRExGfmkg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8ILjY81nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_8ILjZc1nEe-56cRExGfmkg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_8ILjYc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8ILjYs1nEe-56cRExGfmkg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_8ILjYs1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8ILjYc1nEe-56cRExGfmkg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8IMKYc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IMKYM1nEe-56cRExGfmkg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IMKZs1nEe-56cRExGfmkg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_8IMKZc1nEe-56cRExGfmkg" successor_AbstractAction="_8IMKZ81nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IMKZ81nEe-56cRExGfmkg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_8IMKZs1nEe-56cRExGfmkg" successor_AbstractAction="_8IMKaM1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IMKaM1nEe-56cRExGfmkg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_8IMKZ81nEe-56cRExGfmkg" successor_AbstractAction="_8IMKac1nEe-56cRExGfmkg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IMKac1nEe-56cRExGfmkg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_8IMKaM1nEe-56cRExGfmkg" successor_AbstractAction="_8IMKas1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IMKas1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IMKac1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IMKcc1nEe-56cRExGfmkg">
                <branchBehaviour_BranchTransition id="_8IMxcM1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8IMKbs1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IMKb81nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IMKb81nEe-56cRExGfmkg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_8IMKbs1nEe-56cRExGfmkg" successor_AbstractAction="_8IMKcM1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IMKcM1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IMKb81nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IMxc81nEe-56cRExGfmkg">
                <branchBehaviour_BranchTransition id="_8IMxdc1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8IMxcc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IMxcs1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IMxcs1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IMxcc1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IMxd81nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IMxds1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8IMxfM1nEe-56cRExGfmkg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_8IMxe81nEe-56cRExGfmkg" successor_AbstractAction="_8IMxfc1nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8IMxfc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IMxfM1nEe-56cRExGfmkg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_8JCe8c1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8JCe8M1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_8I24xs1nEe-56cRExGfmkg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8IPNv81nEe-56cRExGfmkg" describedService__SEFF="_8CytAc1nEe-56cRExGfmkg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8IMxgM1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8INYgc1nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8INYgc1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IMxgM1nEe-56cRExGfmkg" successor_AbstractAction="_8INYgs1nEe-56cRExGfmkg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IMxhM1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8INYgM1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8IMxgc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IMxgs1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IMxgs1nEe-56cRExGfmkg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_8IMxgc1nEe-56cRExGfmkg" successor_AbstractAction="_8IMxg81nEe-56cRExGfmkg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IMxg81nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IMxgs1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYgs1nEe-56cRExGfmkg" entityName="stopWatch.start()" predecessor_AbstractAction="_8INYgc1nEe-56cRExGfmkg" successor_AbstractAction="_8IPNvc1nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8IPNvc1nEe-56cRExGfmkg" entityName="Switch Branch" predecessor_AbstractAction="_8INYgs1nEe-56cRExGfmkg" successor_AbstractAction="_8IPNvs1nEe-56cRExGfmkg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IN_mc1nEe-56cRExGfmkg">
          <branchBehaviour_BranchTransition id="_8IOmoM1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8INYg81nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8INYhM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYhM1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8INYg81nEe-56cRExGfmkg" successor_AbstractAction="_8INYhc1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYhc1nEe-56cRExGfmkg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8INYhM1nEe-56cRExGfmkg" successor_AbstractAction="_8INYhs1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYhs1nEe-56cRExGfmkg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_8INYhc1nEe-56cRExGfmkg" successor_AbstractAction="_8INYh81nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYh81nEe-56cRExGfmkg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_8INYhs1nEe-56cRExGfmkg" successor_AbstractAction="_8INYiM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8INYiM1nEe-56cRExGfmkg" entityName="deferredResult" predecessor_AbstractAction="_8INYh81nEe-56cRExGfmkg" successor_AbstractAction="_8IN_lc1nEe-56cRExGfmkg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8IN_lc1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8INYiM1nEe-56cRExGfmkg" successor_AbstractAction="_8IN_ls1nEe-56cRExGfmkg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IN_ks1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8IN_lM1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8INYic1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8INYis1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYis1nEe-56cRExGfmkg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_8INYic1nEe-56cRExGfmkg" successor_AbstractAction="_8INYi81nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYi81nEe-56cRExGfmkg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_8INYis1nEe-56cRExGfmkg" successor_AbstractAction="_8INYjM1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYjM1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8INYi81nEe-56cRExGfmkg" successor_AbstractAction="_8INYjc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYjc1nEe-56cRExGfmkg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8INYjM1nEe-56cRExGfmkg" successor_AbstractAction="_8INYjs1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYjs1nEe-56cRExGfmkg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_8INYjc1nEe-56cRExGfmkg" successor_AbstractAction="_8INYj81nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8INYj81nEe-56cRExGfmkg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_8INYjs1nEe-56cRExGfmkg" successor_AbstractAction="_8IN_kM1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IN_kM1nEe-56cRExGfmkg" entityName="deferredResult" predecessor_AbstractAction="_8INYj81nEe-56cRExGfmkg" successor_AbstractAction="_8IN_kc1nEe-56cRExGfmkg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IN_kc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IN_kM1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8IN_ls1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IN_lc1nEe-56cRExGfmkg" successor_AbstractAction="_8IN_l81nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8IN_l81nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IN_ls1nEe-56cRExGfmkg" successor_AbstractAction="_8IN_mM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IN_mM1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IN_l81nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IPNtM1nEe-56cRExGfmkg">
          <branchBehaviour_BranchTransition id="_8IPNts1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8IOmoc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IPNsM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8IPNsM1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IOmoc1nEe-56cRExGfmkg" successor_AbstractAction="_8IPNsc1nEe-56cRExGfmkg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IOmq81nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_8IOmrc1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8IOmos1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IOmo81nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IOmo81nEe-56cRExGfmkg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_8IOmos1nEe-56cRExGfmkg" successor_AbstractAction="_8IOmpM1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IOmpM1nEe-56cRExGfmkg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_8IOmo81nEe-56cRExGfmkg" successor_AbstractAction="_8IOmpc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IOmpc1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IOmpM1nEe-56cRExGfmkg" successor_AbstractAction="_8IOmps1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IOmps1nEe-56cRExGfmkg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8IOmpc1nEe-56cRExGfmkg" successor_AbstractAction="_8IOmp81nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IOmp81nEe-56cRExGfmkg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_8IOmps1nEe-56cRExGfmkg" successor_AbstractAction="_8IOmqM1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IOmqM1nEe-56cRExGfmkg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_8IOmp81nEe-56cRExGfmkg" successor_AbstractAction="_8IOmqc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IOmqc1nEe-56cRExGfmkg" entityName="deferredResult" predecessor_AbstractAction="_8IOmqM1nEe-56cRExGfmkg" successor_AbstractAction="_8IOmqs1nEe-56cRExGfmkg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IOmqs1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IOmqc1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8IPNsc1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IPNsM1nEe-56cRExGfmkg" successor_AbstractAction="_8IPNss1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8IPNss1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IPNsc1nEe-56cRExGfmkg" successor_AbstractAction="_8IPNs81nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IPNs81nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IPNss1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IPNus1nEe-56cRExGfmkg">
          <branchBehaviour_BranchTransition id="_8IPNvM1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8IPNt81nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IPNuM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_8IPNuM1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IPNt81nEe-56cRExGfmkg" successor_AbstractAction="_8IPNuc1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IPNuc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IPNuM1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8IPNvs1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IPNvc1nEe-56cRExGfmkg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_8JEULs1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8JEULc1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_8I24xM1nEe-56cRExGfmkg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_8IH4_s1nEe-56cRExGfmkg" describedService__SEFF="_8CyF8s1nEe-56cRExGfmkg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_8DMVoc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IE1oM1nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8IE1oM1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8DMVoc1nEe-56cRExGfmkg" successor_AbstractAction="_8IFcsM1nEe-56cRExGfmkg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IDngs1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8IEOkM1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8DOK0M1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IDngM1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IDngM1nEe-56cRExGfmkg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_8DOK0M1nEe-56cRExGfmkg" successor_AbstractAction="_8IDngc1nEe-56cRExGfmkg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IDngc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IDngM1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8IFcsM1nEe-56cRExGfmkg" entityName="stopWatch.start()" predecessor_AbstractAction="_8IE1oM1nEe-56cRExGfmkg" successor_AbstractAction="_8IH4-81nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_8IH4-81nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IFcsM1nEe-56cRExGfmkg" successor_AbstractAction="_8IH4_M1nEe-56cRExGfmkg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IH4-M1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_8IH4-s1nEe-56cRExGfmkg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_8IFcsc1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IH49s1nEe-56cRExGfmkg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_8IH49s1nEe-56cRExGfmkg" entityName="Switch Branch" predecessor_AbstractAction="_8IFcsc1nEe-56cRExGfmkg" successor_AbstractAction="_8IH4981nEe-56cRExGfmkg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IHR4M1nEe-56cRExGfmkg">
                <branchBehaviour_BranchTransition id="_8IHR4s1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8IGDwM1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IGDwc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGDwc1nEe-56cRExGfmkg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_8IGDwM1nEe-56cRExGfmkg" successor_AbstractAction="_8IGDzc1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_8IGDzc1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IGDwc1nEe-56cRExGfmkg" successor_AbstractAction="_8IGDzs1nEe-56cRExGfmkg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IGDys1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_8IGDzM1nEe-56cRExGfmkg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_8IGDws1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IGDyM1nEe-56cRExGfmkg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_8IGDyM1nEe-56cRExGfmkg" entityName="If Branch" predecessor_AbstractAction="_8IGDws1nEe-56cRExGfmkg" successor_AbstractAction="_8IGDyc1nEe-56cRExGfmkg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IGDxc1nEe-56cRExGfmkg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_8IGDx81nEe-56cRExGfmkg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_8IGDw81nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IGDxM1nEe-56cRExGfmkg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_8IGDxM1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IGDw81nEe-56cRExGfmkg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_8IGDyc1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IGDyM1nEe-56cRExGfmkg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGDzs1nEe-56cRExGfmkg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_8IGDzc1nEe-56cRExGfmkg" successor_AbstractAction="_8IGDz81nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGDz81nEe-56cRExGfmkg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_8IGDzs1nEe-56cRExGfmkg" successor_AbstractAction="_8IGD0M1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGD0M1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IGDz81nEe-56cRExGfmkg" successor_AbstractAction="_8IGq0M1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGq0M1nEe-56cRExGfmkg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8IGD0M1nEe-56cRExGfmkg" successor_AbstractAction="_8IGq0c1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGq0c1nEe-56cRExGfmkg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_8IGq0M1nEe-56cRExGfmkg" successor_AbstractAction="_8IGq0s1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IGq0s1nEe-56cRExGfmkg" entityName="deferredResult" predecessor_AbstractAction="_8IGq0c1nEe-56cRExGfmkg" successor_AbstractAction="_8IGq081nEe-56cRExGfmkg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGq081nEe-56cRExGfmkg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_8IGq0s1nEe-56cRExGfmkg" successor_AbstractAction="_8IGq1M1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGq1M1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IGq081nEe-56cRExGfmkg" successor_AbstractAction="_8IGq1c1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGq1c1nEe-56cRExGfmkg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8IGq1M1nEe-56cRExGfmkg" successor_AbstractAction="_8IGq1s1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGq1s1nEe-56cRExGfmkg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_8IGq1c1nEe-56cRExGfmkg" successor_AbstractAction="_8IGq181nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IGq181nEe-56cRExGfmkg" entityName="deferredResult" predecessor_AbstractAction="_8IGq1s1nEe-56cRExGfmkg" successor_AbstractAction="_8IGq2M1nEe-56cRExGfmkg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IGq2M1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IGq181nEe-56cRExGfmkg" successor_AbstractAction="_8IGq2c1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IGq2c1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IGq2M1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IHR681nEe-56cRExGfmkg">
                <branchBehaviour_BranchTransition id="_8IHR7c1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8IHR481nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IHR5M1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IHR5M1nEe-56cRExGfmkg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_8IHR481nEe-56cRExGfmkg" successor_AbstractAction="_8IHR5c1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IHR5c1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IHR5M1nEe-56cRExGfmkg" successor_AbstractAction="_8IHR5s1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IHR5s1nEe-56cRExGfmkg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_8IHR5c1nEe-56cRExGfmkg" successor_AbstractAction="_8IHR581nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IHR581nEe-56cRExGfmkg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_8IHR5s1nEe-56cRExGfmkg" successor_AbstractAction="_8IHR6M1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_8IHR6M1nEe-56cRExGfmkg" entityName="deferredResult" predecessor_AbstractAction="_8IHR581nEe-56cRExGfmkg" successor_AbstractAction="_8IHR6c1nEe-56cRExGfmkg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IHR6c1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IHR6M1nEe-56cRExGfmkg" successor_AbstractAction="_8IHR6s1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IHR6s1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IHR6c1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_8IH4881nEe-56cRExGfmkg">
                <branchBehaviour_BranchTransition id="_8IH49c1nEe-56cRExGfmkg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_8IH48M1nEe-56cRExGfmkg" entityName="Start Action" successor_AbstractAction="_8IH48c1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_8IH48c1nEe-56cRExGfmkg" entityName="stopWatch.stop()" predecessor_AbstractAction="_8IH48M1nEe-56cRExGfmkg" successor_AbstractAction="_8IH48s1nEe-56cRExGfmkg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_8IH48s1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IH48c1nEe-56cRExGfmkg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_8IH4981nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IH49s1nEe-56cRExGfmkg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_8IH4_M1nEe-56cRExGfmkg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_8IH4-81nEe-56cRExGfmkg" successor_AbstractAction="_8IH4_c1nEe-56cRExGfmkg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_8IH4_c1nEe-56cRExGfmkg" entityName="Stop Action" predecessor_AbstractAction="_8IH4_M1nEe-56cRExGfmkg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_8JHXdM1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8JJMoc1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_8JJzss1nEe-56cRExGfmkg" encapsulatedComponent__AssemblyContext="_8I8_bM1nEe-56cRExGfmkg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8JLB0s1nEe-56cRExGfmkg" innerProvidedRole_ProvidedDelegationConnector="_8I8_a81nEe-56cRExGfmkg" outerProvidedRole_ProvidedDelegationConnector="_8JJMoM1nEe-56cRExGfmkg" assemblyContext_ProvidedDelegationConnector="_8JJzss1nEe-56cRExGfmkg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8JJMoM1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_8I24x81nEe-56cRExGfmkg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8JJMos1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_8JJzus1nEe-56cRExGfmkg" encapsulatedComponent__AssemblyContext="_8JHXdM1nEe-56cRExGfmkg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8JJMpM1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_8JJzuM1nEe-56cRExGfmkg" encapsulatedComponent__AssemblyContext="_8JACsM1nEe-56cRExGfmkg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8JLB1c1nEe-56cRExGfmkg" innerProvidedRole_ProvidedDelegationConnector="_8I_brc1nEe-56cRExGfmkg" outerProvidedRole_ProvidedDelegationConnector="_8JJMo81nEe-56cRExGfmkg" assemblyContext_ProvidedDelegationConnector="_8JJzuM1nEe-56cRExGfmkg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8JJMo81nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_8I24ws1nEe-56cRExGfmkg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8JJMp81nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_8JJzsM1nEe-56cRExGfmkg" encapsulatedComponent__AssemblyContext="_8I3f0s1nEe-56cRExGfmkg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8JLB0c1nEe-56cRExGfmkg" innerProvidedRole_ProvidedDelegationConnector="_8I3f0c1nEe-56cRExGfmkg" outerProvidedRole_ProvidedDelegationConnector="_8JJMps1nEe-56cRExGfmkg" assemblyContext_ProvidedDelegationConnector="_8JJzsM1nEe-56cRExGfmkg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8JLB081nEe-56cRExGfmkg" innerProvidedRole_ProvidedDelegationConnector="_8I3f0M1nEe-56cRExGfmkg" outerProvidedRole_ProvidedDelegationConnector="_8JJMpc1nEe-56cRExGfmkg" assemblyContext_ProvidedDelegationConnector="_8JJzsM1nEe-56cRExGfmkg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8JJMpc1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_8I24xc1nEe-56cRExGfmkg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8JJMps1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_8I24w81nEe-56cRExGfmkg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8JJMqc1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_8JJzts1nEe-56cRExGfmkg" encapsulatedComponent__AssemblyContext="_8JCe8c1nEe-56cRExGfmkg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8JLB1M1nEe-56cRExGfmkg" innerProvidedRole_ProvidedDelegationConnector="_8JCe8M1nEe-56cRExGfmkg" outerProvidedRole_ProvidedDelegationConnector="_8JJMqM1nEe-56cRExGfmkg" assemblyContext_ProvidedDelegationConnector="_8JJzts1nEe-56cRExGfmkg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8JJMqM1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_8I24xs1nEe-56cRExGfmkg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_8JJMq81nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_8JJztM1nEe-56cRExGfmkg" encapsulatedComponent__AssemblyContext="_8JEULs1nEe-56cRExGfmkg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_8JLB0M1nEe-56cRExGfmkg" innerProvidedRole_ProvidedDelegationConnector="_8JEULc1nEe-56cRExGfmkg" outerProvidedRole_ProvidedDelegationConnector="_8JJMqs1nEe-56cRExGfmkg" assemblyContext_ProvidedDelegationConnector="_8JJztM1nEe-56cRExGfmkg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_8JJMqs1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_8I24xM1nEe-56cRExGfmkg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8I24ws1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_8CDGIM1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_8CCfEM1nEe-56cRExGfmkg">
      <parameters__OperationSignature dataType__Parameter="_8CBQ8M1nEe-56cRExGfmkg" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8I24w81nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_8CzUEM1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_8CCfEM1nEe-56cRExGfmkg">
      <parameters__OperationSignature dataType__Parameter="_8CytBM1nEe-56cRExGfmkg" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_8CytBc1nEe-56cRExGfmkg" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8I24xM1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_8CyF8s1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_8Cxe4M1nEe-56cRExGfmkg">
      <parameters__OperationSignature dataType__Parameter="_8CBQ8M1nEe-56cRExGfmkg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8I24xc1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_8Cxe5c1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_8CCfEM1nEe-56cRExGfmkg">
      <parameters__OperationSignature dataType__Parameter="_8Cxe5M1nEe-56cRExGfmkg" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8I24xs1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_8CytAc1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_8Cxe4M1nEe-56cRExGfmkg">
      <parameters__OperationSignature dataType__Parameter="_8CytAM1nEe-56cRExGfmkg" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_8I24x81nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_8Cxe4c1nEe-56cRExGfmkg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_8Cxe4M1nEe-56cRExGfmkg">
      <parameters__OperationSignature dataType__Parameter="_8CBQ8M1nEe-56cRExGfmkg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8CBQ8M1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8CCfEM1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8Cxe4M1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8Cxe5M1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8CytAM1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8CytBM1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_8CytBc1nEe-56cRExGfmkg" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
