<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_rmIrLKFmEe--16yEd_xFJA">
  <components__Repository xsi:type="repository:BasicComponent" id="_rl4Md6FmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rl4MdqFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_rl4McqFmEe--16yEd_xFJA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_rlJMp6FmEe--16yEd_xFJA" describedService__SEFF="_rfgesKFmEe--16yEd_xFJA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_rf6uYaFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlFiQKFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_rlFiQKFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rf6uYaFmEe--16yEd_xFJA" successor_AbstractAction="_rlGJUKFmEe--16yEd_xFJA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlEUIKFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_rlE7MKFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rf8jkKFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlDtEKFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlDtEKFmEe--16yEd_xFJA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_rf8jkKFmEe--16yEd_xFJA" successor_AbstractAction="_rlDtEaFmEe--16yEd_xFJA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlDtEaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlDtEKFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_rlGJUKFmEe--16yEd_xFJA" entityName="stopWatch.start()" predecessor_AbstractAction="_rlFiQKFmEe--16yEd_xFJA" successor_AbstractAction="_rlJMpKFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_rlJMpKFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlGJUKFmEe--16yEd_xFJA" successor_AbstractAction="_rlJMpaFmEe--16yEd_xFJA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlJMoaFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_rlJMo6FmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlGJUaFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlIlnqFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_rlIlnqFmEe--16yEd_xFJA" entityName="Switch Branch" predecessor_AbstractAction="_rlGJUaFmEe--16yEd_xFJA" successor_AbstractAction="_rlJMoKFmEe--16yEd_xFJA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlH-hKFmEe--16yEd_xFJA">
                <branchBehaviour_BranchTransition id="_rlH-hqFmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlGwYKFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlGwYaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlGwYaFmEe--16yEd_xFJA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_rlGwYKFmEe--16yEd_xFJA" successor_AbstractAction="_rlHXcaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_rlHXcaFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlGwYaFmEe--16yEd_xFJA" successor_AbstractAction="_rlHXcqFmEe--16yEd_xFJA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlGwaqFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_rlHXcKFmEe--16yEd_xFJA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_rlGwYqFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlGwaKFmEe--16yEd_xFJA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_rlGwaKFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlGwYqFmEe--16yEd_xFJA" successor_AbstractAction="_rlGwaaFmEe--16yEd_xFJA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlGwZaFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_rlGwZ6FmEe--16yEd_xFJA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_rlGwY6FmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlGwZKFmEe--16yEd_xFJA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_rlGwZKFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlGwY6FmEe--16yEd_xFJA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_rlGwaaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlGwaKFmEe--16yEd_xFJA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlHXcqFmEe--16yEd_xFJA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_rlHXcaFmEe--16yEd_xFJA" successor_AbstractAction="_rlHXc6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlHXc6FmEe--16yEd_xFJA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_rlHXcqFmEe--16yEd_xFJA" successor_AbstractAction="_rlHXdKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlHXdKFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlHXc6FmEe--16yEd_xFJA" successor_AbstractAction="_rlHXdaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlHXdaFmEe--16yEd_xFJA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_rlHXdKFmEe--16yEd_xFJA" successor_AbstractAction="_rlHXdqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlHXdqFmEe--16yEd_xFJA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_rlHXdaFmEe--16yEd_xFJA" successor_AbstractAction="_rlHXd6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlHXd6FmEe--16yEd_xFJA" entityName="deferredResult" predecessor_AbstractAction="_rlHXdqFmEe--16yEd_xFJA" successor_AbstractAction="_rlHXeKFmEe--16yEd_xFJA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlHXeKFmEe--16yEd_xFJA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_rlHXd6FmEe--16yEd_xFJA" successor_AbstractAction="_rlHXeaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlHXeaFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlHXeKFmEe--16yEd_xFJA" successor_AbstractAction="_rlHXeqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlHXeqFmEe--16yEd_xFJA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_rlHXeaFmEe--16yEd_xFJA" successor_AbstractAction="_rlH-gKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlH-gKFmEe--16yEd_xFJA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_rlHXeqFmEe--16yEd_xFJA" successor_AbstractAction="_rlH-gaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlH-gaFmEe--16yEd_xFJA" entityName="deferredResult" predecessor_AbstractAction="_rlH-gKFmEe--16yEd_xFJA" successor_AbstractAction="_rlH-gqFmEe--16yEd_xFJA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlH-gqFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlH-gaFmEe--16yEd_xFJA" successor_AbstractAction="_rlH-g6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlH-g6FmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlH-gqFmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlIllaFmEe--16yEd_xFJA">
                <branchBehaviour_BranchTransition id="_rlIll6FmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlH-h6FmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlH-iKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlH-iKFmEe--16yEd_xFJA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_rlH-h6FmEe--16yEd_xFJA" successor_AbstractAction="_rlH-iaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlH-iaFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlH-iKFmEe--16yEd_xFJA" successor_AbstractAction="_rlIlkKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlIlkKFmEe--16yEd_xFJA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_rlH-iaFmEe--16yEd_xFJA" successor_AbstractAction="_rlIlkaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlIlkaFmEe--16yEd_xFJA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_rlIlkKFmEe--16yEd_xFJA" successor_AbstractAction="_rlIlkqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlIlkqFmEe--16yEd_xFJA" entityName="deferredResult" predecessor_AbstractAction="_rlIlkaFmEe--16yEd_xFJA" successor_AbstractAction="_rlIlk6FmEe--16yEd_xFJA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlIlk6FmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlIlkqFmEe--16yEd_xFJA" successor_AbstractAction="_rlIllKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlIllKFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlIlk6FmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlIlm6FmEe--16yEd_xFJA">
                <branchBehaviour_BranchTransition id="_rlIlnaFmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlIlmKFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlIlmaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlIlmaFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlIlmKFmEe--16yEd_xFJA" successor_AbstractAction="_rlIlmqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlIlmqFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlIlmaFmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlJMoKFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlIlnqFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_rlJMpaFmEe--16yEd_xFJA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_rlJMpKFmEe--16yEd_xFJA" successor_AbstractAction="_rlJMpqFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_rlJMpqFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlJMpaFmEe--16yEd_xFJA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_rl7PxqFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rl7PxKFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_rl4Mc6FmEe--16yEd_xFJA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rl7PxaFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_rl4MdKFmEe--16yEd_xFJA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_rlOsMqFmEe--16yEd_xFJA" describedService__SEFF="_rffQk6FmEe--16yEd_xFJA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_rlOFKaFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlOsMKFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlOsMKFmEe--16yEd_xFJA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_rlOFKaFmEe--16yEd_xFJA" successor_AbstractAction="_rlOsMaFmEe--16yEd_xFJA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_rlOsMaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlOsMKFmEe--16yEd_xFJA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_rlP6UqFmEe--16yEd_xFJA" describedService__SEFF="_rff3oqFmEe--16yEd_xFJA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_rlOsNKFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlPTQKFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_rlPTQKFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlOsNKFmEe--16yEd_xFJA" successor_AbstractAction="_rlP6UKFmEe--16yEd_xFJA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlOsOKFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_rlOsOqFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlOsNaFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlOsNqFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlOsNqFmEe--16yEd_xFJA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_rlOsNaFmEe--16yEd_xFJA" successor_AbstractAction="_rlOsN6FmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlOsN6FmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlOsNqFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlOsPqFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_rlOsQKFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlOsO6FmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlOsPKFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlOsPKFmEe--16yEd_xFJA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_rlOsO6FmEe--16yEd_xFJA" successor_AbstractAction="_rlOsPaFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlOsPaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlOsPKFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_rlP6UKFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlPTQKFmEe--16yEd_xFJA" successor_AbstractAction="_rlP6UaFmEe--16yEd_xFJA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlPTUKFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_rlPTUqFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlPTQaFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlPTTqFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_rlPTTqFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlPTQaFmEe--16yEd_xFJA" successor_AbstractAction="_rlPTT6FmEe--16yEd_xFJA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlPTRqFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_rlPTSKFmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlPTQqFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlPTQ6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlPTQ6FmEe--16yEd_xFJA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_rlPTQqFmEe--16yEd_xFJA" successor_AbstractAction="_rlPTRKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlPTRKFmEe--16yEd_xFJA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_rlPTQ6FmEe--16yEd_xFJA" successor_AbstractAction="_rlPTRaFmEe--16yEd_xFJA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlPTRaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlPTRKFmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlPTS6FmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_rlPTTaFmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlPTSaFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlPTSqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlPTSqFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlPTSaFmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlPTT6FmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlPTTqFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_rlP6UaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlP6UKFmEe--16yEd_xFJA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_rmAIQKFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rl_hPaFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_rl4MdaFmEe--16yEd_xFJA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_rlLo76FmEe--16yEd_xFJA" describedService__SEFF="_rfgetKFmEe--16yEd_xFJA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_rlJMqaFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlJzsqFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_rlJzsqFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlJMqaFmEe--16yEd_xFJA" successor_AbstractAction="_rlJzs6FmEe--16yEd_xFJA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlJMraFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_rlJzsaFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlJMqqFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlJMq6FmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlJMq6FmEe--16yEd_xFJA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_rlJMqqFmEe--16yEd_xFJA" successor_AbstractAction="_rlJMrKFmEe--16yEd_xFJA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlJMrKFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlJMq6FmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_rlJzs6FmEe--16yEd_xFJA" entityName="stopWatch.start()" predecessor_AbstractAction="_rlJzsqFmEe--16yEd_xFJA" successor_AbstractAction="_rlLo7aFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_rlLo7aFmEe--16yEd_xFJA" entityName="Switch Branch" predecessor_AbstractAction="_rlJzs6FmEe--16yEd_xFJA" successor_AbstractAction="_rlLo7qFmEe--16yEd_xFJA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlKazKFmEe--16yEd_xFJA">
          <branchBehaviour_BranchTransition id="_rlLB0KFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlJztKFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlJztaFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlJztaFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlJztKFmEe--16yEd_xFJA" successor_AbstractAction="_rlJztqFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlJztqFmEe--16yEd_xFJA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_rlJztaFmEe--16yEd_xFJA" successor_AbstractAction="_rlJzt6FmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlJzt6FmEe--16yEd_xFJA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_rlJztqFmEe--16yEd_xFJA" successor_AbstractAction="_rlJzuKFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlJzuKFmEe--16yEd_xFJA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_rlJzt6FmEe--16yEd_xFJA" successor_AbstractAction="_rlJzuaFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlJzuaFmEe--16yEd_xFJA" entityName="deferredResult" predecessor_AbstractAction="_rlJzuKFmEe--16yEd_xFJA" successor_AbstractAction="_rlKayKFmEe--16yEd_xFJA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_rlKayKFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlJzuaFmEe--16yEd_xFJA" successor_AbstractAction="_rlKayaFmEe--16yEd_xFJA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlKaxaFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_rlKax6FmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlJzuqFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlJzu6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlJzu6FmEe--16yEd_xFJA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_rlJzuqFmEe--16yEd_xFJA" successor_AbstractAction="_rlJzvKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlJzvKFmEe--16yEd_xFJA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_rlJzu6FmEe--16yEd_xFJA" successor_AbstractAction="_rlJzvaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlJzvaFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlJzvKFmEe--16yEd_xFJA" successor_AbstractAction="_rlKawKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlKawKFmEe--16yEd_xFJA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_rlJzvaFmEe--16yEd_xFJA" successor_AbstractAction="_rlKawaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlKawaFmEe--16yEd_xFJA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_rlKawKFmEe--16yEd_xFJA" successor_AbstractAction="_rlKawqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlKawqFmEe--16yEd_xFJA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_rlKawaFmEe--16yEd_xFJA" successor_AbstractAction="_rlKaw6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlKaw6FmEe--16yEd_xFJA" entityName="deferredResult" predecessor_AbstractAction="_rlKawqFmEe--16yEd_xFJA" successor_AbstractAction="_rlKaxKFmEe--16yEd_xFJA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlKaxKFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlKaw6FmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlKayaFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlKayKFmEe--16yEd_xFJA" successor_AbstractAction="_rlKayqFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlKayqFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlKayaFmEe--16yEd_xFJA" successor_AbstractAction="_rlKay6FmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlKay6FmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlKayqFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlLo5KFmEe--16yEd_xFJA">
          <branchBehaviour_BranchTransition id="_rlLo5qFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlLB0aFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlLo4KFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_rlLo4KFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlLB0aFmEe--16yEd_xFJA" successor_AbstractAction="_rlLo4aFmEe--16yEd_xFJA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlLB26FmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_rlLB3aFmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlLB0qFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlLB06FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlLB06FmEe--16yEd_xFJA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_rlLB0qFmEe--16yEd_xFJA" successor_AbstractAction="_rlLB1KFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlLB1KFmEe--16yEd_xFJA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_rlLB06FmEe--16yEd_xFJA" successor_AbstractAction="_rlLB1aFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlLB1aFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlLB1KFmEe--16yEd_xFJA" successor_AbstractAction="_rlLB1qFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlLB1qFmEe--16yEd_xFJA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_rlLB1aFmEe--16yEd_xFJA" successor_AbstractAction="_rlLB16FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlLB16FmEe--16yEd_xFJA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_rlLB1qFmEe--16yEd_xFJA" successor_AbstractAction="_rlLB2KFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlLB2KFmEe--16yEd_xFJA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_rlLB16FmEe--16yEd_xFJA" successor_AbstractAction="_rlLB2aFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlLB2aFmEe--16yEd_xFJA" entityName="deferredResult" predecessor_AbstractAction="_rlLB2KFmEe--16yEd_xFJA" successor_AbstractAction="_rlLB2qFmEe--16yEd_xFJA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlLB2qFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlLB2aFmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlLo4aFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlLo4KFmEe--16yEd_xFJA" successor_AbstractAction="_rlLo4qFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlLo4qFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlLo4aFmEe--16yEd_xFJA" successor_AbstractAction="_rlLo46FmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlLo46FmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlLo4qFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlLo6qFmEe--16yEd_xFJA">
          <branchBehaviour_BranchTransition id="_rlLo7KFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlLo56FmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlLo6KFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_rlLo6KFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlLo56FmEe--16yEd_xFJA" successor_AbstractAction="_rlLo6aFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlLo6aFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlLo6KFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_rlLo7qFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlLo7aFmEe--16yEd_xFJA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_rmB9eqFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rmB9eaFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_rl4McaFmEe--16yEd_xFJA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_rlOFJ6FmEe--16yEd_xFJA" describedService__SEFF="_rewQwKFmEe--16yEd_xFJA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_rlMP8KFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlMP96FmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_rlMP96FmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlMP8KFmEe--16yEd_xFJA" successor_AbstractAction="_rlMP-KFmEe--16yEd_xFJA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlMP9KFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_rlMP9qFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlMP8aFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlMP8qFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlMP8qFmEe--16yEd_xFJA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_rlMP8aFmEe--16yEd_xFJA" successor_AbstractAction="_rlMP86FmEe--16yEd_xFJA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlMP86FmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlMP8qFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_rlMP-KFmEe--16yEd_xFJA" entityName="stopWatch.start()" predecessor_AbstractAction="_rlMP96FmEe--16yEd_xFJA" successor_AbstractAction="_rlOFJaFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_rlOFJaFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlMP-KFmEe--16yEd_xFJA" successor_AbstractAction="_rlOFJqFmEe--16yEd_xFJA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlOFIqFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_rlOFJKFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlMP-aFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlOFIKFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_rlOFIKFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlMP-aFmEe--16yEd_xFJA" successor_AbstractAction="_rlOFIaFmEe--16yEd_xFJA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlNeGaFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_rlNeG6FmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlMP-qFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlM3E6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_rlM3E6FmEe--16yEd_xFJA" entityName="Switch Branch" predecessor_AbstractAction="_rlMP-qFmEe--16yEd_xFJA" successor_AbstractAction="_rlNeEKFmEe--16yEd_xFJA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlM3BKFmEe--16yEd_xFJA">
                      <branchBehaviour_BranchTransition id="_rlM3BqFmEe--16yEd_xFJA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_rlMP-6FmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlM3AaFmEe--16yEd_xFJA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_rlM3AaFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlMP-6FmEe--16yEd_xFJA" successor_AbstractAction="_rlM3AqFmEe--16yEd_xFJA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlMP_6FmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_rlM3AKFmEe--16yEd_xFJA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_rlMP_KFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlMP_aFmEe--16yEd_xFJA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_rlMP_aFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlMP_KFmEe--16yEd_xFJA" successor_AbstractAction="_rlMP_qFmEe--16yEd_xFJA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_rlMP_qFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlMP_aFmEe--16yEd_xFJA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_rlM3AqFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlM3AaFmEe--16yEd_xFJA" successor_AbstractAction="_rlM3A6FmEe--16yEd_xFJA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_rlM3A6FmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlM3AqFmEe--16yEd_xFJA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlM3CqFmEe--16yEd_xFJA">
                      <branchBehaviour_BranchTransition id="_rlM3DKFmEe--16yEd_xFJA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_rlM3B6FmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlM3CKFmEe--16yEd_xFJA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_rlM3CKFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlM3B6FmEe--16yEd_xFJA" successor_AbstractAction="_rlM3CaFmEe--16yEd_xFJA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_rlM3CaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlM3CKFmEe--16yEd_xFJA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlM3EKFmEe--16yEd_xFJA">
                      <branchBehaviour_BranchTransition id="_rlM3EqFmEe--16yEd_xFJA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_rlM3DaFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlM3DqFmEe--16yEd_xFJA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_rlM3DqFmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlM3DaFmEe--16yEd_xFJA" successor_AbstractAction="_rlM3D6FmEe--16yEd_xFJA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_rlM3D6FmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlM3DqFmEe--16yEd_xFJA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlNeEKFmEe--16yEd_xFJA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_rlM3E6FmEe--16yEd_xFJA" successor_AbstractAction="_rlNeEaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlNeEaFmEe--16yEd_xFJA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_rlNeEKFmEe--16yEd_xFJA" successor_AbstractAction="_rlNeEqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlNeEqFmEe--16yEd_xFJA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_rlNeEaFmEe--16yEd_xFJA" successor_AbstractAction="_rlNeE6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlNeE6FmEe--16yEd_xFJA" entityName="stopWatch.stop()" predecessor_AbstractAction="_rlNeEqFmEe--16yEd_xFJA" successor_AbstractAction="_rlNeFKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlNeFKFmEe--16yEd_xFJA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_rlNeE6FmEe--16yEd_xFJA" successor_AbstractAction="_rlNeFaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlNeFaFmEe--16yEd_xFJA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_rlNeFKFmEe--16yEd_xFJA" successor_AbstractAction="_rlNeFqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlNeFqFmEe--16yEd_xFJA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_rlNeFaFmEe--16yEd_xFJA" successor_AbstractAction="_rlNeF6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlNeF6FmEe--16yEd_xFJA" entityName="deferredResult" predecessor_AbstractAction="_rlNeFqFmEe--16yEd_xFJA" successor_AbstractAction="_rlNeGKFmEe--16yEd_xFJA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlNeGKFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlNeF6FmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlOFIaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlOFIKFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_rlOFJqFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlOFJaFmEe--16yEd_xFJA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_rmDyrqFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rmDyraFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_rl4McKFmEe--16yEd_xFJA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_rlRIc6FmEe--16yEd_xFJA" describedService__SEFF="_rfepgaFmEe--16yEd_xFJA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_rlP6VKFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlRIcKFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_rlRIcKFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlP6VKFmEe--16yEd_xFJA" successor_AbstractAction="_rlRIcaFmEe--16yEd_xFJA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlQhc6FmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_rlQhdaFmEe--16yEd_xFJA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_rlP6VaFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlQhcaFmEe--16yEd_xFJA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_rlQhcaFmEe--16yEd_xFJA" entityName="Switch Branch" predecessor_AbstractAction="_rlP6VaFmEe--16yEd_xFJA" successor_AbstractAction="_rlQhcqFmEe--16yEd_xFJA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlQhY6FmEe--16yEd_xFJA">
                <branchBehaviour_BranchTransition id="_rlQhZaFmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlP6VqFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlP6YqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_rlP6YqFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlP6VqFmEe--16yEd_xFJA" successor_AbstractAction="_rlP6Y6FmEe--16yEd_xFJA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlP6X6FmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_rlP6YaFmEe--16yEd_xFJA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_rlP6V6FmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlP6XaFmEe--16yEd_xFJA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_rlP6XaFmEe--16yEd_xFJA" entityName="If Branch" predecessor_AbstractAction="_rlP6V6FmEe--16yEd_xFJA" successor_AbstractAction="_rlP6XqFmEe--16yEd_xFJA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlP6WqFmEe--16yEd_xFJA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_rlP6XKFmEe--16yEd_xFJA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_rlP6WKFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlP6WaFmEe--16yEd_xFJA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_rlP6WaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlP6WKFmEe--16yEd_xFJA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_rlP6XqFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlP6XaFmEe--16yEd_xFJA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlP6Y6FmEe--16yEd_xFJA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_rlP6YqFmEe--16yEd_xFJA" successor_AbstractAction="_rlP6ZKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlP6ZKFmEe--16yEd_xFJA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_rlP6Y6FmEe--16yEd_xFJA" successor_AbstractAction="_rlQhYKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_rlQhYKFmEe--16yEd_xFJA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_rlP6ZKFmEe--16yEd_xFJA" successor_AbstractAction="_rlQhYaFmEe--16yEd_xFJA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlQhYaFmEe--16yEd_xFJA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_rlQhYKFmEe--16yEd_xFJA" successor_AbstractAction="_rlQhYqFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlQhYqFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlQhYaFmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlQhaaFmEe--16yEd_xFJA">
                <branchBehaviour_BranchTransition id="_rlQha6FmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlQhZqFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlQhZ6FmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_rlQhZ6FmEe--16yEd_xFJA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_rlQhZqFmEe--16yEd_xFJA" successor_AbstractAction="_rlQhaKFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlQhaKFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlQhZ6FmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_rlQhbqFmEe--16yEd_xFJA">
                <branchBehaviour_BranchTransition id="_rlQhcKFmEe--16yEd_xFJA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_rlQhbKFmEe--16yEd_xFJA" entityName="Start Action" successor_AbstractAction="_rlQhbaFmEe--16yEd_xFJA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_rlQhbaFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlQhbKFmEe--16yEd_xFJA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_rlQhcqFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlQhcaFmEe--16yEd_xFJA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_rlRIcaFmEe--16yEd_xFJA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_rlRIcKFmEe--16yEd_xFJA" successor_AbstractAction="_rlRIcqFmEe--16yEd_xFJA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_rlRIcqFmEe--16yEd_xFJA" entityName="Stop Action" predecessor_AbstractAction="_rlRIcaFmEe--16yEd_xFJA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_rmGO46FmEe--16yEd_xFJA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_rmIEEKFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_rmIrJqFmEe--16yEd_xFJA" encapsulatedComponent__AssemblyContext="_rmGO46FmEe--16yEd_xFJA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_rmIEEqFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_rmIrJKFmEe--16yEd_xFJA" encapsulatedComponent__AssemblyContext="_rmDyrqFmEe--16yEd_xFJA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_rmJSMaFmEe--16yEd_xFJA" innerProvidedRole_ProvidedDelegationConnector="_rmDyraFmEe--16yEd_xFJA" outerProvidedRole_ProvidedDelegationConnector="_rmIEEaFmEe--16yEd_xFJA" assemblyContext_ProvidedDelegationConnector="_rmIrJKFmEe--16yEd_xFJA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rmIEEaFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_rl4McKFmEe--16yEd_xFJA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_rmIEFaFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_rmIrKKFmEe--16yEd_xFJA" encapsulatedComponent__AssemblyContext="_rl7PxqFmEe--16yEd_xFJA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_rmJ5QKFmEe--16yEd_xFJA" innerProvidedRole_ProvidedDelegationConnector="_rl7PxKFmEe--16yEd_xFJA" outerProvidedRole_ProvidedDelegationConnector="_rmIEE6FmEe--16yEd_xFJA" assemblyContext_ProvidedDelegationConnector="_rmIrKKFmEe--16yEd_xFJA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_rmJ5QaFmEe--16yEd_xFJA" innerProvidedRole_ProvidedDelegationConnector="_rl7PxaFmEe--16yEd_xFJA" outerProvidedRole_ProvidedDelegationConnector="_rmIEFKFmEe--16yEd_xFJA" assemblyContext_ProvidedDelegationConnector="_rmIrKKFmEe--16yEd_xFJA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rmIEE6FmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_rl4Mc6FmEe--16yEd_xFJA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rmIEFKFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_rl4MdKFmEe--16yEd_xFJA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_rmIEF6FmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_rmIrIqFmEe--16yEd_xFJA" encapsulatedComponent__AssemblyContext="_rl4Md6FmEe--16yEd_xFJA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_rmJ5Q6FmEe--16yEd_xFJA" innerProvidedRole_ProvidedDelegationConnector="_rl4MdqFmEe--16yEd_xFJA" outerProvidedRole_ProvidedDelegationConnector="_rmIEFqFmEe--16yEd_xFJA" assemblyContext_ProvidedDelegationConnector="_rmIrIqFmEe--16yEd_xFJA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rmIEFqFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_rl4McqFmEe--16yEd_xFJA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_rmIEGaFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_rmIrKqFmEe--16yEd_xFJA" encapsulatedComponent__AssemblyContext="_rmAIQKFmEe--16yEd_xFJA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_rmJ5QqFmEe--16yEd_xFJA" innerProvidedRole_ProvidedDelegationConnector="_rl_hPaFmEe--16yEd_xFJA" outerProvidedRole_ProvidedDelegationConnector="_rmIEGKFmEe--16yEd_xFJA" assemblyContext_ProvidedDelegationConnector="_rmIrKqFmEe--16yEd_xFJA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rmIEGKFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_rl4MdaFmEe--16yEd_xFJA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_rmIEG6FmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_rmIrIKFmEe--16yEd_xFJA" encapsulatedComponent__AssemblyContext="_rmB9eqFmEe--16yEd_xFJA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_rmJSMKFmEe--16yEd_xFJA" innerProvidedRole_ProvidedDelegationConnector="_rmB9eaFmEe--16yEd_xFJA" outerProvidedRole_ProvidedDelegationConnector="_rmIEGqFmEe--16yEd_xFJA" assemblyContext_ProvidedDelegationConnector="_rmIrIKFmEe--16yEd_xFJA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_rmIEGqFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_rl4McaFmEe--16yEd_xFJA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_rl4McKFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_rfepgaFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_rfepgKFmEe--16yEd_xFJA">
      <parameters__OperationSignature dataType__Parameter="_reubkKFmEe--16yEd_xFJA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_rl4McaFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_rewQwKFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_revpsKFmEe--16yEd_xFJA">
      <parameters__OperationSignature dataType__Parameter="_reubkKFmEe--16yEd_xFJA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_rl4McqFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_rfgesKFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_revpsKFmEe--16yEd_xFJA">
      <parameters__OperationSignature dataType__Parameter="_reubkKFmEe--16yEd_xFJA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_rl4Mc6FmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_rffQk6FmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_rfepgKFmEe--16yEd_xFJA">
      <parameters__OperationSignature dataType__Parameter="_rffQkqFmEe--16yEd_xFJA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_rl4MdKFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_rff3oqFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_rfepgKFmEe--16yEd_xFJA">
      <parameters__OperationSignature dataType__Parameter="_rff3oKFmEe--16yEd_xFJA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_rff3oaFmEe--16yEd_xFJA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_rl4MdaFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_rfgetKFmEe--16yEd_xFJA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_revpsKFmEe--16yEd_xFJA">
      <parameters__OperationSignature dataType__Parameter="_rfges6FmEe--16yEd_xFJA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_reubkKFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_revpsKFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_rfepgKFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_rffQkqFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_rff3oKFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_rff3oaFmEe--16yEd_xFJA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_rfges6FmEe--16yEd_xFJA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
