<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_Qeqg7KCdEe-I9bqwnVOLxA">
  <components__Repository xsi:type="repository:BasicComponent" id="_QeXl86CdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QeXl8aCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_QeW-5qCdEe-I9bqwnVOLxA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QeXl8qCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_QeW-5KCdEe-I9bqwnVOLxA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_QdomIqCdEe-I9bqwnVOLxA" describedService__SEFF="_QXHucqCdEe-I9bqwnVOLxA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Qdn_GqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdomIKCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdomIKCdEe-I9bqwnVOLxA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_Qdn_GqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdomIaCdEe-I9bqwnVOLxA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_QdomIaCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdomIKCdEe-I9bqwnVOLxA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Qdp0QqCdEe-I9bqwnVOLxA" describedService__SEFF="_QXJjoqCdEe-I9bqwnVOLxA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_QdomJKCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdpNMaCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QdpNMaCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QdomJKCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdp0QKCdEe-I9bqwnVOLxA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdomKKCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QdomKqCdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QdomJaCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdomJqCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QdomJqCdEe-I9bqwnVOLxA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_QdomJaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdomJ6CdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QdomJ6CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdomJqCdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdomLqCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QdpNMKCdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QdomK6CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdomLKCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QdomLKCdEe-I9bqwnVOLxA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_QdomK6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdomLaCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QdomLaCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdomLKCdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Qdp0QKCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QdpNMaCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdp0QaCdEe-I9bqwnVOLxA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdpNQaCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QdpNQ6CdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QdpNMqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdpNP6CdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QdpNP6CdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QdpNMqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdpNQKCdEe-I9bqwnVOLxA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdpNN6CdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_QdpNOaCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QdpNM6CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdpNNKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdpNNKCdEe-I9bqwnVOLxA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_QdpNM6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdpNNaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdpNNaCdEe-I9bqwnVOLxA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_QdpNNKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdpNNqCdEe-I9bqwnVOLxA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QdpNNqCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdpNNaCdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdpNPKCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_QdpNPqCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QdpNOqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdpNO6CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QdpNO6CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdpNOqCdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QdpNQKCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdpNP6CdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Qdp0QaCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdp0QKCdEe-I9bqwnVOLxA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_QedskaCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QedskKCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_QeW-5aCdEe-I9bqwnVOLxA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Qdk7yKCdEe-I9bqwnVOLxA" describedService__SEFF="_QXI8kKCdEe-I9bqwnVOLxA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_QXlogaCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdgqUaCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QdgqUaCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QXlogaCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdh4cKCdEe-I9bqwnVOLxA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdgDQKCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QdgqUKCdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QXndsKCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qde1IKCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Qde1IKCdEe-I9bqwnVOLxA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_QXndsKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdfcMKCdEe-I9bqwnVOLxA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QdfcMKCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qde1IKCdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdh4cKCdEe-I9bqwnVOLxA" entityName="stopWatch.start()" predecessor_AbstractAction="_QdgqUaCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdk7xqCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Qdk7xqCdEe-I9bqwnVOLxA" entityName="Switch Branch" predecessor_AbstractAction="_Qdh4cKCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdk7x6CdEe-I9bqwnVOLxA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdjto6CdEe-I9bqwnVOLxA">
          <branchBehaviour_BranchTransition id="_QdjtpaCdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QdifgKCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdifgaCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QdifgaCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdifgKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdifgqCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QdifgqCdEe-I9bqwnVOLxA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QdifgaCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdifg6CdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdifg6CdEe-I9bqwnVOLxA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_QdifgqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdifhKCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QdifhKCdEe-I9bqwnVOLxA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_Qdifg6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdifhaCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdifhaCdEe-I9bqwnVOLxA" entityName="deferredResult" predecessor_AbstractAction="_QdifhKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjGm6CdEe-I9bqwnVOLxA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QdjGm6CdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QdifhaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjtoKCdEe-I9bqwnVOLxA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdjGmKCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_QdjGmqCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QdifhqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdjGkKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjGkKCdEe-I9bqwnVOLxA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_QdifhqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjGkaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjGkaCdEe-I9bqwnVOLxA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_QdjGkKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjGkqCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjGkqCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdjGkaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjGk6CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjGk6CdEe-I9bqwnVOLxA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QdjGkqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjGlKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjGlKCdEe-I9bqwnVOLxA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_QdjGk6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjGlaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjGlaCdEe-I9bqwnVOLxA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_QdjGlKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjGlqCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdjGlqCdEe-I9bqwnVOLxA" entityName="deferredResult" predecessor_AbstractAction="_QdjGlaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjGl6CdEe-I9bqwnVOLxA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QdjGl6CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdjGlqCdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjtoKCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdjGm6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjtoaCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjtoaCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdjtoKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjtoqCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QdjtoqCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdjtoaCdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdkUuaCdEe-I9bqwnVOLxA">
          <branchBehaviour_BranchTransition id="_QdkUu6CdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QdjtpqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdkUtaCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QdkUtaCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QdjtpqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdkUtqCdEe-I9bqwnVOLxA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdkUsqCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_QdkUtKCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Qdjtp6CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdjtqKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjtqKCdEe-I9bqwnVOLxA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_Qdjtp6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjtqaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjtqaCdEe-I9bqwnVOLxA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_QdjtqKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjtqqCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjtqqCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdjtqaCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdjtq6CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdjtq6CdEe-I9bqwnVOLxA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QdjtqqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjtrKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjtrKCdEe-I9bqwnVOLxA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_Qdjtq6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdjtraCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdjtraCdEe-I9bqwnVOLxA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_QdjtrKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdkUsKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdkUsKCdEe-I9bqwnVOLxA" entityName="deferredResult" predecessor_AbstractAction="_QdjtraCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdkUsaCdEe-I9bqwnVOLxA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QdkUsaCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdkUsKCdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QdkUtqCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdkUtaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdkUt6CdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_QdkUt6CdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdkUtqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdkUuKCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QdkUuKCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdkUt6CdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdk7w6CdEe-I9bqwnVOLxA">
          <branchBehaviour_BranchTransition id="_Qdk7xaCdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Qdk7wKCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdk7waCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdk7waCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Qdk7wKCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdk7wqCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Qdk7wqCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdk7waCdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Qdk7x6CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdk7xqCdEe-I9bqwnVOLxA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_Qegv5KCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Qegv46CdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_QeW-46CdEe-I9bqwnVOLxA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Qdn_GKCdEe-I9bqwnVOLxA" describedService__SEFF="_QXIVgKCdEe-I9bqwnVOLxA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_QdmJ66CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdmw8aCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Qdmw8aCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QdmJ66CdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdmw8qCdEe-I9bqwnVOLxA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdmJ76CdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Qdmw8KCdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QdmJ7KCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdmJ7aCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdmJ7aCdEe-I9bqwnVOLxA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_QdmJ7KCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdmJ7qCdEe-I9bqwnVOLxA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QdmJ7qCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdmJ7aCdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdmw8qCdEe-I9bqwnVOLxA" entityName="stopWatch.start()" predecessor_AbstractAction="_Qdmw8aCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdn_FqCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Qdn_FqCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_Qdmw8qCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdn_F6CdEe-I9bqwnVOLxA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdn_E6CdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Qdn_FaCdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Qdmw86CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdn_EaCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Qdn_EaCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_Qdmw86CdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdn_EqCdEe-I9bqwnVOLxA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdnYE6CdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Qdn_EKCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Qdmw9KCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdnYCaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_QdnYCaCdEe-I9bqwnVOLxA" entityName="Switch Branch" predecessor_AbstractAction="_Qdmw9KCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYCqCdEe-I9bqwnVOLxA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdmw_6CdEe-I9bqwnVOLxA">
                      <branchBehaviour_BranchTransition id="_QdmxAaCdEe-I9bqwnVOLxA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Qdmw9aCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdmw_KCdEe-I9bqwnVOLxA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Qdmw_KCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_Qdmw9aCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdmw_aCdEe-I9bqwnVOLxA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdmw-aCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Qdmw-6CdEe-I9bqwnVOLxA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Qdmw9qCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdmw96CdEe-I9bqwnVOLxA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdmw96CdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Qdmw9qCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdmw-KCdEe-I9bqwnVOLxA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Qdmw-KCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdmw96CdEe-I9bqwnVOLxA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdmw_aCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Qdmw_KCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdmw_qCdEe-I9bqwnVOLxA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Qdmw_qCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdmw_aCdEe-I9bqwnVOLxA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdnYAKCdEe-I9bqwnVOLxA">
                      <branchBehaviour_BranchTransition id="_QdnYAqCdEe-I9bqwnVOLxA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_QdmxAqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdmxA6CdEe-I9bqwnVOLxA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_QdmxA6CdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdmxAqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdmxBKCdEe-I9bqwnVOLxA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_QdmxBKCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdmxA6CdEe-I9bqwnVOLxA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdnYBqCdEe-I9bqwnVOLxA">
                      <branchBehaviour_BranchTransition id="_QdnYCKCdEe-I9bqwnVOLxA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_QdnYA6CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdnYBKCdEe-I9bqwnVOLxA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_QdnYBKCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdnYA6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYBaCdEe-I9bqwnVOLxA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_QdnYBaCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdnYBKCdEe-I9bqwnVOLxA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdnYCqCdEe-I9bqwnVOLxA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_QdnYCaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYC6CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdnYC6CdEe-I9bqwnVOLxA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_QdnYCqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYDKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdnYDKCdEe-I9bqwnVOLxA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_QdnYC6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYDaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdnYDaCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdnYDKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYDqCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdnYDqCdEe-I9bqwnVOLxA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QdnYDaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYD6CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdnYD6CdEe-I9bqwnVOLxA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_QdnYDqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYEKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdnYEKCdEe-I9bqwnVOLxA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_QdnYD6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYEaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdnYEaCdEe-I9bqwnVOLxA" entityName="deferredResult" predecessor_AbstractAction="_QdnYEKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdnYEqCdEe-I9bqwnVOLxA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QdnYEqCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdnYEaCdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Qdn_EqCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdn_EaCdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Qdn_F6CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdn_FqCdEe-I9bqwnVOLxA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_QejMJKCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_QejMJqCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QejMJaCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_QeW-56CdEe-I9bqwnVOLxA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_QdmJ6aCdEe-I9bqwnVOLxA" describedService__SEFF="_QXI8k6CdEe-I9bqwnVOLxA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Qdk7yqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdmJ5qCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QdmJ5qCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_Qdk7yqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdmJ56CdEe-I9bqwnVOLxA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdmJ46CdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QdmJ5aCdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Qdk7y6CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdmJ4aCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QdmJ4aCdEe-I9bqwnVOLxA" entityName="Switch Branch" predecessor_AbstractAction="_Qdk7y6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdmJ4qCdEe-I9bqwnVOLxA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdli2qCdEe-I9bqwnVOLxA">
                <branchBehaviour_BranchTransition id="_Qdli3KCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Qdk7zKCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdli1KCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_Qdli1KCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_Qdk7zKCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdli1aCdEe-I9bqwnVOLxA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdli0aCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_Qdli06CdEe-I9bqwnVOLxA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Qdk7zaCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdk706CdEe-I9bqwnVOLxA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Qdk706CdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_Qdk7zaCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdli0KCdEe-I9bqwnVOLxA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdk70KCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Qdk70qCdEe-I9bqwnVOLxA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Qdk7zqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdk7z6CdEe-I9bqwnVOLxA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Qdk7z6CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdk7zqCdEe-I9bqwnVOLxA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Qdli0KCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdk706CdEe-I9bqwnVOLxA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdli1aCdEe-I9bqwnVOLxA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_Qdli1KCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdli1qCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdli1qCdEe-I9bqwnVOLxA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_Qdli1aCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdli16CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Qdli16CdEe-I9bqwnVOLxA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_Qdli1qCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdli2KCdEe-I9bqwnVOLxA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdli2KCdEe-I9bqwnVOLxA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_Qdli16CdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdli2aCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Qdli2aCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdli2KCdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdli4KCdEe-I9bqwnVOLxA">
                <branchBehaviour_BranchTransition id="_Qdli4qCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Qdli3aCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdli3qCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdli3qCdEe-I9bqwnVOLxA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_Qdli3aCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdli36CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Qdli36CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdli3qCdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdli5aCdEe-I9bqwnVOLxA">
                <branchBehaviour_BranchTransition id="_QdmJ4KCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Qdli46CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdli5KCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Qdli5KCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdli46CdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QdmJ4qCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdmJ4aCdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_QdmJ56CdEe-I9bqwnVOLxA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_QdmJ5qCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdmJ6KCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_QdmJ6KCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdmJ56CdEe-I9bqwnVOLxA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_QeloZKCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_QeloY6CdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_QeXl8KCdEe-I9bqwnVOLxA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Qds3kaCdEe-I9bqwnVOLxA" describedService__SEFF="_QWVEQKCdEe-I9bqwnVOLxA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Qdp0RKCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdqbUKCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QdqbUKCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_Qdp0RKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdqbUaCdEe-I9bqwnVOLxA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Qdp0SKCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Qdp0SqCdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Qdp0RaCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_Qdp0RqCdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Qdp0RqCdEe-I9bqwnVOLxA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_Qdp0RaCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdp0R6CdEe-I9bqwnVOLxA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Qdp0R6CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_Qdp0RqCdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_QdqbUaCdEe-I9bqwnVOLxA" entityName="stopWatch.start()" predecessor_AbstractAction="_QdqbUKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdsQkKCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_QdsQkKCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QdqbUaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdsQkaCdEe-I9bqwnVOLxA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdsQjaCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_QdsQj6CdEe-I9bqwnVOLxA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_QdqbUqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdsQi6CdEe-I9bqwnVOLxA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_QdsQi6CdEe-I9bqwnVOLxA" entityName="Switch Branch" predecessor_AbstractAction="_QdqbUqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdsQjKCdEe-I9bqwnVOLxA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdrpcKCdEe-I9bqwnVOLxA">
                <branchBehaviour_BranchTransition id="_QdrpcqCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QdqbU6CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdqbVKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdqbVKCdEe-I9bqwnVOLxA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_QdqbU6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdqbYKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_QdqbYKCdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QdqbVKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCYKCdEe-I9bqwnVOLxA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdqbXaCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_QdqbX6CdEe-I9bqwnVOLxA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_QdqbVaCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdqbW6CdEe-I9bqwnVOLxA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_QdqbW6CdEe-I9bqwnVOLxA" entityName="If Branch" predecessor_AbstractAction="_QdqbVaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdqbXKCdEe-I9bqwnVOLxA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdqbWKCdEe-I9bqwnVOLxA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_QdqbWqCdEe-I9bqwnVOLxA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_QdqbVqCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdqbV6CdEe-I9bqwnVOLxA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_QdqbV6CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdqbVqCdEe-I9bqwnVOLxA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_QdqbXKCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdqbW6CdEe-I9bqwnVOLxA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCYKCdEe-I9bqwnVOLxA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_QdqbYKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCYaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCYaCdEe-I9bqwnVOLxA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_QdrCYKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCYqCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCYqCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdrCYaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCY6CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCY6CdEe-I9bqwnVOLxA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QdrCYqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCZKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCZKCdEe-I9bqwnVOLxA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_QdrCY6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCZaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdrCZaCdEe-I9bqwnVOLxA" entityName="deferredResult" predecessor_AbstractAction="_QdrCZKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCZqCdEe-I9bqwnVOLxA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCZqCdEe-I9bqwnVOLxA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_QdrCZaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCZ6CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCZ6CdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdrCZqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCaKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCaKCdEe-I9bqwnVOLxA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QdrCZ6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCaaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCaaCdEe-I9bqwnVOLxA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_QdrCaKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCaqCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdrCaqCdEe-I9bqwnVOLxA" entityName="deferredResult" predecessor_AbstractAction="_QdrCaaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCa6CdEe-I9bqwnVOLxA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrCa6CdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdrCaqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrCbKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QdrCbKCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdrCa6CdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdsQgqCdEe-I9bqwnVOLxA">
                <branchBehaviour_BranchTransition id="_QdsQhKCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Qdrpc6CdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdrpdKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrpdKCdEe-I9bqwnVOLxA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_Qdrpc6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrpdaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrpdaCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdrpdKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrpdqCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdrpdqCdEe-I9bqwnVOLxA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_QdrpdaCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qdrpd6CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Qdrpd6CdEe-I9bqwnVOLxA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_QdrpdqCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdrpeKCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_QdrpeKCdEe-I9bqwnVOLxA" entityName="deferredResult" predecessor_AbstractAction="_Qdrpd6CdEe-I9bqwnVOLxA" successor_AbstractAction="_QdsQgKCdEe-I9bqwnVOLxA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdsQgKCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdrpeKCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdsQgaCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QdsQgaCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdsQgKCdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_QdsQiKCdEe-I9bqwnVOLxA">
                <branchBehaviour_BranchTransition id="_QdsQiqCdEe-I9bqwnVOLxA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_QdsQhaCdEe-I9bqwnVOLxA" entityName="Start Action" successor_AbstractAction="_QdsQhqCdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_QdsQhqCdEe-I9bqwnVOLxA" entityName="stopWatch.stop()" predecessor_AbstractAction="_QdsQhaCdEe-I9bqwnVOLxA" successor_AbstractAction="_QdsQh6CdEe-I9bqwnVOLxA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_QdsQh6CdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdsQhqCdEe-I9bqwnVOLxA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_QdsQjKCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdsQi6CdEe-I9bqwnVOLxA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_QdsQkaCdEe-I9bqwnVOLxA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_QdsQkKCdEe-I9bqwnVOLxA" successor_AbstractAction="_Qds3kKCdEe-I9bqwnVOLxA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Qds3kKCdEe-I9bqwnVOLxA" entityName="Stop Action" predecessor_AbstractAction="_QdsQkaCdEe-I9bqwnVOLxA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Qep50aCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_Qeqg5qCdEe-I9bqwnVOLxA" encapsulatedComponent__AssemblyContext="_QedskaCdEe-I9bqwnVOLxA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QervBaCdEe-I9bqwnVOLxA" innerProvidedRole_ProvidedDelegationConnector="_QedskKCdEe-I9bqwnVOLxA" outerProvidedRole_ProvidedDelegationConnector="_Qep50KCdEe-I9bqwnVOLxA" assemblyContext_ProvidedDelegationConnector="_Qeqg5qCdEe-I9bqwnVOLxA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Qep50KCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_QeW-5aCdEe-I9bqwnVOLxA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Qep506CdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_Qeqg4qCdEe-I9bqwnVOLxA" encapsulatedComponent__AssemblyContext="_QeloZKCdEe-I9bqwnVOLxA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QervA6CdEe-I9bqwnVOLxA" innerProvidedRole_ProvidedDelegationConnector="_QeloY6CdEe-I9bqwnVOLxA" outerProvidedRole_ProvidedDelegationConnector="_Qep50qCdEe-I9bqwnVOLxA" assemblyContext_ProvidedDelegationConnector="_Qeqg4qCdEe-I9bqwnVOLxA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Qep50qCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_QeXl8KCdEe-I9bqwnVOLxA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Qep51KCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_Qeqg5KCdEe-I9bqwnVOLxA" encapsulatedComponent__AssemblyContext="_QejMJKCdEe-I9bqwnVOLxA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Qep51qCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_Qeqg6KCdEe-I9bqwnVOLxA" encapsulatedComponent__AssemblyContext="_Qegv5KCdEe-I9bqwnVOLxA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QervBKCdEe-I9bqwnVOLxA" innerProvidedRole_ProvidedDelegationConnector="_Qegv46CdEe-I9bqwnVOLxA" outerProvidedRole_ProvidedDelegationConnector="_Qep51aCdEe-I9bqwnVOLxA" assemblyContext_ProvidedDelegationConnector="_Qeqg6KCdEe-I9bqwnVOLxA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Qep51aCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_QeW-46CdEe-I9bqwnVOLxA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Qep52aCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_Qeqg6qCdEe-I9bqwnVOLxA" encapsulatedComponent__AssemblyContext="_QeXl86CdEe-I9bqwnVOLxA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QervAaCdEe-I9bqwnVOLxA" innerProvidedRole_ProvidedDelegationConnector="_QeXl8aCdEe-I9bqwnVOLxA" outerProvidedRole_ProvidedDelegationConnector="_Qep516CdEe-I9bqwnVOLxA" assemblyContext_ProvidedDelegationConnector="_Qeqg6qCdEe-I9bqwnVOLxA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QervAqCdEe-I9bqwnVOLxA" innerProvidedRole_ProvidedDelegationConnector="_QeXl8qCdEe-I9bqwnVOLxA" outerProvidedRole_ProvidedDelegationConnector="_Qep52KCdEe-I9bqwnVOLxA" assemblyContext_ProvidedDelegationConnector="_Qeqg6qCdEe-I9bqwnVOLxA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Qep516CdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_QeW-5qCdEe-I9bqwnVOLxA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Qep52KCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_QeW-5KCdEe-I9bqwnVOLxA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Qep526CdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_Qeqg4KCdEe-I9bqwnVOLxA" encapsulatedComponent__AssemblyContext="_QejMJqCdEe-I9bqwnVOLxA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_QervAKCdEe-I9bqwnVOLxA" innerProvidedRole_ProvidedDelegationConnector="_QejMJaCdEe-I9bqwnVOLxA" outerProvidedRole_ProvidedDelegationConnector="_Qep52qCdEe-I9bqwnVOLxA" assemblyContext_ProvidedDelegationConnector="_Qeqg4KCdEe-I9bqwnVOLxA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Qep52qCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_QeW-56CdEe-I9bqwnVOLxA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QeW-46CdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_QXIVgKCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_QWUdMKCdEe-I9bqwnVOLxA">
      <parameters__OperationSignature dataType__Parameter="_QWTPEKCdEe-I9bqwnVOLxA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QeW-5KCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_QXJjoqCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_QXHucaCdEe-I9bqwnVOLxA">
      <parameters__OperationSignature dataType__Parameter="_QXJjoKCdEe-I9bqwnVOLxA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_QXJjoaCdEe-I9bqwnVOLxA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QeW-5aCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_QXI8kKCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_QWUdMKCdEe-I9bqwnVOLxA">
      <parameters__OperationSignature dataType__Parameter="_QXIVg6CdEe-I9bqwnVOLxA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QeW-5qCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_QXHucqCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_QXHucaCdEe-I9bqwnVOLxA">
      <parameters__OperationSignature dataType__Parameter="_QXHucKCdEe-I9bqwnVOLxA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QeW-56CdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_QXI8k6CdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_QXHucaCdEe-I9bqwnVOLxA">
      <parameters__OperationSignature dataType__Parameter="_QWTPEKCdEe-I9bqwnVOLxA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_QeXl8KCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_QWVEQKCdEe-I9bqwnVOLxA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_QWUdMKCdEe-I9bqwnVOLxA">
      <parameters__OperationSignature dataType__Parameter="_QWTPEKCdEe-I9bqwnVOLxA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QWTPEKCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QWUdMKCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QXHucKCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QXHucaCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QXIVg6CdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QXJjoKCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_QXJjoaCdEe-I9bqwnVOLxA" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
