<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_CrJHDPhyEe6mVIKijljT7w">
  <components__Repository xsi:type="repository:BasicComponent" id="_CqwsgfhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CqwsgPhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_CqwFe_hyEe6mVIKijljT7w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CqDh9PhyEe6mVIKijljT7w" describedService__SEFF="_CkAkQfhyEe6mVIKijljT7w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CkxZQfhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqAekPhyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CqAekPhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CkxZQfhyEe6mVIKijljT7w" successor_AbstractAction="_CqBFoPhyEe6mVIKijljT7w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Cp_QcfhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Cp_3gfhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CkzOcPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_Cp-pYPhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Cp-pYPhyEe6mVIKijljT7w" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_CkzOcPhyEe6mVIKijljT7w" successor_AbstractAction="_Cp_QcPhyEe6mVIKijljT7w">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Cp_QcPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_Cp-pYPhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_CqBFoPhyEe6mVIKijljT7w" entityName="stopWatch.start()" predecessor_AbstractAction="_CqAekPhyEe6mVIKijljT7w" successor_AbstractAction="_CqDh8fhyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CqDh8fhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqBFoPhyEe6mVIKijljT7w" successor_AbstractAction="_CqDh8vhyEe6mVIKijljT7w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqDh7vhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CqDh8PhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqBFofhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqDh7PhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_CqDh7PhyEe6mVIKijljT7w" entityName="Switch Branch" predecessor_AbstractAction="_CqBFofhyEe6mVIKijljT7w" successor_AbstractAction="_CqDh7fhyEe6mVIKijljT7w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqC61PhyEe6mVIKijljT7w">
                <branchBehaviour_BranchTransition id="_CqC61vhyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqBssPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqBssfhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqBssfhyEe6mVIKijljT7w" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_CqBssPhyEe6mVIKijljT7w" successor_AbstractAction="_CqCTxvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_CqCTxvhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqBssfhyEe6mVIKijljT7w" successor_AbstractAction="_CqCTx_hyEe6mVIKijljT7w">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqCTw_hyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_CqCTxfhyEe6mVIKijljT7w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_CqBssvhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqCTwfhyEe6mVIKijljT7w"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_CqCTwfhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqBssvhyEe6mVIKijljT7w" successor_AbstractAction="_CqCTwvhyEe6mVIKijljT7w">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqBstfhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_CqCTwPhyEe6mVIKijljT7w">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_CqBss_hyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqBstPhyEe6mVIKijljT7w"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_CqBstPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqBss_hyEe6mVIKijljT7w"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_CqCTwvhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqCTwfhyEe6mVIKijljT7w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqCTx_hyEe6mVIKijljT7w" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_CqCTxvhyEe6mVIKijljT7w" successor_AbstractAction="_CqCTyPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqCTyPhyEe6mVIKijljT7w" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_CqCTx_hyEe6mVIKijljT7w" successor_AbstractAction="_CqCTyfhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqCTyfhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqCTyPhyEe6mVIKijljT7w" successor_AbstractAction="_CqCTyvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqCTyvhyEe6mVIKijljT7w" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_CqCTyfhyEe6mVIKijljT7w" successor_AbstractAction="_CqCTy_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqCTy_hyEe6mVIKijljT7w" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_CqCTyvhyEe6mVIKijljT7w" successor_AbstractAction="_CqCTzPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqCTzPhyEe6mVIKijljT7w" entityName="deferredResult" predecessor_AbstractAction="_CqCTy_hyEe6mVIKijljT7w" successor_AbstractAction="_CqCTzfhyEe6mVIKijljT7w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqCTzfhyEe6mVIKijljT7w" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_CqCTzPhyEe6mVIKijljT7w" successor_AbstractAction="_CqCTzvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqCTzvhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqCTzfhyEe6mVIKijljT7w" successor_AbstractAction="_CqCTz_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqCTz_hyEe6mVIKijljT7w" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_CqCTzvhyEe6mVIKijljT7w" successor_AbstractAction="_CqC60PhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqC60PhyEe6mVIKijljT7w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_CqCTz_hyEe6mVIKijljT7w" successor_AbstractAction="_CqC60fhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqC60fhyEe6mVIKijljT7w" entityName="deferredResult" predecessor_AbstractAction="_CqC60PhyEe6mVIKijljT7w" successor_AbstractAction="_CqC60vhyEe6mVIKijljT7w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqC60vhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqC60fhyEe6mVIKijljT7w" successor_AbstractAction="_CqC60_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqC60_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqC60vhyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqDh4_hyEe6mVIKijljT7w">
                <branchBehaviour_BranchTransition id="_CqDh5fhyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqC61_hyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqC62PhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqC62PhyEe6mVIKijljT7w" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_CqC61_hyEe6mVIKijljT7w" successor_AbstractAction="_CqC62fhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqC62fhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqC62PhyEe6mVIKijljT7w" successor_AbstractAction="_CqC62vhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqC62vhyEe6mVIKijljT7w" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_CqC62fhyEe6mVIKijljT7w" successor_AbstractAction="_CqC62_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqC62_hyEe6mVIKijljT7w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_CqC62vhyEe6mVIKijljT7w" successor_AbstractAction="_CqDh4PhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqDh4PhyEe6mVIKijljT7w" entityName="deferredResult" predecessor_AbstractAction="_CqC62_hyEe6mVIKijljT7w" successor_AbstractAction="_CqDh4fhyEe6mVIKijljT7w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqDh4fhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqDh4PhyEe6mVIKijljT7w" successor_AbstractAction="_CqDh4vhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqDh4vhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqDh4fhyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqDh6fhyEe6mVIKijljT7w">
                <branchBehaviour_BranchTransition id="_CqDh6_hyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqDh5vhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqDh5_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqDh5_hyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqDh5vhyEe6mVIKijljT7w" successor_AbstractAction="_CqDh6PhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqDh6PhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqDh5_hyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqDh7fhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqDh7PhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_CqDh8vhyEe6mVIKijljT7w" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_CqDh8fhyEe6mVIKijljT7w" successor_AbstractAction="_CqDh8_hyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CqDh8_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqDh8vhyEe6mVIKijljT7w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_Cq52cfhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Cq52cPhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_CqwFd_hyEe6mVIKijljT7w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CqHMTPhyEe6mVIKijljT7w" describedService__SEFF="_CkEOoPhyEe6mVIKijljT7w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CqF-JPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqF-K_hyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CqF-K_hyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqF-JPhyEe6mVIKijljT7w" successor_AbstractAction="_CqF-LPhyEe6mVIKijljT7w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqF-KPhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CqF-KvhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqF-JfhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqF-JvhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqF-JvhyEe6mVIKijljT7w" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_CqF-JfhyEe6mVIKijljT7w" successor_AbstractAction="_CqF-J_hyEe6mVIKijljT7w">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqF-J_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqF-JvhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_CqF-LPhyEe6mVIKijljT7w" entityName="stopWatch.start()" predecessor_AbstractAction="_CqF-K_hyEe6mVIKijljT7w" successor_AbstractAction="_CqHMSvhyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CqHMSvhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqF-LPhyEe6mVIKijljT7w" successor_AbstractAction="_CqHMS_hyEe6mVIKijljT7w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqHMR_hyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CqHMSfhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqF-LfhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqHMRfhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_CqHMRfhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqF-LfhyEe6mVIKijljT7w" successor_AbstractAction="_CqHMRvhyEe6mVIKijljT7w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqHMQvhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_CqHMRPhyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqF-LvhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqGlQPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_CqGlQPhyEe6mVIKijljT7w" entityName="Switch Branch" predecessor_AbstractAction="_CqF-LvhyEe6mVIKijljT7w" successor_AbstractAction="_CqGlQfhyEe6mVIKijljT7w">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqGlMfhyEe6mVIKijljT7w">
                      <branchBehaviour_BranchTransition id="_CqGlM_hyEe6mVIKijljT7w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_CqF-L_hyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqF-NvhyEe6mVIKijljT7w"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_CqF-NvhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqF-L_hyEe6mVIKijljT7w" successor_AbstractAction="_CqF-N_hyEe6mVIKijljT7w">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqF-M_hyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_CqF-NfhyEe6mVIKijljT7w">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_CqF-MPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqF-MfhyEe6mVIKijljT7w"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_CqF-MfhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqF-MPhyEe6mVIKijljT7w" successor_AbstractAction="_CqF-MvhyEe6mVIKijljT7w"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_CqF-MvhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqF-MfhyEe6mVIKijljT7w"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_CqF-N_hyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqF-NvhyEe6mVIKijljT7w" successor_AbstractAction="_CqGlMPhyEe6mVIKijljT7w"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_CqGlMPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqF-N_hyEe6mVIKijljT7w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqGlN_hyEe6mVIKijljT7w">
                      <branchBehaviour_BranchTransition id="_CqGlOfhyEe6mVIKijljT7w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_CqGlNPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqGlNfhyEe6mVIKijljT7w"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_CqGlNfhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqGlNPhyEe6mVIKijljT7w" successor_AbstractAction="_CqGlNvhyEe6mVIKijljT7w"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_CqGlNvhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqGlNfhyEe6mVIKijljT7w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqGlPfhyEe6mVIKijljT7w">
                      <branchBehaviour_BranchTransition id="_CqGlP_hyEe6mVIKijljT7w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_CqGlOvhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqGlO_hyEe6mVIKijljT7w"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_CqGlO_hyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqGlOvhyEe6mVIKijljT7w" successor_AbstractAction="_CqGlPPhyEe6mVIKijljT7w"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_CqGlPPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqGlO_hyEe6mVIKijljT7w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqGlQfhyEe6mVIKijljT7w" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_CqGlQPhyEe6mVIKijljT7w" successor_AbstractAction="_CqGlQvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqGlQvhyEe6mVIKijljT7w" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_CqGlQfhyEe6mVIKijljT7w" successor_AbstractAction="_CqGlQ_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqGlQ_hyEe6mVIKijljT7w" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_CqGlQvhyEe6mVIKijljT7w" successor_AbstractAction="_CqGlRPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqGlRPhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqGlQ_hyEe6mVIKijljT7w" successor_AbstractAction="_CqGlRfhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqGlRfhyEe6mVIKijljT7w" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_CqGlRPhyEe6mVIKijljT7w" successor_AbstractAction="_CqGlRvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqGlRvhyEe6mVIKijljT7w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_CqGlRfhyEe6mVIKijljT7w" successor_AbstractAction="_CqGlR_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqGlR_hyEe6mVIKijljT7w" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_CqGlRvhyEe6mVIKijljT7w" successor_AbstractAction="_CqHMQPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqHMQPhyEe6mVIKijljT7w" entityName="deferredResult" predecessor_AbstractAction="_CqGlR_hyEe6mVIKijljT7w" successor_AbstractAction="_CqHMQfhyEe6mVIKijljT7w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqHMQfhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqHMQPhyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqHMRvhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqHMRfhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CqHMS_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqHMSvhyEe6mVIKijljT7w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_Cq8SuPhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Cq8St_hyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_CqwFefhyEe6mVIKijljT7w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CqJBcvhyEe6mVIKijljT7w" describedService__SEFF="_CjQWUPhyEe6mVIKijljT7w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CqHMTvhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqIadfhyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CqIadfhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqHMTvhyEe6mVIKijljT7w" successor_AbstractAction="_CqJBcPhyEe6mVIKijljT7w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqIacvhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CqIadPhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqHMT_hyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqIacPhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_CqIacPhyEe6mVIKijljT7w" entityName="Switch Branch" predecessor_AbstractAction="_CqHMT_hyEe6mVIKijljT7w" successor_AbstractAction="_CqIacfhyEe6mVIKijljT7w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqIaYvhyEe6mVIKijljT7w">
                <branchBehaviour_BranchTransition id="_CqIaZPhyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqHMUPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqHzWPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_CqHzWPhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqHMUPhyEe6mVIKijljT7w" successor_AbstractAction="_CqHzWfhyEe6mVIKijljT7w">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqHzVfhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_CqHzV_hyEe6mVIKijljT7w">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_CqHMUfhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqHzU_hyEe6mVIKijljT7w"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_CqHzU_hyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqHMUfhyEe6mVIKijljT7w" successor_AbstractAction="_CqHzVPhyEe6mVIKijljT7w">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqHzUPhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_CqHzUvhyEe6mVIKijljT7w">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_CqHMUvhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqHMU_hyEe6mVIKijljT7w"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_CqHMU_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqHMUvhyEe6mVIKijljT7w"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_CqHzVPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqHzU_hyEe6mVIKijljT7w"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqHzWfhyEe6mVIKijljT7w" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_CqHzWPhyEe6mVIKijljT7w" successor_AbstractAction="_CqHzWvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqHzWvhyEe6mVIKijljT7w" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_CqHzWfhyEe6mVIKijljT7w" successor_AbstractAction="_CqHzW_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqHzW_hyEe6mVIKijljT7w" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_CqHzWvhyEe6mVIKijljT7w" successor_AbstractAction="_CqIaYPhyEe6mVIKijljT7w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqIaYPhyEe6mVIKijljT7w" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_CqHzW_hyEe6mVIKijljT7w" successor_AbstractAction="_CqIaYfhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqIaYfhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqIaYPhyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqIaaPhyEe6mVIKijljT7w">
                <branchBehaviour_BranchTransition id="_CqIaavhyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqIaZfhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqIaZvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqIaZvhyEe6mVIKijljT7w" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_CqIaZfhyEe6mVIKijljT7w" successor_AbstractAction="_CqIaZ_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqIaZ_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqIaZvhyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqIabfhyEe6mVIKijljT7w">
                <branchBehaviour_BranchTransition id="_CqIab_hyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqIaa_hyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqIabPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqIabPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqIaa_hyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqIacfhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqIacPhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_CqJBcPhyEe6mVIKijljT7w" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_CqIadfhyEe6mVIKijljT7w" successor_AbstractAction="_CqJBcfhyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CqJBcfhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqJBcPhyEe6mVIKijljT7w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_Cq_9FPhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Cq_9E_hyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_CqwFfPhyEe6mVIKijljT7w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CqF-IvhyEe6mVIKijljT7w" describedService__SEFF="_CkDAgfhyEe6mVIKijljT7w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CqDh9vhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqEI9vhyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CqEI9vhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqDh9vhyEe6mVIKijljT7w" successor_AbstractAction="_CqEI9_hyEe6mVIKijljT7w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqEI8_hyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CqEI9fhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqEI8PhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqEI8fhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqEI8fhyEe6mVIKijljT7w" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_CqEI8PhyEe6mVIKijljT7w" successor_AbstractAction="_CqEI8vhyEe6mVIKijljT7w">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqEI8vhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqEI8fhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEI9_hyEe6mVIKijljT7w" entityName="stopWatch.start()" predecessor_AbstractAction="_CqEI9vhyEe6mVIKijljT7w" successor_AbstractAction="_CqF-IPhyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CqF-IPhyEe6mVIKijljT7w" entityName="Switch Branch" predecessor_AbstractAction="_CqEI9_hyEe6mVIKijljT7w" successor_AbstractAction="_CqF-IfhyEe6mVIKijljT7w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqEwDPhyEe6mVIKijljT7w">
          <branchBehaviour_BranchTransition id="_CqEwDvhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqEI-PhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqEI-fhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEI-fhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqEI-PhyEe6mVIKijljT7w" successor_AbstractAction="_CqEI-vhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEI-vhyEe6mVIKijljT7w" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_CqEI-fhyEe6mVIKijljT7w" successor_AbstractAction="_CqEI-_hyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEI-_hyEe6mVIKijljT7w" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_CqEI-vhyEe6mVIKijljT7w" successor_AbstractAction="_CqEI_PhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEI_PhyEe6mVIKijljT7w" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_CqEI-_hyEe6mVIKijljT7w" successor_AbstractAction="_CqEI_fhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqEI_fhyEe6mVIKijljT7w" entityName="deferredResult" predecessor_AbstractAction="_CqEI_PhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwCPhyEe6mVIKijljT7w">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_CqEwCPhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqEI_fhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwCfhyEe6mVIKijljT7w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqEwBfhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_CqEwB_hyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqEI_vhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqEI__hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEI__hyEe6mVIKijljT7w" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_CqEI_vhyEe6mVIKijljT7w" successor_AbstractAction="_CqEJAPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEJAPhyEe6mVIKijljT7w" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_CqEI__hyEe6mVIKijljT7w" successor_AbstractAction="_CqEJAfhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEJAfhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqEJAPhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwAPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEwAPhyEe6mVIKijljT7w" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_CqEJAfhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwAfhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEwAfhyEe6mVIKijljT7w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_CqEwAPhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwAvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEwAvhyEe6mVIKijljT7w" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_CqEwAfhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwA_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqEwA_hyEe6mVIKijljT7w" entityName="deferredResult" predecessor_AbstractAction="_CqEwAvhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwBPhyEe6mVIKijljT7w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqEwBPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqEwA_hyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEwCfhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqEwCPhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwCvhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEwCvhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqEwCfhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwC_hyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqEwC_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqEwCvhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqFXHPhyEe6mVIKijljT7w">
          <branchBehaviour_BranchTransition id="_CqFXHvhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqEwD_hyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqFXGPhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_CqFXGPhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqEwD_hyEe6mVIKijljT7w" successor_AbstractAction="_CqFXGfhyEe6mVIKijljT7w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqFXFfhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_CqFXF_hyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqEwEPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqEwEfhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEwEfhyEe6mVIKijljT7w" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_CqEwEPhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwEvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEwEvhyEe6mVIKijljT7w" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_CqEwEfhyEe6mVIKijljT7w" successor_AbstractAction="_CqEwE_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqEwE_hyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqEwEvhyEe6mVIKijljT7w" successor_AbstractAction="_CqFXEPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqFXEPhyEe6mVIKijljT7w" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_CqEwE_hyEe6mVIKijljT7w" successor_AbstractAction="_CqFXEfhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqFXEfhyEe6mVIKijljT7w" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_CqFXEPhyEe6mVIKijljT7w" successor_AbstractAction="_CqFXEvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqFXEvhyEe6mVIKijljT7w" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_CqFXEfhyEe6mVIKijljT7w" successor_AbstractAction="_CqFXE_hyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqFXE_hyEe6mVIKijljT7w" entityName="deferredResult" predecessor_AbstractAction="_CqFXEvhyEe6mVIKijljT7w" successor_AbstractAction="_CqFXFPhyEe6mVIKijljT7w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqFXFPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqFXE_hyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqFXGfhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqFXGPhyEe6mVIKijljT7w" successor_AbstractAction="_CqFXGvhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqFXGvhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqFXGfhyEe6mVIKijljT7w" successor_AbstractAction="_CqFXG_hyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqFXG_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqFXGvhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqFXIvhyEe6mVIKijljT7w">
          <branchBehaviour_BranchTransition id="_CqFXJPhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqFXH_hyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqFXIPhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqFXIPhyEe6mVIKijljT7w" entityName="stopWatch.stop()" predecessor_AbstractAction="_CqFXH_hyEe6mVIKijljT7w" successor_AbstractAction="_CqFXIfhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqFXIfhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqFXIPhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CqF-IfhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqF-IPhyEe6mVIKijljT7w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_CrDAZfhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CrDAY_hyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_CqwFePhyEe6mVIKijljT7w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CrDAZPhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_CqwFevhyEe6mVIKijljT7w"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CqKPmPhyEe6mVIKijljT7w" describedService__SEFF="_CkByYPhyEe6mVIKijljT7w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CqJBefhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqJoivhyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CqJoivhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqJBefhyEe6mVIKijljT7w" successor_AbstractAction="_CqKPlvhyEe6mVIKijljT7w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqJogfhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CqJog_hyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqJBevhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqJBe_hyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqJBe_hyEe6mVIKijljT7w" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_CqJBevhyEe6mVIKijljT7w" successor_AbstractAction="_CqJogPhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqJogPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqJBe_hyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqJoh_hyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CqJoifhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqJohPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqJohfhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CqJohfhyEe6mVIKijljT7w" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_CqJohPhyEe6mVIKijljT7w" successor_AbstractAction="_CqJohvhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqJohvhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqJohfhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CqKPlvhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqJoivhyEe6mVIKijljT7w" successor_AbstractAction="_CqKPl_hyEe6mVIKijljT7w">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqKPk_hyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CqKPlfhyEe6mVIKijljT7w">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CqJoi_hyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqKPkfhyEe6mVIKijljT7w"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_CqKPkfhyEe6mVIKijljT7w" entityName="If Branch" predecessor_AbstractAction="_CqJoi_hyEe6mVIKijljT7w" successor_AbstractAction="_CqKPkvhyEe6mVIKijljT7w">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqJokPhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_CqJokvhyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqJojPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqJojfhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CqJojfhyEe6mVIKijljT7w" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_CqJojPhyEe6mVIKijljT7w" successor_AbstractAction="_CqJojvhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqJojvhyEe6mVIKijljT7w" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_CqJojfhyEe6mVIKijljT7w" successor_AbstractAction="_CqJoj_hyEe6mVIKijljT7w">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqJoj_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqJojvhyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CqJolfhyEe6mVIKijljT7w" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_CqKPkPhyEe6mVIKijljT7w">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CqJok_hyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqJolPhyEe6mVIKijljT7w"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CqJolPhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqJok_hyEe6mVIKijljT7w"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CqKPkvhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqKPkfhyEe6mVIKijljT7w"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CqKPl_hyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqKPlvhyEe6mVIKijljT7w"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CqJBd_hyEe6mVIKijljT7w" describedService__SEFF="_CkE1svhyEe6mVIKijljT7w">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CqJBdPhyEe6mVIKijljT7w" entityName="Start Action" successor_AbstractAction="_CqJBdfhyEe6mVIKijljT7w"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CqJBdfhyEe6mVIKijljT7w" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_CqJBdPhyEe6mVIKijljT7w" successor_AbstractAction="_CqJBdvhyEe6mVIKijljT7w">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CqJBdvhyEe6mVIKijljT7w" entityName="Stop Action" predecessor_AbstractAction="_CqJBdfhyEe6mVIKijljT7w"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_CrGqzfhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_CrIf8PhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_CrJHAPhyEe6mVIKijljT7w" encapsulatedComponent__AssemblyContext="_CrGqzfhyEe6mVIKijljT7w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_CrIf8vhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_CrJHBPhyEe6mVIKijljT7w" encapsulatedComponent__AssemblyContext="_Cq8SuPhyEe6mVIKijljT7w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CrKVIfhyEe6mVIKijljT7w" innerProvidedRole_ProvidedDelegationConnector="_Cq8St_hyEe6mVIKijljT7w" outerProvidedRole_ProvidedDelegationConnector="_CrIf8fhyEe6mVIKijljT7w" assemblyContext_ProvidedDelegationConnector="_CrJHBPhyEe6mVIKijljT7w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CrIf8fhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_CqwFefhyEe6mVIKijljT7w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_CrIf9PhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_CrJHAvhyEe6mVIKijljT7w" encapsulatedComponent__AssemblyContext="_Cq_9FPhyEe6mVIKijljT7w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CrJuEvhyEe6mVIKijljT7w" innerProvidedRole_ProvidedDelegationConnector="_Cq_9E_hyEe6mVIKijljT7w" outerProvidedRole_ProvidedDelegationConnector="_CrIf8_hyEe6mVIKijljT7w" assemblyContext_ProvidedDelegationConnector="_CrJHAvhyEe6mVIKijljT7w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CrIf8_hyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_CqwFfPhyEe6mVIKijljT7w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_CrIf9vhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_CrJHCPhyEe6mVIKijljT7w" encapsulatedComponent__AssemblyContext="_Cq52cfhyEe6mVIKijljT7w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CrKVIvhyEe6mVIKijljT7w" innerProvidedRole_ProvidedDelegationConnector="_Cq52cPhyEe6mVIKijljT7w" outerProvidedRole_ProvidedDelegationConnector="_CrIf9fhyEe6mVIKijljT7w" assemblyContext_ProvidedDelegationConnector="_CrJHCPhyEe6mVIKijljT7w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CrIf9fhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_CqwFd_hyEe6mVIKijljT7w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_CrIf-fhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_CrJHCvhyEe6mVIKijljT7w" encapsulatedComponent__AssemblyContext="_CrDAZfhyEe6mVIKijljT7w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CrJuEPhyEe6mVIKijljT7w" innerProvidedRole_ProvidedDelegationConnector="_CrDAZPhyEe6mVIKijljT7w" outerProvidedRole_ProvidedDelegationConnector="_CrIf-PhyEe6mVIKijljT7w" assemblyContext_ProvidedDelegationConnector="_CrJHCvhyEe6mVIKijljT7w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CrKVIPhyEe6mVIKijljT7w" innerProvidedRole_ProvidedDelegationConnector="_CrDAY_hyEe6mVIKijljT7w" outerProvidedRole_ProvidedDelegationConnector="_CrIf9_hyEe6mVIKijljT7w" assemblyContext_ProvidedDelegationConnector="_CrJHCvhyEe6mVIKijljT7w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CrIf9_hyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_CqwFePhyEe6mVIKijljT7w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CrIf-PhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_CqwFevhyEe6mVIKijljT7w"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_CrIf-_hyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_CrJHBvhyEe6mVIKijljT7w" encapsulatedComponent__AssemblyContext="_CqwsgfhyEe6mVIKijljT7w"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CrJuEfhyEe6mVIKijljT7w" innerProvidedRole_ProvidedDelegationConnector="_CqwsgPhyEe6mVIKijljT7w" outerProvidedRole_ProvidedDelegationConnector="_CrIf-vhyEe6mVIKijljT7w" assemblyContext_ProvidedDelegationConnector="_CrJHBvhyEe6mVIKijljT7w"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CrIf-vhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_CqwFe_hyEe6mVIKijljT7w"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CqwFd_hyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_CkEOoPhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_CkAkQPhyEe6mVIKijljT7w">
      <parameters__OperationSignature dataType__Parameter="_CjOhIPhyEe6mVIKijljT7w" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CqwFePhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_CkByYPhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_CjPvQPhyEe6mVIKijljT7w">
      <parameters__OperationSignature dataType__Parameter="_CkBLUvhyEe6mVIKijljT7w" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_CkBLU_hyEe6mVIKijljT7w" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CqwFefhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_CjQWUPhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_CjPvQPhyEe6mVIKijljT7w">
      <parameters__OperationSignature dataType__Parameter="_CjOhIPhyEe6mVIKijljT7w" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CqwFevhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_CkE1svhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_CjPvQPhyEe6mVIKijljT7w">
      <parameters__OperationSignature dataType__Parameter="_CkE1sfhyEe6mVIKijljT7w" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CqwFe_hyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_CkAkQfhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_CkAkQPhyEe6mVIKijljT7w">
      <parameters__OperationSignature dataType__Parameter="_CjOhIPhyEe6mVIKijljT7w" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CqwFfPhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_CkDAgfhyEe6mVIKijljT7w" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_CkAkQPhyEe6mVIKijljT7w">
      <parameters__OperationSignature dataType__Parameter="_CkDAgPhyEe6mVIKijljT7w" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_CjOhIPhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_CjPvQPhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_CkAkQPhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_CkBLUvhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_CkBLU_hyEe6mVIKijljT7w" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_CkDAgPhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_CkE1sfhyEe6mVIKijljT7w" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
