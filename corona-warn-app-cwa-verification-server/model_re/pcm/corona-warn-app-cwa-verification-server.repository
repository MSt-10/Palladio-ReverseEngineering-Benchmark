<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_bLPKfHYuEe-TRv2YxCrizw">
  <components__Repository xsi:type="repository:BasicComponent" id="_bK9dqHYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bK9dpnYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_bK9dpHYuEe-TRv2YxCrizw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bK9dp3YuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_bK9dpXYuEe-TRv2YxCrizw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_bKPr83YuEe-TRv2YxCrizw" describedService__SEFF="_bD82tXYuEe-TRv2YxCrizw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_bKOd1HYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKPE5HYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_bKPE5HYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKOd1HYuEe-TRv2YxCrizw" successor_AbstractAction="_bKPr8XYuEe-TRv2YxCrizw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKOd2HYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_bKOd2nYuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKOd1XYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKOd1nYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKOd1nYuEe-TRv2YxCrizw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_bKOd1XYuEe-TRv2YxCrizw" successor_AbstractAction="_bKOd13YuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKOd13YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKOd1nYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKPE4XYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_bKPE43YuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKOd23YuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKOd3HYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKOd3HYuEe-TRv2YxCrizw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_bKOd23YuEe-TRv2YxCrizw" successor_AbstractAction="_bKPE4HYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKPE4HYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKOd3HYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_bKPr8XYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKPE5HYuEe-TRv2YxCrizw" successor_AbstractAction="_bKPr8nYuEe-TRv2YxCrizw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKPE9HYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_bKPr8HYuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKPE5XYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKPE8nYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_bKPE8nYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKPE5XYuEe-TRv2YxCrizw" successor_AbstractAction="_bKPE83YuEe-TRv2YxCrizw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKPE6nYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_bKPE7HYuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKPE5nYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKPE53YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKPE53YuEe-TRv2YxCrizw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_bKPE5nYuEe-TRv2YxCrizw" successor_AbstractAction="_bKPE6HYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKPE6HYuEe-TRv2YxCrizw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_bKPE53YuEe-TRv2YxCrizw" successor_AbstractAction="_bKPE6XYuEe-TRv2YxCrizw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKPE6XYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKPE6HYuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKPE73YuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_bKPE8XYuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKPE7XYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKPE7nYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKPE7nYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKPE7XYuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKPE83YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKPE8nYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_bKPr8nYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKPr8XYuEe-TRv2YxCrizw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_bKOd0nYuEe-TRv2YxCrizw" describedService__SEFF="_bD-E0HYuEe-TRv2YxCrizw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_bKN2ynYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKOd0HYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKOd0HYuEe-TRv2YxCrizw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_bKN2ynYuEe-TRv2YxCrizw" successor_AbstractAction="_bKOd0XYuEe-TRv2YxCrizw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_bKOd0XYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKOd0HYuEe-TRv2YxCrizw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_bLDkQXYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLDkQHYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_bK9doHYuEe-TRv2YxCrizw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_bKQ6F3YuEe-TRv2YxCrizw" describedService__SEFF="_bD9dwHYuEe-TRv2YxCrizw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_bKPr9XYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKQ6FHYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_bKQ6FHYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKPr9XYuEe-TRv2YxCrizw" successor_AbstractAction="_bKQ6FXYuEe-TRv2YxCrizw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKQ6EXYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_bKQ6E3YuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKPr9nYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKQTE3YuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_bKQTE3YuEe-TRv2YxCrizw" entityName="Switch Branch" predecessor_AbstractAction="_bKPr9nYuEe-TRv2YxCrizw" successor_AbstractAction="_bKQ6EHYuEe-TRv2YxCrizw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKQTBXYuEe-TRv2YxCrizw">
                <branchBehaviour_BranchTransition id="_bKQTB3YuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKPr93YuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKPsA3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_bKPsA3YuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKPr93YuEe-TRv2YxCrizw" successor_AbstractAction="_bKQTAHYuEe-TRv2YxCrizw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKPsAHYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_bKPsAnYuEe-TRv2YxCrizw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_bKPr-HYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKPr_nYuEe-TRv2YxCrizw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_bKPr_nYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKPr-HYuEe-TRv2YxCrizw" successor_AbstractAction="_bKPr_3YuEe-TRv2YxCrizw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKPr-3YuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_bKPr_XYuEe-TRv2YxCrizw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_bKPr-XYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKPr-nYuEe-TRv2YxCrizw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_bKPr-nYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKPr-XYuEe-TRv2YxCrizw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_bKPr_3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKPr_nYuEe-TRv2YxCrizw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKQTAHYuEe-TRv2YxCrizw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_bKPsA3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKQTAXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKQTAXYuEe-TRv2YxCrizw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_bKQTAHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKQTAnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKQTAnYuEe-TRv2YxCrizw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_bKQTAXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKQTA3YuEe-TRv2YxCrizw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKQTA3YuEe-TRv2YxCrizw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_bKQTAnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKQTBHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKQTBHYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKQTA3YuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKQTC3YuEe-TRv2YxCrizw">
                <branchBehaviour_BranchTransition id="_bKQTDXYuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKQTCHYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKQTCXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKQTCXYuEe-TRv2YxCrizw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_bKQTCHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKQTCnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKQTCnYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKQTCXYuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKQTEHYuEe-TRv2YxCrizw">
                <branchBehaviour_BranchTransition id="_bKQTEnYuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKQTDnYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKQTD3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKQTD3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKQTDnYuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKQ6EHYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKQTE3YuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_bKQ6FXYuEe-TRv2YxCrizw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_bKQ6FHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKQ6FnYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_bKQ6FnYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKQ6FXYuEe-TRv2YxCrizw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_bLFZfnYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLFZfXYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_bK9donYuEe-TRv2YxCrizw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_bKMBmHYuEe-TRv2YxCrizw" describedService__SEFF="_bD-E03YuEe-TRv2YxCrizw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_bEXtcnYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKIXMXYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_bKIXMXYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bEXtcnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKI-QHYuEe-TRv2YxCrizw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKHwIHYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_bKIXMHYuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bEZioHYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKGiAHYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKGiAHYuEe-TRv2YxCrizw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_bEZioHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKHJEHYuEe-TRv2YxCrizw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKHJEHYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKGiAHYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_bKI-QHYuEe-TRv2YxCrizw" entityName="stopWatch.start()" predecessor_AbstractAction="_bKIXMXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKMBlXYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_bKMBlXYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKI-QHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKMBlnYuEe-TRv2YxCrizw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKMBknYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_bKMBlHYuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKI-QXYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKMBkHYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_bKMBkHYuEe-TRv2YxCrizw" entityName="Switch Branch" predecessor_AbstractAction="_bKI-QXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKMBkXYuEe-TRv2YxCrizw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKKzdXYuEe-TRv2YxCrizw">
                <branchBehaviour_BranchTransition id="_bKKzd3YuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKJlUHYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKJlUXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKJlUXYuEe-TRv2YxCrizw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_bKJlUHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKManYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_bKKManYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKJlUXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKMa3YuEe-TRv2YxCrizw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKKMZ3YuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_bKKMaXYuEe-TRv2YxCrizw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_bKJlUnYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKKMZXYuEe-TRv2YxCrizw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_bKKMZXYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKJlUnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKMZnYuEe-TRv2YxCrizw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKKMYnYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_bKKMZHYuEe-TRv2YxCrizw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_bKKMYHYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKKMYXYuEe-TRv2YxCrizw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_bKKMYXYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKKMYHYuEe-TRv2YxCrizw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_bKKMZnYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKKMZXYuEe-TRv2YxCrizw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKMa3YuEe-TRv2YxCrizw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_bKKManYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKMbHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKMbHYuEe-TRv2YxCrizw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_bKKMa3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKKMbXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKMbXYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKKMbHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKMbnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKMbnYuEe-TRv2YxCrizw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_bKKMbXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKMb3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKMb3YuEe-TRv2YxCrizw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_bKKMbnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKMcHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKKMcHYuEe-TRv2YxCrizw" entityName="deferredResult" predecessor_AbstractAction="_bKKMb3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKKMcXYuEe-TRv2YxCrizw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKMcXYuEe-TRv2YxCrizw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_bKKMcHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKMcnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKMcnYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKKMcXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKzcHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKzcHYuEe-TRv2YxCrizw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_bKKMcnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKzcXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKzcXYuEe-TRv2YxCrizw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_bKKzcHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKzcnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKKzcnYuEe-TRv2YxCrizw" entityName="deferredResult" predecessor_AbstractAction="_bKKzcXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKzc3YuEe-TRv2YxCrizw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKKzc3YuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKKzcnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKKzdHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKKzdHYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKKzc3YuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKLaiHYuEe-TRv2YxCrizw">
                <branchBehaviour_BranchTransition id="_bKLainYuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKLagHYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKLagXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKLagXYuEe-TRv2YxCrizw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_bKLagHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKLagnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKLagnYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKLagXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKLag3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKLag3YuEe-TRv2YxCrizw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_bKLagnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKLahHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKLahHYuEe-TRv2YxCrizw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_bKLag3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKLahXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKLahXYuEe-TRv2YxCrizw" entityName="deferredResult" predecessor_AbstractAction="_bKLahHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKLahnYuEe-TRv2YxCrizw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKLahnYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKLahXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKLah3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKLah3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKLahnYuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKLajnYuEe-TRv2YxCrizw">
                <branchBehaviour_BranchTransition id="_bKLakHYuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKLai3YuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKLajHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKLajHYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKLai3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKLajXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKLajXYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKLajHYuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKMBkXYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKMBkHYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_bKMBlnYuEe-TRv2YxCrizw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_bKMBlXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKMBl3YuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_bKMBl3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKMBlnYuEe-TRv2YxCrizw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_bLH1vXYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_bLH1v3YuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLH1vnYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_bK9doXYuEe-TRv2YxCrizw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_bKN2yHYuEe-TRv2YxCrizw" describedService__SEFF="_bDRhQHYuEe-TRv2YxCrizw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_bKMBmnYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKMooHYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_bKMooHYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKMBmnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKMooXYuEe-TRv2YxCrizw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKMBnnYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_bKMBoHYuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKMBm3YuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKMBnHYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKMBnHYuEe-TRv2YxCrizw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_bKMBm3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKMBnXYuEe-TRv2YxCrizw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKMBnXYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKMBnHYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_bKMooXYuEe-TRv2YxCrizw" entityName="stopWatch.start()" predecessor_AbstractAction="_bKMooHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKN2xnYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_bKN2xnYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKMooXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKN2x3YuEe-TRv2YxCrizw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKN2w3YuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_bKN2xXYuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKMoonYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKN2wXYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_bKN2wXYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKMoonYuEe-TRv2YxCrizw" successor_AbstractAction="_bKN2wnYuEe-TRv2YxCrizw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKNPwHYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_bKN2wHYuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKMoo3YuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKNPtnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_bKNPtnYuEe-TRv2YxCrizw" entityName="Switch Branch" predecessor_AbstractAction="_bKMoo3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPt3YuEe-TRv2YxCrizw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKMornYuEe-TRv2YxCrizw">
                      <branchBehaviour_BranchTransition id="_bKMosHYuEe-TRv2YxCrizw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_bKMopHYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKMoq3YuEe-TRv2YxCrizw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_bKMoq3YuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKMopHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKMorHYuEe-TRv2YxCrizw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKMoqHYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_bKMoqnYuEe-TRv2YxCrizw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_bKMopXYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKMopnYuEe-TRv2YxCrizw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_bKMopnYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKMopXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKMop3YuEe-TRv2YxCrizw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_bKMop3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKMopnYuEe-TRv2YxCrizw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_bKMorHYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKMoq3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKMorXYuEe-TRv2YxCrizw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_bKMorXYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKMorHYuEe-TRv2YxCrizw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKMotHYuEe-TRv2YxCrizw">
                      <branchBehaviour_BranchTransition id="_bKMotnYuEe-TRv2YxCrizw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_bKMosXYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKMosnYuEe-TRv2YxCrizw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_bKMosnYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKMosXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKMos3YuEe-TRv2YxCrizw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_bKMos3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKMosnYuEe-TRv2YxCrizw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKNPs3YuEe-TRv2YxCrizw">
                      <branchBehaviour_BranchTransition id="_bKNPtXYuEe-TRv2YxCrizw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_bKNPsHYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKNPsXYuEe-TRv2YxCrizw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_bKNPsXYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKNPsHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPsnYuEe-TRv2YxCrizw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_bKNPsnYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKNPsXYuEe-TRv2YxCrizw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKNPt3YuEe-TRv2YxCrizw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_bKNPtnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPuHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKNPuHYuEe-TRv2YxCrizw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_bKNPt3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPuXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKNPuXYuEe-TRv2YxCrizw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_bKNPuHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPunYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKNPunYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKNPuXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPu3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKNPu3YuEe-TRv2YxCrizw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_bKNPunYuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPvHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKNPvHYuEe-TRv2YxCrizw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_bKNPu3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPvXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKNPvXYuEe-TRv2YxCrizw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_bKNPvHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPvnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKNPvnYuEe-TRv2YxCrizw" entityName="deferredResult" predecessor_AbstractAction="_bKNPvXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKNPv3YuEe-TRv2YxCrizw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKNPv3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKNPvnYuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKN2wnYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKN2wXYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_bKN2x3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKN2xnYuEe-TRv2YxCrizw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_bLKR-XYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLKR-HYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_bK9do3YuEe-TRv2YxCrizw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_bKT9bHYuEe-TRv2YxCrizw" describedService__SEFF="_bD8PoXYuEe-TRv2YxCrizw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_bKRhIXYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKRhKHYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_bKRhKHYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKRhIXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKRhKXYuEe-TRv2YxCrizw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKRhJXYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_bKRhJ3YuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKRhInYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKRhI3YuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKRhI3YuEe-TRv2YxCrizw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_bKRhInYuEe-TRv2YxCrizw" successor_AbstractAction="_bKRhJHYuEe-TRv2YxCrizw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKRhJHYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKRhI3YuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_bKRhKXYuEe-TRv2YxCrizw" entityName="stopWatch.start()" predecessor_AbstractAction="_bKRhKHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKT9anYuEe-TRv2YxCrizw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_bKT9anYuEe-TRv2YxCrizw" entityName="Switch Branch" predecessor_AbstractAction="_bKRhKXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKT9a3YuEe-TRv2YxCrizw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKSvRHYuEe-TRv2YxCrizw">
          <branchBehaviour_BranchTransition id="_bKSvRnYuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKRhKnYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKRhK3YuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKRhK3YuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKRhKnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKRhLHYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKRhLHYuEe-TRv2YxCrizw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_bKRhK3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKRhLXYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKRhLXYuEe-TRv2YxCrizw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_bKRhLHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSIMHYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSIMHYuEe-TRv2YxCrizw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_bKRhLXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSIMXYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKSIMXYuEe-TRv2YxCrizw" entityName="deferredResult" predecessor_AbstractAction="_bKSIMHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSvQHYuEe-TRv2YxCrizw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_bKSvQHYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKSIMXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSvQXYuEe-TRv2YxCrizw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKSIO3YuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_bKSIPXYuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKSIMnYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKSIM3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSIM3YuEe-TRv2YxCrizw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_bKSIMnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSINHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSINHYuEe-TRv2YxCrizw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_bKSIM3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKSINXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSINXYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKSINHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSINnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSINnYuEe-TRv2YxCrizw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_bKSINXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSIN3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSIN3YuEe-TRv2YxCrizw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_bKSINnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSIOHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSIOHYuEe-TRv2YxCrizw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_bKSIN3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKSIOXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKSIOXYuEe-TRv2YxCrizw" entityName="deferredResult" predecessor_AbstractAction="_bKSIOHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSIOnYuEe-TRv2YxCrizw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKSIOnYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKSIOXYuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSvQXYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKSvQHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSvQnYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSvQnYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKSvQXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSvQ3YuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKSvQ3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKSvQnYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKT9YXYuEe-TRv2YxCrizw">
          <branchBehaviour_BranchTransition id="_bKT9Y3YuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKSvR3YuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKTWWHYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_bKTWWHYuEe-TRv2YxCrizw" entityName="If Branch" predecessor_AbstractAction="_bKSvR3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKTWWXYuEe-TRv2YxCrizw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKTWVXYuEe-TRv2YxCrizw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_bKTWV3YuEe-TRv2YxCrizw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_bKSvSHYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKSvSXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSvSXYuEe-TRv2YxCrizw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_bKSvSHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSvSnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSvSnYuEe-TRv2YxCrizw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_bKSvSXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKSvS3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKSvS3YuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKSvSnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKTWUHYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKTWUHYuEe-TRv2YxCrizw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_bKSvS3YuEe-TRv2YxCrizw" successor_AbstractAction="_bKTWUXYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKTWUXYuEe-TRv2YxCrizw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_bKTWUHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKTWUnYuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_bKTWUnYuEe-TRv2YxCrizw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_bKTWUXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKTWU3YuEe-TRv2YxCrizw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_bKTWU3YuEe-TRv2YxCrizw" entityName="deferredResult" predecessor_AbstractAction="_bKTWUnYuEe-TRv2YxCrizw" successor_AbstractAction="_bKTWVHYuEe-TRv2YxCrizw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_bKTWVHYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKTWU3YuEe-TRv2YxCrizw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKTWWXYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKTWWHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKTWWnYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKTWWnYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKTWWXYuEe-TRv2YxCrizw" successor_AbstractAction="_bKT9YHYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKT9YHYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKTWWnYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_bKT9Z3YuEe-TRv2YxCrizw">
          <branchBehaviour_BranchTransition id="_bKT9aXYuEe-TRv2YxCrizw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_bKT9ZHYuEe-TRv2YxCrizw" entityName="Start Action" successor_AbstractAction="_bKT9ZXYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_bKT9ZXYuEe-TRv2YxCrizw" entityName="stopWatch.stop()" predecessor_AbstractAction="_bKT9ZHYuEe-TRv2YxCrizw" successor_AbstractAction="_bKT9ZnYuEe-TRv2YxCrizw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_bKT9ZnYuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKT9ZXYuEe-TRv2YxCrizw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_bKT9a3YuEe-TRv2YxCrizw" entityName="Stop Action" predecessor_AbstractAction="_bKT9anYuEe-TRv2YxCrizw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_bLN8UXYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_bLPKdnYuEe-TRv2YxCrizw" encapsulatedComponent__AssemblyContext="_bLFZfnYuEe-TRv2YxCrizw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_bLQYk3YuEe-TRv2YxCrizw" innerProvidedRole_ProvidedDelegationConnector="_bLFZfXYuEe-TRv2YxCrizw" outerProvidedRole_ProvidedDelegationConnector="_bLN8UHYuEe-TRv2YxCrizw" assemblyContext_ProvidedDelegationConnector="_bLPKdnYuEe-TRv2YxCrizw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLN8UHYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_bK9donYuEe-TRv2YxCrizw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_bLOjYHYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_bLPKdHYuEe-TRv2YxCrizw" encapsulatedComponent__AssemblyContext="_bLH1vXYuEe-TRv2YxCrizw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_bLOjY3YuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_bLPKcHYuEe-TRv2YxCrizw" encapsulatedComponent__AssemblyContext="_bK9dqHYuEe-TRv2YxCrizw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_bLQYkHYuEe-TRv2YxCrizw" innerProvidedRole_ProvidedDelegationConnector="_bK9dp3YuEe-TRv2YxCrizw" outerProvidedRole_ProvidedDelegationConnector="_bLOjYXYuEe-TRv2YxCrizw" assemblyContext_ProvidedDelegationConnector="_bLPKcHYuEe-TRv2YxCrizw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_bLQYkXYuEe-TRv2YxCrizw" innerProvidedRole_ProvidedDelegationConnector="_bK9dpnYuEe-TRv2YxCrizw" outerProvidedRole_ProvidedDelegationConnector="_bLOjYnYuEe-TRv2YxCrizw" assemblyContext_ProvidedDelegationConnector="_bLPKcHYuEe-TRv2YxCrizw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLOjYXYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_bK9dpXYuEe-TRv2YxCrizw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLOjYnYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_bK9dpHYuEe-TRv2YxCrizw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_bLOjZXYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_bLPKenYuEe-TRv2YxCrizw" encapsulatedComponent__AssemblyContext="_bLDkQXYuEe-TRv2YxCrizw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_bLPxgXYuEe-TRv2YxCrizw" innerProvidedRole_ProvidedDelegationConnector="_bLDkQHYuEe-TRv2YxCrizw" outerProvidedRole_ProvidedDelegationConnector="_bLOjZHYuEe-TRv2YxCrizw" assemblyContext_ProvidedDelegationConnector="_bLPKenYuEe-TRv2YxCrizw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLOjZHYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_bK9doHYuEe-TRv2YxCrizw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_bLOjZ3YuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_bLPKeHYuEe-TRv2YxCrizw" encapsulatedComponent__AssemblyContext="_bLKR-XYuEe-TRv2YxCrizw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_bLQYknYuEe-TRv2YxCrizw" innerProvidedRole_ProvidedDelegationConnector="_bLKR-HYuEe-TRv2YxCrizw" outerProvidedRole_ProvidedDelegationConnector="_bLOjZnYuEe-TRv2YxCrizw" assemblyContext_ProvidedDelegationConnector="_bLPKeHYuEe-TRv2YxCrizw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLOjZnYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_bK9do3YuEe-TRv2YxCrizw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_bLOjaXYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_bLPKcnYuEe-TRv2YxCrizw" encapsulatedComponent__AssemblyContext="_bLH1v3YuEe-TRv2YxCrizw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_bLPxgHYuEe-TRv2YxCrizw" innerProvidedRole_ProvidedDelegationConnector="_bLH1vnYuEe-TRv2YxCrizw" outerProvidedRole_ProvidedDelegationConnector="_bLOjaHYuEe-TRv2YxCrizw" assemblyContext_ProvidedDelegationConnector="_bLPKcnYuEe-TRv2YxCrizw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_bLOjaHYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_bK9doXYuEe-TRv2YxCrizw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_bK9doHYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_bD9dwHYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_bD82tHYuEe-TRv2YxCrizw">
      <parameters__OperationSignature dataType__Parameter="_bDPsEHYuEe-TRv2YxCrizw" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_bK9doXYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_bDRhQHYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_bDQ6MHYuEe-TRv2YxCrizw">
      <parameters__OperationSignature dataType__Parameter="_bDPsEHYuEe-TRv2YxCrizw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_bK9donYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_bD-E03YuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_bDQ6MHYuEe-TRv2YxCrizw">
      <parameters__OperationSignature dataType__Parameter="_bDPsEHYuEe-TRv2YxCrizw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_bK9do3YuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_bD8PoXYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_bDQ6MHYuEe-TRv2YxCrizw">
      <parameters__OperationSignature dataType__Parameter="_bD8PoHYuEe-TRv2YxCrizw" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_bK9dpHYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_bD82tXYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_bD82tHYuEe-TRv2YxCrizw">
      <parameters__OperationSignature dataType__Parameter="_bD82snYuEe-TRv2YxCrizw" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_bD82s3YuEe-TRv2YxCrizw" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_bK9dpXYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_bD-E0HYuEe-TRv2YxCrizw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_bD82tHYuEe-TRv2YxCrizw">
      <parameters__OperationSignature dataType__Parameter="_bD9dw3YuEe-TRv2YxCrizw" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_bDPsEHYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_bDQ6MHYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_bD8PoHYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_bD82snYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_bD82s3YuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_bD82tHYuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_bD9dw3YuEe-TRv2YxCrizw" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
