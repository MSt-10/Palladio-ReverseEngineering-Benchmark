<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_tQ8QFCuGEe-89L1J77IKuw">
  <components__Repository xsi:type="repository:BasicComponent" id="_tQqjQSuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQqjQCuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_tQp8OCuGEe-89L1J77IKuw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_tQFUcyuGEe-89L1J77IKuw" describedService__SEFF="_tKZjMiuGEe-89L1J77IKuw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_tQEGWSuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQFUcCuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_tQFUcCuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQEGWSuGEe-89L1J77IKuw" successor_AbstractAction="_tQFUcSuGEe-89L1J77IKuw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQEtcyuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_tQEtdSuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQEGWiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQEtcSuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_tQEtcSuGEe-89L1J77IKuw" entityName="Switch Branch" predecessor_AbstractAction="_tQEGWiuGEe-89L1J77IKuw" successor_AbstractAction="_tQEtciuGEe-89L1J77IKuw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQEtYyuGEe-89L1J77IKuw">
                <branchBehaviour_BranchTransition id="_tQEtZSuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tQEGWyuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQEGZyuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_tQEGZyuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQEGWyuGEe-89L1J77IKuw" successor_AbstractAction="_tQEGaCuGEe-89L1J77IKuw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQEGZCuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_tQEGZiuGEe-89L1J77IKuw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_tQEGXCuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQEGYiuGEe-89L1J77IKuw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_tQEGYiuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQEGXCuGEe-89L1J77IKuw" successor_AbstractAction="_tQEGYyuGEe-89L1J77IKuw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQEGXyuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_tQEGYSuGEe-89L1J77IKuw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_tQEGXSuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQEGXiuGEe-89L1J77IKuw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_tQEGXiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQEGXSuGEe-89L1J77IKuw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_tQEGYyuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQEGYiuGEe-89L1J77IKuw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQEGaCuGEe-89L1J77IKuw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_tQEGZyuGEe-89L1J77IKuw" successor_AbstractAction="_tQEGaSuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQEGaSuGEe-89L1J77IKuw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_tQEGaCuGEe-89L1J77IKuw" successor_AbstractAction="_tQEtYCuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQEtYCuGEe-89L1J77IKuw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_tQEGaSuGEe-89L1J77IKuw" successor_AbstractAction="_tQEtYSuGEe-89L1J77IKuw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQEtYSuGEe-89L1J77IKuw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_tQEtYCuGEe-89L1J77IKuw" successor_AbstractAction="_tQEtYiuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQEtYiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQEtYSuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQEtaSuGEe-89L1J77IKuw">
                <branchBehaviour_BranchTransition id="_tQEtayuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tQEtZiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQEtZyuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQEtZyuGEe-89L1J77IKuw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_tQEtZiuGEe-89L1J77IKuw" successor_AbstractAction="_tQEtaCuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQEtaCuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQEtZyuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQEtbiuGEe-89L1J77IKuw">
                <branchBehaviour_BranchTransition id="_tQEtcCuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tQEtbCuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQEtbSuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQEtbSuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQEtbCuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQEtciuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQEtcSuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_tQFUcSuGEe-89L1J77IKuw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_tQFUcCuGEe-89L1J77IKuw" successor_AbstractAction="_tQFUciuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_tQFUciuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQFUcSuGEe-89L1J77IKuw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_tQs_iyuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQs_iiuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_tQp8NSuGEe-89L1J77IKuw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_tQBDAyuGEe-89L1J77IKuw" describedService__SEFF="_tKYVEyuGEe-89L1J77IKuw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_tKzL0SuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tP9YoCuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_tP9YoCuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tKzL0SuGEe-89L1J77IKuw" successor_AbstractAction="_tP9_sCuGEe-89L1J77IKuw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tP8KgCuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_tP8xkCuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tK1BACuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tP7jcCuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tP7jcCuGEe-89L1J77IKuw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_tK1BACuGEe-89L1J77IKuw" successor_AbstractAction="_tP7jcSuGEe-89L1J77IKuw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tP7jcSuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tP7jcCuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_tP9_sCuGEe-89L1J77IKuw" entityName="stopWatch.start()" predecessor_AbstractAction="_tP9YoCuGEe-89L1J77IKuw" successor_AbstractAction="_tQBDACuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_tQBDACuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tP9_sCuGEe-89L1J77IKuw" successor_AbstractAction="_tQBDASuGEe-89L1J77IKuw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQAb_yuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_tQAcASuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tP9_sSuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQAb_SuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_tQAb_SuGEe-89L1J77IKuw" entityName="Switch Branch" predecessor_AbstractAction="_tP9_sSuGEe-89L1J77IKuw" successor_AbstractAction="_tQAb_iuGEe-89L1J77IKuw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tP_05CuGEe-89L1J77IKuw">
                <branchBehaviour_BranchTransition id="_tP_05iuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tP-mwCuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tP-mwSuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP-mwSuGEe-89L1J77IKuw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_tP-mwCuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N1SuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_tP_N1SuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tP-mwSuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N1iuGEe-89L1J77IKuw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tP_N0iuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_tP_N1CuGEe-89L1J77IKuw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_tP-mwiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tP_N0CuGEe-89L1J77IKuw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_tP_N0CuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tP-mwiuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N0SuGEe-89L1J77IKuw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tP-mxSuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_tP-mxyuGEe-89L1J77IKuw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_tP-mwyuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tP-mxCuGEe-89L1J77IKuw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_tP-mxCuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tP-mwyuGEe-89L1J77IKuw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_tP_N0SuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tP_N0CuGEe-89L1J77IKuw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_N1iuGEe-89L1J77IKuw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_tP_N1SuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N1yuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_N1yuGEe-89L1J77IKuw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_tP_N1iuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N2CuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_N2CuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tP_N1yuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N2SuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_N2SuGEe-89L1J77IKuw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_tP_N2CuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N2iuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_N2iuGEe-89L1J77IKuw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_tP_N2SuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N2yuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tP_N2yuGEe-89L1J77IKuw" entityName="deferredResult" predecessor_AbstractAction="_tP_N2iuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N3CuGEe-89L1J77IKuw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_N3CuGEe-89L1J77IKuw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_tP_N2yuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N3SuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_N3SuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tP_N3CuGEe-89L1J77IKuw" successor_AbstractAction="_tP_N3iuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_N3iuGEe-89L1J77IKuw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_tP_N3SuGEe-89L1J77IKuw" successor_AbstractAction="_tP_04CuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_04CuGEe-89L1J77IKuw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_tP_N3iuGEe-89L1J77IKuw" successor_AbstractAction="_tP_04SuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tP_04SuGEe-89L1J77IKuw" entityName="deferredResult" predecessor_AbstractAction="_tP_04CuGEe-89L1J77IKuw" successor_AbstractAction="_tP_04iuGEe-89L1J77IKuw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_04iuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tP_04SuGEe-89L1J77IKuw" successor_AbstractAction="_tP_04yuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tP_04yuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tP_04iuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQAb9CuGEe-89L1J77IKuw">
                <branchBehaviour_BranchTransition id="_tQAb9iuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tP_05yuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tP_06CuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_06CuGEe-89L1J77IKuw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_tP_05yuGEe-89L1J77IKuw" successor_AbstractAction="_tP_06SuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_06SuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tP_06CuGEe-89L1J77IKuw" successor_AbstractAction="_tP_06iuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tP_06iuGEe-89L1J77IKuw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_tP_06SuGEe-89L1J77IKuw" successor_AbstractAction="_tQAb8CuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQAb8CuGEe-89L1J77IKuw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_tP_06iuGEe-89L1J77IKuw" successor_AbstractAction="_tQAb8SuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQAb8SuGEe-89L1J77IKuw" entityName="deferredResult" predecessor_AbstractAction="_tQAb8CuGEe-89L1J77IKuw" successor_AbstractAction="_tQAb8iuGEe-89L1J77IKuw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQAb8iuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQAb8SuGEe-89L1J77IKuw" successor_AbstractAction="_tQAb8yuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQAb8yuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQAb8iuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQAb-iuGEe-89L1J77IKuw">
                <branchBehaviour_BranchTransition id="_tQAb_CuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tQAb9yuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQAb-CuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQAb-CuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQAb9yuGEe-89L1J77IKuw" successor_AbstractAction="_tQAb-SuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQAb-SuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQAb-CuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQAb_iuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQAb_SuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_tQBDASuGEe-89L1J77IKuw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_tQBDACuGEe-89L1J77IKuw" successor_AbstractAction="_tQBDAiuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_tQBDAiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQBDASuGEe-89L1J77IKuw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_tQvbzSuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_tQwC0CuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQvbziuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_tQp8NyuGEe-89L1J77IKuw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQvbzyuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_tQp8OiuGEe-89L1J77IKuw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_tQBDCCuGEe-89L1J77IKuw" describedService__SEFF="_tKaKQSuGEe-89L1J77IKuw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_tQBDBSuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQBDBiuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQBDBiuGEe-89L1J77IKuw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_tQBDBSuGEe-89L1J77IKuw" successor_AbstractAction="_tQBDByuGEe-89L1J77IKuw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_tQBDByuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQBDBiuGEe-89L1J77IKuw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_tQCRLSuGEe-89L1J77IKuw" describedService__SEFF="_tKY8JSuGEe-89L1J77IKuw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_tQBDCiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQBqHCuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_tQBqHCuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQBDCiuGEe-89L1J77IKuw" successor_AbstractAction="_tQCRKyuGEe-89L1J77IKuw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQBqEyuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_tQBqFSuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQBqECuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQBqESuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQBqESuGEe-89L1J77IKuw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_tQBqECuGEe-89L1J77IKuw" successor_AbstractAction="_tQBqEiuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQBqEiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQBqESuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQBqGSuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_tQBqGyuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQBqFiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQBqFyuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQBqFyuGEe-89L1J77IKuw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_tQBqFiuGEe-89L1J77IKuw" successor_AbstractAction="_tQBqGCuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQBqGCuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQBqFyuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_tQCRKyuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQBqHCuGEe-89L1J77IKuw" successor_AbstractAction="_tQCRLCuGEe-89L1J77IKuw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQCRKCuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_tQCRKiuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQBqHSuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQCRJiuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_tQCRJiuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQBqHSuGEe-89L1J77IKuw" successor_AbstractAction="_tQCRJyuGEe-89L1J77IKuw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQBqIiuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_tQCRICuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tQBqHiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQBqHyuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQBqHyuGEe-89L1J77IKuw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_tQBqHiuGEe-89L1J77IKuw" successor_AbstractAction="_tQBqICuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQBqICuGEe-89L1J77IKuw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_tQBqHyuGEe-89L1J77IKuw" successor_AbstractAction="_tQBqISuGEe-89L1J77IKuw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQBqISuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQBqICuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQCRIyuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_tQCRJSuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tQCRISuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQCRIiuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQCRIiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQCRISuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQCRJyuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQCRJiuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_tQCRLCuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQCRKyuGEe-89L1J77IKuw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_tQ0UTSuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQ0UTCuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_tQp8OSuGEe-89L1J77IKuw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_tQHJpyuGEe-89L1J77IKuw" describedService__SEFF="_tJngECuGEe-89L1J77IKuw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_tQFUdSuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQFUfCuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_tQFUfCuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQFUdSuGEe-89L1J77IKuw" successor_AbstractAction="_tQFUfSuGEe-89L1J77IKuw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQFUeSuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_tQFUeyuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQFUdiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQFUdyuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQFUdyuGEe-89L1J77IKuw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_tQFUdiuGEe-89L1J77IKuw" successor_AbstractAction="_tQFUeCuGEe-89L1J77IKuw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQFUeCuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQFUdyuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_tQFUfSuGEe-89L1J77IKuw" entityName="stopWatch.start()" predecessor_AbstractAction="_tQFUfCuGEe-89L1J77IKuw" successor_AbstractAction="_tQHJpSuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_tQHJpSuGEe-89L1J77IKuw" entityName="Switch Branch" predecessor_AbstractAction="_tQFUfSuGEe-89L1J77IKuw" successor_AbstractAction="_tQHJpiuGEe-89L1J77IKuw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQF7kCuGEe-89L1J77IKuw">
          <branchBehaviour_BranchTransition id="_tQF7kiuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQFUfiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQFUfyuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQFUfyuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQFUfiuGEe-89L1J77IKuw" successor_AbstractAction="_tQFUgCuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQFUgCuGEe-89L1J77IKuw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_tQFUfyuGEe-89L1J77IKuw" successor_AbstractAction="_tQFUgSuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQFUgSuGEe-89L1J77IKuw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_tQFUgCuGEe-89L1J77IKuw" successor_AbstractAction="_tQFUgiuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQFUgiuGEe-89L1J77IKuw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_tQFUgSuGEe-89L1J77IKuw" successor_AbstractAction="_tQFUgyuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQFUgyuGEe-89L1J77IKuw" entityName="deferredResult" predecessor_AbstractAction="_tQFUgiuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7jCuGEe-89L1J77IKuw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_tQF7jCuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQFUgyuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7jSuGEe-89L1J77IKuw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQF7iSuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_tQF7iyuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tQF7gCuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQF7gSuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQF7gSuGEe-89L1J77IKuw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_tQF7gCuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7giuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQF7giuGEe-89L1J77IKuw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_tQF7gSuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7gyuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQF7gyuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQF7giuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7hCuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQF7hCuGEe-89L1J77IKuw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_tQF7gyuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7hSuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQF7hSuGEe-89L1J77IKuw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_tQF7hCuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7hiuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQF7hiuGEe-89L1J77IKuw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_tQF7hSuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7hyuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQF7hyuGEe-89L1J77IKuw" entityName="deferredResult" predecessor_AbstractAction="_tQF7hiuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7iCuGEe-89L1J77IKuw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQF7iCuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQF7hyuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQF7jSuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQF7jCuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7jiuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQF7jiuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQF7jSuGEe-89L1J77IKuw" successor_AbstractAction="_tQF7jyuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQF7jyuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQF7jiuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQGioSuGEe-89L1J77IKuw">
          <branchBehaviour_BranchTransition id="_tQGioyuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQGikCuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQGinSuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_tQGinSuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQGikCuGEe-89L1J77IKuw" successor_AbstractAction="_tQGiniuGEe-89L1J77IKuw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQGimiuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_tQGinCuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tQGikSuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQGikiuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQGikiuGEe-89L1J77IKuw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_tQGikSuGEe-89L1J77IKuw" successor_AbstractAction="_tQGikyuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQGikyuGEe-89L1J77IKuw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_tQGikiuGEe-89L1J77IKuw" successor_AbstractAction="_tQGilCuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQGilCuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQGikyuGEe-89L1J77IKuw" successor_AbstractAction="_tQGilSuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQGilSuGEe-89L1J77IKuw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_tQGilCuGEe-89L1J77IKuw" successor_AbstractAction="_tQGiliuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQGiliuGEe-89L1J77IKuw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_tQGilSuGEe-89L1J77IKuw" successor_AbstractAction="_tQGilyuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQGilyuGEe-89L1J77IKuw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_tQGiliuGEe-89L1J77IKuw" successor_AbstractAction="_tQGimCuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQGimCuGEe-89L1J77IKuw" entityName="deferredResult" predecessor_AbstractAction="_tQGilyuGEe-89L1J77IKuw" successor_AbstractAction="_tQGimSuGEe-89L1J77IKuw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQGimSuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQGimCuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQGiniuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQGinSuGEe-89L1J77IKuw" successor_AbstractAction="_tQGinyuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQGinyuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQGiniuGEe-89L1J77IKuw" successor_AbstractAction="_tQGioCuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQGioCuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQGinyuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQHJoiuGEe-89L1J77IKuw">
          <branchBehaviour_BranchTransition id="_tQHJpCuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQGipCuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQHJoCuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_tQHJoCuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQGipCuGEe-89L1J77IKuw" successor_AbstractAction="_tQHJoSuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQHJoSuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQHJoCuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_tQHJpiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQHJpSuGEe-89L1J77IKuw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_tQ2wjCuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQ2wiyuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_tQp8NiuGEe-89L1J77IKuw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_tQEGVyuGEe-89L1J77IKuw" describedService__SEFF="_tKYVECuGEe-89L1J77IKuw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_tQCRLyuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQCRNiuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_tQCRNiuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQCRLyuGEe-89L1J77IKuw" successor_AbstractAction="_tQC4MCuGEe-89L1J77IKuw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQCRMyuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_tQCRNSuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQCRMCuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQCRMSuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQCRMSuGEe-89L1J77IKuw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_tQCRMCuGEe-89L1J77IKuw" successor_AbstractAction="_tQCRMiuGEe-89L1J77IKuw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQCRMiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQCRMSuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_tQC4MCuGEe-89L1J77IKuw" entityName="stopWatch.start()" predecessor_AbstractAction="_tQCRNiuGEe-89L1J77IKuw" successor_AbstractAction="_tQEGVSuGEe-89L1J77IKuw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_tQEGVSuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQC4MCuGEe-89L1J77IKuw" successor_AbstractAction="_tQEGViuGEe-89L1J77IKuw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQEGUiuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_tQEGVCuGEe-89L1J77IKuw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_tQC4MSuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQEGUCuGEe-89L1J77IKuw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_tQEGUCuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQC4MSuGEe-89L1J77IKuw" successor_AbstractAction="_tQEGUSuGEe-89L1J77IKuw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQDfTyuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_tQDfUSuGEe-89L1J77IKuw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_tQC4MiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQDfRSuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_tQDfRSuGEe-89L1J77IKuw" entityName="Switch Branch" predecessor_AbstractAction="_tQC4MiuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfRiuGEe-89L1J77IKuw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQC4PSuGEe-89L1J77IKuw">
                      <branchBehaviour_BranchTransition id="_tQC4PyuGEe-89L1J77IKuw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_tQC4MyuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQC4OiuGEe-89L1J77IKuw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_tQC4OiuGEe-89L1J77IKuw" entityName="If Branch" predecessor_AbstractAction="_tQC4MyuGEe-89L1J77IKuw" successor_AbstractAction="_tQC4OyuGEe-89L1J77IKuw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQC4NyuGEe-89L1J77IKuw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_tQC4OSuGEe-89L1J77IKuw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_tQC4NCuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQC4NSuGEe-89L1J77IKuw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_tQC4NSuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQC4NCuGEe-89L1J77IKuw" successor_AbstractAction="_tQC4NiuGEe-89L1J77IKuw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_tQC4NiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQC4NSuGEe-89L1J77IKuw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_tQC4OyuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQC4OiuGEe-89L1J77IKuw" successor_AbstractAction="_tQC4PCuGEe-89L1J77IKuw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_tQC4PCuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQC4OyuGEe-89L1J77IKuw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQC4QyuGEe-89L1J77IKuw">
                      <branchBehaviour_BranchTransition id="_tQC4RSuGEe-89L1J77IKuw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_tQC4QCuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQC4QSuGEe-89L1J77IKuw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_tQC4QSuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQC4QCuGEe-89L1J77IKuw" successor_AbstractAction="_tQC4QiuGEe-89L1J77IKuw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_tQC4QiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQC4QSuGEe-89L1J77IKuw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_tQDfQiuGEe-89L1J77IKuw">
                      <branchBehaviour_BranchTransition id="_tQDfRCuGEe-89L1J77IKuw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_tQC4RiuGEe-89L1J77IKuw" entityName="Start Action" successor_AbstractAction="_tQDfQCuGEe-89L1J77IKuw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_tQDfQCuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQC4RiuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfQSuGEe-89L1J77IKuw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_tQDfQSuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQDfQCuGEe-89L1J77IKuw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQDfRiuGEe-89L1J77IKuw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_tQDfRSuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfRyuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQDfRyuGEe-89L1J77IKuw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_tQDfRiuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfSCuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQDfSCuGEe-89L1J77IKuw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_tQDfRyuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfSSuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQDfSSuGEe-89L1J77IKuw" entityName="stopWatch.stop()" predecessor_AbstractAction="_tQDfSCuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfSiuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQDfSiuGEe-89L1J77IKuw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_tQDfSSuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfSyuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQDfSyuGEe-89L1J77IKuw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_tQDfSiuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfTCuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_tQDfTCuGEe-89L1J77IKuw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_tQDfSyuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfTSuGEe-89L1J77IKuw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_tQDfTSuGEe-89L1J77IKuw" entityName="deferredResult" predecessor_AbstractAction="_tQDfTCuGEe-89L1J77IKuw" successor_AbstractAction="_tQDfTiuGEe-89L1J77IKuw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_tQDfTiuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQDfTSuGEe-89L1J77IKuw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_tQEGUSuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQEGUCuGEe-89L1J77IKuw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_tQEGViuGEe-89L1J77IKuw" entityName="Stop Action" predecessor_AbstractAction="_tQEGVSuGEe-89L1J77IKuw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_tQ7B8SuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_tQ8QEiuGEe-89L1J77IKuw" encapsulatedComponent__AssemblyContext="_tQqjQSuGEe-89L1J77IKuw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_tQ83JSuGEe-89L1J77IKuw" innerProvidedRole_ProvidedDelegationConnector="_tQqjQCuGEe-89L1J77IKuw" outerProvidedRole_ProvidedDelegationConnector="_tQ7B8CuGEe-89L1J77IKuw" assemblyContext_ProvidedDelegationConnector="_tQ8QEiuGEe-89L1J77IKuw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQ7B8CuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_tQp8OCuGEe-89L1J77IKuw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_tQ7B9CuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_tQ7pBiuGEe-89L1J77IKuw" encapsulatedComponent__AssemblyContext="_tQwC0CuGEe-89L1J77IKuw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_tQ83IiuGEe-89L1J77IKuw" innerProvidedRole_ProvidedDelegationConnector="_tQvbzyuGEe-89L1J77IKuw" outerProvidedRole_ProvidedDelegationConnector="_tQ7B8iuGEe-89L1J77IKuw" assemblyContext_ProvidedDelegationConnector="_tQ7pBiuGEe-89L1J77IKuw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_tQ83JCuGEe-89L1J77IKuw" innerProvidedRole_ProvidedDelegationConnector="_tQvbziuGEe-89L1J77IKuw" outerProvidedRole_ProvidedDelegationConnector="_tQ7B8yuGEe-89L1J77IKuw" assemblyContext_ProvidedDelegationConnector="_tQ7pBiuGEe-89L1J77IKuw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQ7B8iuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_tQp8OiuGEe-89L1J77IKuw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQ7B8yuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_tQp8NyuGEe-89L1J77IKuw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_tQ7B9SuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_tQ7pAiuGEe-89L1J77IKuw" encapsulatedComponent__AssemblyContext="_tQvbzSuGEe-89L1J77IKuw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_tQ7B9yuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_tQ7pBCuGEe-89L1J77IKuw" encapsulatedComponent__AssemblyContext="_tQ0UTSuGEe-89L1J77IKuw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_tQ83ICuGEe-89L1J77IKuw" innerProvidedRole_ProvidedDelegationConnector="_tQ0UTCuGEe-89L1J77IKuw" outerProvidedRole_ProvidedDelegationConnector="_tQ7B9iuGEe-89L1J77IKuw" assemblyContext_ProvidedDelegationConnector="_tQ7pBCuGEe-89L1J77IKuw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQ7B9iuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_tQp8OSuGEe-89L1J77IKuw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_tQ7B-SuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_tQ7pACuGEe-89L1J77IKuw" encapsulatedComponent__AssemblyContext="_tQ2wjCuGEe-89L1J77IKuw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_tQ83IyuGEe-89L1J77IKuw" innerProvidedRole_ProvidedDelegationConnector="_tQ2wiyuGEe-89L1J77IKuw" outerProvidedRole_ProvidedDelegationConnector="_tQ7B-CuGEe-89L1J77IKuw" assemblyContext_ProvidedDelegationConnector="_tQ7pACuGEe-89L1J77IKuw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQ7B-CuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_tQp8NiuGEe-89L1J77IKuw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_tQ7B-yuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_tQ8QECuGEe-89L1J77IKuw" encapsulatedComponent__AssemblyContext="_tQs_iyuGEe-89L1J77IKuw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_tQ83ISuGEe-89L1J77IKuw" innerProvidedRole_ProvidedDelegationConnector="_tQs_iiuGEe-89L1J77IKuw" outerProvidedRole_ProvidedDelegationConnector="_tQ7B-iuGEe-89L1J77IKuw" assemblyContext_ProvidedDelegationConnector="_tQ8QECuGEe-89L1J77IKuw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_tQ7B-iuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_tQp8NSuGEe-89L1J77IKuw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_tQp8NSuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_tKYVEyuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_tJmR8CuGEe-89L1J77IKuw">
      <parameters__OperationSignature dataType__Parameter="_tKXuACuGEe-89L1J77IKuw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_tQp8NiuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_tKYVECuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_tJmR8CuGEe-89L1J77IKuw">
      <parameters__OperationSignature dataType__Parameter="_tKXuACuGEe-89L1J77IKuw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_tQp8NyuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_tKaKQSuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_tKY8JCuGEe-89L1J77IKuw">
      <parameters__OperationSignature dataType__Parameter="_tKaKQCuGEe-89L1J77IKuw" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_tQp8OCuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_tKZjMiuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_tKY8JCuGEe-89L1J77IKuw">
      <parameters__OperationSignature dataType__Parameter="_tKXuACuGEe-89L1J77IKuw" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_tQp8OSuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_tJngECuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_tJmR8CuGEe-89L1J77IKuw">
      <parameters__OperationSignature dataType__Parameter="_tJkcwCuGEe-89L1J77IKuw" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_tQp8OiuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_tKY8JSuGEe-89L1J77IKuw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_tKY8JCuGEe-89L1J77IKuw">
      <parameters__OperationSignature dataType__Parameter="_tKY8IiuGEe-89L1J77IKuw" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_tKY8IyuGEe-89L1J77IKuw" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_tJkcwCuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_tJmR8CuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_tKXuACuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_tKY8IiuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_tKY8IyuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_tKY8JCuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_tKaKQCuGEe-89L1J77IKuw" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
