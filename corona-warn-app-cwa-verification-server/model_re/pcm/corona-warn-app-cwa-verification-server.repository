<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_Pi1bzId4Ee-TcaioibugYQ">
  <components__Repository xsi:type="repository:BasicComponent" id="_Pik9HId4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_PilkIYd4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PilkIId4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_Pik9G4d4Ee-TcaioibugYQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ph6Ovod4Ee-TcaioibugYQ" describedService__SEFF="_PbMisId4Ee-TcaioibugYQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Ph3LZod4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph3ydYd4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph3ydYd4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph3LZod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph3ydod4Ee-TcaioibugYQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph3ycod4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ph3ydId4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ph3LZ4d4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph3ycId4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph3ycId4Ee-TcaioibugYQ" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_Ph3LZ4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph3ycYd4Ee-TcaioibugYQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph3ycYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph3ycId4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph3ydod4Ee-TcaioibugYQ" entityName="stopWatch.start()" predecessor_AbstractAction="_Ph3ydYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph6OvId4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph6OvId4Ee-TcaioibugYQ" entityName="Switch Branch" predecessor_AbstractAction="_Ph3ydod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph6OvYd4Ee-TcaioibugYQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph5Am4d4Ee-TcaioibugYQ">
          <branchBehaviour_BranchTransition id="_Ph5AnYd4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ph4ZgId4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph4ZgYd4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph4ZgYd4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph4ZgId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph4Zgod4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph4Zgod4Ee-TcaioibugYQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Ph4ZgYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph4Zg4d4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph4Zg4d4Ee-TcaioibugYQ" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_Ph4Zgod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph4ZhId4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph4ZhId4Ee-TcaioibugYQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_Ph4Zg4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph4ZhYd4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph4ZhYd4Ee-TcaioibugYQ" entityName="deferredResult" predecessor_AbstractAction="_Ph4ZhId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5Al4d4Ee-TcaioibugYQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph5Al4d4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph4ZhYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5AmId4Ee-TcaioibugYQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph5AlId4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Ph5Alod4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph4Zhod4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph4Zh4d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph4Zh4d4Ee-TcaioibugYQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_Ph4Zhod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph4ZiId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph4ZiId4Ee-TcaioibugYQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_Ph4Zh4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph4ZiYd4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph4ZiYd4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph4ZiId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph4Ziod4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph4Ziod4Ee-TcaioibugYQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Ph4ZiYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5AkId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5AkId4Ee-TcaioibugYQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_Ph4Ziod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5AkYd4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5AkYd4Ee-TcaioibugYQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_Ph5AkId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5Akod4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph5Akod4Ee-TcaioibugYQ" entityName="deferredResult" predecessor_AbstractAction="_Ph5AkYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5Ak4d4Ee-TcaioibugYQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph5Ak4d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph5Akod4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5AmId4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph5Al4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5AmYd4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5AmYd4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph5AmId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5Amod4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph5Amod4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph5AmYd4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph6Os4d4Ee-TcaioibugYQ">
          <branchBehaviour_BranchTransition id="_Ph6OtYd4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ph5noId4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph5nrYd4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph5nrYd4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph5noId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph6OsId4Ee-TcaioibugYQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph5nqod4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Ph5nrId4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph5noYd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph5nood4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5nood4Ee-TcaioibugYQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_Ph5noYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5no4d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5no4d4Ee-TcaioibugYQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_Ph5nood4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5npId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5npId4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph5no4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5npYd4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5npYd4Ee-TcaioibugYQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Ph5npId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5npod4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5npod4Ee-TcaioibugYQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_Ph5npYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5np4d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph5np4d4Ee-TcaioibugYQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_Ph5npod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5nqId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph5nqId4Ee-TcaioibugYQ" entityName="deferredResult" predecessor_AbstractAction="_Ph5np4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph5nqYd4Ee-TcaioibugYQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph5nqYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph5nqId4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph6OsId4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph5nrYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph6OsYd4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph6OsYd4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph6OsId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph6Osod4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph6Osod4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph6OsYd4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph6OuYd4Ee-TcaioibugYQ">
          <branchBehaviour_BranchTransition id="_Ph6Ou4d4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ph6Otod4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph6Ot4d4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph6Ot4d4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph6Otod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph6OuId4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph6OuId4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph6Ot4d4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ph6OvYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph6OvId4Ee-TcaioibugYQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_PioAbod4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PioAbId4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_Pik9God4Ee-TcaioibugYQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PioAbYd4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_Pik9F4d4Ee-TcaioibugYQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ph2kYYd4Ee-TcaioibugYQ" describedService__SEFF="_Pb9-wId4Ee-TcaioibugYQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_PcXnYYd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_PhzhAId4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_PhzhAId4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_PcXnYYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph2kX4d4Ee-TcaioibugYQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_PcaqsId4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_PcbRwYd4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PcZckId4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_PcaDoId4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_PcaDoId4Ee-TcaioibugYQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_PcZckId4Ee-TcaioibugYQ" successor_AbstractAction="_PcaDoYd4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_PcaDoYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_PcaDoId4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Phy584d4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Phy59Yd4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Phy58Id4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Phy58Yd4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Phy58Yd4Ee-TcaioibugYQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_Phy58Id4Ee-TcaioibugYQ" successor_AbstractAction="_Phy58od4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Phy58od4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Phy58Yd4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph2kX4d4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_PhzhAId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph2kYId4Ee-TcaioibugYQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph2kXId4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ph2kXod4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_PhzhAYd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph2kWod4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph2kWod4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_PhzhAYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph2kW4d4Ee-TcaioibugYQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph2kUod4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Ph2kVId4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_PhzhAod4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_PhzhA4d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_PhzhA4d4Ee-TcaioibugYQ" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_PhzhAod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph2kUId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph2kUId4Ee-TcaioibugYQ" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_PhzhA4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph2kUYd4Ee-TcaioibugYQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph2kUYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph2kUId4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph2kV4d4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Ph2kWYd4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph2kVYd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph2kVod4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph2kVod4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph2kVYd4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph2kW4d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph2kWod4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ph2kYId4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph2kX4d4Ee-TcaioibugYQ"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ph3LZId4Ee-TcaioibugYQ" describedService__SEFF="_Pb9XsYd4Ee-TcaioibugYQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Ph3LYYd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph3LYod4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph3LYod4Ee-TcaioibugYQ" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_Ph3LYYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph3LY4d4Ee-TcaioibugYQ">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ph3LY4d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph3LYod4Ee-TcaioibugYQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_Pis454d4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pis45od4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_Pik9GId4Ee-TcaioibugYQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ph7c4od4Ee-TcaioibugYQ" describedService__SEFF="_Pb8Jkod4Ee-TcaioibugYQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Ph6OwId4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph7c34d4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph7c34d4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph6OwId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph7c4Id4Ee-TcaioibugYQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph7c3Id4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ph7c3od4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ph6OwYd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph7c2od4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph7c2od4Ee-TcaioibugYQ" entityName="Switch Branch" predecessor_AbstractAction="_Ph6OwYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph7c24d4Ee-TcaioibugYQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph61zod4Ee-TcaioibugYQ">
                <branchBehaviour_BranchTransition id="_Ph610Id4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph6Owod4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph61yId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph61yId4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph6Owod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph61yYd4Ee-TcaioibugYQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph61xYd4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_Ph61x4d4Ee-TcaioibugYQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Ph6Ow4d4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph61w4d4Ee-TcaioibugYQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph61w4d4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph6Ow4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph61xId4Ee-TcaioibugYQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph61wId4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Ph61wod4Ee-TcaioibugYQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Ph6OxId4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph6OxYd4Ee-TcaioibugYQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Ph6OxYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph6OxId4Ee-TcaioibugYQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Ph61xId4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph61w4d4Ee-TcaioibugYQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph61yYd4Ee-TcaioibugYQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_Ph61yId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph61yod4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph61yod4Ee-TcaioibugYQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_Ph61yYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph61y4d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph61y4d4Ee-TcaioibugYQ" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_Ph61yod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph61zId4Ee-TcaioibugYQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph61zId4Ee-TcaioibugYQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_Ph61y4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph61zYd4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph61zYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph61zId4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph7c0od4Ee-TcaioibugYQ">
                <branchBehaviour_BranchTransition id="_Ph7c1Id4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph610Yd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph7c0Id4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph7c0Id4Ee-TcaioibugYQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_Ph610Yd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph7c0Yd4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph7c0Yd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph7c0Id4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph7c14d4Ee-TcaioibugYQ">
                <branchBehaviour_BranchTransition id="_Ph7c2Yd4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph7c1Yd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph7c1od4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph7c1od4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph7c1Yd4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph7c24d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph7c2od4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph7c4Id4Ee-TcaioibugYQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_Ph7c34d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph7c4Yd4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ph7c4Yd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph7c4Id4Ee-TcaioibugYQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_PiuuHod4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PiuuHYd4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_Pik9GYd4Ee-TcaioibugYQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ph95E4d4Ee-TcaioibugYQ" describedService__SEFF="_Pb8wood4Ee-TcaioibugYQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Ph7c5Id4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph8D44d4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph8D44d4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph7c5Id4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8D5Id4Ee-TcaioibugYQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph8D4Id4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ph8D4od4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ph7c5Yd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph7c5od4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph7c5od4Ee-TcaioibugYQ" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_Ph7c5Yd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph7c54d4Ee-TcaioibugYQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph7c54d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph7c5od4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8D5Id4Ee-TcaioibugYQ" entityName="stopWatch.start()" predecessor_AbstractAction="_Ph8D44d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph95EId4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph95EId4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph8D5Id4Ee-TcaioibugYQ" successor_AbstractAction="_Ph95EYd4Ee-TcaioibugYQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph9SEod4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ph9SFId4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ph8D5Yd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph9SEId4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph9SEId4Ee-TcaioibugYQ" entityName="Switch Branch" predecessor_AbstractAction="_Ph8D5Yd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph9SEYd4Ee-TcaioibugYQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph8q-Id4Ee-TcaioibugYQ">
                <branchBehaviour_BranchTransition id="_Ph8q-od4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph8D5od4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph8D54d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8D54d4Ee-TcaioibugYQ" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_Ph8D5od4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8D84d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph8D84d4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph8D54d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8D9Id4Ee-TcaioibugYQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph8D8Id4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_Ph8D8od4Ee-TcaioibugYQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Ph8D6Id4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph8D7od4Ee-TcaioibugYQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph8D7od4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph8D6Id4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8D74d4Ee-TcaioibugYQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph8D64d4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Ph8D7Yd4Ee-TcaioibugYQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Ph8D6Yd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph8D6od4Ee-TcaioibugYQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Ph8D6od4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph8D6Yd4Ee-TcaioibugYQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Ph8D74d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph8D7od4Ee-TcaioibugYQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8D9Id4Ee-TcaioibugYQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_Ph8D84d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8D9Yd4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8D9Yd4Ee-TcaioibugYQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_Ph8D9Id4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8D9od4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8D9od4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph8D9Yd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8D94d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8D94d4Ee-TcaioibugYQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Ph8D9od4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8D-Id4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8D-Id4Ee-TcaioibugYQ" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_Ph8D94d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8q8Id4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph8q8Id4Ee-TcaioibugYQ" entityName="deferredResult" predecessor_AbstractAction="_Ph8D-Id4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8q8Yd4Ee-TcaioibugYQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8q8Yd4Ee-TcaioibugYQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_Ph8q8Id4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8q8od4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8q8od4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph8q8Yd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8q84d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8q84d4Ee-TcaioibugYQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Ph8q8od4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8q9Id4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8q9Id4Ee-TcaioibugYQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_Ph8q84d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8q9Yd4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph8q9Yd4Ee-TcaioibugYQ" entityName="deferredResult" predecessor_AbstractAction="_Ph8q9Id4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8q9od4Ee-TcaioibugYQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph8q9od4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph8q9Yd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph8q94d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph8q94d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph8q9od4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph9SB4d4Ee-TcaioibugYQ">
                <branchBehaviour_BranchTransition id="_Ph9SCYd4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph8q-4d4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph9SAId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph9SAId4Ee-TcaioibugYQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_Ph8q-4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph9SAYd4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph9SAYd4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph9SAId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph9SAod4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph9SAod4Ee-TcaioibugYQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Ph9SAYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph9SA4d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph9SA4d4Ee-TcaioibugYQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_Ph9SAod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph9SBId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph9SBId4Ee-TcaioibugYQ" entityName="deferredResult" predecessor_AbstractAction="_Ph9SA4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph9SBYd4Ee-TcaioibugYQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph9SBYd4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph9SBId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph9SBod4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph9SBod4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph9SBYd4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph9SDYd4Ee-TcaioibugYQ">
                <branchBehaviour_BranchTransition id="_Ph9SD4d4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph9SCod4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph9SC4d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph9SC4d4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph9SCod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph9SDId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph9SDId4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph9SC4d4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph9SEYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph9SEId4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph95EYd4Ee-TcaioibugYQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_Ph95EId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph95Eod4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ph95Eod4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph95EYd4Ee-TcaioibugYQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_PixKVId4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_PixKU4d4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_Pik9Fod4Ee-TcaioibugYQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ph_HRId4Ee-TcaioibugYQ" describedService__SEFF="_Pb9-w4d4Ee-TcaioibugYQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Ph95FYd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph95HId4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph95HId4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph95FYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph95HYd4Ee-TcaioibugYQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph95GYd4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ph95G4d4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ph95Fod4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph95F4d4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph95F4d4Ee-TcaioibugYQ" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_Ph95Fod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph95GId4Ee-TcaioibugYQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph95GId4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph95F4d4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph95HYd4Ee-TcaioibugYQ" entityName="stopWatch.start()" predecessor_AbstractAction="_Ph95HId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HQod4Ee-TcaioibugYQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph_HQod4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph95HYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HQ4d4Ee-TcaioibugYQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph_HP4d4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ph_HQYd4Ee-TcaioibugYQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ph95Hod4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph_HPYd4Ee-TcaioibugYQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph_HPYd4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph95Hod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HPod4Ee-TcaioibugYQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph_HOod4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Ph_HPId4Ee-TcaioibugYQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ph95H4d4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph_HMId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph_HMId4Ee-TcaioibugYQ" entityName="Switch Branch" predecessor_AbstractAction="_Ph95H4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HMYd4Ee-TcaioibugYQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph-gIod4Ee-TcaioibugYQ">
                      <branchBehaviour_BranchTransition id="_Ph-gJId4Ee-TcaioibugYQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Ph95IId4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph95J4d4Ee-TcaioibugYQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Ph95J4d4Ee-TcaioibugYQ" entityName="If Branch" predecessor_AbstractAction="_Ph95IId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph-gIId4Ee-TcaioibugYQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph95JId4Ee-TcaioibugYQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Ph95Jod4Ee-TcaioibugYQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Ph95IYd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph95Iod4Ee-TcaioibugYQ"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph95Iod4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph95IYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph95I4d4Ee-TcaioibugYQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Ph95I4d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph95Iod4Ee-TcaioibugYQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph-gIId4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph95J4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph-gIYd4Ee-TcaioibugYQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Ph-gIYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph-gIId4Ee-TcaioibugYQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph-gKId4Ee-TcaioibugYQ">
                      <branchBehaviour_BranchTransition id="_Ph-gKod4Ee-TcaioibugYQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Ph-gJYd4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph-gJod4Ee-TcaioibugYQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph-gJod4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph-gJYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph-gJ4d4Ee-TcaioibugYQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Ph-gJ4d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph-gJod4Ee-TcaioibugYQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ph-gLod4Ee-TcaioibugYQ">
                      <branchBehaviour_BranchTransition id="_Ph-gMId4Ee-TcaioibugYQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Ph-gK4d4Ee-TcaioibugYQ" entityName="Start Action" successor_AbstractAction="_Ph-gLId4Ee-TcaioibugYQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph-gLId4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph-gK4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph-gLYd4Ee-TcaioibugYQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Ph-gLYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph-gLId4Ee-TcaioibugYQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph_HMYd4Ee-TcaioibugYQ" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_Ph_HMId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HMod4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph_HMod4Ee-TcaioibugYQ" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_Ph_HMYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HM4d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph_HM4d4Ee-TcaioibugYQ" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_Ph_HMod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HNId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph_HNId4Ee-TcaioibugYQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ph_HM4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HNYd4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph_HNYd4Ee-TcaioibugYQ" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Ph_HNId4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HNod4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph_HNod4Ee-TcaioibugYQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_Ph_HNYd4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HN4d4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ph_HN4d4Ee-TcaioibugYQ" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_Ph_HNod4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HOId4Ee-TcaioibugYQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ph_HOId4Ee-TcaioibugYQ" entityName="deferredResult" predecessor_AbstractAction="_Ph_HN4d4Ee-TcaioibugYQ" successor_AbstractAction="_Ph_HOYd4Ee-TcaioibugYQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ph_HOYd4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph_HOId4Ee-TcaioibugYQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ph_HPod4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph_HPYd4Ee-TcaioibugYQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ph_HQ4d4Ee-TcaioibugYQ" entityName="Stop Action" predecessor_AbstractAction="_Ph_HQod4Ee-TcaioibugYQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Pi00sId4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_Pi1byId4Ee-TcaioibugYQ" encapsulatedComponent__AssemblyContext="_Pik9HId4Ee-TcaioibugYQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Pi00sod4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_Pi1bwod4Ee-TcaioibugYQ" encapsulatedComponent__AssemblyContext="_Pis454d4Ee-TcaioibugYQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Pi2p44d4Ee-TcaioibugYQ" innerProvidedRole_ProvidedDelegationConnector="_Pis45od4Ee-TcaioibugYQ" outerProvidedRole_ProvidedDelegationConnector="_Pi00sYd4Ee-TcaioibugYQ" assemblyContext_ProvidedDelegationConnector="_Pi1bwod4Ee-TcaioibugYQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pi00sYd4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_Pik9GId4Ee-TcaioibugYQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Pi00tId4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_Pi1byod4Ee-TcaioibugYQ" encapsulatedComponent__AssemblyContext="_PiuuHod4Ee-TcaioibugYQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Pi2C0Id4Ee-TcaioibugYQ" innerProvidedRole_ProvidedDelegationConnector="_PiuuHYd4Ee-TcaioibugYQ" outerProvidedRole_ProvidedDelegationConnector="_Pi00s4d4Ee-TcaioibugYQ" assemblyContext_ProvidedDelegationConnector="_Pi1byod4Ee-TcaioibugYQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pi00s4d4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_Pik9GYd4Ee-TcaioibugYQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Pi00tod4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_Pi1bxod4Ee-TcaioibugYQ" encapsulatedComponent__AssemblyContext="_PilkIYd4Ee-TcaioibugYQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Pi2p4Yd4Ee-TcaioibugYQ" innerProvidedRole_ProvidedDelegationConnector="_PilkIId4Ee-TcaioibugYQ" outerProvidedRole_ProvidedDelegationConnector="_Pi00tYd4Ee-TcaioibugYQ" assemblyContext_ProvidedDelegationConnector="_Pi1bxod4Ee-TcaioibugYQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pi00tYd4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_Pik9G4d4Ee-TcaioibugYQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Pi00uYd4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_Pi1bxId4Ee-TcaioibugYQ" encapsulatedComponent__AssemblyContext="_PioAbod4Ee-TcaioibugYQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Pi2p4Id4Ee-TcaioibugYQ" innerProvidedRole_ProvidedDelegationConnector="_PioAbId4Ee-TcaioibugYQ" outerProvidedRole_ProvidedDelegationConnector="_Pi00uId4Ee-TcaioibugYQ" assemblyContext_ProvidedDelegationConnector="_Pi1bxId4Ee-TcaioibugYQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Pi2p4od4Ee-TcaioibugYQ" innerProvidedRole_ProvidedDelegationConnector="_PioAbYd4Ee-TcaioibugYQ" outerProvidedRole_ProvidedDelegationConnector="_Pi00t4d4Ee-TcaioibugYQ" assemblyContext_ProvidedDelegationConnector="_Pi1bxId4Ee-TcaioibugYQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pi00t4d4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_Pik9F4d4Ee-TcaioibugYQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pi00uId4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_Pik9God4Ee-TcaioibugYQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Pi00u4d4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_Pi1bwId4Ee-TcaioibugYQ" encapsulatedComponent__AssemblyContext="_PixKVId4Ee-TcaioibugYQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Pi2p5Id4Ee-TcaioibugYQ" innerProvidedRole_ProvidedDelegationConnector="_PixKU4d4Ee-TcaioibugYQ" outerProvidedRole_ProvidedDelegationConnector="_Pi00uod4Ee-TcaioibugYQ" assemblyContext_ProvidedDelegationConnector="_Pi1bwId4Ee-TcaioibugYQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Pi00uod4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_Pik9Fod4Ee-TcaioibugYQ"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pik9Fod4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_Pb9-w4d4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_PbL7oId4Ee-TcaioibugYQ">
      <parameters__OperationSignature dataType__Parameter="_Pb8JkId4Ee-TcaioibugYQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pik9F4d4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_Pb9XsYd4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_Pb8JkYd4Ee-TcaioibugYQ">
      <parameters__OperationSignature dataType__Parameter="_Pb9XsId4Ee-TcaioibugYQ" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pik9GId4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_Pb8Jkod4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_Pb8JkYd4Ee-TcaioibugYQ">
      <parameters__OperationSignature dataType__Parameter="_Pb8JkId4Ee-TcaioibugYQ" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pik9GYd4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_Pb8wood4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_PbL7oId4Ee-TcaioibugYQ">
      <parameters__OperationSignature dataType__Parameter="_Pb8JkId4Ee-TcaioibugYQ" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pik9God4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_Pb9-wId4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_Pb8JkYd4Ee-TcaioibugYQ">
      <parameters__OperationSignature dataType__Parameter="_Pb9XtId4Ee-TcaioibugYQ" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_Pb9XtYd4Ee-TcaioibugYQ" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Pik9G4d4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_PbMisId4Ee-TcaioibugYQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_PbL7oId4Ee-TcaioibugYQ">
      <parameters__OperationSignature dataType__Parameter="_PbKtgId4Ee-TcaioibugYQ" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_PbKtgId4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_PbL7oId4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Pb8JkId4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Pb8JkYd4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Pb9XsId4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Pb9XtId4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Pb9XtYd4Ee-TcaioibugYQ" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
