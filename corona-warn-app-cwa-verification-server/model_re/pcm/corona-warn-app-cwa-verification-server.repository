<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_-rnEHOmDEe6_GdK-GkuMVw">
  <components__Repository xsi:type="repository:BasicComponent" id="_-rGtxumDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rGtxemDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_-rGGuumDEe6_GdK-GkuMVw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-qV4yOmDEe6_GdK-GkuMVw" describedService__SEFF="_-kkA4umDEe6_GdK-GkuMVw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-qUDn-mDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qUqoOmDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-qUqoOmDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qUDn-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qUqoemDEe6_GdK-GkuMVw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qUDo-mDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-qUDpemDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qUDoOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qUDoemDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qUDoemDEe6_GdK-GkuMVw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_-qUDoOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qUDoumDEe6_GdK-GkuMVw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qUDoumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qUDoemDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-qUqoemDEe6_GdK-GkuMVw" entityName="stopWatch.start()" predecessor_AbstractAction="_-qUqoOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qV4xumDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-qV4xumDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qUqoemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qV4x-mDEe6_GdK-GkuMVw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qV4w-mDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-qV4xemDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qUqoumDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qV4wemDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-qV4wemDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qUqoumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qV4wumDEe6_GdK-GkuMVw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qVRwOmDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-qV4wOmDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qUqo-mDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qVRtumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_-qVRtumDEe6_GdK-GkuMVw" entityName="Switch Branch" predecessor_AbstractAction="_-qUqo-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRt-mDEe6_GdK-GkuMVw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qUqrumDEe6_GdK-GkuMVw">
                      <branchBehaviour_BranchTransition id="_-qUqsOmDEe6_GdK-GkuMVw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-qUqpOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qUqq-mDEe6_GdK-GkuMVw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_-qUqq-mDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qUqpOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qUqrOmDEe6_GdK-GkuMVw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qUqqOmDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_-qUqqumDEe6_GdK-GkuMVw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_-qUqpemDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qUqpumDEe6_GdK-GkuMVw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_-qUqpumDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qUqpemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qUqp-mDEe6_GdK-GkuMVw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_-qUqp-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qUqpumDEe6_GdK-GkuMVw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_-qUqrOmDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qUqq-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qUqremDEe6_GdK-GkuMVw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-qUqremDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qUqrOmDEe6_GdK-GkuMVw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qUqtOmDEe6_GdK-GkuMVw">
                      <branchBehaviour_BranchTransition id="_-qUqtumDEe6_GdK-GkuMVw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-qUqsemDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qUqsumDEe6_GdK-GkuMVw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_-qUqsumDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qUqsemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qUqs-mDEe6_GdK-GkuMVw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-qUqs-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qUqsumDEe6_GdK-GkuMVw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qVRs-mDEe6_GdK-GkuMVw">
                      <branchBehaviour_BranchTransition id="_-qVRtemDEe6_GdK-GkuMVw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-qVRsOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qVRsemDEe6_GdK-GkuMVw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_-qVRsemDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qVRsOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRsumDEe6_GdK-GkuMVw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-qVRsumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qVRsemDEe6_GdK-GkuMVw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qVRt-mDEe6_GdK-GkuMVw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_-qVRtumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRuOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qVRuOmDEe6_GdK-GkuMVw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_-qVRt-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRuemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qVRuemDEe6_GdK-GkuMVw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_-qVRuOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRuumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qVRuumDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qVRuemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRu-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qVRu-mDEe6_GdK-GkuMVw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-qVRuumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRvOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qVRvOmDEe6_GdK-GkuMVw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_-qVRu-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRvemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qVRvemDEe6_GdK-GkuMVw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_-qVRvOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRvumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qVRvumDEe6_GdK-GkuMVw" entityName="deferredResult" predecessor_AbstractAction="_-qVRvemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qVRv-mDEe6_GdK-GkuMVw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qVRv-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qVRvumDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qV4wumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qV4wemDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-qV4x-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qV4xumDEe6_GdK-GkuMVw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-rST8emDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rST8OmDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_-rGtwumDEe6_GdK-GkuMVw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-qSOdemDEe6_GdK-GkuMVw" describedService__SEFF="_-klPAOmDEe6_GdK-GkuMVw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-qQZNemDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qQZPOmDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-qQZPOmDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qQZNemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qQZPemDEe6_GdK-GkuMVw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qQZOemDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-qQZO-mDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qQZNumDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qQZN-mDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qQZN-mDEe6_GdK-GkuMVw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_-qQZNumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qQZOOmDEe6_GdK-GkuMVw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qQZOOmDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qQZN-mDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-qQZPemDEe6_GdK-GkuMVw" entityName="stopWatch.start()" predecessor_AbstractAction="_-qQZPOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qSOcumDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-qSOcumDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qQZPemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qSOc-mDEe6_GdK-GkuMVw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qSOb-mDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-qSOcemDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qQZPumDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qSObemDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-qSObemDEe6_GdK-GkuMVw" entityName="Switch Branch" predecessor_AbstractAction="_-qQZPumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qSObumDEe6_GdK-GkuMVw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qRnVumDEe6_GdK-GkuMVw">
                <branchBehaviour_BranchTransition id="_-qRnWOmDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qQZP-mDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qQZQOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qQZQOmDEe6_GdK-GkuMVw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_-qQZP-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRAS-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_-qRAS-mDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qQZQOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRATOmDEe6_GdK-GkuMVw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qRASOmDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_-qRASumDEe6_GdK-GkuMVw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-qRAQOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qRARumDEe6_GdK-GkuMVw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_-qRARumDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qRAQOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRAR-mDEe6_GdK-GkuMVw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qRAQ-mDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_-qRARemDEe6_GdK-GkuMVw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_-qRAQemDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qRAQumDEe6_GdK-GkuMVw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_-qRAQumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qRAQemDEe6_GdK-GkuMVw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-qRAR-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qRARumDEe6_GdK-GkuMVw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRATOmDEe6_GdK-GkuMVw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_-qRAS-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRATemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRATemDEe6_GdK-GkuMVw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_-qRATOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRATumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRATumDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qRATemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRAT-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRAT-mDEe6_GdK-GkuMVw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-qRATumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRAUOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRAUOmDEe6_GdK-GkuMVw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_-qRAT-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRAUemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qRAUemDEe6_GdK-GkuMVw" entityName="deferredResult" predecessor_AbstractAction="_-qRAUOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRAUumDEe6_GdK-GkuMVw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRAUumDEe6_GdK-GkuMVw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_-qRAUemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRnUOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRnUOmDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qRAUumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRnUemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRnUemDEe6_GdK-GkuMVw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-qRnUOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRnUumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRnUumDEe6_GdK-GkuMVw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_-qRnUemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRnU-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qRnU-mDEe6_GdK-GkuMVw" entityName="deferredResult" predecessor_AbstractAction="_-qRnUumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRnVOmDEe6_GdK-GkuMVw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRnVOmDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qRnU-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRnVemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qRnVemDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qRnVOmDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qSOZOmDEe6_GdK-GkuMVw">
                <branchBehaviour_BranchTransition id="_-qSOZumDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qRnWemDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qRnWumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRnWumDEe6_GdK-GkuMVw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_-qRnWemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRnW-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRnW-mDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qRnWumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qRnXOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qRnXOmDEe6_GdK-GkuMVw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-qRnW-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qSOYOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qSOYOmDEe6_GdK-GkuMVw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_-qRnXOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qSOYemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qSOYemDEe6_GdK-GkuMVw" entityName="deferredResult" predecessor_AbstractAction="_-qSOYOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qSOYumDEe6_GdK-GkuMVw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qSOYumDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qSOYemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qSOY-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qSOY-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qSOYumDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qSOaumDEe6_GdK-GkuMVw">
                <branchBehaviour_BranchTransition id="_-qSObOmDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qSOZ-mDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qSOaOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qSOaOmDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qSOZ-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qSOaemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qSOaemDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qSOaOmDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qSObumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qSObemDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-qSOc-mDEe6_GdK-GkuMVw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_-qSOcumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qSOdOmDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-qSOdOmDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qSOc-mDEe6_GdK-GkuMVw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-rWlZumDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rWlZemDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_-rGtw-mDEe6_GdK-GkuMVw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-qQZM-mDEe6_GdK-GkuMVw" describedService__SEFF="_-klPBOmDEe6_GdK-GkuMVw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-qNV5OmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qNV6-mDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-qNV6-mDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qNV5OmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qNV7OmDEe6_GdK-GkuMVw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qNV6OmDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-qNV6umDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qNV5emDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qNV5umDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qNV5umDEe6_GdK-GkuMVw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_-qNV5emDEe6_GdK-GkuMVw" successor_AbstractAction="_-qNV5-mDEe6_GdK-GkuMVw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qNV5-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qNV5umDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-qNV7OmDEe6_GdK-GkuMVw" entityName="stopWatch.start()" predecessor_AbstractAction="_-qNV6-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qQZMemDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-qQZMemDEe6_GdK-GkuMVw" entityName="Switch Branch" predecessor_AbstractAction="_-qNV7OmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qQZMumDEe6_GdK-GkuMVw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qPLFOmDEe6_GdK-GkuMVw">
          <branchBehaviour_BranchTransition id="_-qPLFumDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qN88OmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qN88emDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qN88emDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qN88OmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qN88umDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qN88umDEe6_GdK-GkuMVw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-qN88emDEe6_GdK-GkuMVw" successor_AbstractAction="_-qN88-mDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qN88-mDEe6_GdK-GkuMVw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_-qN88umDEe6_GdK-GkuMVw" successor_AbstractAction="_-qN89OmDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qN89OmDEe6_GdK-GkuMVw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_-qN88-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qOkAOmDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qOkAOmDEe6_GdK-GkuMVw" entityName="deferredResult" predecessor_AbstractAction="_-qN89OmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPLEOmDEe6_GdK-GkuMVw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-qPLEOmDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qOkAOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPLEemDEe6_GdK-GkuMVw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qOkCumDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-qOkDOmDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qOkAemDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qOkAumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qOkAumDEe6_GdK-GkuMVw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_-qOkAemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qOkA-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qOkA-mDEe6_GdK-GkuMVw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_-qOkAumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qOkBOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qOkBOmDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qOkA-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qOkBemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qOkBemDEe6_GdK-GkuMVw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-qOkBOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qOkBumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qOkBumDEe6_GdK-GkuMVw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_-qOkBemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qOkB-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qOkB-mDEe6_GdK-GkuMVw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_-qOkBumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qOkCOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qOkCOmDEe6_GdK-GkuMVw" entityName="deferredResult" predecessor_AbstractAction="_-qOkB-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qOkCemDEe6_GdK-GkuMVw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qOkCemDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qOkCOmDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPLEemDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qPLEOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPLEumDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPLEumDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qPLEemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPLE-mDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qPLE-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qPLEumDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qPyK-mDEe6_GdK-GkuMVw">
          <branchBehaviour_BranchTransition id="_-qPyLemDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qPLF-mDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qPyJ-mDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-qPyJ-mDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qPLF-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPyKOmDEe6_GdK-GkuMVw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qPyJOmDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-qPyJumDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qPLGOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qPLGemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPLGemDEe6_GdK-GkuMVw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_-qPLGOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPLGumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPLGumDEe6_GdK-GkuMVw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_-qPLGemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPLG-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPLG-mDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qPLGumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPLHOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPLHOmDEe6_GdK-GkuMVw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_-qPLG-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPyIOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPyIOmDEe6_GdK-GkuMVw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_-qPLHOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPyIemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPyIemDEe6_GdK-GkuMVw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_-qPyIOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPyIumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qPyIumDEe6_GdK-GkuMVw" entityName="deferredResult" predecessor_AbstractAction="_-qPyIemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPyI-mDEe6_GdK-GkuMVw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qPyI-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qPyIumDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPyKOmDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qPyJ-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPyKemDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPyKemDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qPyKOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPyKumDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qPyKumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qPyKemDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qPyMemDEe6_GdK-GkuMVw">
          <branchBehaviour_BranchTransition id="_-qQZMOmDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qPyLumDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qPyL-mDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qPyL-mDEe6_GdK-GkuMVw" entityName="stopWatch.stop()" predecessor_AbstractAction="_-qPyLumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qPyMOmDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qPyMOmDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qPyL-mDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-qQZMumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qQZMemDEe6_GdK-GkuMVw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-rYanumDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rYanemDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_-rGtwOmDEe6_GdK-GkuMVw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-qUDnemDEe6_GdK-GkuMVw" describedService__SEFF="_-kkn8umDEe6_GdK-GkuMVw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-qS1cemDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qUDmumDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-qUDmumDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qS1cemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qUDm-mDEe6_GdK-GkuMVw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qUDl-mDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-qUDmemDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qS1cumDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qUDlemDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-qUDlemDEe6_GdK-GkuMVw" entityName="Switch Branch" predecessor_AbstractAction="_-qS1cumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qUDlumDEe6_GdK-GkuMVw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qTcgemDEe6_GdK-GkuMVw">
                <branchBehaviour_BranchTransition id="_-qTcg-mDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qS1c-mDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qS1f-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_-qS1f-mDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qS1c-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qS1gOmDEe6_GdK-GkuMVw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qS1fOmDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_-qS1fumDEe6_GdK-GkuMVw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_-qS1dOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qS1eumDEe6_GdK-GkuMVw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_-qS1eumDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qS1dOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qS1e-mDEe6_GdK-GkuMVw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qS1d-mDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_-qS1eemDEe6_GdK-GkuMVw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_-qS1demDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qS1dumDEe6_GdK-GkuMVw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_-qS1dumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qS1demDEe6_GdK-GkuMVw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_-qS1e-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qS1eumDEe6_GdK-GkuMVw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qS1gOmDEe6_GdK-GkuMVw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_-qS1f-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qS1gemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qS1gemDEe6_GdK-GkuMVw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_-qS1gOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qS1gumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qS1gumDEe6_GdK-GkuMVw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_-qS1gemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qS1g-mDEe6_GdK-GkuMVw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qS1g-mDEe6_GdK-GkuMVw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_-qS1gumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qTcgOmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qTcgOmDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qS1g-mDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qTch-mDEe6_GdK-GkuMVw">
                <branchBehaviour_BranchTransition id="_-qTciemDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qTchOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qTchemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qTchemDEe6_GdK-GkuMVw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_-qTchOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qTchumDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qTchumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qTchemDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qUDkumDEe6_GdK-GkuMVw">
                <branchBehaviour_BranchTransition id="_-qUDlOmDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qUDkOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qUDkemDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qUDkemDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qUDkOmDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qUDlumDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qUDlemDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_-qUDm-mDEe6_GdK-GkuMVw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_-qUDmumDEe6_GdK-GkuMVw" successor_AbstractAction="_-qUDnOmDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-qUDnOmDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qUDm-mDEe6_GdK-GkuMVw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-rehP-mDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rehPemDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_-rGtxOmDEe6_GdK-GkuMVw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rehPumDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_-rGtwemDEe6_GdK-GkuMVw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-qNV4umDEe6_GdK-GkuMVw" describedService__SEFF="_-jxWsOmDEe6_GdK-GkuMVw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-qJrhOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qMu0OmDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-qMu0OmDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qJrhOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qNV4OmDEe6_GdK-GkuMVw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qLgsOmDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-qMHwOmDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qKSkOmDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qK5oOmDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qK5oOmDEe6_GdK-GkuMVw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_-qKSkOmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qK5oemDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qK5oemDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qK5oOmDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qMHxOmDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-qMHxumDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qMHwemDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qMHwumDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_-qMHwumDEe6_GdK-GkuMVw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_-qMHwemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qMHw-mDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qMHw-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qMHwumDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_-qNV4OmDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qMu0OmDEe6_GdK-GkuMVw" successor_AbstractAction="_-qNV4emDEe6_GdK-GkuMVw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qMu4OmDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_-qMu4umDEe6_GdK-GkuMVw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_-qMu0emDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qMu3umDEe6_GdK-GkuMVw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_-qMu3umDEe6_GdK-GkuMVw" entityName="If Branch" predecessor_AbstractAction="_-qMu0emDEe6_GdK-GkuMVw" successor_AbstractAction="_-qMu3-mDEe6_GdK-GkuMVw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qMu1umDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-qMu2OmDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qMu0umDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qMu0-mDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_-qMu0-mDEe6_GdK-GkuMVw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_-qMu0umDEe6_GdK-GkuMVw" successor_AbstractAction="_-qMu1OmDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qMu1OmDEe6_GdK-GkuMVw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_-qMu0-mDEe6_GdK-GkuMVw" successor_AbstractAction="_-qMu1emDEe6_GdK-GkuMVw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qMu1emDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qMu1OmDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_-qMu2-mDEe6_GdK-GkuMVw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_-qMu3emDEe6_GdK-GkuMVw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_-qMu2emDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qMu2umDEe6_GdK-GkuMVw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_-qMu2umDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qMu2emDEe6_GdK-GkuMVw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_-qMu3-mDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qMu3umDEe6_GdK-GkuMVw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-qNV4emDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qNV4OmDEe6_GdK-GkuMVw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_-qJrgumDEe6_GdK-GkuMVw" describedService__SEFF="_-kl2E-mDEe6_GdK-GkuMVw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_-k_esemDEe6_GdK-GkuMVw" entityName="Start Action" successor_AbstractAction="_-qJrgOmDEe6_GdK-GkuMVw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_-qJrgOmDEe6_GdK-GkuMVw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_-k_esemDEe6_GdK-GkuMVw" successor_AbstractAction="_-qJrgemDEe6_GdK-GkuMVw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_-qJrgemDEe6_GdK-GkuMVw" entityName="Stop Action" predecessor_AbstractAction="_-qJrgOmDEe6_GdK-GkuMVw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_-rkn2-mDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-rmdAumDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_-rnEGOmDEe6_GdK-GkuMVw" encapsulatedComponent__AssemblyContext="_-rehP-mDEe6_GdK-GkuMVw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-roSMumDEe6_GdK-GkuMVw" innerProvidedRole_ProvidedDelegationConnector="_-rehPumDEe6_GdK-GkuMVw" outerProvidedRole_ProvidedDelegationConnector="_-rmdAemDEe6_GdK-GkuMVw" assemblyContext_ProvidedDelegationConnector="_-rnEGOmDEe6_GdK-GkuMVw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-roSNemDEe6_GdK-GkuMVw" innerProvidedRole_ProvidedDelegationConnector="_-rehPemDEe6_GdK-GkuMVw" outerProvidedRole_ProvidedDelegationConnector="_-rmdAOmDEe6_GdK-GkuMVw" assemblyContext_ProvidedDelegationConnector="_-rnEGOmDEe6_GdK-GkuMVw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rmdAOmDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_-rGtxOmDEe6_GdK-GkuMVw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rmdAemDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_-rGtwemDEe6_GdK-GkuMVw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-rmdBOmDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_-rnEGumDEe6_GdK-GkuMVw" encapsulatedComponent__AssemblyContext="_-rGtxumDEe6_GdK-GkuMVw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-roSNOmDEe6_GdK-GkuMVw" innerProvidedRole_ProvidedDelegationConnector="_-rGtxemDEe6_GdK-GkuMVw" outerProvidedRole_ProvidedDelegationConnector="_-rmdA-mDEe6_GdK-GkuMVw" assemblyContext_ProvidedDelegationConnector="_-rnEGumDEe6_GdK-GkuMVw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rmdA-mDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_-rGGuumDEe6_GdK-GkuMVw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-rmdBumDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_-rnEFumDEe6_GdK-GkuMVw" encapsulatedComponent__AssemblyContext="_-rST8emDEe6_GdK-GkuMVw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-roSMemDEe6_GdK-GkuMVw" innerProvidedRole_ProvidedDelegationConnector="_-rST8OmDEe6_GdK-GkuMVw" outerProvidedRole_ProvidedDelegationConnector="_-rmdBemDEe6_GdK-GkuMVw" assemblyContext_ProvidedDelegationConnector="_-rnEFumDEe6_GdK-GkuMVw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rmdBemDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_-rGtwumDEe6_GdK-GkuMVw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-rmdCOmDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_-rnEEOmDEe6_GdK-GkuMVw" encapsulatedComponent__AssemblyContext="_-rYanumDEe6_GdK-GkuMVw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-roSM-mDEe6_GdK-GkuMVw" innerProvidedRole_ProvidedDelegationConnector="_-rYanemDEe6_GdK-GkuMVw" outerProvidedRole_ProvidedDelegationConnector="_-rmdB-mDEe6_GdK-GkuMVw" assemblyContext_ProvidedDelegationConnector="_-rnEEOmDEe6_GdK-GkuMVw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rmdB-mDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_-rGtwOmDEe6_GdK-GkuMVw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-rmdCemDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_-rnEFOmDEe6_GdK-GkuMVw" encapsulatedComponent__AssemblyContext="_-rkn2-mDEe6_GdK-GkuMVw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_-rmdC-mDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_-rnEEumDEe6_GdK-GkuMVw" encapsulatedComponent__AssemblyContext="_-rWlZumDEe6_GdK-GkuMVw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_-roSMOmDEe6_GdK-GkuMVw" innerProvidedRole_ProvidedDelegationConnector="_-rWlZemDEe6_GdK-GkuMVw" outerProvidedRole_ProvidedDelegationConnector="_-rmdCumDEe6_GdK-GkuMVw" assemblyContext_ProvidedDelegationConnector="_-rnEEumDEe6_GdK-GkuMVw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_-rmdCumDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_-rGtw-mDEe6_GdK-GkuMVw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-rGGuumDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_-kkA4umDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_-kkA4emDEe6_GdK-GkuMVw">
      <parameters__OperationSignature dataType__Parameter="_-kkA4OmDEe6_GdK-GkuMVw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-rGtwOmDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_-kkn8umDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_-jwvoemDEe6_GdK-GkuMVw">
      <parameters__OperationSignature dataType__Parameter="_-kkA4OmDEe6_GdK-GkuMVw" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-rGtwemDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_-kl2E-mDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_-jwvoemDEe6_GdK-GkuMVw">
      <parameters__OperationSignature dataType__Parameter="_-kl2EumDEe6_GdK-GkuMVw" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-rGtwumDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_-klPAOmDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_-kkA4emDEe6_GdK-GkuMVw">
      <parameters__OperationSignature dataType__Parameter="_-kkA4OmDEe6_GdK-GkuMVw" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-rGtw-mDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_-klPBOmDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_-kkA4emDEe6_GdK-GkuMVw">
      <parameters__OperationSignature dataType__Parameter="_-klPA-mDEe6_GdK-GkuMVw" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_-rGtxOmDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_-jxWsOmDEe6_GdK-GkuMVw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_-jwvoemDEe6_GdK-GkuMVw">
      <parameters__OperationSignature dataType__Parameter="_-jwIkOmDEe6_GdK-GkuMVw" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_-jwvoOmDEe6_GdK-GkuMVw" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-jwIkOmDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-jwvoOmDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-jwvoemDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-kkA4OmDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-kkA4emDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-klPA-mDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_-kl2EumDEe6_GdK-GkuMVw" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
