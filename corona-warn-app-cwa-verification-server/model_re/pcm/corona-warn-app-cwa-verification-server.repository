<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_YQoz3O1xEe6df9NbgoQpQg">
  <components__Repository xsi:type="repository:BasicComponent" id="_YQXuFu1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQXuFe1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_YQXHBO1xEe6df9NbgoQpQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YPsYqe1xEe6df9NbgoQpQg" describedService__SEFF="_YJWgEe1xEe6df9NbgoQpQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YPp8aO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPp8b-1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YPp8b-1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPp8aO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPp8cO1xEe6df9NbgoQpQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPp8bO1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YPp8bu1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPp8ae1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPp8au1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPp8au1xEe6df9NbgoQpQg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_YPp8ae1xEe6df9NbgoQpQg" successor_AbstractAction="_YPp8a-1xEe6df9NbgoQpQg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPp8a-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPp8au1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YPp8cO1xEe6df9NbgoQpQg" entityName="stopWatch.start()" predecessor_AbstractAction="_YPp8b-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPsYp-1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YPsYp-1xEe6df9NbgoQpQg" entityName="Switch Branch" predecessor_AbstractAction="_YPp8cO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPsYqO1xEe6df9NbgoQpQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPrKiO1xEe6df9NbgoQpQg">
          <branchBehaviour_BranchTransition id="_YPrKiu1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPqjcO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPqjce1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqjce1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPqjcO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqjcu1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqjcu1xEe6df9NbgoQpQg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YPqjce1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqjc-1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqjc-1xEe6df9NbgoQpQg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_YPqjcu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqjdO1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqjdO1xEe6df9NbgoQpQg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_YPqjc-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqjde1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPqjde1xEe6df9NbgoQpQg" entityName="deferredResult" predecessor_AbstractAction="_YPqjdO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrKhO1xEe6df9NbgoQpQg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YPrKhO1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPqjde1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrKhe1xEe6df9NbgoQpQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPrKge1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YPrKg-1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPqjdu1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPqjd-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqjd-1xEe6df9NbgoQpQg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_YPqjdu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqjeO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqjeO1xEe6df9NbgoQpQg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_YPqjd-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqjee1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqjee1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPqjeO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqjeu1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqjeu1xEe6df9NbgoQpQg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YPqjee1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqje-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqje-1xEe6df9NbgoQpQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_YPqjeu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqjfO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPqjfO1xEe6df9NbgoQpQg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_YPqje-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPqjfe1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPqjfe1xEe6df9NbgoQpQg" entityName="deferredResult" predecessor_AbstractAction="_YPqjfO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrKgO1xEe6df9NbgoQpQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPrKgO1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPqjfe1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrKhe1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPrKhO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrKhu1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrKhu1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPrKhe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrKh-1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPrKh-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPrKhu1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPrxnO1xEe6df9NbgoQpQg">
          <branchBehaviour_BranchTransition id="_YPsYoO1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPrKi-1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPrxmO1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YPrxmO1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPrKi-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrxme1xEe6df9NbgoQpQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPrxle1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YPrxl-1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPrKjO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPrKje1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrKje1xEe6df9NbgoQpQg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_YPrKjO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrKju1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrKju1xEe6df9NbgoQpQg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_YPrKje1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrKj-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrKj-1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPrKju1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrxkO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrxkO1xEe6df9NbgoQpQg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YPrKj-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrxke1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrxke1xEe6df9NbgoQpQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_YPrxkO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrxku1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrxku1xEe6df9NbgoQpQg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_YPrxke1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrxk-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPrxk-1xEe6df9NbgoQpQg" entityName="deferredResult" predecessor_AbstractAction="_YPrxku1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrxlO1xEe6df9NbgoQpQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPrxlO1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPrxk-1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrxme1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPrxmO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrxmu1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPrxmu1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPrxme1xEe6df9NbgoQpQg" successor_AbstractAction="_YPrxm-1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPrxm-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPrxmu1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPsYpO1xEe6df9NbgoQpQg">
          <branchBehaviour_BranchTransition id="_YPsYpu1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPsYoe1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPsYou1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPsYou1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPsYoe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPsYo-1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPsYo-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPsYou1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YPsYqO1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPsYp-1xEe6df9NbgoQpQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_YQaxaO1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQaxZ-1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_YQXuFO1xEe6df9NbgoQpQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YPoHOO1xEe6df9NbgoQpQg" describedService__SEFF="_YJYVQe1xEe6df9NbgoQpQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YPlq8-1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPoHNe1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YPoHNe1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPlq8-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPoHNu1xEe6df9NbgoQpQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPoHMu1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YPoHNO1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPlq9O1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPoHMO1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YPoHMO1xEe6df9NbgoQpQg" entityName="Switch Branch" predecessor_AbstractAction="_YPlq9O1xEe6df9NbgoQpQg" successor_AbstractAction="_YPoHMe1xEe6df9NbgoQpQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPngJe1xEe6df9NbgoQpQg">
                <branchBehaviour_BranchTransition id="_YPngJ-1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPm5EO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPm5HO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_YPm5HO1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPm5EO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPngIO1xEe6df9NbgoQpQg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPm5Ge1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_YPm5G-1xEe6df9NbgoQpQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YPm5Ee1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPm5F-1xEe6df9NbgoQpQg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_YPm5F-1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPm5Ee1xEe6df9NbgoQpQg" successor_AbstractAction="_YPm5GO1xEe6df9NbgoQpQg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPm5FO1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_YPm5Fu1xEe6df9NbgoQpQg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_YPm5Eu1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPm5E-1xEe6df9NbgoQpQg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_YPm5E-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPm5Eu1xEe6df9NbgoQpQg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YPm5GO1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPm5F-1xEe6df9NbgoQpQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPngIO1xEe6df9NbgoQpQg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_YPm5HO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPngIe1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPngIe1xEe6df9NbgoQpQg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_YPngIO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPngIu1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPngIu1xEe6df9NbgoQpQg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_YPngIe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPngI-1xEe6df9NbgoQpQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPngI-1xEe6df9NbgoQpQg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_YPngIu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPngJO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPngJO1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPngI-1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPngK-1xEe6df9NbgoQpQg">
                <branchBehaviour_BranchTransition id="_YPngLe1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPngKO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPngKe1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPngKe1xEe6df9NbgoQpQg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_YPngKO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPngKu1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPngKu1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPngKe1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPngMO1xEe6df9NbgoQpQg">
                <branchBehaviour_BranchTransition id="_YPngMu1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPngLu1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPngL-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPngL-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPngLu1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPoHMe1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPoHMO1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YPoHNu1xEe6df9NbgoQpQg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_YPoHNe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPoHN-1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YPoHN-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPoHNu1xEe6df9NbgoQpQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_YQdNq-1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQdNqu1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_YQXuEe1xEe6df9NbgoQpQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YPp8Zu1xEe6df9NbgoQpQg" describedService__SEFF="_YIgykO1xEe6df9NbgoQpQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YPoHOu1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPoHQe1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YPoHQe1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPoHOu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPoHQu1xEe6df9NbgoQpQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPoHPu1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YPoHQO1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPoHO-1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPoHPO1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPoHPO1xEe6df9NbgoQpQg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_YPoHO-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPoHPe1xEe6df9NbgoQpQg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPoHPe1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPoHPO1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YPoHQu1xEe6df9NbgoQpQg" entityName="stopWatch.start()" predecessor_AbstractAction="_YPoHQe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPp8ZO1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YPp8ZO1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPoHQu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPp8Ze1xEe6df9NbgoQpQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPp8Ye1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YPp8Y-1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPoHQ-1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPpVXe1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YPpVXe1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPoHQ-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPp8YO1xEe6df9NbgoQpQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPpVWu1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YPpVXO1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPoHRO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPpVUO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_YPpVUO1xEe6df9NbgoQpQg" entityName="Switch Branch" predecessor_AbstractAction="_YPoHRO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPpVUe1xEe6df9NbgoQpQg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPouSu1xEe6df9NbgoQpQg">
                      <branchBehaviour_BranchTransition id="_YPouTO1xEe6df9NbgoQpQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YPouQO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPouR-1xEe6df9NbgoQpQg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_YPouR-1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPouQO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPouSO1xEe6df9NbgoQpQg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPouRO1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_YPouRu1xEe6df9NbgoQpQg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_YPouQe1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPouQu1xEe6df9NbgoQpQg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_YPouQu1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPouQe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPouQ-1xEe6df9NbgoQpQg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_YPouQ-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPouQu1xEe6df9NbgoQpQg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_YPouSO1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPouR-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPouSe1xEe6df9NbgoQpQg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YPouSe1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPouSO1xEe6df9NbgoQpQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPouUO1xEe6df9NbgoQpQg">
                      <branchBehaviour_BranchTransition id="_YPouUu1xEe6df9NbgoQpQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YPouTe1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPouTu1xEe6df9NbgoQpQg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_YPouTu1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPouTe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPouT-1xEe6df9NbgoQpQg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YPouT-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPouTu1xEe6df9NbgoQpQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPouVu1xEe6df9NbgoQpQg">
                      <branchBehaviour_BranchTransition id="_YPouWO1xEe6df9NbgoQpQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YPouU-1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPouVO1xEe6df9NbgoQpQg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_YPouVO1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPouU-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPouVe1xEe6df9NbgoQpQg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YPouVe1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPouVO1xEe6df9NbgoQpQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPpVUe1xEe6df9NbgoQpQg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_YPpVUO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPpVUu1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPpVUu1xEe6df9NbgoQpQg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_YPpVUe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPpVU-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPpVU-1xEe6df9NbgoQpQg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_YPpVUu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPpVVO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPpVVO1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPpVU-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPpVVe1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPpVVe1xEe6df9NbgoQpQg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YPpVVO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPpVVu1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPpVVu1xEe6df9NbgoQpQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_YPpVVe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPpVV-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPpVV-1xEe6df9NbgoQpQg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_YPpVVu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPpVWO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPpVWO1xEe6df9NbgoQpQg" entityName="deferredResult" predecessor_AbstractAction="_YPpVV-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPpVWe1xEe6df9NbgoQpQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPpVWe1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPpVWO1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPp8YO1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPpVXe1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YPp8Ze1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPp8ZO1xEe6df9NbgoQpQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_YQfp5O1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_YQfp5-1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQfp5e1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_YQXuE-1xEe6df9NbgoQpQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQfp5u1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_YQXuEu1xEe6df9NbgoQpQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YPlq8e1xEe6df9NbgoQpQg" describedService__SEFF="_YJY8Ue1xEe6df9NbgoQpQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YPlD6e1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPlD6u1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPlD6u1xEe6df9NbgoQpQg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_YPlD6e1xEe6df9NbgoQpQg" successor_AbstractAction="_YPlq8O1xEe6df9NbgoQpQg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YPlq8O1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPlD6u1xEe6df9NbgoQpQg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YPlD5-1xEe6df9NbgoQpQg" describedService__SEFF="_YJZjZO1xEe6df9NbgoQpQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YJ22Ye1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPiAkO1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YPiAkO1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YJ22Ye1xEe6df9NbgoQpQg" successor_AbstractAction="_YPlD5e1xEe6df9NbgoQpQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YJ6gwO1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YJ7H0O1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YJ4rkO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YJ55sO1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YJ55sO1xEe6df9NbgoQpQg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_YJ4rkO1xEe6df9NbgoQpQg" successor_AbstractAction="_YJ55se1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YJ55se1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YJ55sO1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPhZg-1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YPhZhe1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPhZgO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPhZge1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_YPhZge1xEe6df9NbgoQpQg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_YPhZgO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPhZgu1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPhZgu1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPhZge1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YPlD5e1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPiAkO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPlD5u1xEe6df9NbgoQpQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPlD4u1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YPlD5O1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPiAke1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPlD4O1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YPlD4O1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPiAke1xEe6df9NbgoQpQg" successor_AbstractAction="_YPlD4e1xEe6df9NbgoQpQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPkc0u1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YPkc1O1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPiAku1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPiAk-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPiAk-1xEe6df9NbgoQpQg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_YPiAku1xEe6df9NbgoQpQg" successor_AbstractAction="_YPkc0O1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPkc0O1xEe6df9NbgoQpQg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_YPiAk-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPkc0e1xEe6df9NbgoQpQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPkc0e1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPkc0O1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPkc1-1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_YPkc2e1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPkc1e1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPkc1u1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPkc1u1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPkc1e1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPlD4e1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPlD4O1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YPlD5u1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPlD5e1xEe6df9NbgoQpQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_YQj7VO1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQj7U-1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_YQXuEO1xEe6df9NbgoQpQg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_YPu07u1xEe6df9NbgoQpQg" describedService__SEFF="_YJXHIu1xEe6df9NbgoQpQg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_YPsYq-1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPs_sO1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YPs_sO1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPsYq-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPs_se1xEe6df9NbgoQpQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPsYr-1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YPsYse1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPsYrO1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPsYre1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPsYre1xEe6df9NbgoQpQg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_YPsYrO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPsYru1xEe6df9NbgoQpQg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPsYru1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPsYre1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YPs_se1xEe6df9NbgoQpQg" entityName="stopWatch.start()" predecessor_AbstractAction="_YPs_sO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPu06-1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_YPu06-1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPs_se1xEe6df9NbgoQpQg" successor_AbstractAction="_YPu07O1xEe6df9NbgoQpQg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPu06O1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_YPu06u1xEe6df9NbgoQpQg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_YPs_su1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPu05u1xEe6df9NbgoQpQg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_YPu05u1xEe6df9NbgoQpQg" entityName="Switch Branch" predecessor_AbstractAction="_YPs_su1xEe6df9NbgoQpQg" successor_AbstractAction="_YPu05-1xEe6df9NbgoQpQg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPtmzO1xEe6df9NbgoQpQg">
                <branchBehaviour_BranchTransition id="_YPtmzu1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPs_s-1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPs_tO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPs_tO1xEe6df9NbgoQpQg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_YPs_s-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPs_wO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_YPs_wO1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPs_tO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPs_we1xEe6df9NbgoQpQg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPs_ve1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_YPs_v-1xEe6df9NbgoQpQg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_YPs_te1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPs_u-1xEe6df9NbgoQpQg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_YPs_u-1xEe6df9NbgoQpQg" entityName="If Branch" predecessor_AbstractAction="_YPs_te1xEe6df9NbgoQpQg" successor_AbstractAction="_YPs_vO1xEe6df9NbgoQpQg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPs_uO1xEe6df9NbgoQpQg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_YPs_uu1xEe6df9NbgoQpQg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_YPs_tu1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPs_t-1xEe6df9NbgoQpQg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_YPs_t-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPs_tu1xEe6df9NbgoQpQg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_YPs_vO1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPs_u-1xEe6df9NbgoQpQg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPs_we1xEe6df9NbgoQpQg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_YPs_wO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmwO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPtmwO1xEe6df9NbgoQpQg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_YPs_we1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmwe1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPtmwe1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPtmwO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmwu1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPtmwu1xEe6df9NbgoQpQg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YPtmwe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmw-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPtmw-1xEe6df9NbgoQpQg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_YPtmwu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmxO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPtmxO1xEe6df9NbgoQpQg" entityName="deferredResult" predecessor_AbstractAction="_YPtmw-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmxe1xEe6df9NbgoQpQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPtmxe1xEe6df9NbgoQpQg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_YPtmxO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmxu1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPtmxu1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPtmxe1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmx-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPtmx-1xEe6df9NbgoQpQg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YPtmxu1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmyO1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPtmyO1xEe6df9NbgoQpQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_YPtmx-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmye1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPtmye1xEe6df9NbgoQpQg" entityName="deferredResult" predecessor_AbstractAction="_YPtmyO1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmyu1xEe6df9NbgoQpQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPtmyu1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPtmye1xEe6df9NbgoQpQg" successor_AbstractAction="_YPtmy-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPtmy-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPtmyu1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPuN2O1xEe6df9NbgoQpQg">
                <branchBehaviour_BranchTransition id="_YPuN2u1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPuN0O1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPuN0e1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPuN0e1xEe6df9NbgoQpQg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_YPuN0O1xEe6df9NbgoQpQg" successor_AbstractAction="_YPuN0u1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPuN0u1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPuN0e1xEe6df9NbgoQpQg" successor_AbstractAction="_YPuN0-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPuN0-1xEe6df9NbgoQpQg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_YPuN0u1xEe6df9NbgoQpQg" successor_AbstractAction="_YPuN1O1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPuN1O1xEe6df9NbgoQpQg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_YPuN0-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPuN1e1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_YPuN1e1xEe6df9NbgoQpQg" entityName="deferredResult" predecessor_AbstractAction="_YPuN1O1xEe6df9NbgoQpQg" successor_AbstractAction="_YPuN1u1xEe6df9NbgoQpQg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPuN1u1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPuN1e1xEe6df9NbgoQpQg" successor_AbstractAction="_YPuN1-1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPuN1-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPuN1u1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_YPu04-1xEe6df9NbgoQpQg">
                <branchBehaviour_BranchTransition id="_YPu05e1xEe6df9NbgoQpQg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_YPu04O1xEe6df9NbgoQpQg" entityName="Start Action" successor_AbstractAction="_YPu04e1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_YPu04e1xEe6df9NbgoQpQg" entityName="stopWatch.stop()" predecessor_AbstractAction="_YPu04O1xEe6df9NbgoQpQg" successor_AbstractAction="_YPu04u1xEe6df9NbgoQpQg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_YPu04u1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPu04e1xEe6df9NbgoQpQg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_YPu05-1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPu05u1xEe6df9NbgoQpQg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_YPu07O1xEe6df9NbgoQpQg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_YPu06-1xEe6df9NbgoQpQg" successor_AbstractAction="_YPu07e1xEe6df9NbgoQpQg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_YPu07e1xEe6df9NbgoQpQg" entityName="Stop Action" predecessor_AbstractAction="_YPu07O1xEe6df9NbgoQpQg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YQnlse1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_YQoz1u1xEe6df9NbgoQpQg" encapsulatedComponent__AssemblyContext="_YQaxaO1xEe6df9NbgoQpQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YQpa4e1xEe6df9NbgoQpQg" innerProvidedRole_ProvidedDelegationConnector="_YQaxZ-1xEe6df9NbgoQpQg" outerProvidedRole_ProvidedDelegationConnector="_YQnlsO1xEe6df9NbgoQpQg" assemblyContext_ProvidedDelegationConnector="_YQoz1u1xEe6df9NbgoQpQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQnlsO1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_YQXuFO1xEe6df9NbgoQpQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YQoMwe1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_YQoz2u1xEe6df9NbgoQpQg" encapsulatedComponent__AssemblyContext="_YQXuFu1xEe6df9NbgoQpQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YQqB8u1xEe6df9NbgoQpQg" innerProvidedRole_ProvidedDelegationConnector="_YQXuFe1xEe6df9NbgoQpQg" outerProvidedRole_ProvidedDelegationConnector="_YQoMwO1xEe6df9NbgoQpQg" assemblyContext_ProvidedDelegationConnector="_YQoz2u1xEe6df9NbgoQpQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQoMwO1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_YQXHBO1xEe6df9NbgoQpQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YQoMwu1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_YQoz1O1xEe6df9NbgoQpQg" encapsulatedComponent__AssemblyContext="_YQfp5O1xEe6df9NbgoQpQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YQoMxe1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_YQoz0O1xEe6df9NbgoQpQg" encapsulatedComponent__AssemblyContext="_YQfp5-1xEe6df9NbgoQpQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YQqB8O1xEe6df9NbgoQpQg" innerProvidedRole_ProvidedDelegationConnector="_YQfp5e1xEe6df9NbgoQpQg" outerProvidedRole_ProvidedDelegationConnector="_YQoMxO1xEe6df9NbgoQpQg" assemblyContext_ProvidedDelegationConnector="_YQoz0O1xEe6df9NbgoQpQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YQqB8e1xEe6df9NbgoQpQg" innerProvidedRole_ProvidedDelegationConnector="_YQfp5u1xEe6df9NbgoQpQg" outerProvidedRole_ProvidedDelegationConnector="_YQoMw-1xEe6df9NbgoQpQg" assemblyContext_ProvidedDelegationConnector="_YQoz0O1xEe6df9NbgoQpQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQoMw-1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_YQXuEu1xEe6df9NbgoQpQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQoMxO1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_YQXuE-1xEe6df9NbgoQpQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YQoMx-1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_YQoz0u1xEe6df9NbgoQpQg" encapsulatedComponent__AssemblyContext="_YQj7VO1xEe6df9NbgoQpQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YQpa4u1xEe6df9NbgoQpQg" innerProvidedRole_ProvidedDelegationConnector="_YQj7U-1xEe6df9NbgoQpQg" outerProvidedRole_ProvidedDelegationConnector="_YQoMxu1xEe6df9NbgoQpQg" assemblyContext_ProvidedDelegationConnector="_YQoz0u1xEe6df9NbgoQpQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQoMxu1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_YQXuEO1xEe6df9NbgoQpQg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_YQoMye1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_YQoz2O1xEe6df9NbgoQpQg" encapsulatedComponent__AssemblyContext="_YQdNq-1xEe6df9NbgoQpQg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_YQpa4O1xEe6df9NbgoQpQg" innerProvidedRole_ProvidedDelegationConnector="_YQdNqu1xEe6df9NbgoQpQg" outerProvidedRole_ProvidedDelegationConnector="_YQoMyO1xEe6df9NbgoQpQg" assemblyContext_ProvidedDelegationConnector="_YQoz2O1xEe6df9NbgoQpQg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_YQoMyO1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_YQXuEe1xEe6df9NbgoQpQg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YQXHBO1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_YJWgEe1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_YIgLgO1xEe6df9NbgoQpQg">
      <parameters__OperationSignature dataType__Parameter="_YJWgEO1xEe6df9NbgoQpQg" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YQXuEO1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_YJXHIu1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_YIgLgO1xEe6df9NbgoQpQg">
      <parameters__OperationSignature dataType__Parameter="_YIeWUO1xEe6df9NbgoQpQg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YQXuEe1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_YIgykO1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_YIgLgO1xEe6df9NbgoQpQg">
      <parameters__OperationSignature dataType__Parameter="_YIeWUO1xEe6df9NbgoQpQg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YQXuEu1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_YJZjZO1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_YJYVQO1xEe6df9NbgoQpQg">
      <parameters__OperationSignature dataType__Parameter="_YJZjYu1xEe6df9NbgoQpQg" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_YJZjY-1xEe6df9NbgoQpQg" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YQXuE-1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_YJY8Ue1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_YJYVQO1xEe6df9NbgoQpQg">
      <parameters__OperationSignature dataType__Parameter="_YJY8UO1xEe6df9NbgoQpQg" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_YQXuFO1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_YJYVQe1xEe6df9NbgoQpQg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_YJYVQO1xEe6df9NbgoQpQg">
      <parameters__OperationSignature dataType__Parameter="_YIeWUO1xEe6df9NbgoQpQg" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YIeWUO1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YIgLgO1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YJWgEO1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YJYVQO1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YJY8UO1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YJZjYu1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_YJZjY-1xEe6df9NbgoQpQg" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
