<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_V6lw8CFPEe-F9tLXVupHsg">
  <components__Repository xsi:type="repository:BasicComponent" id="_V6QZxiFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6QZxSFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_V6QZwiFPEe-F9tLXVupHsg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_V5jPISFPEe-F9tLXVupHsg" describedService__SEFF="_VzOksCFPEe-F9tLXVupHsg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_V5iBASFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5ioJSFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_V5ioJSFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5iBASFPEe-F9tLXVupHsg" successor_AbstractAction="_V5ioJiFPEe-F9tLXVupHsg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5ioIiFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_V5ioJCFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5iBAiFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5ioICFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_V5ioICFPEe-F9tLXVupHsg" entityName="Switch Branch" predecessor_AbstractAction="_V5iBAiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5ioISFPEe-F9tLXVupHsg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5ioEiFPEe-F9tLXVupHsg">
                <branchBehaviour_BranchTransition id="_V5ioFCFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5iBAyFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5iBDyFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_V5iBDyFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5iBAyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5iBECFPEe-F9tLXVupHsg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5iBDCFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_V5iBDiFPEe-F9tLXVupHsg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_V5iBBCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5iBCiFPEe-F9tLXVupHsg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_V5iBCiFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5iBBCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5iBCyFPEe-F9tLXVupHsg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5iBByFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_V5iBCSFPEe-F9tLXVupHsg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_V5iBBSFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5iBBiFPEe-F9tLXVupHsg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_V5iBBiFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5iBBSFPEe-F9tLXVupHsg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_V5iBCyFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5iBCiFPEe-F9tLXVupHsg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5iBECFPEe-F9tLXVupHsg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_V5iBDyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5iBESFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5iBESFPEe-F9tLXVupHsg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_V5iBECFPEe-F9tLXVupHsg" successor_AbstractAction="_V5iBEiFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5iBEiFPEe-F9tLXVupHsg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_V5iBESFPEe-F9tLXVupHsg" successor_AbstractAction="_V5ioECFPEe-F9tLXVupHsg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5ioECFPEe-F9tLXVupHsg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_V5iBEiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5ioESFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5ioESFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5ioECFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5ioGCFPEe-F9tLXVupHsg">
                <branchBehaviour_BranchTransition id="_V5ioGiFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5ioFSFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5ioFiFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5ioFiFPEe-F9tLXVupHsg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_V5ioFSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5ioFyFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5ioFyFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5ioFiFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5ioHSFPEe-F9tLXVupHsg">
                <branchBehaviour_BranchTransition id="_V5ioHyFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5ioGyFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5ioHCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5ioHCFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5ioGyFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5ioISFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5ioICFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_V5ioJiFPEe-F9tLXVupHsg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_V5ioJSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5jPICFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_V5jPICFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5ioJiFPEe-F9tLXVupHsg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_V6XHdyFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6XHdiFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_V6QZxCFPEe-F9tLXVupHsg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_V5lEYCFPEe-F9tLXVupHsg" describedService__SEFF="_Vz9kgCFPEe-F9tLXVupHsg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_V5jPIyFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5jPKiFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_V5jPKiFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5jPIyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5jPKyFPEe-F9tLXVupHsg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5jPJyFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_V5jPKSFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5jPJCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5jPJSFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5jPJSFPEe-F9tLXVupHsg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_V5jPJCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5jPJiFPEe-F9tLXVupHsg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5jPJiFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5jPJSFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_V5jPKyFPEe-F9tLXVupHsg" entityName="stopWatch.start()" predecessor_AbstractAction="_V5jPKiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5lEXiFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_V5lEXiFPEe-F9tLXVupHsg" entityName="Switch Branch" predecessor_AbstractAction="_V5jPKyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5lEXyFPEe-F9tLXVupHsg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5kdQyFPEe-F9tLXVupHsg">
          <branchBehaviour_BranchTransition id="_V5kdRSFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5jPLCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5jPLSFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5jPLSFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5jPLCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5jPLiFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5jPLiFPEe-F9tLXVupHsg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_V5jPLSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5jPLyFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5jPLyFPEe-F9tLXVupHsg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_V5jPLiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5jPMCFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5jPMCFPEe-F9tLXVupHsg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_V5jPLyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5j2MCFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5j2MCFPEe-F9tLXVupHsg" entityName="deferredResult" predecessor_AbstractAction="_V5jPMCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5j2PSFPEe-F9tLXVupHsg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_V5j2PSFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5j2MCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdQCFPEe-F9tLXVupHsg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5j2OiFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_V5j2PCFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5j2MSFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5j2MiFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5j2MiFPEe-F9tLXVupHsg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_V5j2MSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5j2MyFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5j2MyFPEe-F9tLXVupHsg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_V5j2MiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5j2NCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5j2NCFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5j2MyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5j2NSFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5j2NSFPEe-F9tLXVupHsg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_V5j2NCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5j2NiFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5j2NiFPEe-F9tLXVupHsg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_V5j2NSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5j2NyFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5j2NyFPEe-F9tLXVupHsg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_V5j2NiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5j2OCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5j2OCFPEe-F9tLXVupHsg" entityName="deferredResult" predecessor_AbstractAction="_V5j2NyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5j2OSFPEe-F9tLXVupHsg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5j2OSFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5j2OCFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5kdQCFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5j2PSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdQSFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5kdQSFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5kdQCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdQiFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5kdQiFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5kdQSFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5lEVSFPEe-F9tLXVupHsg">
          <branchBehaviour_BranchTransition id="_V5lEVyFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5kdRiFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5lEUSFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_V5lEUSFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5kdRiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5lEUiFPEe-F9tLXVupHsg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5kdUCFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_V5lEUCFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5kdRyFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5kdSCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5kdSCFPEe-F9tLXVupHsg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_V5kdRyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdSSFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5kdSSFPEe-F9tLXVupHsg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_V5kdSCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdSiFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5kdSiFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5kdSSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdSyFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5kdSyFPEe-F9tLXVupHsg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_V5kdSiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdTCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5kdTCFPEe-F9tLXVupHsg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_V5kdSyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdTSFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5kdTSFPEe-F9tLXVupHsg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_V5kdTCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdTiFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5kdTiFPEe-F9tLXVupHsg" entityName="deferredResult" predecessor_AbstractAction="_V5kdTSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5kdTyFPEe-F9tLXVupHsg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5kdTyFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5kdTiFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5lEUiFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5lEUSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5lEUyFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5lEUyFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5lEUiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5lEVCFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5lEVCFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5lEUyFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5lEWyFPEe-F9tLXVupHsg">
          <branchBehaviour_BranchTransition id="_V5lEXSFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5lEWCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5lEWSFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5lEWSFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5lEWCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5lEWiFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5lEWiFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5lEWSFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_V5lEXyFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5lEXiFPEe-F9tLXVupHsg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_V6aKwCFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_V6aKwiFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6aKwSFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_V6QZwCFPEe-F9tLXVupHsg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_V5haBSFPEe-F9tLXVupHsg" describedService__SEFF="_Vz9kgyFPEe-F9tLXVupHsg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_V5fkwyFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5fkyiFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_V5fkyiFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5fkwyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5fkyyFPEe-F9tLXVupHsg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5fkxyFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_V5fkySFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5fkxCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5fkxSFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5fkxSFPEe-F9tLXVupHsg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_V5fkxCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5fkxiFPEe-F9tLXVupHsg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5fkxiFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5fkxSFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_V5fkyyFPEe-F9tLXVupHsg" entityName="stopWatch.start()" predecessor_AbstractAction="_V5fkyiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5haAiFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_V5haAiFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5fkyyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5haAyFPEe-F9tLXVupHsg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5hZ_yFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_V5haASFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5fkzCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5hZ_SFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_V5hZ_SFPEe-F9tLXVupHsg" entityName="Switch Branch" predecessor_AbstractAction="_V5fkzCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5hZ_iFPEe-F9tLXVupHsg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5gy5iFPEe-F9tLXVupHsg">
                <branchBehaviour_BranchTransition id="_V5gy6CFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5fkzSFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5fkziFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5fkziFPEe-F9tLXVupHsg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_V5fkzSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gL2SFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_V5gL2SFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5fkziFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gL2iFPEe-F9tLXVupHsg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5gL1iFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_V5gL2CFPEe-F9tLXVupHsg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_V5fkzyFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5gL1CFPEe-F9tLXVupHsg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_V5gL1CFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5fkzyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gL1SFPEe-F9tLXVupHsg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5gL0SFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_V5gL0yFPEe-F9tLXVupHsg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_V5fk0CFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5gL0CFPEe-F9tLXVupHsg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_V5gL0CFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5fk0CFPEe-F9tLXVupHsg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_V5gL1SFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5gL1CFPEe-F9tLXVupHsg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gL2iFPEe-F9tLXVupHsg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_V5gL2SFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gL2yFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gL2yFPEe-F9tLXVupHsg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_V5gL2iFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gL3CFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gL3CFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5gL2yFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gL3SFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gL3SFPEe-F9tLXVupHsg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_V5gL3CFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gL3iFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gL3iFPEe-F9tLXVupHsg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_V5gL3SFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gL3yFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5gL3yFPEe-F9tLXVupHsg" entityName="deferredResult" predecessor_AbstractAction="_V5gL3iFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gL4CFPEe-F9tLXVupHsg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gL4CFPEe-F9tLXVupHsg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_V5gL3yFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gy4CFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gy4CFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5gL4CFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gy4SFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gy4SFPEe-F9tLXVupHsg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_V5gy4CFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gy4iFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gy4iFPEe-F9tLXVupHsg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_V5gy4SFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gy4yFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5gy4yFPEe-F9tLXVupHsg" entityName="deferredResult" predecessor_AbstractAction="_V5gy4iFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gy5CFPEe-F9tLXVupHsg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gy5CFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5gy4yFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gy5SFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5gy5SFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5gy5CFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5hZ9CFPEe-F9tLXVupHsg">
                <branchBehaviour_BranchTransition id="_V5hZ9iFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5gy6SFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5gy6iFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gy6iFPEe-F9tLXVupHsg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_V5gy6SFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gy6yFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gy6yFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5gy6iFPEe-F9tLXVupHsg" successor_AbstractAction="_V5gy7CFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5gy7CFPEe-F9tLXVupHsg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_V5gy6yFPEe-F9tLXVupHsg" successor_AbstractAction="_V5hZ8CFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5hZ8CFPEe-F9tLXVupHsg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_V5gy7CFPEe-F9tLXVupHsg" successor_AbstractAction="_V5hZ8SFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5hZ8SFPEe-F9tLXVupHsg" entityName="deferredResult" predecessor_AbstractAction="_V5hZ8CFPEe-F9tLXVupHsg" successor_AbstractAction="_V5hZ8iFPEe-F9tLXVupHsg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5hZ8iFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5hZ8SFPEe-F9tLXVupHsg" successor_AbstractAction="_V5hZ8yFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5hZ8yFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5hZ8iFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5hZ-iFPEe-F9tLXVupHsg">
                <branchBehaviour_BranchTransition id="_V5hZ_CFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5hZ9yFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5hZ-CFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5hZ-CFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5hZ9yFPEe-F9tLXVupHsg" successor_AbstractAction="_V5hZ-SFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5hZ-SFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5hZ-CFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5hZ_iFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5hZ_SFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_V5haAyFPEe-F9tLXVupHsg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_V5haAiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5haBCFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_V5haBCFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5haAyFPEe-F9tLXVupHsg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_V6cnBSFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6cnAyFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_V6PyuiFPEe-F9tLXVupHsg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6cnBCFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_V6QZwyFPEe-F9tLXVupHsg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_V5b6ZCFPEe-F9tLXVupHsg" describedService__SEFF="_Vz-ypCFPEe-F9tLXVupHsg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_V5b6YSFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5b6YiFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5b6YiFPEe-F9tLXVupHsg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_V5b6YSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5b6YyFPEe-F9tLXVupHsg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_V5b6YyFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5b6YiFPEe-F9tLXVupHsg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_V5bTXyFPEe-F9tLXVupHsg" describedService__SEFF="_Vz-yoCFPEe-F9tLXVupHsg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_V0fI8SFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5Xo8CFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_V5Xo8CFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V0fI8SFPEe-F9tLXVupHsg" successor_AbstractAction="_V5bTXSFPEe-F9tLXVupHsg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V0kogCFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_V0lPkCFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V0jaYCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V0kBcCFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V0kBcCFPEe-F9tLXVupHsg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_V0jaYCFPEe-F9tLXVupHsg" successor_AbstractAction="_V0kBcSFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V0kBcSFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V0kBcCFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5XB4yFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_V5XB5SFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5XB4CFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5XB4SFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_V5XB4SFPEe-F9tLXVupHsg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_V5XB4CFPEe-F9tLXVupHsg" successor_AbstractAction="_V5XB4iFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5XB4iFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5XB4SFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_V5bTXSFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5Xo8CFPEe-F9tLXVupHsg" successor_AbstractAction="_V5bTXiFPEe-F9tLXVupHsg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5bTWiFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_V5bTXCFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5Xo8SFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5bTWCFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_V5bTWCFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5Xo8SFPEe-F9tLXVupHsg" successor_AbstractAction="_V5bTWSFPEe-F9tLXVupHsg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5bTUCFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_V5bTUiFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5Xo8iFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5Xo8yFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5Xo8yFPEe-F9tLXVupHsg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_V5Xo8iFPEe-F9tLXVupHsg" successor_AbstractAction="_V5asQCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5asQCFPEe-F9tLXVupHsg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_V5Xo8yFPEe-F9tLXVupHsg" successor_AbstractAction="_V5asQSFPEe-F9tLXVupHsg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5asQSFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5asQCFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5bTVSFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_V5bTVyFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5bTUyFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5bTVCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5bTVCFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5bTUyFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5bTWSFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5bTWCFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_V5bTXiFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5bTXSFPEe-F9tLXVupHsg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_V6g4diFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6g4dSFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_V6QZwSFPEe-F9tLXVupHsg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_V5fkwSFPEe-F9tLXVupHsg" describedService__SEFF="_Vz-LkSFPEe-F9tLXVupHsg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_V5chcSFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5cheCFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_V5cheCFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5chcSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5cheSFPEe-F9tLXVupHsg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5chdSFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_V5chdyFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5chciFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5chcyFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5chcyFPEe-F9tLXVupHsg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_V5chciFPEe-F9tLXVupHsg" successor_AbstractAction="_V5chdCFPEe-F9tLXVupHsg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5chdCFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5chcyFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_V5cheSFPEe-F9tLXVupHsg" entityName="stopWatch.start()" predecessor_AbstractAction="_V5cheCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5e9viFPEe-F9tLXVupHsg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_V5e9viFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5cheSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5fkwCFPEe-F9tLXVupHsg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5e9uyFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_V5e9vSFPEe-F9tLXVupHsg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_V5dIgCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5e9uSFPEe-F9tLXVupHsg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_V5e9uSFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5dIgCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5e9uiFPEe-F9tLXVupHsg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5e9tiFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_V5e9uCFPEe-F9tLXVupHsg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_V5dIgSFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5eWrCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_V5eWrCFPEe-F9tLXVupHsg" entityName="Switch Branch" predecessor_AbstractAction="_V5dIgSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5eWrSFPEe-F9tLXVupHsg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5dvmiFPEe-F9tLXVupHsg">
                      <branchBehaviour_BranchTransition id="_V5dvnCFPEe-F9tLXVupHsg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_V5dvkCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5dvlyFPEe-F9tLXVupHsg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_V5dvlyFPEe-F9tLXVupHsg" entityName="If Branch" predecessor_AbstractAction="_V5dvkCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5dvmCFPEe-F9tLXVupHsg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5dvlCFPEe-F9tLXVupHsg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_V5dvliFPEe-F9tLXVupHsg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_V5dvkSFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5dvkiFPEe-F9tLXVupHsg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_V5dvkiFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5dvkSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5dvkyFPEe-F9tLXVupHsg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_V5dvkyFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5dvkiFPEe-F9tLXVupHsg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_V5dvmCFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5dvlyFPEe-F9tLXVupHsg" successor_AbstractAction="_V5dvmSFPEe-F9tLXVupHsg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_V5dvmSFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5dvmCFPEe-F9tLXVupHsg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5eWoyFPEe-F9tLXVupHsg">
                      <branchBehaviour_BranchTransition id="_V5eWpSFPEe-F9tLXVupHsg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_V5eWoCFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5eWoSFPEe-F9tLXVupHsg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_V5eWoSFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5eWoCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5eWoiFPEe-F9tLXVupHsg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_V5eWoiFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5eWoSFPEe-F9tLXVupHsg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_V5eWqSFPEe-F9tLXVupHsg">
                      <branchBehaviour_BranchTransition id="_V5eWqyFPEe-F9tLXVupHsg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_V5eWpiFPEe-F9tLXVupHsg" entityName="Start Action" successor_AbstractAction="_V5eWpyFPEe-F9tLXVupHsg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_V5eWpyFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5eWpiFPEe-F9tLXVupHsg" successor_AbstractAction="_V5eWqCFPEe-F9tLXVupHsg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_V5eWqCFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5eWpyFPEe-F9tLXVupHsg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5eWrSFPEe-F9tLXVupHsg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_V5eWrCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5eWriFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5eWriFPEe-F9tLXVupHsg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_V5eWrSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5eWryFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5eWryFPEe-F9tLXVupHsg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_V5eWriFPEe-F9tLXVupHsg" successor_AbstractAction="_V5e9sCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5e9sCFPEe-F9tLXVupHsg" entityName="stopWatch.stop()" predecessor_AbstractAction="_V5eWryFPEe-F9tLXVupHsg" successor_AbstractAction="_V5e9sSFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5e9sSFPEe-F9tLXVupHsg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_V5e9sCFPEe-F9tLXVupHsg" successor_AbstractAction="_V5e9siFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5e9siFPEe-F9tLXVupHsg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_V5e9sSFPEe-F9tLXVupHsg" successor_AbstractAction="_V5e9syFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_V5e9syFPEe-F9tLXVupHsg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_V5e9siFPEe-F9tLXVupHsg" successor_AbstractAction="_V5e9tCFPEe-F9tLXVupHsg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_V5e9tCFPEe-F9tLXVupHsg" entityName="deferredResult" predecessor_AbstractAction="_V5e9syFPEe-F9tLXVupHsg" successor_AbstractAction="_V5e9tSFPEe-F9tLXVupHsg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_V5e9tSFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5e9tCFPEe-F9tLXVupHsg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_V5e9uiFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5e9uSFPEe-F9tLXVupHsg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_V5fkwCFPEe-F9tLXVupHsg" entityName="Stop Action" predecessor_AbstractAction="_V5e9viFPEe-F9tLXVupHsg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_V6ki0SFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_V6lJ5iFPEe-F9tLXVupHsg" encapsulatedComponent__AssemblyContext="_V6aKwiFPEe-F9tLXVupHsg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_V6mYBSFPEe-F9tLXVupHsg" innerProvidedRole_ProvidedDelegationConnector="_V6aKwSFPEe-F9tLXVupHsg" outerProvidedRole_ProvidedDelegationConnector="_V6ki0CFPEe-F9tLXVupHsg" assemblyContext_ProvidedDelegationConnector="_V6lJ5iFPEe-F9tLXVupHsg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6ki0CFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_V6QZwCFPEe-F9tLXVupHsg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_V6ki0iFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_V6lJ4CFPEe-F9tLXVupHsg" encapsulatedComponent__AssemblyContext="_V6aKwCFPEe-F9tLXVupHsg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_V6ki1SFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_V6lJ6iFPEe-F9tLXVupHsg" encapsulatedComponent__AssemblyContext="_V6cnBSFPEe-F9tLXVupHsg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_V6mYACFPEe-F9tLXVupHsg" innerProvidedRole_ProvidedDelegationConnector="_V6cnBCFPEe-F9tLXVupHsg" outerProvidedRole_ProvidedDelegationConnector="_V6ki0yFPEe-F9tLXVupHsg" assemblyContext_ProvidedDelegationConnector="_V6lJ6iFPEe-F9tLXVupHsg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_V6mYASFPEe-F9tLXVupHsg" innerProvidedRole_ProvidedDelegationConnector="_V6cnAyFPEe-F9tLXVupHsg" outerProvidedRole_ProvidedDelegationConnector="_V6ki1CFPEe-F9tLXVupHsg" assemblyContext_ProvidedDelegationConnector="_V6lJ6iFPEe-F9tLXVupHsg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6ki0yFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_V6QZwyFPEe-F9tLXVupHsg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6ki1CFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_V6PyuiFPEe-F9tLXVupHsg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_V6ki1yFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_V6lJ5CFPEe-F9tLXVupHsg" encapsulatedComponent__AssemblyContext="_V6g4diFPEe-F9tLXVupHsg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_V6mYBCFPEe-F9tLXVupHsg" innerProvidedRole_ProvidedDelegationConnector="_V6g4dSFPEe-F9tLXVupHsg" outerProvidedRole_ProvidedDelegationConnector="_V6ki1iFPEe-F9tLXVupHsg" assemblyContext_ProvidedDelegationConnector="_V6lJ5CFPEe-F9tLXVupHsg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6ki1iFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_V6QZwSFPEe-F9tLXVupHsg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_V6ki2SFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_V6lJ6CFPEe-F9tLXVupHsg" encapsulatedComponent__AssemblyContext="_V6QZxiFPEe-F9tLXVupHsg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_V6mYAiFPEe-F9tLXVupHsg" innerProvidedRole_ProvidedDelegationConnector="_V6QZxSFPEe-F9tLXVupHsg" outerProvidedRole_ProvidedDelegationConnector="_V6ki2CFPEe-F9tLXVupHsg" assemblyContext_ProvidedDelegationConnector="_V6lJ6CFPEe-F9tLXVupHsg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6ki2CFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_V6QZwiFPEe-F9tLXVupHsg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_V6ki2yFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_V6lJ4iFPEe-F9tLXVupHsg" encapsulatedComponent__AssemblyContext="_V6XHdyFPEe-F9tLXVupHsg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_V6mYAyFPEe-F9tLXVupHsg" innerProvidedRole_ProvidedDelegationConnector="_V6XHdiFPEe-F9tLXVupHsg" outerProvidedRole_ProvidedDelegationConnector="_V6ki2iFPEe-F9tLXVupHsg" assemblyContext_ProvidedDelegationConnector="_V6lJ4iFPEe-F9tLXVupHsg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_V6ki2iFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_V6QZxCFPEe-F9tLXVupHsg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_V6PyuiFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_Vz-ypCFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_VzN9oCFPEe-F9tLXVupHsg">
      <parameters__OperationSignature dataType__Parameter="_Vz-yoyFPEe-F9tLXVupHsg" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_V6QZwCFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_Vz9kgyFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_Vz89cSFPEe-F9tLXVupHsg">
      <parameters__OperationSignature dataType__Parameter="_VzMvgCFPEe-F9tLXVupHsg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_V6QZwSFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_Vz-LkSFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_Vz89cSFPEe-F9tLXVupHsg">
      <parameters__OperationSignature dataType__Parameter="_VzMvgCFPEe-F9tLXVupHsg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_V6QZwiFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_VzOksCFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_VzN9oCFPEe-F9tLXVupHsg">
      <parameters__OperationSignature dataType__Parameter="_VzMvgCFPEe-F9tLXVupHsg" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_V6QZwyFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_Vz-yoCFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_VzN9oCFPEe-F9tLXVupHsg">
      <parameters__OperationSignature dataType__Parameter="_Vz-LlCFPEe-F9tLXVupHsg" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_Vz-LlSFPEe-F9tLXVupHsg" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_V6QZxCFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_Vz9kgCFPEe-F9tLXVupHsg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_Vz89cSFPEe-F9tLXVupHsg">
      <parameters__OperationSignature dataType__Parameter="_Vz89cCFPEe-F9tLXVupHsg" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_VzMvgCFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_VzN9oCFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Vz89cCFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Vz89cSFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Vz-LlCFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Vz-LlSFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Vz-yoyFPEe-F9tLXVupHsg" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
