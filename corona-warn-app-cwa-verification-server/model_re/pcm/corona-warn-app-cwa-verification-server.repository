<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_4HW22tuMEe-UvOIBnqcQQA">
  <components__Repository xsi:type="repository:BasicComponent" id="_4HFxGNuMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HFxFtuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_4HFxE9uMEe-UvOIBnqcQQA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HFxF9uMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_4HFxENuMEe-UvOIBnqcQQA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4GbpwtuMEe-UvOIBnqcQQA" describedService__SEFF="_4AgA4duMEe-UvOIBnqcQQA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4GbCwtuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GbpwNuMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GbpwNuMEe-UvOIBnqcQQA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_4GbCwtuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GbpwduMEe-UvOIBnqcQQA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4GbpwduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GbpwNuMEe-UvOIBnqcQQA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4GbCwNuMEe-UvOIBnqcQQA" describedService__SEFF="_4AfZ09uMEe-UvOIBnqcQQA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4GaboNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GabrduMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4GabrduMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GaboNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GbCvtuMEe-UvOIBnqcQQA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GabpNuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4GabptuMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4GaboduMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GabotuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4GabotuMEe-UvOIBnqcQQA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_4GaboduMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gabo9uMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4Gabo9uMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GabotuMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GabqtuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4GabrNuMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4Gabp9uMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GabqNuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4GabqNuMEe-UvOIBnqcQQA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_4Gabp9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GabqduMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GabqduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GabqNuMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4GbCvtuMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GabrduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GbCv9uMEe-UvOIBnqcQQA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GbCu9uMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4GbCvduMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4GabrtuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GbCuduMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4GbCuduMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GabrtuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GbCutuMEe-UvOIBnqcQQA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GbCsduMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4GbCs9uMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4Gabr9uMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GabsNuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GabsNuMEe-UvOIBnqcQQA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_4Gabr9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GabsduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GabsduMEe-UvOIBnqcQQA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_4GabsNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GbCsNuMEe-UvOIBnqcQQA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4GbCsNuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GabsduMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GbCttuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4GbCuNuMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4GbCtNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GbCtduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4GbCtduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GbCtNuMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GbCutuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GbCuduMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4GbCv9uMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GbCvtuMEe-UvOIBnqcQQA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_4HKpnduMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_4HLQoduMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HLQoNuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_4HFxEtuMEe-UvOIBnqcQQA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4GZ0o9uMEe-UvOIBnqcQQA" describedService__SEFF="_4Agn89uMEe-UvOIBnqcQQA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4GYmftuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GZ0oNuMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4GZ0oNuMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GYmftuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZ0oduMEe-UvOIBnqcQQA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GZ0nduMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4GZ0n9uMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4GYmf9uMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GZ0m9uMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4GZ0m9uMEe-UvOIBnqcQQA" entityName="Switch Branch" predecessor_AbstractAction="_4GYmf9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZ0nNuMEe-UvOIBnqcQQA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GZNkNuMEe-UvOIBnqcQQA">
                <branchBehaviour_BranchTransition id="_4GZNktuMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4GYmgNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GZNituMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_4GZNituMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GYmgNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZNi9uMEe-UvOIBnqcQQA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GZNh9uMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_4GZNiduMEe-UvOIBnqcQQA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4GYmgduMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GZNhduMEe-UvOIBnqcQQA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_4GZNhduMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GYmgduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZNhtuMEe-UvOIBnqcQQA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GZNgtuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_4GZNhNuMEe-UvOIBnqcQQA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_4GZNgNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GZNgduMEe-UvOIBnqcQQA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_4GZNgduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GZNgNuMEe-UvOIBnqcQQA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4GZNhtuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GZNhduMEe-UvOIBnqcQQA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GZNi9uMEe-UvOIBnqcQQA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_4GZNituMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZNjNuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GZNjNuMEe-UvOIBnqcQQA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_4GZNi9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZNjduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GZNjduMEe-UvOIBnqcQQA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_4GZNjNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZNjtuMEe-UvOIBnqcQQA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GZNjtuMEe-UvOIBnqcQQA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_4GZNjduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZNj9uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4GZNj9uMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GZNjtuMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GZ0k9uMEe-UvOIBnqcQQA">
                <branchBehaviour_BranchTransition id="_4GZ0lduMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4GZ0kNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GZ0kduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GZ0kduMEe-UvOIBnqcQQA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_4GZ0kNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZ0ktuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4GZ0ktuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GZ0kduMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GZ0mNuMEe-UvOIBnqcQQA">
                <branchBehaviour_BranchTransition id="_4GZ0mtuMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4GZ0ltuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GZ0l9uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4GZ0l9uMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GZ0ltuMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GZ0nNuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GZ0m9uMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4GZ0oduMEe-UvOIBnqcQQA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_4GZ0oNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GZ0otuMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4GZ0otuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GZ0oduMEe-UvOIBnqcQQA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_4HNs4duMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HNs4NuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_4HFxFduMEe-UvOIBnqcQQA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4GYmfNuMEe-UvOIBnqcQQA" describedService__SEFF="_3_3uwNuMEe-UvOIBnqcQQA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4GWxR9uMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GXYUNuMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4GXYUNuMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GWxR9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GXYUduMEe-UvOIBnqcQQA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GWxS9uMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4GWxTduMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4GWxSNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GWxSduMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GWxSduMEe-UvOIBnqcQQA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_4GWxSNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWxStuMEe-UvOIBnqcQQA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GWxStuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GWxSduMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4GXYUduMEe-UvOIBnqcQQA" entityName="stopWatch.start()" predecessor_AbstractAction="_4GXYUNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GYmetuMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4GYmetuMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GXYUduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GYme9uMEe-UvOIBnqcQQA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GYmd9uMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4GYmeduMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4GXYUtuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GYmdduMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4GYmdduMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GXYUtuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GYmdtuMEe-UvOIBnqcQQA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GYmctuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4GYmdNuMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4GXYU9uMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GX_atuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_4GX_atuMEe-UvOIBnqcQQA" entityName="Switch Branch" predecessor_AbstractAction="_4GXYU9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GX_a9uMEe-UvOIBnqcQQA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GXYXtuMEe-UvOIBnqcQQA">
                      <branchBehaviour_BranchTransition id="_4GXYYNuMEe-UvOIBnqcQQA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4GXYVNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GXYW9uMEe-UvOIBnqcQQA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_4GXYW9uMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GXYVNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GXYXNuMEe-UvOIBnqcQQA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GXYWNuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_4GXYWtuMEe-UvOIBnqcQQA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_4GXYVduMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GXYVtuMEe-UvOIBnqcQQA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_4GXYVtuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GXYVduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GXYV9uMEe-UvOIBnqcQQA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_4GXYV9uMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GXYVtuMEe-UvOIBnqcQQA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_4GXYXNuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GXYW9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GXYXduMEe-UvOIBnqcQQA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4GXYXduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GXYXNuMEe-UvOIBnqcQQA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GX_YduMEe-UvOIBnqcQQA">
                      <branchBehaviour_BranchTransition id="_4GX_Y9uMEe-UvOIBnqcQQA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4GXYYduMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GXYYtuMEe-UvOIBnqcQQA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_4GXYYtuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GXYYduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GX_YNuMEe-UvOIBnqcQQA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4GX_YNuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GXYYtuMEe-UvOIBnqcQQA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GX_Z9uMEe-UvOIBnqcQQA">
                      <branchBehaviour_BranchTransition id="_4GX_aduMEe-UvOIBnqcQQA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4GX_ZNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GX_ZduMEe-UvOIBnqcQQA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_4GX_ZduMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GX_ZNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GX_ZtuMEe-UvOIBnqcQQA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4GX_ZtuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GX_ZduMEe-UvOIBnqcQQA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GX_a9uMEe-UvOIBnqcQQA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_4GX_atuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GX_bNuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GX_bNuMEe-UvOIBnqcQQA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_4GX_a9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GX_bduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GX_bduMEe-UvOIBnqcQQA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_4GX_bNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GX_btuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GX_btuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GX_bduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GX_b9uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GX_b9uMEe-UvOIBnqcQQA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4GX_btuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GX_cNuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GX_cNuMEe-UvOIBnqcQQA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_4GX_b9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GX_cduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GX_cduMEe-UvOIBnqcQQA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_4GX_cNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GYmcNuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GYmcNuMEe-UvOIBnqcQQA" entityName="deferredResult" predecessor_AbstractAction="_4GX_cduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GYmcduMEe-UvOIBnqcQQA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4GYmcduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GYmcNuMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GYmdtuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GYmdduMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4GYme9uMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GYmetuMEe-UvOIBnqcQQA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_4HPiHtuMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HPiHduMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_4HFxEduMEe-UvOIBnqcQQA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4GWxRduMEe-UvOIBnqcQQA" describedService__SEFF="_4Agn8NuMEe-UvOIBnqcQQA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4BA-QduMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GNnUNuMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4GNnUNuMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4BA-QduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GOOYNuMEe-UvOIBnqcQQA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GMZMNuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4GNAQNuMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4BCzcNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GLyINuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GLyINuMEe-UvOIBnqcQQA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_4BCzcNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GLyIduMEe-UvOIBnqcQQA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GLyIduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GLyINuMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4GOOYNuMEe-UvOIBnqcQQA" entityName="stopWatch.start()" predecessor_AbstractAction="_4GNnUNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWxQtuMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4GWxQtuMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GOOYNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWxQ9uMEe-UvOIBnqcQQA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GWKP9uMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4GWxQduMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4GOOYduMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GWKPduMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4GWKPduMEe-UvOIBnqcQQA" entityName="Switch Branch" predecessor_AbstractAction="_4GOOYduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWKPtuMEe-UvOIBnqcQQA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GVjI9uMEe-UvOIBnqcQQA">
                <branchBehaviour_BranchTransition id="_4GVjJduMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4GUVANuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GUVAduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GUVAduMEe-UvOIBnqcQQA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_4GUVANuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GUVDduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_4GUVDduMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GUVAduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8ENuMEe-UvOIBnqcQQA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GUVCtuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_4GUVDNuMEe-UvOIBnqcQQA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4GUVAtuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GUVCNuMEe-UvOIBnqcQQA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_4GUVCNuMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GUVAtuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GUVCduMEe-UvOIBnqcQQA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GUVBduMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_4GUVB9uMEe-UvOIBnqcQQA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_4GUVA9uMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GUVBNuMEe-UvOIBnqcQQA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_4GUVBNuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GUVA9uMEe-UvOIBnqcQQA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4GUVCduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GUVCNuMEe-UvOIBnqcQQA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GU8ENuMEe-UvOIBnqcQQA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_4GUVDduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8EduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GU8EduMEe-UvOIBnqcQQA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_4GU8ENuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8EtuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GU8EtuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GU8EduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8E9uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GU8E9uMEe-UvOIBnqcQQA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4GU8EtuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8FNuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GU8FNuMEe-UvOIBnqcQQA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_4GU8E9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8FduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GU8FduMEe-UvOIBnqcQQA" entityName="deferredResult" predecessor_AbstractAction="_4GU8FNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8FtuMEe-UvOIBnqcQQA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GU8FtuMEe-UvOIBnqcQQA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_4GU8FduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8F9uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GU8F9uMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GU8FtuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8GNuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GU8GNuMEe-UvOIBnqcQQA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4GU8F9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GU8GduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GU8GduMEe-UvOIBnqcQQA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_4GU8GNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GVjINuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GVjINuMEe-UvOIBnqcQQA" entityName="deferredResult" predecessor_AbstractAction="_4GU8GduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GVjIduMEe-UvOIBnqcQQA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GVjIduMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GVjINuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GVjItuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4GVjItuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GVjIduMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GWKNNuMEe-UvOIBnqcQQA">
                <branchBehaviour_BranchTransition id="_4GWKNtuMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4GVjJtuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GVjJ9uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GVjJ9uMEe-UvOIBnqcQQA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_4GVjJtuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GVjKNuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GVjKNuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GVjJ9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GVjKduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GVjKduMEe-UvOIBnqcQQA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4GVjKNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWKMNuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GWKMNuMEe-UvOIBnqcQQA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_4GVjKduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWKMduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GWKMduMEe-UvOIBnqcQQA" entityName="deferredResult" predecessor_AbstractAction="_4GWKMNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWKMtuMEe-UvOIBnqcQQA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GWKMtuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GWKMduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWKM9uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4GWKM9uMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GWKMtuMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GWKOtuMEe-UvOIBnqcQQA">
                <branchBehaviour_BranchTransition id="_4GWKPNuMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4GWKN9uMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GWKONuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GWKONuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GWKN9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWKOduMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4GWKOduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GWKONuMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GWKPtuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GWKPduMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4GWxQ9uMEe-UvOIBnqcQQA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_4GWxQtuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GWxRNuMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4GWxRNuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GWxQ9uMEe-UvOIBnqcQQA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_4HR-XduMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HR-XNuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_4HFxFNuMEe-UvOIBnqcQQA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4GeGD9uMEe-UvOIBnqcQQA" describedService__SEFF="_4AhPAtuMEe-UvOIBnqcQQA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4GbpxNuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GcQ1duMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4GcQ1duMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GbpxNuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GcQ1tuMEe-UvOIBnqcQQA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GcQ0tuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4GcQ1NuMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4GbpxduMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GcQ0NuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GcQ0NuMEe-UvOIBnqcQQA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_4GbpxduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GcQ0duMEe-UvOIBnqcQQA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GcQ0duMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GcQ0NuMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4GcQ1tuMEe-UvOIBnqcQQA" entityName="stopWatch.start()" predecessor_AbstractAction="_4GcQ1duMEe-UvOIBnqcQQA" successor_AbstractAction="_4GeGDduMEe-UvOIBnqcQQA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4GeGDduMEe-UvOIBnqcQQA" entityName="Switch Branch" predecessor_AbstractAction="_4GcQ1tuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GeGDtuMEe-UvOIBnqcQQA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4Gc369uMEe-UvOIBnqcQQA">
          <branchBehaviour_BranchTransition id="_4Gc37duMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4GcQ19uMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GcQ2NuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4GcQ2NuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GcQ19uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GcQ2duMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4GcQ2duMEe-UvOIBnqcQQA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4GcQ2NuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GcQ2tuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4GcQ2tuMEe-UvOIBnqcQQA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_4GcQ2duMEe-UvOIBnqcQQA" successor_AbstractAction="_4GcQ29uMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4GcQ29uMEe-UvOIBnqcQQA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_4GcQ2tuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GcQ3NuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4GcQ3NuMEe-UvOIBnqcQQA" entityName="deferredResult" predecessor_AbstractAction="_4GcQ29uMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gc359uMEe-UvOIBnqcQQA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4Gc359uMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4GcQ3NuMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gc36NuMEe-UvOIBnqcQQA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4Gc35NuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4Gc35tuMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4GcQ3duMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GcQ3tuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GcQ3tuMEe-UvOIBnqcQQA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_4GcQ3duMEe-UvOIBnqcQQA" successor_AbstractAction="_4GcQ39uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GcQ39uMEe-UvOIBnqcQQA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_4GcQ3tuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GcQ4NuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GcQ4NuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GcQ39uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GcQ4duMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4GcQ4duMEe-UvOIBnqcQQA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4GcQ4NuMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gc34NuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gc34NuMEe-UvOIBnqcQQA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_4GcQ4duMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gc34duMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gc34duMEe-UvOIBnqcQQA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_4Gc34NuMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gc34tuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4Gc34tuMEe-UvOIBnqcQQA" entityName="deferredResult" predecessor_AbstractAction="_4Gc34duMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gc349uMEe-UvOIBnqcQQA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4Gc349uMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4Gc34tuMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gc36NuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4Gc359uMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gc36duMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gc36duMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4Gc36NuMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gc36tuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4Gc36tuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4Gc36duMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GeGBNuMEe-UvOIBnqcQQA">
          <branchBehaviour_BranchTransition id="_4GeGBtuMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4Gde8NuMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GeGANuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4GeGANuMEe-UvOIBnqcQQA" entityName="If Branch" predecessor_AbstractAction="_4Gde8NuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GeGAduMEe-UvOIBnqcQQA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4Gde-tuMEe-UvOIBnqcQQA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4Gde_NuMEe-UvOIBnqcQQA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4Gde8duMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4Gde8tuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gde8tuMEe-UvOIBnqcQQA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_4Gde8duMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gde89uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gde89uMEe-UvOIBnqcQQA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_4Gde8tuMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gde9NuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gde9NuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4Gde89uMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gde9duMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gde9duMEe-UvOIBnqcQQA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4Gde9NuMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gde9tuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gde9tuMEe-UvOIBnqcQQA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_4Gde9duMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gde99uMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4Gde99uMEe-UvOIBnqcQQA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_4Gde9tuMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gde-NuMEe-UvOIBnqcQQA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4Gde-NuMEe-UvOIBnqcQQA" entityName="deferredResult" predecessor_AbstractAction="_4Gde99uMEe-UvOIBnqcQQA" successor_AbstractAction="_4Gde-duMEe-UvOIBnqcQQA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4Gde-duMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4Gde-NuMEe-UvOIBnqcQQA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4GeGAduMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GeGANuMEe-UvOIBnqcQQA" successor_AbstractAction="_4GeGAtuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4GeGAtuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GeGAduMEe-UvOIBnqcQQA" successor_AbstractAction="_4GeGA9uMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GeGA9uMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GeGAtuMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4GeGCtuMEe-UvOIBnqcQQA">
          <branchBehaviour_BranchTransition id="_4GeGDNuMEe-UvOIBnqcQQA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4GeGB9uMEe-UvOIBnqcQQA" entityName="Start Action" successor_AbstractAction="_4GeGCNuMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4GeGCNuMEe-UvOIBnqcQQA" entityName="stopWatch.stop()" predecessor_AbstractAction="_4GeGB9uMEe-UvOIBnqcQQA" successor_AbstractAction="_4GeGCduMEe-UvOIBnqcQQA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4GeGCduMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GeGCNuMEe-UvOIBnqcQQA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4GeGDtuMEe-UvOIBnqcQQA" entityName="Stop Action" predecessor_AbstractAction="_4GeGDduMEe-UvOIBnqcQQA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_4HVosduMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_4HWPyNuMEe-UvOIBnqcQQA" encapsulatedComponent__AssemblyContext="_4HNs4duMEe-UvOIBnqcQQA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_4HXd5duMEe-UvOIBnqcQQA" innerProvidedRole_ProvidedDelegationConnector="_4HNs4NuMEe-UvOIBnqcQQA" outerProvidedRole_ProvidedDelegationConnector="_4HVosNuMEe-UvOIBnqcQQA" assemblyContext_ProvidedDelegationConnector="_4HWPyNuMEe-UvOIBnqcQQA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HVosNuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_4HFxFduMEe-UvOIBnqcQQA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_4HVos9uMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_4HW20tuMEe-UvOIBnqcQQA" encapsulatedComponent__AssemblyContext="_4HPiHtuMEe-UvOIBnqcQQA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_4HXd5NuMEe-UvOIBnqcQQA" innerProvidedRole_ProvidedDelegationConnector="_4HPiHduMEe-UvOIBnqcQQA" outerProvidedRole_ProvidedDelegationConnector="_4HVostuMEe-UvOIBnqcQQA" assemblyContext_ProvidedDelegationConnector="_4HW20tuMEe-UvOIBnqcQQA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HVostuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_4HFxEduMEe-UvOIBnqcQQA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_4HWPwduMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_4HW21NuMEe-UvOIBnqcQQA" encapsulatedComponent__AssemblyContext="_4HLQoduMEe-UvOIBnqcQQA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_4HXd4duMEe-UvOIBnqcQQA" innerProvidedRole_ProvidedDelegationConnector="_4HLQoNuMEe-UvOIBnqcQQA" outerProvidedRole_ProvidedDelegationConnector="_4HWPwNuMEe-UvOIBnqcQQA" assemblyContext_ProvidedDelegationConnector="_4HW21NuMEe-UvOIBnqcQQA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HWPwNuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_4HFxEtuMEe-UvOIBnqcQQA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_4HWPw9uMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_4HW20NuMEe-UvOIBnqcQQA" encapsulatedComponent__AssemblyContext="_4HR-XduMEe-UvOIBnqcQQA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_4HXd4tuMEe-UvOIBnqcQQA" innerProvidedRole_ProvidedDelegationConnector="_4HR-XNuMEe-UvOIBnqcQQA" outerProvidedRole_ProvidedDelegationConnector="_4HWPwtuMEe-UvOIBnqcQQA" assemblyContext_ProvidedDelegationConnector="_4HW20NuMEe-UvOIBnqcQQA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HWPwtuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_4HFxFNuMEe-UvOIBnqcQQA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_4HWPxNuMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_4HW21tuMEe-UvOIBnqcQQA" encapsulatedComponent__AssemblyContext="_4HKpnduMEe-UvOIBnqcQQA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_4HWPx9uMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_4HW22NuMEe-UvOIBnqcQQA" encapsulatedComponent__AssemblyContext="_4HFxGNuMEe-UvOIBnqcQQA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_4HXd4NuMEe-UvOIBnqcQQA" innerProvidedRole_ProvidedDelegationConnector="_4HFxF9uMEe-UvOIBnqcQQA" outerProvidedRole_ProvidedDelegationConnector="_4HWPxduMEe-UvOIBnqcQQA" assemblyContext_ProvidedDelegationConnector="_4HW22NuMEe-UvOIBnqcQQA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_4HXd49uMEe-UvOIBnqcQQA" innerProvidedRole_ProvidedDelegationConnector="_4HFxFtuMEe-UvOIBnqcQQA" outerProvidedRole_ProvidedDelegationConnector="_4HWPxtuMEe-UvOIBnqcQQA" assemblyContext_ProvidedDelegationConnector="_4HW22NuMEe-UvOIBnqcQQA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HWPxduMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_4HFxENuMEe-UvOIBnqcQQA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_4HWPxtuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_4HFxE9uMEe-UvOIBnqcQQA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_4HFxENuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_4AfZ09uMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_4AfZ0tuMEe-UvOIBnqcQQA">
      <parameters__OperationSignature dataType__Parameter="_4AfZ0NuMEe-UvOIBnqcQQA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_4AfZ0duMEe-UvOIBnqcQQA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_4HFxEduMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_4Agn8NuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_3_3HsNuMEe-UvOIBnqcQQA">
      <parameters__OperationSignature dataType__Parameter="_3_15kNuMEe-UvOIBnqcQQA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_4HFxEtuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_4Agn89uMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_4AfZ0tuMEe-UvOIBnqcQQA">
      <parameters__OperationSignature dataType__Parameter="_3_15kNuMEe-UvOIBnqcQQA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_4HFxE9uMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_4AgA4duMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_4AfZ0tuMEe-UvOIBnqcQQA">
      <parameters__OperationSignature dataType__Parameter="_4AgA4NuMEe-UvOIBnqcQQA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_4HFxFNuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_4AhPAtuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_3_3HsNuMEe-UvOIBnqcQQA">
      <parameters__OperationSignature dataType__Parameter="_4AhPAduMEe-UvOIBnqcQQA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_4HFxFduMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_3_3uwNuMEe-UvOIBnqcQQA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_3_3HsNuMEe-UvOIBnqcQQA">
      <parameters__OperationSignature dataType__Parameter="_3_15kNuMEe-UvOIBnqcQQA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3_15kNuMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_3_3HsNuMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4AfZ0NuMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4AfZ0duMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4AfZ0tuMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4AgA4NuMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4AhPAduMEe-UvOIBnqcQQA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
