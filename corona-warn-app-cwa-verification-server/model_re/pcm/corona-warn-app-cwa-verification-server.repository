<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_CpjDqLtWEe-a06VlfzMItA">
  <components__Repository xsi:type="repository:BasicComponent" id="_CpR95rtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_CpR96LtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CpR957tWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_CpR94rtWEe-a06VlfzMItA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CoodobtWEe-a06VlfzMItA" describedService__SEFF="_Ci8FVLtWEe-a06VlfzMItA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_ComBbbtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_ComBdLtWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ComBdLtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_ComBbbtWEe-a06VlfzMItA" successor_AbstractAction="_ComocLtWEe-a06VlfzMItA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ComBcbtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ComBc7tWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ComBbrtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_ComBb7tWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ComBb7tWEe-a06VlfzMItA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_ComBbrtWEe-a06VlfzMItA" successor_AbstractAction="_ComBcLtWEe-a06VlfzMItA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ComBcLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_ComBb7tWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_ComocLtWEe-a06VlfzMItA" entityName="stopWatch.start()" predecessor_AbstractAction="_ComBdLtWEe-a06VlfzMItA" successor_AbstractAction="_Con2ortWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Con2ortWEe-a06VlfzMItA" entityName="Switch Branch" predecessor_AbstractAction="_ComocLtWEe-a06VlfzMItA" successor_AbstractAction="_CoodoLtWEe-a06VlfzMItA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ConPhbtWEe-a06VlfzMItA">
          <branchBehaviour_BranchTransition id="_ConPh7tWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ComocbtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_ComocrtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ComocrtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_ComocbtWEe-a06VlfzMItA" successor_AbstractAction="_Comoc7tWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Comoc7tWEe-a06VlfzMItA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ComocrtWEe-a06VlfzMItA" successor_AbstractAction="_ComodLtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ComodLtWEe-a06VlfzMItA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_Comoc7tWEe-a06VlfzMItA" successor_AbstractAction="_ComodbtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ComodbtWEe-a06VlfzMItA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ComodLtWEe-a06VlfzMItA" successor_AbstractAction="_ComodrtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ComodrtWEe-a06VlfzMItA" entityName="deferredResult" predecessor_AbstractAction="_ComodbtWEe-a06VlfzMItA" successor_AbstractAction="_ConPgbtWEe-a06VlfzMItA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ConPgbtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_ComodrtWEe-a06VlfzMItA" successor_AbstractAction="_ConPgrtWEe-a06VlfzMItA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ComogLtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ConPgLtWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Comod7tWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_ComoeLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ComoeLtWEe-a06VlfzMItA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_Comod7tWEe-a06VlfzMItA" successor_AbstractAction="_ComoebtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ComoebtWEe-a06VlfzMItA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_ComoeLtWEe-a06VlfzMItA" successor_AbstractAction="_ComoertWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ComoertWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_ComoebtWEe-a06VlfzMItA" successor_AbstractAction="_Comoe7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Comoe7tWEe-a06VlfzMItA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ComoertWEe-a06VlfzMItA" successor_AbstractAction="_ComofLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ComofLtWEe-a06VlfzMItA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_Comoe7tWEe-a06VlfzMItA" successor_AbstractAction="_ComofbtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ComofbtWEe-a06VlfzMItA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ComofLtWEe-a06VlfzMItA" successor_AbstractAction="_ComofrtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ComofrtWEe-a06VlfzMItA" entityName="deferredResult" predecessor_AbstractAction="_ComofbtWEe-a06VlfzMItA" successor_AbstractAction="_Comof7tWEe-a06VlfzMItA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Comof7tWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_ComofrtWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ConPgrtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_ConPgbtWEe-a06VlfzMItA" successor_AbstractAction="_ConPg7tWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_ConPg7tWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_ConPgrtWEe-a06VlfzMItA" successor_AbstractAction="_ConPhLtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ConPhLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_ConPg7tWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Con2mbtWEe-a06VlfzMItA">
          <branchBehaviour_BranchTransition id="_Con2m7tWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_ConPiLtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_Con2lbtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Con2lbtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_ConPiLtWEe-a06VlfzMItA" successor_AbstractAction="_Con2lrtWEe-a06VlfzMItA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Con2krtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Con2lLtWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_ConPibtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_ConPirtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ConPirtWEe-a06VlfzMItA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_ConPibtWEe-a06VlfzMItA" successor_AbstractAction="_ConPi7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ConPi7tWEe-a06VlfzMItA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_ConPirtWEe-a06VlfzMItA" successor_AbstractAction="_ConPjLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ConPjLtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_ConPi7tWEe-a06VlfzMItA" successor_AbstractAction="_ConPjbtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ConPjbtWEe-a06VlfzMItA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ConPjLtWEe-a06VlfzMItA" successor_AbstractAction="_ConPjrtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ConPjrtWEe-a06VlfzMItA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_ConPjbtWEe-a06VlfzMItA" successor_AbstractAction="_ConPj7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ConPj7tWEe-a06VlfzMItA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_ConPjrtWEe-a06VlfzMItA" successor_AbstractAction="_Con2kLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Con2kLtWEe-a06VlfzMItA" entityName="deferredResult" predecessor_AbstractAction="_ConPj7tWEe-a06VlfzMItA" successor_AbstractAction="_Con2kbtWEe-a06VlfzMItA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Con2kbtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_Con2kLtWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Con2lrtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Con2lbtWEe-a06VlfzMItA" successor_AbstractAction="_Con2l7tWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Con2l7tWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Con2lrtWEe-a06VlfzMItA" successor_AbstractAction="_Con2mLtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Con2mLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_Con2l7tWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Con2n7tWEe-a06VlfzMItA">
          <branchBehaviour_BranchTransition id="_Con2obtWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Con2nLtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_Con2nbtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Con2nbtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Con2nLtWEe-a06VlfzMItA" successor_AbstractAction="_Con2nrtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Con2nrtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_Con2nbtWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CoodoLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_Con2ortWEe-a06VlfzMItA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_CpVoQrtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CpVoQLtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_CpR94btWEe-a06VlfzMItA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CpVoQbtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_CpR95btWEe-a06VlfzMItA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CopryrtWEe-a06VlfzMItA" describedService__SEFF="_Ci8sZLtWEe-a06VlfzMItA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CoodqLtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CopEvLtWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CopEvLtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CoodqLtWEe-a06VlfzMItA" successor_AbstractAction="_CopryLtWEe-a06VlfzMItA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CopEs7tWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CopEtbtWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CopEsLtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CopEsbtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CopEsbtWEe-a06VlfzMItA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_CopEsLtWEe-a06VlfzMItA" successor_AbstractAction="_CopEsrtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CopEsrtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CopEsbtWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CopEubtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CopEu7tWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CopEtrtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CopEt7tWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_CopEt7tWEe-a06VlfzMItA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_CopEtrtWEe-a06VlfzMItA" successor_AbstractAction="_CopEuLtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CopEuLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CopEt7tWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CopryLtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CopEvLtWEe-a06VlfzMItA" successor_AbstractAction="_CoprybtWEe-a06VlfzMItA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CoprxbtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Coprx7tWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CopEvbtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_Coprw7tWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Coprw7tWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CopEvbtWEe-a06VlfzMItA" successor_AbstractAction="_CoprxLtWEe-a06VlfzMItA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CopEwrtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_CopExLtWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CopEvrtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CopEv7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CopEv7tWEe-a06VlfzMItA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_CopEvrtWEe-a06VlfzMItA" successor_AbstractAction="_CopEwLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CopEwLtWEe-a06VlfzMItA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_CopEv7tWEe-a06VlfzMItA" successor_AbstractAction="_CopEwbtWEe-a06VlfzMItA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CopEwbtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CopEwLtWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CoprwLtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_CoprwrtWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CopExbtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CopExrtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CopExrtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CopExbtWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CoprxLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_Coprw7tWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CoprybtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CopryLtWEe-a06VlfzMItA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CoodprtWEe-a06VlfzMItA" describedService__SEFF="_Ci63MrtWEe-a06VlfzMItA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Coodo7tWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CoodpLtWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CoodpLtWEe-a06VlfzMItA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_Coodo7tWEe-a06VlfzMItA" successor_AbstractAction="_CoodpbtWEe-a06VlfzMItA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CoodpbtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CoodpLtWEe-a06VlfzMItA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_CpZ5vrtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CpZ5vbtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_CpR95LtWEe-a06VlfzMItA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_CokMObtWEe-a06VlfzMItA" describedService__SEFF="_CiR-ALtWEe-a06VlfzMItA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CjXjIbtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_Cogh0btWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Cogh0btWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CjXjIbtWEe-a06VlfzMItA" successor_AbstractAction="_CohI4LtWEe-a06VlfzMItA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Cof6wLtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Cogh0LtWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CjYxQLtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CoesoLtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CoesoLtWEe-a06VlfzMItA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_CjYxQLtWEe-a06VlfzMItA" successor_AbstractAction="_CofTsLtWEe-a06VlfzMItA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CofTsLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CoesoLtWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_CohI4LtWEe-a06VlfzMItA" entityName="stopWatch.start()" predecessor_AbstractAction="_Cogh0btWEe-a06VlfzMItA" successor_AbstractAction="_CokMNrtWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CokMNrtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CohI4LtWEe-a06VlfzMItA" successor_AbstractAction="_CokMN7tWEe-a06VlfzMItA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CokMM7tWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CokMNbtWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Cohv8LtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CokMMbtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_CokMMbtWEe-a06VlfzMItA" entityName="Switch Branch" predecessor_AbstractAction="_Cohv8LtWEe-a06VlfzMItA" successor_AbstractAction="_CokMMrtWEe-a06VlfzMItA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Coi-GLtWEe-a06VlfzMItA">
                <branchBehaviour_BranchTransition id="_Coi-GrtWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Cohv8btWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CoiXALtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoiXALtWEe-a06VlfzMItA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_Cohv8btWEe-a06VlfzMItA" successor_AbstractAction="_CoiXDLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_CoiXDLtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CoiXALtWEe-a06VlfzMItA" successor_AbstractAction="_CoiXDbtWEe-a06VlfzMItA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CoiXCbtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_CoiXC7tWEe-a06VlfzMItA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_CoiXAbtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CoiXB7tWEe-a06VlfzMItA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_CoiXB7tWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CoiXAbtWEe-a06VlfzMItA" successor_AbstractAction="_CoiXCLtWEe-a06VlfzMItA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CoiXBLtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_CoiXBrtWEe-a06VlfzMItA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_CoiXArtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CoiXA7tWEe-a06VlfzMItA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_CoiXA7tWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CoiXArtWEe-a06VlfzMItA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_CoiXCLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CoiXB7tWEe-a06VlfzMItA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoiXDbtWEe-a06VlfzMItA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_CoiXDLtWEe-a06VlfzMItA" successor_AbstractAction="_CoiXDrtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoiXDrtWEe-a06VlfzMItA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_CoiXDbtWEe-a06VlfzMItA" successor_AbstractAction="_CoiXD7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoiXD7tWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_CoiXDrtWEe-a06VlfzMItA" successor_AbstractAction="_CoiXELtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoiXELtWEe-a06VlfzMItA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_CoiXD7tWEe-a06VlfzMItA" successor_AbstractAction="_CoiXEbtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoiXEbtWEe-a06VlfzMItA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_CoiXELtWEe-a06VlfzMItA" successor_AbstractAction="_Coi-ELtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Coi-ELtWEe-a06VlfzMItA" entityName="deferredResult" predecessor_AbstractAction="_CoiXEbtWEe-a06VlfzMItA" successor_AbstractAction="_Coi-EbtWEe-a06VlfzMItA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Coi-EbtWEe-a06VlfzMItA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_Coi-ELtWEe-a06VlfzMItA" successor_AbstractAction="_Coi-ErtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Coi-ErtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Coi-EbtWEe-a06VlfzMItA" successor_AbstractAction="_Coi-E7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Coi-E7tWEe-a06VlfzMItA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Coi-ErtWEe-a06VlfzMItA" successor_AbstractAction="_Coi-FLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Coi-FLtWEe-a06VlfzMItA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_Coi-E7tWEe-a06VlfzMItA" successor_AbstractAction="_Coi-FbtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Coi-FbtWEe-a06VlfzMItA" entityName="deferredResult" predecessor_AbstractAction="_Coi-FLtWEe-a06VlfzMItA" successor_AbstractAction="_Coi-FrtWEe-a06VlfzMItA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Coi-FrtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_Coi-FbtWEe-a06VlfzMItA" successor_AbstractAction="_Coi-F7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Coi-F7tWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_Coi-FrtWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CojlKLtWEe-a06VlfzMItA">
                <branchBehaviour_BranchTransition id="_CojlKrtWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CojlILtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CojlIbtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CojlIbtWEe-a06VlfzMItA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_CojlILtWEe-a06VlfzMItA" successor_AbstractAction="_CojlIrtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CojlIrtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_CojlIbtWEe-a06VlfzMItA" successor_AbstractAction="_CojlI7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CojlI7tWEe-a06VlfzMItA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_CojlIrtWEe-a06VlfzMItA" successor_AbstractAction="_CojlJLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CojlJLtWEe-a06VlfzMItA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_CojlI7tWEe-a06VlfzMItA" successor_AbstractAction="_CojlJbtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CojlJbtWEe-a06VlfzMItA" entityName="deferredResult" predecessor_AbstractAction="_CojlJLtWEe-a06VlfzMItA" successor_AbstractAction="_CojlJrtWEe-a06VlfzMItA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CojlJrtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_CojlJbtWEe-a06VlfzMItA" successor_AbstractAction="_CojlJ7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CojlJ7tWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CojlJrtWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CojlLrtWEe-a06VlfzMItA">
                <branchBehaviour_BranchTransition id="_CokMMLtWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CojlK7tWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CojlLLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CojlLLtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_CojlK7tWEe-a06VlfzMItA" successor_AbstractAction="_CojlLbtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CojlLbtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CojlLLtWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CokMMrtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CokMMbtWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_CokMN7tWEe-a06VlfzMItA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_CokMNrtWEe-a06VlfzMItA" successor_AbstractAction="_CokMOLtWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_CokMOLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CokMN7tWEe-a06VlfzMItA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_CpcV8btWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CpcV8LtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_CpR947tWEe-a06VlfzMItA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Coq547tWEe-a06VlfzMItA" describedService__SEFF="_Ci8FULtWEe-a06VlfzMItA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CoprzLtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_Coq54LtWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Coq54LtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CoprzLtWEe-a06VlfzMItA" successor_AbstractAction="_Coq54btWEe-a06VlfzMItA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CoqS5btWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CoqS57tWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CoprzbtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CoqS47tWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_CoqS47tWEe-a06VlfzMItA" entityName="Switch Branch" predecessor_AbstractAction="_CoprzbtWEe-a06VlfzMItA" successor_AbstractAction="_CoqS5LtWEe-a06VlfzMItA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CoqS1btWEe-a06VlfzMItA">
                <branchBehaviour_BranchTransition id="_CoqS17tWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CoprzrtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_Copr2rtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_Copr2rtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CoprzrtWEe-a06VlfzMItA" successor_AbstractAction="_CoqS0LtWEe-a06VlfzMItA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Copr17tWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_Copr2btWEe-a06VlfzMItA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_Coprz7tWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_Copr1btWEe-a06VlfzMItA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_Copr1btWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_Coprz7tWEe-a06VlfzMItA" successor_AbstractAction="_Copr1rtWEe-a06VlfzMItA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Copr0rtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_Copr1LtWEe-a06VlfzMItA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_Copr0LtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_Copr0btWEe-a06VlfzMItA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_Copr0btWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_Copr0LtWEe-a06VlfzMItA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_Copr1rtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_Copr1btWEe-a06VlfzMItA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoqS0LtWEe-a06VlfzMItA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_Copr2rtWEe-a06VlfzMItA" successor_AbstractAction="_CoqS0btWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoqS0btWEe-a06VlfzMItA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_CoqS0LtWEe-a06VlfzMItA" successor_AbstractAction="_CoqS0rtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CoqS0rtWEe-a06VlfzMItA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_CoqS0btWEe-a06VlfzMItA" successor_AbstractAction="_CoqS07tWEe-a06VlfzMItA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoqS07tWEe-a06VlfzMItA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_CoqS0rtWEe-a06VlfzMItA" successor_AbstractAction="_CoqS1LtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CoqS1LtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CoqS07tWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CoqS27tWEe-a06VlfzMItA">
                <branchBehaviour_BranchTransition id="_CoqS3btWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CoqS2LtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CoqS2btWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_CoqS2btWEe-a06VlfzMItA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_CoqS2LtWEe-a06VlfzMItA" successor_AbstractAction="_CoqS2rtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CoqS2rtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CoqS2btWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CoqS4LtWEe-a06VlfzMItA">
                <branchBehaviour_BranchTransition id="_CoqS4rtWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CoqS3rtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CoqS37tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_CoqS37tWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CoqS3rtWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CoqS5LtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CoqS47tWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Coq54btWEe-a06VlfzMItA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_Coq54LtWEe-a06VlfzMItA" successor_AbstractAction="_Coq54rtWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Coq54rtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_Coq54btWEe-a06VlfzMItA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_CpeLLrtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CpeLLbtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_CpR94LtWEe-a06VlfzMItA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_ComBa7tWEe-a06VlfzMItA" describedService__SEFF="_Ci7eQLtWEe-a06VlfzMItA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_CokMO7tWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CokzQLtWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_CokzQLtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CokMO7tWEe-a06VlfzMItA" successor_AbstractAction="_CokzQbtWEe-a06VlfzMItA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CokMP7tWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_CokMQbtWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CokMPLtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CokMPbtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_CokMPbtWEe-a06VlfzMItA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_CokMPLtWEe-a06VlfzMItA" successor_AbstractAction="_CokMPrtWEe-a06VlfzMItA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_CokMPrtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CokMPbtWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_CokzQbtWEe-a06VlfzMItA" entityName="stopWatch.start()" predecessor_AbstractAction="_CokzQLtWEe-a06VlfzMItA" successor_AbstractAction="_ComBabtWEe-a06VlfzMItA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_ComBabtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CokzQbtWEe-a06VlfzMItA" successor_AbstractAction="_ComBartWEe-a06VlfzMItA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ComBZrtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_ComBaLtWEe-a06VlfzMItA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_CokzQrtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_ComBZLtWEe-a06VlfzMItA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_ComBZLtWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CokzQrtWEe-a06VlfzMItA" successor_AbstractAction="_ComBZbtWEe-a06VlfzMItA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ComBYbtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_ComBY7tWEe-a06VlfzMItA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_CokzQ7tWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_ColaWrtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_ColaWrtWEe-a06VlfzMItA" entityName="Switch Branch" predecessor_AbstractAction="_CokzQ7tWEe-a06VlfzMItA" successor_AbstractAction="_ColaW7tWEe-a06VlfzMItA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CokzTrtWEe-a06VlfzMItA">
                      <branchBehaviour_BranchTransition id="_CokzULtWEe-a06VlfzMItA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_CokzRLtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CokzS7tWEe-a06VlfzMItA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_CokzS7tWEe-a06VlfzMItA" entityName="If Branch" predecessor_AbstractAction="_CokzRLtWEe-a06VlfzMItA" successor_AbstractAction="_CokzTLtWEe-a06VlfzMItA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_CokzSLtWEe-a06VlfzMItA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_CokzSrtWEe-a06VlfzMItA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_CokzRbtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CokzRrtWEe-a06VlfzMItA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_CokzRrtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_CokzRbtWEe-a06VlfzMItA" successor_AbstractAction="_CokzR7tWEe-a06VlfzMItA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_CokzR7tWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CokzRrtWEe-a06VlfzMItA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_CokzTLtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_CokzS7tWEe-a06VlfzMItA" successor_AbstractAction="_CokzTbtWEe-a06VlfzMItA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_CokzTbtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CokzTLtWEe-a06VlfzMItA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ColaUbtWEe-a06VlfzMItA">
                      <branchBehaviour_BranchTransition id="_ColaU7tWEe-a06VlfzMItA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_CokzUbtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_CokzUrtWEe-a06VlfzMItA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_CokzUrtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_CokzUbtWEe-a06VlfzMItA" successor_AbstractAction="_ColaULtWEe-a06VlfzMItA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ColaULtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_CokzUrtWEe-a06VlfzMItA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_ColaV7tWEe-a06VlfzMItA">
                      <branchBehaviour_BranchTransition id="_ColaWbtWEe-a06VlfzMItA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_ColaVLtWEe-a06VlfzMItA" entityName="Start Action" successor_AbstractAction="_ColaVbtWEe-a06VlfzMItA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_ColaVbtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_ColaVLtWEe-a06VlfzMItA" successor_AbstractAction="_ColaVrtWEe-a06VlfzMItA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_ColaVrtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_ColaVbtWEe-a06VlfzMItA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ColaW7tWEe-a06VlfzMItA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_ColaWrtWEe-a06VlfzMItA" successor_AbstractAction="_ColaXLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ColaXLtWEe-a06VlfzMItA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_ColaW7tWEe-a06VlfzMItA" successor_AbstractAction="_ColaXbtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ColaXbtWEe-a06VlfzMItA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_ColaXLtWEe-a06VlfzMItA" successor_AbstractAction="_ColaXrtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ColaXrtWEe-a06VlfzMItA" entityName="stopWatch.stop()" predecessor_AbstractAction="_ColaXbtWEe-a06VlfzMItA" successor_AbstractAction="_ColaX7tWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ColaX7tWEe-a06VlfzMItA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_ColaXrtWEe-a06VlfzMItA" successor_AbstractAction="_ColaYLtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ColaYLtWEe-a06VlfzMItA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_ColaX7tWEe-a06VlfzMItA" successor_AbstractAction="_ColaYbtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_ColaYbtWEe-a06VlfzMItA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_ColaYLtWEe-a06VlfzMItA" successor_AbstractAction="_ColaYrtWEe-a06VlfzMItA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_ColaYrtWEe-a06VlfzMItA" entityName="deferredResult" predecessor_AbstractAction="_ColaYbtWEe-a06VlfzMItA" successor_AbstractAction="_ComBYLtWEe-a06VlfzMItA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_ComBYLtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_ColaYrtWEe-a06VlfzMItA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_ComBZbtWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_ComBZLtWEe-a06VlfzMItA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_ComBartWEe-a06VlfzMItA" entityName="Stop Action" predecessor_AbstractAction="_ComBabtWEe-a06VlfzMItA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Cph1gbtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_CpjDortWEe-a06VlfzMItA" encapsulatedComponent__AssemblyContext="_CpR96LtWEe-a06VlfzMItA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Cpjqs7tWEe-a06VlfzMItA" innerProvidedRole_ProvidedDelegationConnector="_CpR957tWEe-a06VlfzMItA" outerProvidedRole_ProvidedDelegationConnector="_Cph1gLtWEe-a06VlfzMItA" assemblyContext_ProvidedDelegationConnector="_CpjDortWEe-a06VlfzMItA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Cph1gLtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_CpR94rtWEe-a06VlfzMItA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Cph1g7tWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_CpiclbtWEe-a06VlfzMItA" encapsulatedComponent__AssemblyContext="_CpZ5vrtWEe-a06VlfzMItA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CpjqtLtWEe-a06VlfzMItA" innerProvidedRole_ProvidedDelegationConnector="_CpZ5vbtWEe-a06VlfzMItA" outerProvidedRole_ProvidedDelegationConnector="_Cph1grtWEe-a06VlfzMItA" assemblyContext_ProvidedDelegationConnector="_CpiclbtWEe-a06VlfzMItA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Cph1grtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_CpR95LtWEe-a06VlfzMItA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Cph1hrtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_CpjDoLtWEe-a06VlfzMItA" encapsulatedComponent__AssemblyContext="_CpVoQrtWEe-a06VlfzMItA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CpjqsLtWEe-a06VlfzMItA" innerProvidedRole_ProvidedDelegationConnector="_CpVoQbtWEe-a06VlfzMItA" outerProvidedRole_ProvidedDelegationConnector="_Cph1hbtWEe-a06VlfzMItA" assemblyContext_ProvidedDelegationConnector="_CpjDoLtWEe-a06VlfzMItA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CpjqsbtWEe-a06VlfzMItA" innerProvidedRole_ProvidedDelegationConnector="_CpVoQLtWEe-a06VlfzMItA" outerProvidedRole_ProvidedDelegationConnector="_Cph1hLtWEe-a06VlfzMItA" assemblyContext_ProvidedDelegationConnector="_CpjDoLtWEe-a06VlfzMItA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Cph1hLtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_CpR94btWEe-a06VlfzMItA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Cph1hbtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_CpR95btWEe-a06VlfzMItA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Cph1iLtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_CpjDpLtWEe-a06VlfzMItA" encapsulatedComponent__AssemblyContext="_CpeLLrtWEe-a06VlfzMItA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CpjqsrtWEe-a06VlfzMItA" innerProvidedRole_ProvidedDelegationConnector="_CpeLLbtWEe-a06VlfzMItA" outerProvidedRole_ProvidedDelegationConnector="_Cph1h7tWEe-a06VlfzMItA" assemblyContext_ProvidedDelegationConnector="_CpjDpLtWEe-a06VlfzMItA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Cph1h7tWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_CpR94LtWEe-a06VlfzMItA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_CpickLtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_CpjDprtWEe-a06VlfzMItA" encapsulatedComponent__AssemblyContext="_CpR95rtWEe-a06VlfzMItA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_CpickrtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_Cpick7tWEe-a06VlfzMItA" encapsulatedComponent__AssemblyContext="_CpcV8btWEe-a06VlfzMItA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_CpjqtbtWEe-a06VlfzMItA" innerProvidedRole_ProvidedDelegationConnector="_CpcV8LtWEe-a06VlfzMItA" outerProvidedRole_ProvidedDelegationConnector="_CpickbtWEe-a06VlfzMItA" assemblyContext_ProvidedDelegationConnector="_Cpick7tWEe-a06VlfzMItA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_CpickbtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_CpR947tWEe-a06VlfzMItA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CpR94LtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_Ci7eQLtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_CiRW8LtWEe-a06VlfzMItA">
      <parameters__OperationSignature dataType__Parameter="_CiQI0LtWEe-a06VlfzMItA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CpR94btWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_Ci8sZLtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_Ci63MbtWEe-a06VlfzMItA">
      <parameters__OperationSignature dataType__Parameter="_Ci8sYrtWEe-a06VlfzMItA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_Ci8sY7tWEe-a06VlfzMItA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CpR94rtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_Ci8FVLtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_CiRW8LtWEe-a06VlfzMItA">
      <parameters__OperationSignature dataType__Parameter="_Ci8FU7tWEe-a06VlfzMItA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CpR947tWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_Ci8FULtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_Ci63MbtWEe-a06VlfzMItA">
      <parameters__OperationSignature dataType__Parameter="_CiQI0LtWEe-a06VlfzMItA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CpR95LtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_CiR-ALtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_CiRW8LtWEe-a06VlfzMItA">
      <parameters__OperationSignature dataType__Parameter="_CiQI0LtWEe-a06VlfzMItA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_CpR95btWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_Ci63MrtWEe-a06VlfzMItA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_Ci63MbtWEe-a06VlfzMItA">
      <parameters__OperationSignature dataType__Parameter="_Ci63MLtWEe-a06VlfzMItA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_CiQI0LtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_CiRW8LtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ci63MLtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ci63MbtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ci8FU7tWEe-a06VlfzMItA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ci8sYrtWEe-a06VlfzMItA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ci8sY7tWEe-a06VlfzMItA" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
