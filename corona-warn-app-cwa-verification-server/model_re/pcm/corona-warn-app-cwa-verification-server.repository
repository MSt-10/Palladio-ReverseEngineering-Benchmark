<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_WQfVTNnOEe6fH8EpLMAwgg">
  <components__Repository xsi:type="repository:BasicComponent" id="_WQPdqNnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQPdptnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_WQPdpdnOEe6fH8EpLMAwgg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQPdp9nOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_WQPdotnOEe6fH8EpLMAwgg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WPlWVtnOEe6fH8EpLMAwgg" describedService__SEFF="_WJpGYdnOEe6fH8EpLMAwgg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WPlWU9nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPlWVNnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPlWVNnOEe6fH8EpLMAwgg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_WPlWU9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPlWVdnOEe6fH8EpLMAwgg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WPlWVdnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPlWVNnOEe6fH8EpLMAwgg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WPl9etnOEe6fH8EpLMAwgg" describedService__SEFF="_WJptddnOEe6fH8EpLMAwgg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WPlWWNnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPl9ZdnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WPl9ZdnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPlWWNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPl9eNnOEe6fH8EpLMAwgg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPlWXNnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WPlWXtnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPlWWdnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPlWWtnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPlWWtnOEe6fH8EpLMAwgg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_WPlWWdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPlWW9nOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPlWW9nOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPlWWtnOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPl9YtnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WPl9ZNnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPlWX9nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPl9YNnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPl9YNnOEe6fH8EpLMAwgg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_WPlWX9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPl9YdnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPl9YdnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPl9YNnOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WPl9eNnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPl9ZdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPl9ednOEe6fH8EpLMAwgg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPl9ddnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WPl9d9nOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPl9ZtnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPl9c9nOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WPl9c9nOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPl9ZtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPl9dNnOEe6fH8EpLMAwgg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPl9a9nOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WPl9bdnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPl9Z9nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPl9aNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPl9aNnOEe6fH8EpLMAwgg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_WPl9Z9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPl9adnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPl9adnOEe6fH8EpLMAwgg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_WPl9aNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPl9atnOEe6fH8EpLMAwgg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPl9atnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPl9adnOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPl9cNnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WPl9ctnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPl9btnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPl9b9nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPl9b9nOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPl9btnOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPl9dNnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPl9c9nOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WPl9ednOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPl9eNnOEe6fH8EpLMAwgg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_WQUWLtnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQUWLdnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_WQPdo9nOEe6fH8EpLMAwgg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WPlWUdnOEe6fH8EpLMAwgg" describedService__SEFF="_WJptcNnOEe6fH8EpLMAwgg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WPjhJdnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPjhLNnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WPjhLNnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPjhJdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPjhLdnOEe6fH8EpLMAwgg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPjhKdnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WPjhK9nOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPjhJtnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPjhJ9nOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPjhJ9nOEe6fH8EpLMAwgg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_WPjhJtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPjhKNnOEe6fH8EpLMAwgg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPjhKNnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPjhJ9nOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WPjhLdnOEe6fH8EpLMAwgg" entityName="stopWatch.start()" predecessor_AbstractAction="_WPjhLNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvVtnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WPkvVtnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPjhLdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvV9nOEe6fH8EpLMAwgg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPkvU9nOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WPkvVdnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPjhLtnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPkvUdnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WPkvUdnOEe6fH8EpLMAwgg" entityName="Switch Branch" predecessor_AbstractAction="_WPjhLtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvUtnOEe6fH8EpLMAwgg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPkIPtnOEe6fH8EpLMAwgg">
                <branchBehaviour_BranchTransition id="_WPkIQNnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPjhL9nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPjhMNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPjhMNnOEe6fH8EpLMAwgg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_WPjhL9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIMNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_WPkIMNnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPjhMNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIMdnOEe6fH8EpLMAwgg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPjhOdnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_WPjhO9nOEe6fH8EpLMAwgg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WPjhMdnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPjhN9nOEe6fH8EpLMAwgg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_WPjhN9nOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPjhMdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPjhONnOEe6fH8EpLMAwgg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPjhNNnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_WPjhNtnOEe6fH8EpLMAwgg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_WPjhMtnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPjhM9nOEe6fH8EpLMAwgg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_WPjhM9nOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPjhMtnOEe6fH8EpLMAwgg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WPjhONnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPjhN9nOEe6fH8EpLMAwgg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkIMdnOEe6fH8EpLMAwgg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_WPkIMNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIMtnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkIMtnOEe6fH8EpLMAwgg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_WPkIMdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIM9nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkIM9nOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPkIMtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkINNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkINNnOEe6fH8EpLMAwgg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WPkIM9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkINdnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkINdnOEe6fH8EpLMAwgg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_WPkINNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkINtnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPkINtnOEe6fH8EpLMAwgg" entityName="deferredResult" predecessor_AbstractAction="_WPkINdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIN9nOEe6fH8EpLMAwgg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkIN9nOEe6fH8EpLMAwgg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_WPkINtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIONnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkIONnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPkIN9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIOdnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkIOdnOEe6fH8EpLMAwgg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WPkIONnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIOtnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkIOtnOEe6fH8EpLMAwgg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_WPkIOdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIO9nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPkIO9nOEe6fH8EpLMAwgg" entityName="deferredResult" predecessor_AbstractAction="_WPkIOtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIPNnOEe6fH8EpLMAwgg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkIPNnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPkIO9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkIPdnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPkIPdnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPkIPNnOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPkvSNnOEe6fH8EpLMAwgg">
                <branchBehaviour_BranchTransition id="_WPkvStnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPkvQNnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPkvQdnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkvQdnOEe6fH8EpLMAwgg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_WPkvQNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvQtnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkvQtnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPkvQdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvQ9nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkvQ9nOEe6fH8EpLMAwgg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WPkvQtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvRNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkvRNnOEe6fH8EpLMAwgg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_WPkvQ9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvRdnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPkvRdnOEe6fH8EpLMAwgg" entityName="deferredResult" predecessor_AbstractAction="_WPkvRNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvRtnOEe6fH8EpLMAwgg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkvRtnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPkvRdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvR9nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPkvR9nOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPkvRtnOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPkvTtnOEe6fH8EpLMAwgg">
                <branchBehaviour_BranchTransition id="_WPkvUNnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPkvS9nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPkvTNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkvTNnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPkvS9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPkvTdnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPkvTdnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPkvTNnOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPkvUtnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPkvUdnOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WPkvV9nOEe6fH8EpLMAwgg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_WPkvVtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPlWUNnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WPlWUNnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPkvV9nOEe6fH8EpLMAwgg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_WQWybdnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQWybNnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_WQPdodnOEe6fH8EpLMAwgg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WPjhI9nOEe6fH8EpLMAwgg" describedService__SEFF="_WJofUNnOEe6fH8EpLMAwgg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WPhsAdnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPiTBdnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WPiTBdnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPhsAdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPiTBtnOEe6fH8EpLMAwgg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPiTAtnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WPiTBNnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPhsAtnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPiTANnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPiTANnOEe6fH8EpLMAwgg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_WPhsAtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPiTAdnOEe6fH8EpLMAwgg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPiTAdnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPiTANnOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WPiTBtnOEe6fH8EpLMAwgg" entityName="stopWatch.start()" predecessor_AbstractAction="_WPiTBdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPjhIdnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WPjhIdnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPiTBtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPjhItnOEe6fH8EpLMAwgg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPi6JdnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WPjhINnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPiTB9nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPi6I9nOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WPi6I9nOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPiTB9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6JNnOEe6fH8EpLMAwgg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPi6INnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WPi6ItnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPiTCNnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPi6FtnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_WPi6FtnOEe6fH8EpLMAwgg" entityName="Switch Branch" predecessor_AbstractAction="_WPiTCNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6F9nOEe6fH8EpLMAwgg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPiTE9nOEe6fH8EpLMAwgg">
                      <branchBehaviour_BranchTransition id="_WPiTFdnOEe6fH8EpLMAwgg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WPiTCdnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPiTENnOEe6fH8EpLMAwgg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_WPiTENnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPiTCdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPiTEdnOEe6fH8EpLMAwgg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPiTDdnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_WPiTD9nOEe6fH8EpLMAwgg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_WPiTCtnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPiTC9nOEe6fH8EpLMAwgg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_WPiTC9nOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPiTCtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPiTDNnOEe6fH8EpLMAwgg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_WPiTDNnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPiTC9nOEe6fH8EpLMAwgg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_WPiTEdnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPiTENnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPiTEtnOEe6fH8EpLMAwgg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WPiTEtnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPiTEdnOEe6fH8EpLMAwgg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPiTGdnOEe6fH8EpLMAwgg">
                      <branchBehaviour_BranchTransition id="_WPiTG9nOEe6fH8EpLMAwgg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WPiTFtnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPiTF9nOEe6fH8EpLMAwgg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_WPiTF9nOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPiTFtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPiTGNnOEe6fH8EpLMAwgg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WPiTGNnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPiTF9nOEe6fH8EpLMAwgg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPi6E9nOEe6fH8EpLMAwgg">
                      <branchBehaviour_BranchTransition id="_WPi6FdnOEe6fH8EpLMAwgg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WPi6ENnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPi6EdnOEe6fH8EpLMAwgg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_WPi6EdnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPi6ENnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6EtnOEe6fH8EpLMAwgg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WPi6EtnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPi6EdnOEe6fH8EpLMAwgg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPi6F9nOEe6fH8EpLMAwgg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_WPi6FtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6GNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPi6GNnOEe6fH8EpLMAwgg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_WPi6F9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6GdnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPi6GdnOEe6fH8EpLMAwgg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_WPi6GNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6GtnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPi6GtnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPi6GdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6G9nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPi6G9nOEe6fH8EpLMAwgg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WPi6GtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6HNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPi6HNnOEe6fH8EpLMAwgg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_WPi6G9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6HdnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPi6HdnOEe6fH8EpLMAwgg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_WPi6HNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6HtnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPi6HtnOEe6fH8EpLMAwgg" entityName="deferredResult" predecessor_AbstractAction="_WPi6HdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPi6H9nOEe6fH8EpLMAwgg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPi6H9nOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPi6HtnOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPi6JNnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPi6I9nOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WPjhItnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPjhIdnOEe6fH8EpLMAwgg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_WQYnntnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQYnndnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_WQPdpNnOEe6fH8EpLMAwgg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WPnLlNnOEe6fH8EpLMAwgg" describedService__SEFF="_WJmqItnOEe6fH8EpLMAwgg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WPmkcdnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPnLkdnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WPnLkdnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPmkcdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPnLktnOEe6fH8EpLMAwgg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPnLjtnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WPnLkNnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPmkctnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPnLjNnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WPnLjNnOEe6fH8EpLMAwgg" entityName="Switch Branch" predecessor_AbstractAction="_WPmkctnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPnLjdnOEe6fH8EpLMAwgg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPmkhdnOEe6fH8EpLMAwgg">
                <branchBehaviour_BranchTransition id="_WPnLgNnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPmkc9nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPmkf9nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_WPmkf9nOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPmkc9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPmkgNnOEe6fH8EpLMAwgg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPmkfNnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_WPmkftnOEe6fH8EpLMAwgg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_WPmkdNnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPmketnOEe6fH8EpLMAwgg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_WPmketnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPmkdNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPmke9nOEe6fH8EpLMAwgg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPmkd9nOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_WPmkednOEe6fH8EpLMAwgg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_WPmkddnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPmkdtnOEe6fH8EpLMAwgg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_WPmkdtnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPmkddnOEe6fH8EpLMAwgg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_WPmke9nOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPmketnOEe6fH8EpLMAwgg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPmkgNnOEe6fH8EpLMAwgg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_WPmkf9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPmkgdnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPmkgdnOEe6fH8EpLMAwgg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_WPmkgNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPmkgtnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPmkgtnOEe6fH8EpLMAwgg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_WPmkgdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPmkg9nOEe6fH8EpLMAwgg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPmkg9nOEe6fH8EpLMAwgg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_WPmkgtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPmkhNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPmkhNnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPmkg9nOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPnLhNnOEe6fH8EpLMAwgg">
                <branchBehaviour_BranchTransition id="_WPnLhtnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPnLgdnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPnLgtnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPnLgtnOEe6fH8EpLMAwgg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_WPnLgdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPnLg9nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPnLg9nOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPnLgtnOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPnLidnOEe6fH8EpLMAwgg">
                <branchBehaviour_BranchTransition id="_WPnLi9nOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPnLh9nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPnLiNnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPnLiNnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPnLh9nOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPnLjdnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPnLjNnOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WPnLktnOEe6fH8EpLMAwgg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_WPnLkdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPnLk9nOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WPnLk9nOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPnLktnOEe6fH8EpLMAwgg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_WQbD2NnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQbD19nOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_WQPdoNnOEe6fH8EpLMAwgg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_WPhr_9nOEe6fH8EpLMAwgg" describedService__SEFF="_WI9J4dnOEe6fH8EpLMAwgg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_WKCH99nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPeooNnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WPeooNnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WKCH99nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPfPsNnOEe6fH8EpLMAwgg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPeBkNnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_WPeBktnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WKD9INnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPdagNnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPdagNnOEe6fH8EpLMAwgg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_WKD9INnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPdagdnOEe6fH8EpLMAwgg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPdagdnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPdagNnOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_WPfPsNnOEe6fH8EpLMAwgg" entityName="stopWatch.start()" predecessor_AbstractAction="_WPeooNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhr_dnOEe6fH8EpLMAwgg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_WPhr_dnOEe6fH8EpLMAwgg" entityName="Switch Branch" predecessor_AbstractAction="_WPfPsNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhr_tnOEe6fH8EpLMAwgg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPhE4tnOEe6fH8EpLMAwgg">
          <branchBehaviour_BranchTransition id="_WPhE5NnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPf2wNnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPf2wdnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPf2wdnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPf2wNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPf2wtnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPf2wtnOEe6fH8EpLMAwgg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WPf2wdnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPf2w9nOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPf2w9nOEe6fH8EpLMAwgg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_WPf2wtnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPf2xNnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPf2xNnOEe6fH8EpLMAwgg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_WPf2w9nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd0NnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPgd0NnOEe6fH8EpLMAwgg" entityName="deferredResult" predecessor_AbstractAction="_WPf2xNnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd3dnOEe6fH8EpLMAwgg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WPgd3dnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPgd0NnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd3tnOEe6fH8EpLMAwgg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPgd2tnOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WPgd3NnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPgd0dnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPgd0tnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPgd0tnOEe6fH8EpLMAwgg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_WPgd0dnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd09nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPgd09nOEe6fH8EpLMAwgg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_WPgd0tnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd1NnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPgd1NnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPgd09nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd1dnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPgd1dnOEe6fH8EpLMAwgg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WPgd1NnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd1tnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPgd1tnOEe6fH8EpLMAwgg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_WPgd1dnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd19nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPgd19nOEe6fH8EpLMAwgg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_WPgd1tnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd2NnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPgd2NnOEe6fH8EpLMAwgg" entityName="deferredResult" predecessor_AbstractAction="_WPgd19nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPgd2dnOEe6fH8EpLMAwgg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPgd2dnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPgd2NnOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPgd3tnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPgd3dnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhE4NnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhE4NnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPgd3tnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhE4dnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPhE4dnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPhE4NnOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPhr9NnOEe6fH8EpLMAwgg">
          <branchBehaviour_BranchTransition id="_WPhr9tnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPhE5dnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPhr8NnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_WPhr8NnOEe6fH8EpLMAwgg" entityName="If Branch" predecessor_AbstractAction="_WPhE5dnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhr8dnOEe6fH8EpLMAwgg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPhE79nOEe6fH8EpLMAwgg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_WPhE8dnOEe6fH8EpLMAwgg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_WPhE5tnOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPhE59nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhE59nOEe6fH8EpLMAwgg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_WPhE5tnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhE6NnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhE6NnOEe6fH8EpLMAwgg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_WPhE59nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhE6dnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhE6dnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPhE6NnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhE6tnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhE6tnOEe6fH8EpLMAwgg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_WPhE6dnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhE69nOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhE69nOEe6fH8EpLMAwgg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_WPhE6tnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhE7NnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhE7NnOEe6fH8EpLMAwgg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_WPhE69nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhE7dnOEe6fH8EpLMAwgg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_WPhE7dnOEe6fH8EpLMAwgg" entityName="deferredResult" predecessor_AbstractAction="_WPhE7NnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhE7tnOEe6fH8EpLMAwgg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_WPhE7tnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPhE7dnOEe6fH8EpLMAwgg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhr8dnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPhr8NnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhr8tnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhr8tnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPhr8dnOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhr89nOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPhr89nOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPhr8tnOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_WPhr-tnOEe6fH8EpLMAwgg">
          <branchBehaviour_BranchTransition id="_WPhr_NnOEe6fH8EpLMAwgg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_WPhr99nOEe6fH8EpLMAwgg" entityName="Start Action" successor_AbstractAction="_WPhr-NnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_WPhr-NnOEe6fH8EpLMAwgg" entityName="stopWatch.stop()" predecessor_AbstractAction="_WPhr99nOEe6fH8EpLMAwgg" successor_AbstractAction="_WPhr-dnOEe6fH8EpLMAwgg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_WPhr-dnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPhr-NnOEe6fH8EpLMAwgg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_WPhr_tnOEe6fH8EpLMAwgg" entityName="Stop Action" predecessor_AbstractAction="_WPhr_dnOEe6fH8EpLMAwgg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_WQc5DdnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WQeuMNnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_WQfVRtnOEe6fH8EpLMAwgg" encapsulatedComponent__AssemblyContext="_WQc5DdnOEe6fH8EpLMAwgg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WQeuMtnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_WQfVQNnOEe6fH8EpLMAwgg" encapsulatedComponent__AssemblyContext="_WQYnntnOEe6fH8EpLMAwgg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WQgjYdnOEe6fH8EpLMAwgg" innerProvidedRole_ProvidedDelegationConnector="_WQYnndnOEe6fH8EpLMAwgg" outerProvidedRole_ProvidedDelegationConnector="_WQeuMdnOEe6fH8EpLMAwgg" assemblyContext_ProvidedDelegationConnector="_WQfVQNnOEe6fH8EpLMAwgg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQeuMdnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_WQPdpNnOEe6fH8EpLMAwgg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WQeuNNnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_WQfVRNnOEe6fH8EpLMAwgg" encapsulatedComponent__AssemblyContext="_WQWybdnOEe6fH8EpLMAwgg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WQgjZNnOEe6fH8EpLMAwgg" innerProvidedRole_ProvidedDelegationConnector="_WQWybNnOEe6fH8EpLMAwgg" outerProvidedRole_ProvidedDelegationConnector="_WQeuM9nOEe6fH8EpLMAwgg" assemblyContext_ProvidedDelegationConnector="_WQfVRNnOEe6fH8EpLMAwgg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQeuM9nOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_WQPdodnOEe6fH8EpLMAwgg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WQeuNtnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_WQfVStnOEe6fH8EpLMAwgg" encapsulatedComponent__AssemblyContext="_WQbD2NnOEe6fH8EpLMAwgg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WQgjY9nOEe6fH8EpLMAwgg" innerProvidedRole_ProvidedDelegationConnector="_WQbD19nOEe6fH8EpLMAwgg" outerProvidedRole_ProvidedDelegationConnector="_WQeuNdnOEe6fH8EpLMAwgg" assemblyContext_ProvidedDelegationConnector="_WQfVStnOEe6fH8EpLMAwgg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQeuNdnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_WQPdoNnOEe6fH8EpLMAwgg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WQeuONnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_WQfVSNnOEe6fH8EpLMAwgg" encapsulatedComponent__AssemblyContext="_WQUWLtnOEe6fH8EpLMAwgg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WQgjYtnOEe6fH8EpLMAwgg" innerProvidedRole_ProvidedDelegationConnector="_WQUWLdnOEe6fH8EpLMAwgg" outerProvidedRole_ProvidedDelegationConnector="_WQeuN9nOEe6fH8EpLMAwgg" assemblyContext_ProvidedDelegationConnector="_WQfVSNnOEe6fH8EpLMAwgg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQeuN9nOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_WQPdo9nOEe6fH8EpLMAwgg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_WQeuO9nOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_WQfVQtnOEe6fH8EpLMAwgg" encapsulatedComponent__AssemblyContext="_WQPdqNnOEe6fH8EpLMAwgg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WQf8UNnOEe6fH8EpLMAwgg" innerProvidedRole_ProvidedDelegationConnector="_WQPdptnOEe6fH8EpLMAwgg" outerProvidedRole_ProvidedDelegationConnector="_WQeuOtnOEe6fH8EpLMAwgg" assemblyContext_ProvidedDelegationConnector="_WQfVQtnOEe6fH8EpLMAwgg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_WQgjYNnOEe6fH8EpLMAwgg" innerProvidedRole_ProvidedDelegationConnector="_WQPdp9nOEe6fH8EpLMAwgg" outerProvidedRole_ProvidedDelegationConnector="_WQeuOdnOEe6fH8EpLMAwgg" assemblyContext_ProvidedDelegationConnector="_WQfVQtnOEe6fH8EpLMAwgg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQeuOdnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_WQPdotnOEe6fH8EpLMAwgg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_WQeuOtnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_WQPdpdnOEe6fH8EpLMAwgg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WQPdoNnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_WI9J4dnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_WI9J4NnOEe6fH8EpLMAwgg">
      <parameters__OperationSignature dataType__Parameter="_WI7UsNnOEe6fH8EpLMAwgg" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WQPdodnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_WJofUNnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_WI9J4NnOEe6fH8EpLMAwgg">
      <parameters__OperationSignature dataType__Parameter="_WJmqINnOEe6fH8EpLMAwgg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WQPdotnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_WJptddnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_WJmqIdnOEe6fH8EpLMAwgg">
      <parameters__OperationSignature dataType__Parameter="_WJptc9nOEe6fH8EpLMAwgg" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_WJptdNnOEe6fH8EpLMAwgg" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WQPdo9nOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_WJptcNnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_WI9J4NnOEe6fH8EpLMAwgg">
      <parameters__OperationSignature dataType__Parameter="_WJmqINnOEe6fH8EpLMAwgg" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WQPdpNnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_WJmqItnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_WJmqIdnOEe6fH8EpLMAwgg">
      <parameters__OperationSignature dataType__Parameter="_WJmqINnOEe6fH8EpLMAwgg" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_WQPdpdnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_WJpGYdnOEe6fH8EpLMAwgg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_WJmqIdnOEe6fH8EpLMAwgg">
      <parameters__OperationSignature dataType__Parameter="_WJpGYNnOEe6fH8EpLMAwgg" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WI7UsNnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WI9J4NnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WJmqINnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WJmqIdnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WJpGYNnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WJptc9nOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_WJptdNnOEe6fH8EpLMAwgg" entityName="app_coronawarn_verification_model_TeleTanType"/>
</repository:Repository>
