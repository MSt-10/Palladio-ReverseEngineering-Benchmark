<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_LkaUVjgZEe-e_paSClJkWg">
  <components__Repository xsi:type="repository:BasicComponent" id="_LkIAdzgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkIAdjgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_LkIAcTgZEe-e_paSClJkWg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LjegMzgZEe-e_paSClJkWg" describedService__SEFF="_Ldyu8jgZEe-e_paSClJkWg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LjcD9TgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjcrADgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LjcrADgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjcD9TgZEe-e_paSClJkWg" successor_AbstractAction="_LjcrATgZEe-e_paSClJkWg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjcD-TgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LjcD-zgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LjcD9jgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjcD9zgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjcD9zgZEe-e_paSClJkWg" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_LjcD9jgZEe-e_paSClJkWg" successor_AbstractAction="_LjcD-DgZEe-e_paSClJkWg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LjcD-DgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjcD9zgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LjcrATgZEe-e_paSClJkWg" entityName="stopWatch.start()" predecessor_AbstractAction="_LjcrADgZEe-e_paSClJkWg" successor_AbstractAction="_LjegMDgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LjegMDgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjcrATgZEe-e_paSClJkWg" successor_AbstractAction="_LjegMTgZEe-e_paSClJkWg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ljd5LzgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ljd5MTgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LjcrAjgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_Ljd5LTgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ljd5LTgZEe-e_paSClJkWg" entityName="Switch Branch" predecessor_AbstractAction="_LjcrAjgZEe-e_paSClJkWg" successor_AbstractAction="_Ljd5LjgZEe-e_paSClJkWg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjdSGDgZEe-e_paSClJkWg">
                <branchBehaviour_BranchTransition id="_LjdSGjgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LjcrAzgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjcrBDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjcrBDgZEe-e_paSClJkWg" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_LjcrAzgZEe-e_paSClJkWg" successor_AbstractAction="_LjcrEDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_LjcrEDgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjcrBDgZEe-e_paSClJkWg" successor_AbstractAction="_LjcrETgZEe-e_paSClJkWg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjcrDTgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_LjcrDzgZEe-e_paSClJkWg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LjcrBTgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjcrCzgZEe-e_paSClJkWg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_LjcrCzgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjcrBTgZEe-e_paSClJkWg" successor_AbstractAction="_LjcrDDgZEe-e_paSClJkWg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjcrCDgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_LjcrCjgZEe-e_paSClJkWg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_LjcrBjgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjcrBzgZEe-e_paSClJkWg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_LjcrBzgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjcrBjgZEe-e_paSClJkWg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LjcrDDgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjcrCzgZEe-e_paSClJkWg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjcrETgZEe-e_paSClJkWg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_LjcrEDgZEe-e_paSClJkWg" successor_AbstractAction="_LjcrEjgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjcrEjgZEe-e_paSClJkWg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_LjcrETgZEe-e_paSClJkWg" successor_AbstractAction="_LjcrEzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjcrEzgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjcrEjgZEe-e_paSClJkWg" successor_AbstractAction="_LjcrFDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjcrFDgZEe-e_paSClJkWg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LjcrEzgZEe-e_paSClJkWg" successor_AbstractAction="_LjcrFTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjcrFTgZEe-e_paSClJkWg" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_LjcrFDgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSEDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjdSEDgZEe-e_paSClJkWg" entityName="deferredResult" predecessor_AbstractAction="_LjcrFTgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSETgZEe-e_paSClJkWg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjdSETgZEe-e_paSClJkWg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_LjdSEDgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSEjgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjdSEjgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjdSETgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSEzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjdSEzgZEe-e_paSClJkWg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LjdSEjgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSFDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjdSFDgZEe-e_paSClJkWg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_LjdSEzgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSFTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjdSFTgZEe-e_paSClJkWg" entityName="deferredResult" predecessor_AbstractAction="_LjdSFDgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSFjgZEe-e_paSClJkWg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjdSFjgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjdSFTgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSFzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LjdSFzgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjdSFjgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ljd5JDgZEe-e_paSClJkWg">
                <branchBehaviour_BranchTransition id="_Ljd5JjgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LjdSGzgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjdSHDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjdSHDgZEe-e_paSClJkWg" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_LjdSGzgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSHTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjdSHTgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjdSHDgZEe-e_paSClJkWg" successor_AbstractAction="_LjdSHjgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjdSHjgZEe-e_paSClJkWg" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LjdSHTgZEe-e_paSClJkWg" successor_AbstractAction="_Ljd5IDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ljd5IDgZEe-e_paSClJkWg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_LjdSHjgZEe-e_paSClJkWg" successor_AbstractAction="_Ljd5ITgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ljd5ITgZEe-e_paSClJkWg" entityName="deferredResult" predecessor_AbstractAction="_Ljd5IDgZEe-e_paSClJkWg" successor_AbstractAction="_Ljd5IjgZEe-e_paSClJkWg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ljd5IjgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ljd5ITgZEe-e_paSClJkWg" successor_AbstractAction="_Ljd5IzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ljd5IzgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_Ljd5IjgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ljd5KjgZEe-e_paSClJkWg">
                <branchBehaviour_BranchTransition id="_Ljd5LDgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ljd5JzgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_Ljd5KDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ljd5KDgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ljd5JzgZEe-e_paSClJkWg" successor_AbstractAction="_Ljd5KTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ljd5KTgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_Ljd5KDgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ljd5LjgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_Ljd5LTgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LjegMTgZEe-e_paSClJkWg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_LjegMDgZEe-e_paSClJkWg" successor_AbstractAction="_LjegMjgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LjegMjgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjegMTgZEe-e_paSClJkWg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LkLq0TgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkLq0DgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_LkIAdDgZEe-e_paSClJkWg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LjYZkjgZEe-e_paSClJkWg" describedService__SEFF="_Ldz9EjgZEe-e_paSClJkWg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LeQB8TgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjXykTgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LjXykTgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LeQB8TgZEe-e_paSClJkWg" successor_AbstractAction="_LjYZkDgZEe-e_paSClJkWg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjXyjjgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LjXykDgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LeVhgDgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjXyjDgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LjXyjDgZEe-e_paSClJkWg" entityName="Switch Branch" predecessor_AbstractAction="_LeVhgDgZEe-e_paSClJkWg" successor_AbstractAction="_LjXyjTgZEe-e_paSClJkWg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjXLczgZEe-e_paSClJkWg">
                <branchBehaviour_BranchTransition id="_LjXygDgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LeWvoDgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjUIJTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_LjUIJTgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LeWvoDgZEe-e_paSClJkWg" successor_AbstractAction="_LjUvMDgZEe-e_paSClJkWg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjUIIjgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_LjUIJDgZEe-e_paSClJkWg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LeWvoTgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjUIIDgZEe-e_paSClJkWg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_LjUIIDgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LeWvoTgZEe-e_paSClJkWg" successor_AbstractAction="_LjUIITgZEe-e_paSClJkWg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LeXWsDgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_LeX9wDgZEe-e_paSClJkWg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_LeWvojgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LeWvozgZEe-e_paSClJkWg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_LeWvozgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LeWvojgZEe-e_paSClJkWg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LjUIITgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjUIIDgZEe-e_paSClJkWg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjUvMDgZEe-e_paSClJkWg" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_LjUIJTgZEe-e_paSClJkWg" successor_AbstractAction="_LjUvMTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjUvMTgZEe-e_paSClJkWg" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_LjUvMDgZEe-e_paSClJkWg" successor_AbstractAction="_LjXLcDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjXLcDgZEe-e_paSClJkWg" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_LjUvMTgZEe-e_paSClJkWg" successor_AbstractAction="_LjXLcTgZEe-e_paSClJkWg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjXLcTgZEe-e_paSClJkWg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_LjXLcDgZEe-e_paSClJkWg" successor_AbstractAction="_LjXLcjgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LjXLcjgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjXLcTgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjXyhDgZEe-e_paSClJkWg">
                <branchBehaviour_BranchTransition id="_LjXyhjgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LjXygTgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjXygjgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjXygjgZEe-e_paSClJkWg" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_LjXygTgZEe-e_paSClJkWg" successor_AbstractAction="_LjXygzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LjXygzgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjXygjgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjXyiTgZEe-e_paSClJkWg">
                <branchBehaviour_BranchTransition id="_LjXyizgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LjXyhzgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjXyiDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LjXyiDgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjXyhzgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LjXyjTgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjXyjDgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LjYZkDgZEe-e_paSClJkWg" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_LjXykTgZEe-e_paSClJkWg" successor_AbstractAction="_LjYZkTgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LjYZkTgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjYZkDgZEe-e_paSClJkWg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LkOHFDgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkOHEzgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_LkIAcjgZEe-e_paSClJkWg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LjaOzTgZEe-e_paSClJkWg" describedService__SEFF="_LdzWBTgZEe-e_paSClJkWg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LjYZlDgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjYZmzgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LjYZmzgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjYZlDgZEe-e_paSClJkWg" successor_AbstractAction="_LjZAoDgZEe-e_paSClJkWg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjYZmDgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LjYZmjgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LjYZlTgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjYZljgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjYZljgZEe-e_paSClJkWg" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_LjYZlTgZEe-e_paSClJkWg" successor_AbstractAction="_LjYZlzgZEe-e_paSClJkWg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LjYZlzgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjYZljgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZAoDgZEe-e_paSClJkWg" entityName="stopWatch.start()" predecessor_AbstractAction="_LjYZmzgZEe-e_paSClJkWg" successor_AbstractAction="_LjaOyzgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LjaOyzgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjZAoDgZEe-e_paSClJkWg" successor_AbstractAction="_LjaOzDgZEe-e_paSClJkWg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjaOyDgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LjaOyjgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LjZAoTgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjaOxjgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LjaOxjgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjZAoTgZEe-e_paSClJkWg" successor_AbstractAction="_LjaOxzgZEe-e_paSClJkWg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjaOwzgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LjaOxTgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LjZAojgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjZntzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_LjZntzgZEe-e_paSClJkWg" entityName="Switch Branch" predecessor_AbstractAction="_LjZAojgZEe-e_paSClJkWg" successor_AbstractAction="_LjZnuDgZEe-e_paSClJkWg">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjZArTgZEe-e_paSClJkWg">
                      <branchBehaviour_BranchTransition id="_LjZArzgZEe-e_paSClJkWg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LjZAozgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjZAqjgZEe-e_paSClJkWg"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_LjZAqjgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjZAozgZEe-e_paSClJkWg" successor_AbstractAction="_LjZAqzgZEe-e_paSClJkWg">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjZApzgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_LjZAqTgZEe-e_paSClJkWg">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_LjZApDgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjZApTgZEe-e_paSClJkWg"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZApTgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjZApDgZEe-e_paSClJkWg" successor_AbstractAction="_LjZApjgZEe-e_paSClJkWg"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_LjZApjgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjZApTgZEe-e_paSClJkWg"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZAqzgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjZAqjgZEe-e_paSClJkWg" successor_AbstractAction="_LjZArDgZEe-e_paSClJkWg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LjZArDgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjZAqzgZEe-e_paSClJkWg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjZAszgZEe-e_paSClJkWg">
                      <branchBehaviour_BranchTransition id="_LjZnsDgZEe-e_paSClJkWg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LjZAsDgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjZAsTgZEe-e_paSClJkWg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZAsTgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjZAsDgZEe-e_paSClJkWg" successor_AbstractAction="_LjZAsjgZEe-e_paSClJkWg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LjZAsjgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjZAsTgZEe-e_paSClJkWg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjZntDgZEe-e_paSClJkWg">
                      <branchBehaviour_BranchTransition id="_LjZntjgZEe-e_paSClJkWg">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_LjZnsTgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjZnsjgZEe-e_paSClJkWg"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZnsjgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjZnsTgZEe-e_paSClJkWg" successor_AbstractAction="_LjZnszgZEe-e_paSClJkWg"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_LjZnszgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjZnsjgZEe-e_paSClJkWg"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZnuDgZEe-e_paSClJkWg" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_LjZntzgZEe-e_paSClJkWg" successor_AbstractAction="_LjZnuTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZnuTgZEe-e_paSClJkWg" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_LjZnuDgZEe-e_paSClJkWg" successor_AbstractAction="_LjZnujgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZnujgZEe-e_paSClJkWg" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_LjZnuTgZEe-e_paSClJkWg" successor_AbstractAction="_LjZnuzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZnuzgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjZnujgZEe-e_paSClJkWg" successor_AbstractAction="_LjZnvDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZnvDgZEe-e_paSClJkWg" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LjZnuzgZEe-e_paSClJkWg" successor_AbstractAction="_LjZnvTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjZnvTgZEe-e_paSClJkWg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_LjZnvDgZEe-e_paSClJkWg" successor_AbstractAction="_LjaOwDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjaOwDgZEe-e_paSClJkWg" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_LjZnvTgZEe-e_paSClJkWg" successor_AbstractAction="_LjaOwTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjaOwTgZEe-e_paSClJkWg" entityName="deferredResult" predecessor_AbstractAction="_LjaOwDgZEe-e_paSClJkWg" successor_AbstractAction="_LjaOwjgZEe-e_paSClJkWg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LjaOwjgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjaOwTgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LjaOxzgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjaOxjgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LjaOzDgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjaOyzgZEe-e_paSClJkWg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LkQjUTgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkQjUDgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_LkIAdTgZEe-e_paSClJkWg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LjgVczgZEe-e_paSClJkWg" describedService__SEFF="_Ld0kIDgZEe-e_paSClJkWg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LjegNTgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjegPDgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LjegPDgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjegNTgZEe-e_paSClJkWg" successor_AbstractAction="_LjegPTgZEe-e_paSClJkWg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjegOTgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_LjegOzgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LjegNjgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjegNzgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjegNzgZEe-e_paSClJkWg" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_LjegNjgZEe-e_paSClJkWg" successor_AbstractAction="_LjegODgZEe-e_paSClJkWg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LjegODgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjegNzgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_LjegPTgZEe-e_paSClJkWg" entityName="stopWatch.start()" predecessor_AbstractAction="_LjegPDgZEe-e_paSClJkWg" successor_AbstractAction="_LjgVcTgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_LjgVcTgZEe-e_paSClJkWg" entityName="Switch Branch" predecessor_AbstractAction="_LjegPTgZEe-e_paSClJkWg" successor_AbstractAction="_LjgVcjgZEe-e_paSClJkWg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjfuUzgZEe-e_paSClJkWg">
          <branchBehaviour_BranchTransition id="_LjfuVTgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LjegPjgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjegPzgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LjegPzgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjegPjgZEe-e_paSClJkWg" successor_AbstractAction="_LjegQDgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LjegQDgZEe-e_paSClJkWg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LjegPzgZEe-e_paSClJkWg" successor_AbstractAction="_LjegQTgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LjegQTgZEe-e_paSClJkWg" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_LjegQDgZEe-e_paSClJkWg" successor_AbstractAction="_LjegQjgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LjegQjgZEe-e_paSClJkWg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_LjegQTgZEe-e_paSClJkWg" successor_AbstractAction="_LjfHQDgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjfHQDgZEe-e_paSClJkWg" entityName="deferredResult" predecessor_AbstractAction="_LjegQjgZEe-e_paSClJkWg" successor_AbstractAction="_LjfHTTgZEe-e_paSClJkWg">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LjfHTTgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjfHQDgZEe-e_paSClJkWg" successor_AbstractAction="_LjfuUDgZEe-e_paSClJkWg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjfHSjgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LjfHTDgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LjfHQTgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjfHQjgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfHQjgZEe-e_paSClJkWg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_LjfHQTgZEe-e_paSClJkWg" successor_AbstractAction="_LjfHQzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfHQzgZEe-e_paSClJkWg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_LjfHQjgZEe-e_paSClJkWg" successor_AbstractAction="_LjfHRDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfHRDgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjfHQzgZEe-e_paSClJkWg" successor_AbstractAction="_LjfHRTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfHRTgZEe-e_paSClJkWg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LjfHRDgZEe-e_paSClJkWg" successor_AbstractAction="_LjfHRjgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfHRjgZEe-e_paSClJkWg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_LjfHRTgZEe-e_paSClJkWg" successor_AbstractAction="_LjfHRzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfHRzgZEe-e_paSClJkWg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_LjfHRjgZEe-e_paSClJkWg" successor_AbstractAction="_LjfHSDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjfHSDgZEe-e_paSClJkWg" entityName="deferredResult" predecessor_AbstractAction="_LjfHRzgZEe-e_paSClJkWg" successor_AbstractAction="_LjfHSTgZEe-e_paSClJkWg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LjfHSTgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjfHSDgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfuUDgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjfHTTgZEe-e_paSClJkWg" successor_AbstractAction="_LjfuUTgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfuUTgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjfuUDgZEe-e_paSClJkWg" successor_AbstractAction="_LjfuUjgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LjfuUjgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjfuUTgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjgVaDgZEe-e_paSClJkWg">
          <branchBehaviour_BranchTransition id="_LjgVajgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LjfuVjgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjgVZDgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_LjgVZDgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjfuVjgZEe-e_paSClJkWg" successor_AbstractAction="_LjgVZTgZEe-e_paSClJkWg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjgVYTgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_LjgVYzgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_LjfuVzgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjfuWDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfuWDgZEe-e_paSClJkWg" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_LjfuVzgZEe-e_paSClJkWg" successor_AbstractAction="_LjfuWTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfuWTgZEe-e_paSClJkWg" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_LjfuWDgZEe-e_paSClJkWg" successor_AbstractAction="_LjfuWjgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfuWjgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjfuWTgZEe-e_paSClJkWg" successor_AbstractAction="_LjfuWzgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfuWzgZEe-e_paSClJkWg" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_LjfuWjgZEe-e_paSClJkWg" successor_AbstractAction="_LjfuXDgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfuXDgZEe-e_paSClJkWg" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_LjfuWzgZEe-e_paSClJkWg" successor_AbstractAction="_LjfuXTgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_LjfuXTgZEe-e_paSClJkWg" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_LjfuXDgZEe-e_paSClJkWg" successor_AbstractAction="_LjfuXjgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjfuXjgZEe-e_paSClJkWg" entityName="deferredResult" predecessor_AbstractAction="_LjfuXTgZEe-e_paSClJkWg" successor_AbstractAction="_LjgVYDgZEe-e_paSClJkWg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_LjgVYDgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjfuXjgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LjgVZTgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjgVZDgZEe-e_paSClJkWg" successor_AbstractAction="_LjgVZjgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LjgVZjgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjgVZTgZEe-e_paSClJkWg" successor_AbstractAction="_LjgVZzgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LjgVZzgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjgVZjgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_LjgVbjgZEe-e_paSClJkWg">
          <branchBehaviour_BranchTransition id="_LjgVcDgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_LjgVazgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjgVbDgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_LjgVbDgZEe-e_paSClJkWg" entityName="stopWatch.stop()" predecessor_AbstractAction="_LjgVazgZEe-e_paSClJkWg" successor_AbstractAction="_LjgVbTgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_LjgVbTgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjgVbDgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LjgVcjgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjgVcTgZEe-e_paSClJkWg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LkS_kTgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkSYjTgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_LkIAczgZEe-e_paSClJkWg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkS_kDgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_LkIAcDgZEe-e_paSClJkWg"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ljbc8TgZEe-e_paSClJkWg" describedService__SEFF="_LdzWAjgZEe-e_paSClJkWg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LjaOzzgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_Lja13DgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Lja13DgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_LjaOzzgZEe-e_paSClJkWg" successor_AbstractAction="_Ljbc7zgZEe-e_paSClJkWg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lja10zgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Lja11TgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lja10DgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_Lja10TgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Lja10TgZEe-e_paSClJkWg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_Lja10DgZEe-e_paSClJkWg" successor_AbstractAction="_Lja10jgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lja10jgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_Lja10TgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Lja12TgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Lja12zgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lja11jgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_Lja11zgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_Lja11zgZEe-e_paSClJkWg" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_Lja11jgZEe-e_paSClJkWg" successor_AbstractAction="_Lja12DgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Lja12DgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_Lja11zgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ljbc7zgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_Lja13DgZEe-e_paSClJkWg" successor_AbstractAction="_Ljbc8DgZEe-e_paSClJkWg">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ljbc7DgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ljbc7jgZEe-e_paSClJkWg">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Lja13TgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_Ljbc6jgZEe-e_paSClJkWg"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ljbc6jgZEe-e_paSClJkWg" entityName="If Branch" predecessor_AbstractAction="_Lja13TgZEe-e_paSClJkWg" successor_AbstractAction="_Ljbc6zgZEe-e_paSClJkWg">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ljbc4jgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Ljbc5DgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Lja13jgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_Lja13zgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Lja13zgZEe-e_paSClJkWg" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_Lja13jgZEe-e_paSClJkWg" successor_AbstractAction="_Ljbc4DgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ljbc4DgZEe-e_paSClJkWg" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_Lja13zgZEe-e_paSClJkWg" successor_AbstractAction="_Ljbc4TgZEe-e_paSClJkWg">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ljbc4TgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_Ljbc4DgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ljbc5zgZEe-e_paSClJkWg" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Ljbc6TgZEe-e_paSClJkWg">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ljbc5TgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_Ljbc5jgZEe-e_paSClJkWg"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ljbc5jgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_Ljbc5TgZEe-e_paSClJkWg"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ljbc6zgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_Ljbc6jgZEe-e_paSClJkWg"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ljbc8DgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_Ljbc7zgZEe-e_paSClJkWg"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_LjcD8zgZEe-e_paSClJkWg" describedService__SEFF="_LdDIEDgZEe-e_paSClJkWg">
      <steps_Behaviour xsi:type="seff:StartAction" id="_LjcD8DgZEe-e_paSClJkWg" entityName="Start Action" successor_AbstractAction="_LjcD8TgZEe-e_paSClJkWg"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_LjcD8TgZEe-e_paSClJkWg" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_LjcD8DgZEe-e_paSClJkWg" successor_AbstractAction="_LjcD8jgZEe-e_paSClJkWg">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_LjcD8jgZEe-e_paSClJkWg" entityName="Stop Action" predecessor_AbstractAction="_LjcD8TgZEe-e_paSClJkWg"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_LkXRBDgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LkZGMTgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_LkZtRDgZEe-e_paSClJkWg" encapsulatedComponent__AssemblyContext="_LkOHFDgZEe-e_paSClJkWg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Lka7YDgZEe-e_paSClJkWg" innerProvidedRole_ProvidedDelegationConnector="_LkOHEzgZEe-e_paSClJkWg" outerProvidedRole_ProvidedDelegationConnector="_LkZGMDgZEe-e_paSClJkWg" assemblyContext_ProvidedDelegationConnector="_LkZtRDgZEe-e_paSClJkWg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkZGMDgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_LkIAcjgZEe-e_paSClJkWg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LkZGMjgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_LkaUVDgZEe-e_paSClJkWg" encapsulatedComponent__AssemblyContext="_LkXRBDgZEe-e_paSClJkWg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LkZGNDgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_LkZtQDgZEe-e_paSClJkWg" encapsulatedComponent__AssemblyContext="_LkQjUTgZEe-e_paSClJkWg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Lka7ZDgZEe-e_paSClJkWg" innerProvidedRole_ProvidedDelegationConnector="_LkQjUDgZEe-e_paSClJkWg" outerProvidedRole_ProvidedDelegationConnector="_LkZGMzgZEe-e_paSClJkWg" assemblyContext_ProvidedDelegationConnector="_LkZtQDgZEe-e_paSClJkWg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkZGMzgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_LkIAdTgZEe-e_paSClJkWg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LkZGNjgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_LkZtQjgZEe-e_paSClJkWg" encapsulatedComponent__AssemblyContext="_LkIAdzgZEe-e_paSClJkWg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Lka7ZTgZEe-e_paSClJkWg" innerProvidedRole_ProvidedDelegationConnector="_LkIAdjgZEe-e_paSClJkWg" outerProvidedRole_ProvidedDelegationConnector="_LkZGNTgZEe-e_paSClJkWg" assemblyContext_ProvidedDelegationConnector="_LkZtQjgZEe-e_paSClJkWg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkZGNTgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_LkIAcTgZEe-e_paSClJkWg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LkZGODgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_LkaUUjgZEe-e_paSClJkWg" encapsulatedComponent__AssemblyContext="_LkLq0TgZEe-e_paSClJkWg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Lka7YjgZEe-e_paSClJkWg" innerProvidedRole_ProvidedDelegationConnector="_LkLq0DgZEe-e_paSClJkWg" outerProvidedRole_ProvidedDelegationConnector="_LkZGNzgZEe-e_paSClJkWg" assemblyContext_ProvidedDelegationConnector="_LkaUUjgZEe-e_paSClJkWg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkZGNzgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_LkIAdDgZEe-e_paSClJkWg"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_LkZGOzgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_LkaUUDgZEe-e_paSClJkWg" encapsulatedComponent__AssemblyContext="_LkS_kTgZEe-e_paSClJkWg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Lka7YTgZEe-e_paSClJkWg" innerProvidedRole_ProvidedDelegationConnector="_LkS_kDgZEe-e_paSClJkWg" outerProvidedRole_ProvidedDelegationConnector="_LkZGOTgZEe-e_paSClJkWg" assemblyContext_ProvidedDelegationConnector="_LkaUUDgZEe-e_paSClJkWg"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_Lka7YzgZEe-e_paSClJkWg" innerProvidedRole_ProvidedDelegationConnector="_LkSYjTgZEe-e_paSClJkWg" outerProvidedRole_ProvidedDelegationConnector="_LkZGOjgZEe-e_paSClJkWg" assemblyContext_ProvidedDelegationConnector="_LkaUUDgZEe-e_paSClJkWg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkZGOTgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_LkIAcDgZEe-e_paSClJkWg"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_LkZGOjgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_LkIAczgZEe-e_paSClJkWg"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LkIAcDgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_LdDIEDgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_LdChADgZEe-e_paSClJkWg">
      <parameters__OperationSignature dataType__Parameter="_LdBS4DgZEe-e_paSClJkWg" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LkIAcTgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_Ldyu8jgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_Ldyu8TgZEe-e_paSClJkWg">
      <parameters__OperationSignature dataType__Parameter="_Ldyu8DgZEe-e_paSClJkWg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LkIAcjgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_LdzWBTgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_Ldyu8TgZEe-e_paSClJkWg">
      <parameters__OperationSignature dataType__Parameter="_Ldyu8DgZEe-e_paSClJkWg" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LkIAczgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_LdzWAjgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_LdChADgZEe-e_paSClJkWg">
      <parameters__OperationSignature dataType__Parameter="_LdzWADgZEe-e_paSClJkWg" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_LdzWATgZEe-e_paSClJkWg" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LkIAdDgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_Ldz9EjgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_LdChADgZEe-e_paSClJkWg">
      <parameters__OperationSignature dataType__Parameter="_Ldyu8DgZEe-e_paSClJkWg" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_LkIAdTgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_Ld0kIDgZEe-e_paSClJkWg" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_Ldyu8TgZEe-e_paSClJkWg">
      <parameters__OperationSignature dataType__Parameter="_Ldz9FTgZEe-e_paSClJkWg" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LdBS4DgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LdChADgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ldyu8DgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ldyu8TgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LdzWADgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_LdzWATgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Ldz9FTgZEe-e_paSClJkWg" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
