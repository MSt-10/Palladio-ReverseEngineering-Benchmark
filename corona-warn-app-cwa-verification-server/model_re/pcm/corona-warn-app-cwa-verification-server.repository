<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_dLTfjF6aEe-nbpkKgELeWA">
  <components__Repository xsi:type="repository:BasicComponent" id="_dLCZx16aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLCZxl6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_dLCZwV6aEe-nbpkKgELeWA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_dKV2N16aEe-nbpkKgELeWA" describedService__SEFF="_dEklYF6aEe-nbpkKgELeWA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_dFDGgV6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKQ9sV6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_dKQ9sV6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dFDGgV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKRkwF6aEe-nbpkKgELeWA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKPvkF6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_dKQ9sF6aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dFFiwF6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKPIgF6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKPIgF6aEe-nbpkKgELeWA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_dFFiwF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKPIgV6aEe-nbpkKgELeWA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKPIgV6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKPIgF6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_dKRkwF6aEe-nbpkKgELeWA" entityName="stopWatch.start()" predecessor_AbstractAction="_dKQ9sV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKV2NV6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_dKV2NV6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKRkwF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKV2Nl6aEe-nbpkKgELeWA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKV2Ml6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_dKV2NF6aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKRkwV6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKV2MF6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_dKV2MF6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKRkwV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKV2MV6aEe-nbpkKgELeWA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKTZ-l6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_dKTZ_F6aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKSL0F6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKTZ8F6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_dKTZ8F6aEe-nbpkKgELeWA" entityName="Switch Branch" predecessor_AbstractAction="_dKSL0F6aEe-nbpkKgELeWA" successor_AbstractAction="_dKTZ8V6aEe-nbpkKgELeWA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKSy516aEe-nbpkKgELeWA">
                      <branchBehaviour_BranchTransition id="_dKSy6V6aEe-nbpkKgELeWA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_dKSL0V6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKSy5F6aEe-nbpkKgELeWA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_dKSy5F6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKSL0V6aEe-nbpkKgELeWA" successor_AbstractAction="_dKSy5V6aEe-nbpkKgELeWA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKSy4V6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_dKSy416aEe-nbpkKgELeWA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_dKSL0l6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKSL016aEe-nbpkKgELeWA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_dKSL016aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKSL0l6aEe-nbpkKgELeWA" successor_AbstractAction="_dKSy4F6aEe-nbpkKgELeWA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_dKSy4F6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKSL016aEe-nbpkKgELeWA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_dKSy5V6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKSy5F6aEe-nbpkKgELeWA" successor_AbstractAction="_dKSy5l6aEe-nbpkKgELeWA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_dKSy5l6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKSy5V6aEe-nbpkKgELeWA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKSy7V6aEe-nbpkKgELeWA">
                      <branchBehaviour_BranchTransition id="_dKSy716aEe-nbpkKgELeWA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_dKSy6l6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKSy616aEe-nbpkKgELeWA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_dKSy616aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKSy6l6aEe-nbpkKgELeWA" successor_AbstractAction="_dKSy7F6aEe-nbpkKgELeWA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_dKSy7F6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKSy616aEe-nbpkKgELeWA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKSy816aEe-nbpkKgELeWA">
                      <branchBehaviour_BranchTransition id="_dKSy9V6aEe-nbpkKgELeWA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_dKSy8F6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKSy8V6aEe-nbpkKgELeWA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_dKSy8V6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKSy8F6aEe-nbpkKgELeWA" successor_AbstractAction="_dKSy8l6aEe-nbpkKgELeWA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_dKSy8l6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKSy8V6aEe-nbpkKgELeWA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKTZ8V6aEe-nbpkKgELeWA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_dKTZ8F6aEe-nbpkKgELeWA" successor_AbstractAction="_dKTZ8l6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKTZ8l6aEe-nbpkKgELeWA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_dKTZ8V6aEe-nbpkKgELeWA" successor_AbstractAction="_dKTZ816aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKTZ816aEe-nbpkKgELeWA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_dKTZ8l6aEe-nbpkKgELeWA" successor_AbstractAction="_dKTZ9F6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKTZ9F6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKTZ816aEe-nbpkKgELeWA" successor_AbstractAction="_dKTZ9V6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKTZ9V6aEe-nbpkKgELeWA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_dKTZ9F6aEe-nbpkKgELeWA" successor_AbstractAction="_dKTZ9l6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKTZ9l6aEe-nbpkKgELeWA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_dKTZ9V6aEe-nbpkKgELeWA" successor_AbstractAction="_dKTZ916aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKTZ916aEe-nbpkKgELeWA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_dKTZ9l6aEe-nbpkKgELeWA" successor_AbstractAction="_dKTZ-F6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKTZ-F6aEe-nbpkKgELeWA" entityName="deferredResult" predecessor_AbstractAction="_dKTZ916aEe-nbpkKgELeWA" successor_AbstractAction="_dKTZ-V6aEe-nbpkKgELeWA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKTZ-V6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKTZ-F6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKV2MV6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKV2MF6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_dKV2Nl6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKV2NV6aEe-nbpkKgELeWA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_dLFdGV6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLFdGF6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_dLCZwl6aEe-nbpkKgELeWA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_dKcj816aEe-nbpkKgELeWA" describedService__SEFF="_dEjXRF6aEe-nbpkKgELeWA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_dKaus16aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKauul6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_dKauul6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKaus16aEe-nbpkKgELeWA" successor_AbstractAction="_dKauu16aEe-nbpkKgELeWA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKaut16aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_dKauuV6aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKautF6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKautV6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKautV6aEe-nbpkKgELeWA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_dKautF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKautl6aEe-nbpkKgELeWA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKautl6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKautV6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_dKauu16aEe-nbpkKgELeWA" entityName="stopWatch.start()" predecessor_AbstractAction="_dKauul6aEe-nbpkKgELeWA" successor_AbstractAction="_dKcj8V6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_dKcj8V6aEe-nbpkKgELeWA" entityName="Switch Branch" predecessor_AbstractAction="_dKauu16aEe-nbpkKgELeWA" successor_AbstractAction="_dKcj8l6aEe-nbpkKgELeWA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKbVz16aEe-nbpkKgELeWA">
          <branchBehaviour_BranchTransition id="_dKbV0V6aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKauvF6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKauvV6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKauvV6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKauvF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKauvl6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKauvl6aEe-nbpkKgELeWA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_dKauvV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKauv16aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKauv16aEe-nbpkKgELeWA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_dKauvl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKauwF6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKauwF6aEe-nbpkKgELeWA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_dKauv16aEe-nbpkKgELeWA" successor_AbstractAction="_dKauwV6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKauwV6aEe-nbpkKgELeWA" entityName="deferredResult" predecessor_AbstractAction="_dKauwF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVy16aEe-nbpkKgELeWA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_dKbVy16aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKauwV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVzF6aEe-nbpkKgELeWA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKbVyF6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_dKbVyl6aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKauwl6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKbVwF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKbVwF6aEe-nbpkKgELeWA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_dKauwl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVwV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKbVwV6aEe-nbpkKgELeWA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_dKbVwF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVwl6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKbVwl6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKbVwV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVw16aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKbVw16aEe-nbpkKgELeWA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_dKbVwl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVxF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKbVxF6aEe-nbpkKgELeWA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_dKbVw16aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVxV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKbVxV6aEe-nbpkKgELeWA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_dKbVxF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVxl6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKbVxl6aEe-nbpkKgELeWA" entityName="deferredResult" predecessor_AbstractAction="_dKbVxV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVx16aEe-nbpkKgELeWA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKbVx16aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKbVxl6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKbVzF6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKbVy16aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVzV6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKbVzV6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKbVzF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKbVzl6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKbVzl6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKbVzV6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKcj6F6aEe-nbpkKgELeWA">
          <branchBehaviour_BranchTransition id="_dKcj6l6aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKb80F6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKcj5F6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_dKcj5F6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKb80F6aEe-nbpkKgELeWA" successor_AbstractAction="_dKcj5V6aEe-nbpkKgELeWA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKcj4V6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_dKcj416aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKb80V6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKb80l6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKb80l6aEe-nbpkKgELeWA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_dKb80V6aEe-nbpkKgELeWA" successor_AbstractAction="_dKb8016aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKb8016aEe-nbpkKgELeWA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_dKb80l6aEe-nbpkKgELeWA" successor_AbstractAction="_dKb81F6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKb81F6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKb8016aEe-nbpkKgELeWA" successor_AbstractAction="_dKb81V6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKb81V6aEe-nbpkKgELeWA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_dKb81F6aEe-nbpkKgELeWA" successor_AbstractAction="_dKb81l6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKb81l6aEe-nbpkKgELeWA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_dKb81V6aEe-nbpkKgELeWA" successor_AbstractAction="_dKb8116aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKb8116aEe-nbpkKgELeWA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_dKb81l6aEe-nbpkKgELeWA" successor_AbstractAction="_dKb82F6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKb82F6aEe-nbpkKgELeWA" entityName="deferredResult" predecessor_AbstractAction="_dKb8116aEe-nbpkKgELeWA" successor_AbstractAction="_dKcj4F6aEe-nbpkKgELeWA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKcj4F6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKb82F6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKcj5V6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKcj5F6aEe-nbpkKgELeWA" successor_AbstractAction="_dKcj5l6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKcj5l6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKcj5V6aEe-nbpkKgELeWA" successor_AbstractAction="_dKcj516aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKcj516aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKcj5l6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKcj7l6aEe-nbpkKgELeWA">
          <branchBehaviour_BranchTransition id="_dKcj8F6aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKcj616aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKcj7F6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKcj7F6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKcj616aEe-nbpkKgELeWA" successor_AbstractAction="_dKcj7V6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKcj7V6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKcj7F6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_dKcj8l6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKcj8V6aEe-nbpkKgELeWA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_dLH5Xl6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLH5XV6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_dLCZxF6aEe-nbpkKgELeWA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_dKYSd16aEe-nbpkKgELeWA" describedService__SEFF="_dEklY16aEe-nbpkKgELeWA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_dKWdQV6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKWdSF6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_dKWdSF6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKWdQV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKWdSV6aEe-nbpkKgELeWA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKWdRV6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_dKWdR16aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKWdQl6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKWdQ16aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKWdQ16aEe-nbpkKgELeWA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_dKWdQl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKWdRF6aEe-nbpkKgELeWA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKWdRF6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKWdQ16aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_dKWdSV6aEe-nbpkKgELeWA" entityName="stopWatch.start()" predecessor_AbstractAction="_dKWdSF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKYSdF6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_dKYSdF6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKWdSV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKYSdV6aEe-nbpkKgELeWA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKYScV6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_dKYSc16aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKWdSl6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKXrcV6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_dKXrcV6aEe-nbpkKgELeWA" entityName="Switch Branch" predecessor_AbstractAction="_dKWdSl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKYScF6aEe-nbpkKgELeWA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKXEXl6aEe-nbpkKgELeWA">
                <branchBehaviour_BranchTransition id="_dKXEYF6aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKWdS16aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKWdTF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKWdTF6aEe-nbpkKgELeWA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_dKWdS16aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEUF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_dKXEUF6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKWdTF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEUV6aEe-nbpkKgELeWA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKWdVV6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_dKWdV16aEe-nbpkKgELeWA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_dKWdTV6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKWdU16aEe-nbpkKgELeWA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_dKWdU16aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKWdTV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKWdVF6aEe-nbpkKgELeWA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKWdUF6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_dKWdUl6aEe-nbpkKgELeWA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_dKWdTl6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKWdT16aEe-nbpkKgELeWA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_dKWdT16aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKWdTl6aEe-nbpkKgELeWA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_dKWdVF6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKWdU16aEe-nbpkKgELeWA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEUV6aEe-nbpkKgELeWA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_dKXEUF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEUl6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEUl6aEe-nbpkKgELeWA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_dKXEUV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEU16aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEU16aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKXEUl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEVF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEVF6aEe-nbpkKgELeWA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_dKXEU16aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEVV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEVV6aEe-nbpkKgELeWA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_dKXEVF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEVl6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKXEVl6aEe-nbpkKgELeWA" entityName="deferredResult" predecessor_AbstractAction="_dKXEVV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEV16aEe-nbpkKgELeWA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEV16aEe-nbpkKgELeWA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_dKXEVl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEWF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEWF6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKXEV16aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEWV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEWV6aEe-nbpkKgELeWA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_dKXEWF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEWl6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEWl6aEe-nbpkKgELeWA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_dKXEWV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEW16aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKXEW16aEe-nbpkKgELeWA" entityName="deferredResult" predecessor_AbstractAction="_dKXEWl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEXF6aEe-nbpkKgELeWA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXEXF6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKXEW16aEe-nbpkKgELeWA" successor_AbstractAction="_dKXEXV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKXEXV6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKXEXF6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKXraF6aEe-nbpkKgELeWA">
                <branchBehaviour_BranchTransition id="_dKXral6aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKXrYF6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKXrYV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXrYV6aEe-nbpkKgELeWA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_dKXrYF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXrYl6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXrYl6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKXrYV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXrY16aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXrY16aEe-nbpkKgELeWA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_dKXrYl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXrZF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXrZF6aEe-nbpkKgELeWA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_dKXrY16aEe-nbpkKgELeWA" successor_AbstractAction="_dKXrZV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKXrZV6aEe-nbpkKgELeWA" entityName="deferredResult" predecessor_AbstractAction="_dKXrZF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXrZl6aEe-nbpkKgELeWA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXrZl6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKXrZV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKXrZ16aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKXrZ16aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKXrZl6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKXrbl6aEe-nbpkKgELeWA">
                <branchBehaviour_BranchTransition id="_dKXrcF6aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKXra16aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKXrbF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKXrbF6aEe-nbpkKgELeWA" entityName="stopWatch.stop()" predecessor_AbstractAction="_dKXra16aEe-nbpkKgELeWA" successor_AbstractAction="_dKXrbV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKXrbV6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKXrbF6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKYScF6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKXrcV6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_dKYSdV6aEe-nbpkKgELeWA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_dKYSdF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKYSdl6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_dKYSdl6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKYSdV6aEe-nbpkKgELeWA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_dLKVn16aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLKVnV6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_dLCZxV6aEe-nbpkKgELeWA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLKVnl6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_dLCZwF6aEe-nbpkKgELeWA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_dKaHrV6aEe-nbpkKgELeWA" describedService__SEFF="_dDwGAF6aEe-nbpkKgELeWA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_dKZgkV6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKZgnl6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_dKZgnl6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKZgkV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKaHq16aEe-nbpkKgELeWA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKZglV6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_dKZgl16aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKZgkl6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKZgk16aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKZgk16aEe-nbpkKgELeWA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_dKZgkl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKZglF6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKZglF6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKZgk16aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKZgm16aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_dKZgnV6aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKZgmF6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKZgmV6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_dKZgmV6aEe-nbpkKgELeWA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_dKZgmF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKZgml6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKZgml6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKZgmV6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_dKaHq16aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKZgnl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKaHrF6aEe-nbpkKgELeWA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKaHqF6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_dKaHql6aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKZgn16aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKaHpl6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_dKaHpl6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKZgn16aEe-nbpkKgELeWA" successor_AbstractAction="_dKaHp16aEe-nbpkKgELeWA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKZgpF6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_dKaHoF6aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKZgoF6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKZgoV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKZgoV6aEe-nbpkKgELeWA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_dKZgoF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKZgol6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKZgol6aEe-nbpkKgELeWA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_dKZgoV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKZgo16aEe-nbpkKgELeWA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKZgo16aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKZgol6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKaHo16aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_dKaHpV6aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKaHoV6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKaHol6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKaHol6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKaHoV6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKaHp16aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKaHpl6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_dKaHrF6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKaHq16aEe-nbpkKgELeWA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_dKausV6aEe-nbpkKgELeWA" describedService__SEFF="_dEj-U16aEe-nbpkKgELeWA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_dKaHr16aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKaHsF6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKaHsF6aEe-nbpkKgELeWA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_dKaHr16aEe-nbpkKgELeWA" successor_AbstractAction="_dKausF6aEe-nbpkKgELeWA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_dKausF6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKaHsF6aEe-nbpkKgELeWA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_dLOnDV6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_dLOnD16aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLOnDl6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_dLCZw16aEe-nbpkKgELeWA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_dKY5mV6aEe-nbpkKgELeWA" describedService__SEFF="_dEiwMV6aEe-nbpkKgELeWA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_dKYSeV6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKY5ll6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_dKY5ll6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKYSeV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKY5l16aEe-nbpkKgELeWA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKY5k16aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_dKY5lV6aEe-nbpkKgELeWA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_dKYSel6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKY5kV6aEe-nbpkKgELeWA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_dKY5kV6aEe-nbpkKgELeWA" entityName="Switch Branch" predecessor_AbstractAction="_dKYSel6aEe-nbpkKgELeWA" successor_AbstractAction="_dKY5kl6aEe-nbpkKgELeWA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKY5g16aEe-nbpkKgELeWA">
                <branchBehaviour_BranchTransition id="_dKY5hV6aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKYSe16aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKYSh16aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_dKYSh16aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKYSe16aEe-nbpkKgELeWA" successor_AbstractAction="_dKYSiF6aEe-nbpkKgELeWA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKYShF6aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_dKYShl6aEe-nbpkKgELeWA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_dKYSfF6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKYSgl6aEe-nbpkKgELeWA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_dKYSgl6aEe-nbpkKgELeWA" entityName="If Branch" predecessor_AbstractAction="_dKYSfF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKYSg16aEe-nbpkKgELeWA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKYSf16aEe-nbpkKgELeWA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_dKYSgV6aEe-nbpkKgELeWA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_dKYSfV6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKYSfl6aEe-nbpkKgELeWA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_dKYSfl6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKYSfV6aEe-nbpkKgELeWA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_dKYSg16aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKYSgl6aEe-nbpkKgELeWA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKYSiF6aEe-nbpkKgELeWA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_dKYSh16aEe-nbpkKgELeWA" successor_AbstractAction="_dKYSiV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKYSiV6aEe-nbpkKgELeWA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_dKYSiF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKY5gF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_dKY5gF6aEe-nbpkKgELeWA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_dKYSiV6aEe-nbpkKgELeWA" successor_AbstractAction="_dKY5gV6aEe-nbpkKgELeWA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKY5gV6aEe-nbpkKgELeWA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_dKY5gF6aEe-nbpkKgELeWA" successor_AbstractAction="_dKY5gl6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKY5gl6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKY5gV6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKY5iV6aEe-nbpkKgELeWA">
                <branchBehaviour_BranchTransition id="_dKY5i16aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKY5hl6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKY5h16aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_dKY5h16aEe-nbpkKgELeWA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_dKY5hl6aEe-nbpkKgELeWA" successor_AbstractAction="_dKY5iF6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKY5iF6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKY5h16aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_dKY5jl6aEe-nbpkKgELeWA">
                <branchBehaviour_BranchTransition id="_dKY5kF6aEe-nbpkKgELeWA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_dKY5jF6aEe-nbpkKgELeWA" entityName="Start Action" successor_AbstractAction="_dKY5jV6aEe-nbpkKgELeWA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_dKY5jV6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKY5jF6aEe-nbpkKgELeWA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_dKY5kl6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKY5kV6aEe-nbpkKgELeWA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_dKY5l16aEe-nbpkKgELeWA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_dKY5ll6aEe-nbpkKgELeWA" successor_AbstractAction="_dKY5mF6aEe-nbpkKgELeWA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_dKY5mF6aEe-nbpkKgELeWA" entityName="Stop Action" predecessor_AbstractAction="_dKY5l16aEe-nbpkKgELeWA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_dLS4cV6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_dLTfgl6aEe-nbpkKgELeWA" encapsulatedComponent__AssemblyContext="_dLH5Xl6aEe-nbpkKgELeWA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_dLUtpV6aEe-nbpkKgELeWA" innerProvidedRole_ProvidedDelegationConnector="_dLH5XV6aEe-nbpkKgELeWA" outerProvidedRole_ProvidedDelegationConnector="_dLS4cF6aEe-nbpkKgELeWA" assemblyContext_ProvidedDelegationConnector="_dLTfgl6aEe-nbpkKgELeWA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLS4cF6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_dLCZxF6aEe-nbpkKgELeWA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_dLS4dF6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_dLTfhF6aEe-nbpkKgELeWA" encapsulatedComponent__AssemblyContext="_dLKVn16aEe-nbpkKgELeWA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_dLUtoF6aEe-nbpkKgELeWA" innerProvidedRole_ProvidedDelegationConnector="_dLKVnV6aEe-nbpkKgELeWA" outerProvidedRole_ProvidedDelegationConnector="_dLS4cl6aEe-nbpkKgELeWA" assemblyContext_ProvidedDelegationConnector="_dLTfhF6aEe-nbpkKgELeWA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_dLUto16aEe-nbpkKgELeWA" innerProvidedRole_ProvidedDelegationConnector="_dLKVnl6aEe-nbpkKgELeWA" outerProvidedRole_ProvidedDelegationConnector="_dLS4c16aEe-nbpkKgELeWA" assemblyContext_ProvidedDelegationConnector="_dLTfhF6aEe-nbpkKgELeWA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLS4cl6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_dLCZxV6aEe-nbpkKgELeWA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLS4c16aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_dLCZwF6aEe-nbpkKgELeWA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_dLS4dl6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_dLTfgF6aEe-nbpkKgELeWA" encapsulatedComponent__AssemblyContext="_dLFdGV6aEe-nbpkKgELeWA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_dLUtol6aEe-nbpkKgELeWA" innerProvidedRole_ProvidedDelegationConnector="_dLFdGF6aEe-nbpkKgELeWA" outerProvidedRole_ProvidedDelegationConnector="_dLS4dV6aEe-nbpkKgELeWA" assemblyContext_ProvidedDelegationConnector="_dLTfgF6aEe-nbpkKgELeWA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLS4dV6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_dLCZwl6aEe-nbpkKgELeWA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_dLS4eF6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_dLTfhl6aEe-nbpkKgELeWA" encapsulatedComponent__AssemblyContext="_dLCZx16aEe-nbpkKgELeWA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_dLUtoV6aEe-nbpkKgELeWA" innerProvidedRole_ProvidedDelegationConnector="_dLCZxl6aEe-nbpkKgELeWA" outerProvidedRole_ProvidedDelegationConnector="_dLS4d16aEe-nbpkKgELeWA" assemblyContext_ProvidedDelegationConnector="_dLTfhl6aEe-nbpkKgELeWA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLS4d16aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_dLCZwV6aEe-nbpkKgELeWA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_dLS4el6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_dLTfil6aEe-nbpkKgELeWA" encapsulatedComponent__AssemblyContext="_dLOnD16aEe-nbpkKgELeWA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_dLUtpF6aEe-nbpkKgELeWA" innerProvidedRole_ProvidedDelegationConnector="_dLOnDl6aEe-nbpkKgELeWA" outerProvidedRole_ProvidedDelegationConnector="_dLS4eV6aEe-nbpkKgELeWA" assemblyContext_ProvidedDelegationConnector="_dLTfil6aEe-nbpkKgELeWA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_dLS4eV6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_dLCZw16aEe-nbpkKgELeWA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_dLS4e16aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_dLTfiF6aEe-nbpkKgELeWA" encapsulatedComponent__AssemblyContext="_dLOnDV6aEe-nbpkKgELeWA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_dLCZwF6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_dEj-U16aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_dDve8V6aEe-nbpkKgELeWA">
      <parameters__OperationSignature dataType__Parameter="_dEj-Ul6aEe-nbpkKgELeWA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_dLCZwV6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_dEklYF6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_dEjXQ16aEe-nbpkKgELeWA">
      <parameters__OperationSignature dataType__Parameter="_dEiwMF6aEe-nbpkKgELeWA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_dLCZwl6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_dEjXRF6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_dEjXQ16aEe-nbpkKgELeWA">
      <parameters__OperationSignature dataType__Parameter="_dEjXQl6aEe-nbpkKgELeWA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_dLCZw16aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_dEiwMV6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_dDve8V6aEe-nbpkKgELeWA">
      <parameters__OperationSignature dataType__Parameter="_dEiwMF6aEe-nbpkKgELeWA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_dLCZxF6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_dEklY16aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_dEjXQ16aEe-nbpkKgELeWA">
      <parameters__OperationSignature dataType__Parameter="_dEiwMF6aEe-nbpkKgELeWA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_dLCZxV6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_dDwGAF6aEe-nbpkKgELeWA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_dDve8V6aEe-nbpkKgELeWA">
      <parameters__OperationSignature dataType__Parameter="_dDuQ0F6aEe-nbpkKgELeWA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_dDve8F6aEe-nbpkKgELeWA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dDuQ0F6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dDve8F6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dDve8V6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dEiwMF6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dEjXQl6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dEjXQ16aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_dEj-Ul6aEe-nbpkKgELeWA" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
