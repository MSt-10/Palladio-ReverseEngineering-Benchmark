<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_p-EPzGc_Ee-oGtvpDokw9Q">
  <components__Repository xsi:type="repository:BasicComponent" id="_p9zxF2c_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p9zxFmc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_p9zxFWc_Ee-oGtvpDokw9Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_p9Le82c_Ee-oGtvpDokw9Q" describedService__SEFF="_p3twIGc_Ee-oGtvpDokw9Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_p9Jp0Gc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9KQ0Wc_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_p9KQ0Wc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9Jp0Gc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9KQ0mc_Ee-oGtvpDokw9Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9Jp1Gc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_p9KQ0Gc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9Jp0Wc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9Jp0mc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9Jp0mc_Ee-oGtvpDokw9Q" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_p9Jp0Wc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Jp02c_Ee-oGtvpDokw9Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9Jp02c_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9Jp0mc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_p9KQ0mc_Ee-oGtvpDokw9Q" entityName="stopWatch.start()" predecessor_AbstractAction="_p9KQ0Wc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Le8Wc_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_p9Le8Wc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9KQ0mc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Le8mc_Ee-oGtvpDokw9Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9K39Wc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_p9Le8Gc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9KQ02c_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9K382c_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_p9K382c_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9KQ02c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K39Gc_Ee-oGtvpDokw9Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9K38Gc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_p9K38mc_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9KQ1Gc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9K35mc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_p9K35mc_Ee-oGtvpDokw9Q" entityName="Switch Branch" predecessor_AbstractAction="_p9KQ1Gc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K352c_Ee-oGtvpDokw9Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9KQ32c_Ee-oGtvpDokw9Q">
                      <branchBehaviour_BranchTransition id="_p9KQ4Wc_Ee-oGtvpDokw9Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_p9KQ1Wc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9KQ3Gc_Ee-oGtvpDokw9Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_p9KQ3Gc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9KQ1Wc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9KQ3Wc_Ee-oGtvpDokw9Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9KQ2Wc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_p9KQ22c_Ee-oGtvpDokw9Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_p9KQ1mc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9KQ12c_Ee-oGtvpDokw9Q"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_p9KQ12c_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9KQ1mc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9KQ2Gc_Ee-oGtvpDokw9Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_p9KQ2Gc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9KQ12c_Ee-oGtvpDokw9Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_p9KQ3Wc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9KQ3Gc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9KQ3mc_Ee-oGtvpDokw9Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_p9KQ3mc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9KQ3Wc_Ee-oGtvpDokw9Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9KQ5Wc_Ee-oGtvpDokw9Q">
                      <branchBehaviour_BranchTransition id="_p9KQ52c_Ee-oGtvpDokw9Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_p9KQ4mc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9KQ42c_Ee-oGtvpDokw9Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_p9KQ42c_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9KQ4mc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9KQ5Gc_Ee-oGtvpDokw9Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_p9KQ5Gc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9KQ42c_Ee-oGtvpDokw9Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9K342c_Ee-oGtvpDokw9Q">
                      <branchBehaviour_BranchTransition id="_p9K35Wc_Ee-oGtvpDokw9Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_p9K34Gc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9K34Wc_Ee-oGtvpDokw9Q"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_p9K34Wc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9K34Gc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K34mc_Ee-oGtvpDokw9Q"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_p9K34mc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9K34Wc_Ee-oGtvpDokw9Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9K352c_Ee-oGtvpDokw9Q" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_p9K35mc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K36Gc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9K36Gc_Ee-oGtvpDokw9Q" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_p9K352c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K36Wc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9K36Wc_Ee-oGtvpDokw9Q" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_p9K36Gc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K36mc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9K36mc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9K36Wc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K362c_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9K362c_Ee-oGtvpDokw9Q" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_p9K36mc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K37Gc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9K37Gc_Ee-oGtvpDokw9Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_p9K362c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K37Wc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9K37Wc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_p9K37Gc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K37mc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9K37mc_Ee-oGtvpDokw9Q" entityName="deferredResult" predecessor_AbstractAction="_p9K37Wc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9K372c_Ee-oGtvpDokw9Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9K372c_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9K37mc_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9K39Gc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9K382c_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_p9Le8mc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9Le8Wc_Ee-oGtvpDokw9Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_p920ZWc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p920Y2c_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_p9zxEWc_Ee-oGtvpDokw9Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p920ZGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_p9zxEmc_Ee-oGtvpDokw9Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_p9GmdWc_Ee-oGtvpDokw9Q" describedService__SEFF="_p3twJGc_Ee-oGtvpDokw9Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_p9Gmcmc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9Gmc2c_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9Gmc2c_Ee-oGtvpDokw9Q" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_p9Gmcmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9GmdGc_Ee-oGtvpDokw9Q">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_p9GmdGc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9Gmc2c_Ee-oGtvpDokw9Q"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_p9GmcGc_Ee-oGtvpDokw9Q" describedService__SEFF="_p3siBmc_Ee-oGtvpDokw9Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_p4LqMWc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9C8Fmc_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_p9C8Fmc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p4LqMWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9F_b2c_Ee-oGtvpDokw9Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p4PUkGc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_p4P7oGc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p4NfYGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p4OGcGc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p4OGcGc_Ee-oGtvpDokw9Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_p4NfYGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p4OGcWc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p4OGcWc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p4OGcGc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9C8E2c_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_p9C8FWc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9C8EGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9C8EWc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9C8EWc_Ee-oGtvpDokw9Q" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_p9C8EGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9C8Emc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9C8Emc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9C8EWc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_p9F_b2c_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9C8Fmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9F_cGc_Ee-oGtvpDokw9Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9F_bGc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_p9F_bmc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9DjIGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9F_amc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_p9F_amc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9DjIGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9F_a2c_Ee-oGtvpDokw9Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9F_Ymc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_p9F_ZGc_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9DjIWc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9DjImc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9DjImc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_p9DjIWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9F_YGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9F_YGc_Ee-oGtvpDokw9Q" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_p9DjImc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9F_YWc_Ee-oGtvpDokw9Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9F_YWc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9F_YGc_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9F_Z2c_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_p9F_aWc_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9F_ZWc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9F_Zmc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9F_Zmc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9F_ZWc_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9F_a2c_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9F_amc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_p9F_cGc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9F_b2c_Ee-oGtvpDokw9Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_p97F3Gc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p97F22c_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_p9zxE2c_Ee-oGtvpDokw9Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_p9Jpzmc_Ee-oGtvpDokw9Q" describedService__SEFF="_p29iMGc_Ee-oGtvpDokw9Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_p9Gmd2c_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9HNhmc_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_p9HNhmc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9Gmd2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9HNh2c_Ee-oGtvpDokw9Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9HNg2c_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_p9HNhWc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9HNgGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9HNgWc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9HNgWc_Ee-oGtvpDokw9Q" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_p9HNgGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9HNgmc_Ee-oGtvpDokw9Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9HNgmc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9HNgWc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_p9HNh2c_Ee-oGtvpDokw9Q" entityName="stopWatch.start()" predecessor_AbstractAction="_p9HNhmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Jpy2c_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_p9Jpy2c_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9HNh2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9JpzGc_Ee-oGtvpDokw9Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9JpyGc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_p9Jpymc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9HNiGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9Jpxmc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_p9Jpxmc_Ee-oGtvpDokw9Q" entityName="Switch Branch" predecessor_AbstractAction="_p9HNiGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Jpx2c_Ee-oGtvpDokw9Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9IbrWc_Ee-oGtvpDokw9Q">
                <branchBehaviour_BranchTransition id="_p9JCsGc_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9H0kGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9H0kWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9H0kWc_Ee-oGtvpDokw9Q" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_p9H0kGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9H0nWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_p9H0nWc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9H0kWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9IboGc_Ee-oGtvpDokw9Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9H0mmc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_p9H0nGc_Ee-oGtvpDokw9Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_p9H0kmc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9H0mGc_Ee-oGtvpDokw9Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_p9H0mGc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9H0kmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9H0mWc_Ee-oGtvpDokw9Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9H0lWc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_p9H0l2c_Ee-oGtvpDokw9Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_p9H0k2c_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9H0lGc_Ee-oGtvpDokw9Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_p9H0lGc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9H0k2c_Ee-oGtvpDokw9Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_p9H0mWc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9H0mGc_Ee-oGtvpDokw9Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9IboGc_Ee-oGtvpDokw9Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_p9H0nWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9IboWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9IboWc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_p9IboGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Ibomc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9Ibomc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9IboWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Ibo2c_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9Ibo2c_Ee-oGtvpDokw9Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_p9Ibomc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9IbpGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9IbpGc_Ee-oGtvpDokw9Q" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_p9Ibo2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9IbpWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9IbpWc_Ee-oGtvpDokw9Q" entityName="deferredResult" predecessor_AbstractAction="_p9IbpGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Ibpmc_Ee-oGtvpDokw9Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9Ibpmc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_p9IbpWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Ibp2c_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9Ibp2c_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9Ibpmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9IbqGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9IbqGc_Ee-oGtvpDokw9Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_p9Ibp2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9IbqWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9IbqWc_Ee-oGtvpDokw9Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_p9IbqGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Ibqmc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9Ibqmc_Ee-oGtvpDokw9Q" entityName="deferredResult" predecessor_AbstractAction="_p9IbqWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Ibq2c_Ee-oGtvpDokw9Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9Ibq2c_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9Ibqmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9IbrGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9IbrGc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9Ibq2c_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9JCuWc_Ee-oGtvpDokw9Q">
                <branchBehaviour_BranchTransition id="_p9JCu2c_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9JCsWc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9JCsmc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9JCsmc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_p9JCsWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9JCs2c_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9JCs2c_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9JCsmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9JCtGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9JCtGc_Ee-oGtvpDokw9Q" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_p9JCs2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9JCtWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9JCtWc_Ee-oGtvpDokw9Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_p9JCtGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9JCtmc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9JCtmc_Ee-oGtvpDokw9Q" entityName="deferredResult" predecessor_AbstractAction="_p9JCtWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9JCt2c_Ee-oGtvpDokw9Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9JCt2c_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9JCtmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9JCuGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9JCuGc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9JCt2c_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9Jpw2c_Ee-oGtvpDokw9Q">
                <branchBehaviour_BranchTransition id="_p9JpxWc_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9JpwGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9JpwWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9JpwWc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9JpwGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Jpwmc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9Jpwmc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9JpwWc_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9Jpx2c_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9Jpxmc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_p9JpzGc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_p9Jpy2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9JpzWc_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_p9JpzWc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9JpzGc_Ee-oGtvpDokw9Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_p99iEWc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p99iEGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_p9zxEGc_Ee-oGtvpDokw9Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_p9OiTGc_Ee-oGtvpDokw9Q" describedService__SEFF="_p3siAGc_Ee-oGtvpDokw9Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_p9MtFGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9MtG2c_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_p9MtG2c_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9MtFGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MtHGc_Ee-oGtvpDokw9Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9MtGGc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_p9MtGmc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9MtFWc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9MtFmc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9MtFmc_Ee-oGtvpDokw9Q" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_p9MtFWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MtF2c_Ee-oGtvpDokw9Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9MtF2c_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9MtFmc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_p9MtHGc_Ee-oGtvpDokw9Q" entityName="stopWatch.start()" predecessor_AbstractAction="_p9MtG2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9OiSmc_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_p9OiSmc_Ee-oGtvpDokw9Q" entityName="Switch Branch" predecessor_AbstractAction="_p9MtHGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9OiS2c_Ee-oGtvpDokw9Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9NULmc_Ee-oGtvpDokw9Q">
          <branchBehaviour_BranchTransition id="_p9NUMGc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9MtHWc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9MtHmc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9MtHmc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9MtHWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MtH2c_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9MtH2c_Ee-oGtvpDokw9Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_p9MtHmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MtIGc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9MtIGc_Ee-oGtvpDokw9Q" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_p9MtH2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MtIWc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9MtIWc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_p9MtIGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MtImc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9MtImc_Ee-oGtvpDokw9Q" entityName="deferredResult" predecessor_AbstractAction="_p9MtIWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NUKmc_Ee-oGtvpDokw9Q">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_p9NUKmc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9MtImc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NUK2c_Ee-oGtvpDokw9Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9NUJ2c_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_p9NUKWc_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9MtI2c_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9MtJGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9MtJGc_Ee-oGtvpDokw9Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_p9MtI2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NUIGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9NUIGc_Ee-oGtvpDokw9Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_p9MtJGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NUIWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9NUIWc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9NUIGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NUImc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9NUImc_Ee-oGtvpDokw9Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_p9NUIWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NUI2c_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9NUI2c_Ee-oGtvpDokw9Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_p9NUImc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NUJGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9NUJGc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_p9NUI2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NUJWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9NUJWc_Ee-oGtvpDokw9Q" entityName="deferredResult" predecessor_AbstractAction="_p9NUJGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NUJmc_Ee-oGtvpDokw9Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9NUJmc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9NUJWc_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9NUK2c_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9NUKmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NULGc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9NULGc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9NUK2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9NULWc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9NULWc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9NULGc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9OiQWc_Ee-oGtvpDokw9Q">
          <branchBehaviour_BranchTransition id="_p9OiQ2c_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9N7MGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9N7PWc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_p9N7PWc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9N7MGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9N7Pmc_Ee-oGtvpDokw9Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9N7Omc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_p9N7PGc_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9N7MWc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9N7Mmc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9N7Mmc_Ee-oGtvpDokw9Q" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_p9N7MWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9N7M2c_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9N7M2c_Ee-oGtvpDokw9Q" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_p9N7Mmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9N7NGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9N7NGc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9N7M2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9N7NWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9N7NWc_Ee-oGtvpDokw9Q" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_p9N7NGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9N7Nmc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9N7Nmc_Ee-oGtvpDokw9Q" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_p9N7NWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9N7N2c_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9N7N2c_Ee-oGtvpDokw9Q" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_p9N7Nmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9N7OGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9N7OGc_Ee-oGtvpDokw9Q" entityName="deferredResult" predecessor_AbstractAction="_p9N7N2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9N7OWc_Ee-oGtvpDokw9Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9N7OWc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9N7OGc_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9N7Pmc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9N7PWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9N7P2c_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9N7P2c_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9N7Pmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9OiQGc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9OiQGc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9N7P2c_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9OiR2c_Ee-oGtvpDokw9Q">
          <branchBehaviour_BranchTransition id="_p9OiSWc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9OiRGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9OiRWc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_p9OiRWc_Ee-oGtvpDokw9Q" entityName="stopWatch.stop()" predecessor_AbstractAction="_p9OiRGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9OiRmc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9OiRmc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9OiRWc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_p9OiS2c_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9OiSmc_Ee-oGtvpDokw9Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_p9_-V2c_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p9_-Vmc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_p9zxFGc_Ee-oGtvpDokw9Q"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_p9MtEmc_Ee-oGtvpDokw9Q" describedService__SEFF="_p3tJEmc_Ee-oGtvpDokw9Q">
      <steps_Behaviour xsi:type="seff:StartAction" id="_p9Le9Wc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9MGFmc_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_p9MGFmc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9Le9Wc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MtEGc_Ee-oGtvpDokw9Q">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9MGE2c_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_p9MGFWc_Ee-oGtvpDokw9Q">
            <steps_Behaviour xsi:type="seff:StartAction" id="_p9Le9mc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9MGEWc_Ee-oGtvpDokw9Q"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_p9MGEWc_Ee-oGtvpDokw9Q" entityName="Switch Branch" predecessor_AbstractAction="_p9Le9mc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MGEmc_Ee-oGtvpDokw9Q">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9MGA2c_Ee-oGtvpDokw9Q">
                <branchBehaviour_BranchTransition id="_p9MGBWc_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9Le92c_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9LfA2c_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_p9LfA2c_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9Le92c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9LfBGc_Ee-oGtvpDokw9Q">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9LfAGc_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_p9LfAmc_Ee-oGtvpDokw9Q">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_p9Le-Gc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9Le_mc_Ee-oGtvpDokw9Q"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_p9Le_mc_Ee-oGtvpDokw9Q" entityName="If Branch" predecessor_AbstractAction="_p9Le-Gc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9Le_2c_Ee-oGtvpDokw9Q">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9Le-2c_Ee-oGtvpDokw9Q" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_p9Le_Wc_Ee-oGtvpDokw9Q">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_p9Le-Wc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9Le-mc_Ee-oGtvpDokw9Q"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_p9Le-mc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9Le-Wc_Ee-oGtvpDokw9Q"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_p9Le_2c_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9Le_mc_Ee-oGtvpDokw9Q"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9LfBGc_Ee-oGtvpDokw9Q" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_p9LfA2c_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9LfBWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9LfBWc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_p9LfBGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MGAGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_p9MGAGc_Ee-oGtvpDokw9Q" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_p9LfBWc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MGAWc_Ee-oGtvpDokw9Q">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9MGAWc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_p9MGAGc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MGAmc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9MGAmc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9MGAWc_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9MGCWc_Ee-oGtvpDokw9Q">
                <branchBehaviour_BranchTransition id="_p9MGC2c_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9MGBmc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9MGB2c_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_p9MGB2c_Ee-oGtvpDokw9Q" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_p9MGBmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MGCGc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9MGCGc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9MGB2c_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_p9MGDmc_Ee-oGtvpDokw9Q">
                <branchBehaviour_BranchTransition id="_p9MGEGc_Ee-oGtvpDokw9Q">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_p9MGDGc_Ee-oGtvpDokw9Q" entityName="Start Action" successor_AbstractAction="_p9MGDWc_Ee-oGtvpDokw9Q"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_p9MGDWc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9MGDGc_Ee-oGtvpDokw9Q"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_p9MGEmc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9MGEWc_Ee-oGtvpDokw9Q"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_p9MtEGc_Ee-oGtvpDokw9Q" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_p9MGFmc_Ee-oGtvpDokw9Q" successor_AbstractAction="_p9MtEWc_Ee-oGtvpDokw9Q"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_p9MtEWc_Ee-oGtvpDokw9Q" entityName="Stop Action" predecessor_AbstractAction="_p9MtEGc_Ee-oGtvpDokw9Q"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_p-BziGc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:CompositeComponent" id="_p-DosWc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_p-EPyGc_Ee-oGtvpDokw9Q" encapsulatedComponent__AssemblyContext="_p9zxF2c_Ee-oGtvpDokw9Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_p-E20Wc_Ee-oGtvpDokw9Q" innerProvidedRole_ProvidedDelegationConnector="_p9zxFmc_Ee-oGtvpDokw9Q" outerProvidedRole_ProvidedDelegationConnector="_p-DosGc_Ee-oGtvpDokw9Q" assemblyContext_ProvidedDelegationConnector="_p-EPyGc_Ee-oGtvpDokw9Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p-DosGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_p9zxFWc_Ee-oGtvpDokw9Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_p-Dosmc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_p-EPxmc_Ee-oGtvpDokw9Q" encapsulatedComponent__AssemblyContext="_p-BziGc_Ee-oGtvpDokw9Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_p-DotWc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_p-EPymc_Ee-oGtvpDokw9Q" encapsulatedComponent__AssemblyContext="_p920ZWc_Ee-oGtvpDokw9Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_p-E20mc_Ee-oGtvpDokw9Q" innerProvidedRole_ProvidedDelegationConnector="_p920Y2c_Ee-oGtvpDokw9Q" outerProvidedRole_ProvidedDelegationConnector="_p-DotGc_Ee-oGtvpDokw9Q" assemblyContext_ProvidedDelegationConnector="_p-EPymc_Ee-oGtvpDokw9Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_p-Fd4Gc_Ee-oGtvpDokw9Q" innerProvidedRole_ProvidedDelegationConnector="_p920ZGc_Ee-oGtvpDokw9Q" outerProvidedRole_ProvidedDelegationConnector="_p-Dos2c_Ee-oGtvpDokw9Q" assemblyContext_ProvidedDelegationConnector="_p-EPymc_Ee-oGtvpDokw9Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p-Dos2c_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_p9zxEmc_Ee-oGtvpDokw9Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p-DotGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_p9zxEWc_Ee-oGtvpDokw9Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_p-Dot2c_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_p-EPxGc_Ee-oGtvpDokw9Q" encapsulatedComponent__AssemblyContext="_p99iEWc_Ee-oGtvpDokw9Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_p-E21Gc_Ee-oGtvpDokw9Q" innerProvidedRole_ProvidedDelegationConnector="_p99iEGc_Ee-oGtvpDokw9Q" outerProvidedRole_ProvidedDelegationConnector="_p-Dotmc_Ee-oGtvpDokw9Q" assemblyContext_ProvidedDelegationConnector="_p-EPxGc_Ee-oGtvpDokw9Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p-Dotmc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_p9zxEGc_Ee-oGtvpDokw9Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_p-DouWc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_p-EPwmc_Ee-oGtvpDokw9Q" encapsulatedComponent__AssemblyContext="_p97F3Gc_Ee-oGtvpDokw9Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_p-E20Gc_Ee-oGtvpDokw9Q" innerProvidedRole_ProvidedDelegationConnector="_p97F22c_Ee-oGtvpDokw9Q" outerProvidedRole_ProvidedDelegationConnector="_p-DouGc_Ee-oGtvpDokw9Q" assemblyContext_ProvidedDelegationConnector="_p-EPwmc_Ee-oGtvpDokw9Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p-DouGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_p9zxE2c_Ee-oGtvpDokw9Q"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_p-Dou2c_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_p-EPwGc_Ee-oGtvpDokw9Q" encapsulatedComponent__AssemblyContext="_p9_-V2c_Ee-oGtvpDokw9Q"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_p-E202c_Ee-oGtvpDokw9Q" innerProvidedRole_ProvidedDelegationConnector="_p9_-Vmc_Ee-oGtvpDokw9Q" outerProvidedRole_ProvidedDelegationConnector="_p-Doumc_Ee-oGtvpDokw9Q" assemblyContext_ProvidedDelegationConnector="_p-EPwGc_Ee-oGtvpDokw9Q"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_p-Doumc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_p9zxFGc_Ee-oGtvpDokw9Q"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_p9zxEGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_p3siAGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_p287IGc_Ee-oGtvpDokw9Q">
      <parameters__OperationSignature dataType__Parameter="_p3r68Gc_Ee-oGtvpDokw9Q" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_p9zxEWc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_p3twJGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_p3siBWc_Ee-oGtvpDokw9Q">
      <parameters__OperationSignature dataType__Parameter="_p3twI2c_Ee-oGtvpDokw9Q" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_p9zxEmc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_p3siBmc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_p3siBWc_Ee-oGtvpDokw9Q">
      <parameters__OperationSignature dataType__Parameter="_p3siA2c_Ee-oGtvpDokw9Q" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_p3siBGc_Ee-oGtvpDokw9Q" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_p9zxE2c_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_p29iMGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_p287IGc_Ee-oGtvpDokw9Q">
      <parameters__OperationSignature dataType__Parameter="_p27tAGc_Ee-oGtvpDokw9Q" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_p9zxFGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_p3tJEmc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_p3siBWc_Ee-oGtvpDokw9Q">
      <parameters__OperationSignature dataType__Parameter="_p27tAGc_Ee-oGtvpDokw9Q" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_p9zxFWc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_p3twIGc_Ee-oGtvpDokw9Q" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_p287IGc_Ee-oGtvpDokw9Q">
      <parameters__OperationSignature dataType__Parameter="_p27tAGc_Ee-oGtvpDokw9Q" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_p27tAGc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_p287IGc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_p3r68Gc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_p3siA2c_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_p3siBGc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_p3siBWc_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_p3twI2c_Ee-oGtvpDokw9Q" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
