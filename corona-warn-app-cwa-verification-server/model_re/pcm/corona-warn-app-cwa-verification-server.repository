<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_UmwLfPYWEe6BZa5Wpf73ig">
  <components__Repository xsi:type="repository:BasicComponent" id="_UmeepfYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Umeeo_YWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_UmeeovYWEe6BZa5Wpf73ig"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmeepPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_Umd3kfYWEe6BZa5Wpf73ig"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_UloxIvYWEe6BZa5Wpf73ig" describedService__SEFF="_Uf6jofYWEe6BZa5Wpf73ig">
      <steps_Behaviour xsi:type="seff:StartAction" id="_UloKI_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UloxIPYWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UloxIPYWEe6BZa5Wpf73ig" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_UloKI_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UloxIfYWEe6BZa5Wpf73ig">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_UloxIfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UloxIPYWEe6BZa5Wpf73ig"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_UloKIfYWEe6BZa5Wpf73ig" describedService__SEFF="_Uf58kfYWEe6BZa5Wpf73ig">
      <steps_Behaviour xsi:type="seff:StartAction" id="_UlnjAfYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlnjDvYWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_UlnjDvYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UlnjAfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UloKH_YWEe6BZa5Wpf73ig">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlnjBfYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_UlnjB_YWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UlnjAvYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlnjA_YWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UlnjA_YWEe6BZa5Wpf73ig" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_UlnjAvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlnjBPYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UlnjBPYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlnjA_YWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlnjC_YWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_UlnjDfYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UlnjCPYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlnjCfYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UlnjCfYWEe6BZa5Wpf73ig" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_UlnjCPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlnjCvYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UlnjCvYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlnjCfYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_UloKH_YWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UlnjDvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UloKIPYWEe6BZa5Wpf73ig">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UloKHPYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_UloKHvYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UlnjD_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UloKGvYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_UloKGvYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UlnjD_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UloKG_YWEe6BZa5Wpf73ig">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UloKEvYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_UloKFPYWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_UlnjEPYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlnjEfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlnjEfYWEe6BZa5Wpf73ig" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_UlnjEPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UloKEPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UloKEPYWEe6BZa5Wpf73ig" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_UlnjEfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UloKEfYWEe6BZa5Wpf73ig">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_UloKEfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UloKEPYWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UloKF_YWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_UloKGfYWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_UloKFfYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UloKFvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_UloKFvYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UloKFfYWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UloKG_YWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UloKGvYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_UloKIPYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UloKH_YWEe6BZa5Wpf73ig"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_UmjXLfYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_UmjXL_YWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmjXLvYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_Umd3kPYWEe6BZa5Wpf73ig"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ulp_T_YWEe6BZa5Wpf73ig" describedService__SEFF="_Uf7KsPYWEe6BZa5Wpf73ig">
      <steps_Behaviour xsi:type="seff:StartAction" id="_UloxJPYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UloxK_YWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_UloxK_YWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UloxJPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UloxLPYWEe6BZa5Wpf73ig">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UloxKPYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_UloxKvYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UloxJfYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UloxJvYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UloxJvYWEe6BZa5Wpf73ig" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_UloxJfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UloxJ_YWEe6BZa5Wpf73ig">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UloxJ_YWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UloxJvYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_UloxLPYWEe6BZa5Wpf73ig" entityName="stopWatch.start()" predecessor_AbstractAction="_UloxK_YWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulp_TfYWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ulp_TfYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UloxLPYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulp_TvYWEe6BZa5Wpf73ig">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ulp_SvYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ulp_TPYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UloxLfYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_Ulp_SPYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ulp_SPYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UloxLfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulp_SfYWEe6BZa5Wpf73ig">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ulp_RfYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_Ulp_R_YWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_UloxLvYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlpYQfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_UlpYQfYWEe6BZa5Wpf73ig" entityName="Switch Branch" predecessor_AbstractAction="_UloxLvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlpYQvYWEe6BZa5Wpf73ig">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlpYMvYWEe6BZa5Wpf73ig">
                      <branchBehaviour_BranchTransition id="_UlpYNPYWEe6BZa5Wpf73ig">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_UloxL_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UloxNvYWEe6BZa5Wpf73ig"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_UloxNvYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UloxL_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UlpYMPYWEe6BZa5Wpf73ig">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UloxM_YWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_UloxNfYWEe6BZa5Wpf73ig">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_UloxMPYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UloxMfYWEe6BZa5Wpf73ig"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_UloxMfYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UloxMPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UloxMvYWEe6BZa5Wpf73ig"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_UloxMvYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UloxMfYWEe6BZa5Wpf73ig"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_UlpYMPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UloxNvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlpYMfYWEe6BZa5Wpf73ig"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_UlpYMfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlpYMPYWEe6BZa5Wpf73ig"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlpYOPYWEe6BZa5Wpf73ig">
                      <branchBehaviour_BranchTransition id="_UlpYOvYWEe6BZa5Wpf73ig">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_UlpYNfYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlpYNvYWEe6BZa5Wpf73ig"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_UlpYNvYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UlpYNfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlpYN_YWEe6BZa5Wpf73ig"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_UlpYN_YWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlpYNvYWEe6BZa5Wpf73ig"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlpYPvYWEe6BZa5Wpf73ig">
                      <branchBehaviour_BranchTransition id="_UlpYQPYWEe6BZa5Wpf73ig">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_UlpYO_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlpYPPYWEe6BZa5Wpf73ig"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_UlpYPPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UlpYO_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UlpYPfYWEe6BZa5Wpf73ig"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_UlpYPfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlpYPPYWEe6BZa5Wpf73ig"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlpYQvYWEe6BZa5Wpf73ig" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_UlpYQfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlpYQ_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlpYQ_YWEe6BZa5Wpf73ig" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_UlpYQvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlpYRPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlpYRPYWEe6BZa5Wpf73ig" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_UlpYQ_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UlpYRfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlpYRfYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UlpYRPYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulp_QPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulp_QPYWEe6BZa5Wpf73ig" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_UlpYRfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulp_QfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulp_QfYWEe6BZa5Wpf73ig" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_Ulp_QPYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulp_QvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulp_QvYWEe6BZa5Wpf73ig" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_Ulp_QfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulp_Q_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ulp_Q_YWEe6BZa5Wpf73ig" entityName="deferredResult" predecessor_AbstractAction="_Ulp_QvYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulp_RPYWEe6BZa5Wpf73ig">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ulp_RPYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulp_Q_YWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ulp_SfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulp_SPYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ulp_TvYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulp_TfYWEe6BZa5Wpf73ig"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_UmnBgfYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmnBgPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_Umd3kvYWEe6BZa5Wpf73ig"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ulu3w_YWEe6BZa5Wpf73ig" describedService__SEFF="_Uf7KtPYWEe6BZa5Wpf73ig">
      <steps_Behaviour xsi:type="seff:StartAction" id="_UlsbivYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UltCkfYWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_UltCkfYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UlsbivYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCkvYWEe6BZa5Wpf73ig">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlsbjvYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_UltCkPYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ulsbi_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlsbjPYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UlsbjPYWEe6BZa5Wpf73ig" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_Ulsbi_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UlsbjfYWEe6BZa5Wpf73ig">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UlsbjfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlsbjPYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_UltCkvYWEe6BZa5Wpf73ig" entityName="stopWatch.start()" predecessor_AbstractAction="_UltCkfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulu3wfYWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ulu3wfYWEe6BZa5Wpf73ig" entityName="Switch Branch" predecessor_AbstractAction="_UltCkvYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulu3wvYWEe6BZa5Wpf73ig">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ultpp_YWEe6BZa5Wpf73ig">
          <branchBehaviour_BranchTransition id="_UltpqfYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UltCk_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UltClPYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UltClPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UltCk_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UltClfYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UltClfYWEe6BZa5Wpf73ig" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_UltClPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltClvYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UltClvYWEe6BZa5Wpf73ig" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_UltClfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCl_YWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UltCl_YWEe6BZa5Wpf73ig" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_UltClvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCmPYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UltCmPYWEe6BZa5Wpf73ig" entityName="deferredResult" predecessor_AbstractAction="_UltCl_YWEe6BZa5Wpf73ig" successor_AbstractAction="_Ultpo_YWEe6BZa5Wpf73ig">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ultpo_YWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UltCmPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltppPYWEe6BZa5Wpf73ig">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UltpoPYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_UltpovYWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_UltCmfYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UltCmvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UltCmvYWEe6BZa5Wpf73ig" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_UltCmfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCm_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UltCm_YWEe6BZa5Wpf73ig" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_UltCmvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCnPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UltCnPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UltCm_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCnfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UltCnfYWEe6BZa5Wpf73ig" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_UltCnPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCnvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UltCnvYWEe6BZa5Wpf73ig" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_UltCnfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCn_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UltCn_YWEe6BZa5Wpf73ig" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_UltCnvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCoPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UltCoPYWEe6BZa5Wpf73ig" entityName="deferredResult" predecessor_AbstractAction="_UltCn_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UltCofYWEe6BZa5Wpf73ig">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_UltCofYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UltCoPYWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UltppPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ultpo_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UltppfYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UltppfYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UltppPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltppvYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UltppvYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UltppfYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UluQvPYWEe6BZa5Wpf73ig">
          <branchBehaviour_BranchTransition id="_UluQvvYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UltpqvYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UluQuPYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_UluQuPYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UltpqvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UluQufYWEe6BZa5Wpf73ig">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UluQtfYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_UluQt_YWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ultpq_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UltprPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UltprPYWEe6BZa5Wpf73ig" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_Ultpq_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UltprfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UltprfYWEe6BZa5Wpf73ig" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_UltprPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UltprvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UltprvYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UltprfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UluQsPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UluQsPYWEe6BZa5Wpf73ig" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_UltprvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UluQsfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UluQsfYWEe6BZa5Wpf73ig" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_UluQsPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UluQsvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UluQsvYWEe6BZa5Wpf73ig" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_UluQsfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UluQs_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UluQs_YWEe6BZa5Wpf73ig" entityName="deferredResult" predecessor_AbstractAction="_UluQsvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UluQtPYWEe6BZa5Wpf73ig">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_UluQtPYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UluQs_YWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UluQufYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UluQuPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UluQuvYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UluQuvYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UluQufYWEe6BZa5Wpf73ig" successor_AbstractAction="_UluQu_YWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UluQu_YWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UluQuvYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UluQwvYWEe6BZa5Wpf73ig">
          <branchBehaviour_BranchTransition id="_Ulu3wPYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UluQv_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UluQwPYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_UluQwPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UluQv_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UluQwfYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UluQwfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UluQwPYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ulu3wvYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulu3wfYWEe6BZa5Wpf73ig"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_Umo2vvYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_Umo2vfYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_UmeeofYWEe6BZa5Wpf73ig"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_UlsbiPYWEe6BZa5Wpf73ig" describedService__SEFF="_UfH5cPYWEe6BZa5Wpf73ig">
      <steps_Behaviour xsi:type="seff:StartAction" id="_Ulp_UfYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlqmVfYWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_UlqmVfYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_Ulp_UfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlqmVvYWEe6BZa5Wpf73ig">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlqmUvYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_UlqmVPYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_Ulp_UvYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlqmUPYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UlqmUPYWEe6BZa5Wpf73ig" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_Ulp_UvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlqmUfYWEe6BZa5Wpf73ig">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UlqmUfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlqmUPYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_UlqmVvYWEe6BZa5Wpf73ig" entityName="stopWatch.start()" predecessor_AbstractAction="_UlqmVfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlsbhfYWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_UlsbhfYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UlqmVvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlsbhvYWEe6BZa5Wpf73ig">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlsbgvYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_UlsbhPYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UlqmV_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlsbgPYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_UlsbgPYWEe6BZa5Wpf73ig" entityName="Switch Branch" predecessor_AbstractAction="_UlqmV_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UlsbgfYWEe6BZa5Wpf73ig">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlrNavYWEe6BZa5Wpf73ig">
                <branchBehaviour_BranchTransition id="_UlrNbPYWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_UlqmWPYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlqmWfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlqmWfYWEe6BZa5Wpf73ig" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_UlqmWPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlqmZfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_UlqmZfYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UlqmWfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlqmZvYWEe6BZa5Wpf73ig">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlqmYvYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_UlqmZPYWEe6BZa5Wpf73ig">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_UlqmWvYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlqmYPYWEe6BZa5Wpf73ig"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_UlqmYPYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UlqmWvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlqmYfYWEe6BZa5Wpf73ig">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlqmXfYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_UlqmX_YWEe6BZa5Wpf73ig">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_UlqmW_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlqmXPYWEe6BZa5Wpf73ig"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_UlqmXPYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlqmW_YWEe6BZa5Wpf73ig"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_UlqmYfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlqmYPYWEe6BZa5Wpf73ig"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlqmZvYWEe6BZa5Wpf73ig" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_UlqmZfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlqmZ_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlqmZ_YWEe6BZa5Wpf73ig" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_UlqmZvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlqmaPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlqmaPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UlqmZ_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNYPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlrNYPYWEe6BZa5Wpf73ig" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_UlqmaPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNYfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlrNYfYWEe6BZa5Wpf73ig" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_UlrNYPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNYvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UlrNYvYWEe6BZa5Wpf73ig" entityName="deferredResult" predecessor_AbstractAction="_UlrNYfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNY_YWEe6BZa5Wpf73ig">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlrNY_YWEe6BZa5Wpf73ig" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_UlrNYvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNZPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlrNZPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UlrNY_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNZfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlrNZfYWEe6BZa5Wpf73ig" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_UlrNZPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNZvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlrNZvYWEe6BZa5Wpf73ig" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_UlrNZfYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNZ_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UlrNZ_YWEe6BZa5Wpf73ig" entityName="deferredResult" predecessor_AbstractAction="_UlrNZvYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNaPYWEe6BZa5Wpf73ig">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlrNaPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UlrNZ_YWEe6BZa5Wpf73ig" successor_AbstractAction="_UlrNafYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_UlrNafYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlrNaPYWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ulr0dvYWEe6BZa5Wpf73ig">
                <branchBehaviour_BranchTransition id="_Ulr0ePYWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_UlrNbfYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UlrNbvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlrNbvYWEe6BZa5Wpf73ig" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_UlrNbfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulr0cPYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulr0cPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_UlrNbvYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulr0cfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulr0cfYWEe6BZa5Wpf73ig" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_Ulr0cPYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulr0cvYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulr0cvYWEe6BZa5Wpf73ig" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_Ulr0cfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulr0c_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_Ulr0c_YWEe6BZa5Wpf73ig" entityName="deferredResult" predecessor_AbstractAction="_Ulr0cvYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulr0dPYWEe6BZa5Wpf73ig">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulr0dPYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ulr0c_YWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulr0dfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ulr0dfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulr0dPYWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ulr0fPYWEe6BZa5Wpf73ig">
                <branchBehaviour_BranchTransition id="_Ulr0fvYWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ulr0efYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_Ulr0evYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulr0evYWEe6BZa5Wpf73ig" entityName="stopWatch.stop()" predecessor_AbstractAction="_Ulr0efYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulr0e_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ulr0e_YWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulr0evYWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_UlsbgfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlsbgPYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_UlsbhvYWEe6BZa5Wpf73ig" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_UlsbhfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulsbh_YWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ulsbh_YWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlsbhvYWEe6BZa5Wpf73ig"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_UmrS_vYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmrS_fYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_UmeeoPYWEe6BZa5Wpf73ig"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_Ulm8BPYWEe6BZa5Wpf73ig" describedService__SEFF="_Uf58lPYWEe6BZa5Wpf73ig">
      <steps_Behaviour xsi:type="seff:StartAction" id="_UgVaYfYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_Ulm8AfYWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_Ulm8AfYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UgVaYfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulm8AvYWEe6BZa5Wpf73ig">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ulm7_vYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_Ulm8APYWEe6BZa5Wpf73ig">
            <steps_Behaviour xsi:type="seff:StartAction" id="_UgXPkPYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_Ulm7_PYWEe6BZa5Wpf73ig"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_Ulm7_PYWEe6BZa5Wpf73ig" entityName="Switch Branch" predecessor_AbstractAction="_UgXPkPYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulm7_fYWEe6BZa5Wpf73ig">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UlmU4_YWEe6BZa5Wpf73ig">
                <branchBehaviour_BranchTransition id="_Ulm78PYWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_UgX2oPYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UljRlfYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_UljRlfYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UgX2oPYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulj4oPYWEe6BZa5Wpf73ig">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UljRkvYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_UljRlPYWEe6BZa5Wpf73ig">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_UgX2ofYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UljRkPYWEe6BZa5Wpf73ig"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_UljRkPYWEe6BZa5Wpf73ig" entityName="If Branch" predecessor_AbstractAction="_UgX2ofYWEe6BZa5Wpf73ig" successor_AbstractAction="_UljRkfYWEe6BZa5Wpf73ig">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_UgYdsPYWEe6BZa5Wpf73ig" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_UgZEwPYWEe6BZa5Wpf73ig">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_UgX2ovYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_UgX2o_YWEe6BZa5Wpf73ig"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_UgX2o_YWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UgX2ovYWEe6BZa5Wpf73ig"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_UljRkfYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UljRkPYWEe6BZa5Wpf73ig"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulj4oPYWEe6BZa5Wpf73ig" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_UljRlfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulj4ofYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulj4ofYWEe6BZa5Wpf73ig" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_Ulj4oPYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlmU4PYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_UlmU4PYWEe6BZa5Wpf73ig" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_Ulj4ofYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlmU4fYWEe6BZa5Wpf73ig">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_UlmU4fYWEe6BZa5Wpf73ig" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_UlmU4PYWEe6BZa5Wpf73ig" successor_AbstractAction="_UlmU4vYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_UlmU4vYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_UlmU4fYWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ulm79PYWEe6BZa5Wpf73ig">
                <branchBehaviour_BranchTransition id="_Ulm79vYWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ulm78fYWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_Ulm78vYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulm78vYWEe6BZa5Wpf73ig" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_Ulm78fYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulm78_YWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ulm78_YWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulm78vYWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_Ulm7-fYWEe6BZa5Wpf73ig">
                <branchBehaviour_BranchTransition id="_Ulm7-_YWEe6BZa5Wpf73ig">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_Ulm79_YWEe6BZa5Wpf73ig" entityName="Start Action" successor_AbstractAction="_Ulm7-PYWEe6BZa5Wpf73ig"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_Ulm7-PYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulm79_YWEe6BZa5Wpf73ig"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_Ulm7_fYWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulm7_PYWEe6BZa5Wpf73ig"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_Ulm8AvYWEe6BZa5Wpf73ig" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_Ulm8AfYWEe6BZa5Wpf73ig" successor_AbstractAction="_Ulm8A_YWEe6BZa5Wpf73ig"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_Ulm8A_YWEe6BZa5Wpf73ig" entityName="Stop Action" predecessor_AbstractAction="_Ulm8AvYWEe6BZa5Wpf73ig"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_UmvkYvYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_UmwLevYWEe6BZa5Wpf73ig" encapsulatedComponent__AssemblyContext="_UmeepfYWEe6BZa5Wpf73ig"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_UmxZkfYWEe6BZa5Wpf73ig" innerProvidedRole_ProvidedDelegationConnector="_UmeepPYWEe6BZa5Wpf73ig" outerProvidedRole_ProvidedDelegationConnector="_UmvkYfYWEe6BZa5Wpf73ig" assemblyContext_ProvidedDelegationConnector="_UmwLevYWEe6BZa5Wpf73ig"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_UmxZk_YWEe6BZa5Wpf73ig" innerProvidedRole_ProvidedDelegationConnector="_Umeeo_YWEe6BZa5Wpf73ig" outerProvidedRole_ProvidedDelegationConnector="_UmvkYPYWEe6BZa5Wpf73ig" assemblyContext_ProvidedDelegationConnector="_UmwLevYWEe6BZa5Wpf73ig"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmvkYPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_UmeeovYWEe6BZa5Wpf73ig"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmvkYfYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_Umd3kfYWEe6BZa5Wpf73ig"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_UmvkY_YWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_UmwLcPYWEe6BZa5Wpf73ig" encapsulatedComponent__AssemblyContext="_UmjXLfYWEe6BZa5Wpf73ig"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_UmvkZfYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_UmwLdPYWEe6BZa5Wpf73ig" encapsulatedComponent__AssemblyContext="_UmrS_vYWEe6BZa5Wpf73ig"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_UmxZlPYWEe6BZa5Wpf73ig" innerProvidedRole_ProvidedDelegationConnector="_UmrS_fYWEe6BZa5Wpf73ig" outerProvidedRole_ProvidedDelegationConnector="_UmvkZPYWEe6BZa5Wpf73ig" assemblyContext_ProvidedDelegationConnector="_UmwLdPYWEe6BZa5Wpf73ig"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmvkZPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_UmeeoPYWEe6BZa5Wpf73ig"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_UmvkZ_YWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_UmwLcvYWEe6BZa5Wpf73ig" encapsulatedComponent__AssemblyContext="_UmjXL_YWEe6BZa5Wpf73ig"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_UmxZlfYWEe6BZa5Wpf73ig" innerProvidedRole_ProvidedDelegationConnector="_UmjXLvYWEe6BZa5Wpf73ig" outerProvidedRole_ProvidedDelegationConnector="_UmvkZvYWEe6BZa5Wpf73ig" assemblyContext_ProvidedDelegationConnector="_UmwLcvYWEe6BZa5Wpf73ig"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmvkZvYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_Umd3kPYWEe6BZa5Wpf73ig"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_UmvkafYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_UmwLePYWEe6BZa5Wpf73ig" encapsulatedComponent__AssemblyContext="_Umo2vvYWEe6BZa5Wpf73ig"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_UmxZkPYWEe6BZa5Wpf73ig" innerProvidedRole_ProvidedDelegationConnector="_Umo2vfYWEe6BZa5Wpf73ig" outerProvidedRole_ProvidedDelegationConnector="_UmvkaPYWEe6BZa5Wpf73ig" assemblyContext_ProvidedDelegationConnector="_UmwLePYWEe6BZa5Wpf73ig"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmvkaPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_UmeeofYWEe6BZa5Wpf73ig"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_Umvka_YWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_UmwLdvYWEe6BZa5Wpf73ig" encapsulatedComponent__AssemblyContext="_UmnBgfYWEe6BZa5Wpf73ig"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_UmxZkvYWEe6BZa5Wpf73ig" innerProvidedRole_ProvidedDelegationConnector="_UmnBgPYWEe6BZa5Wpf73ig" outerProvidedRole_ProvidedDelegationConnector="_UmvkavYWEe6BZa5Wpf73ig" assemblyContext_ProvidedDelegationConnector="_UmwLdvYWEe6BZa5Wpf73ig"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_UmvkavYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_Umd3kvYWEe6BZa5Wpf73ig"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Umd3kPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_Uf7KsPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_UfHSYPYWEe6BZa5Wpf73ig">
      <parameters__OperationSignature dataType__Parameter="_UfGEQPYWEe6BZa5Wpf73ig" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Umd3kfYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_Uf58kfYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_Uf58kPYWEe6BZa5Wpf73ig">
      <parameters__OperationSignature dataType__Parameter="_Uf5VgPYWEe6BZa5Wpf73ig" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_Uf5VgfYWEe6BZa5Wpf73ig" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_Umd3kvYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_Uf7KtPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_UfHSYPYWEe6BZa5Wpf73ig">
      <parameters__OperationSignature dataType__Parameter="_Uf7Ks_YWEe6BZa5Wpf73ig" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_UmeeoPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_Uf58lPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_Uf58kPYWEe6BZa5Wpf73ig">
      <parameters__OperationSignature dataType__Parameter="_UfGEQPYWEe6BZa5Wpf73ig" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_UmeeofYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_UfH5cPYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_UfHSYPYWEe6BZa5Wpf73ig">
      <parameters__OperationSignature dataType__Parameter="_UfGEQPYWEe6BZa5Wpf73ig" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_UmeeovYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_Uf6jofYWEe6BZa5Wpf73ig" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_Uf58kPYWEe6BZa5Wpf73ig">
      <parameters__OperationSignature dataType__Parameter="_Uf6joPYWEe6BZa5Wpf73ig" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_UfGEQPYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_UfHSYPYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Uf5VgPYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Uf5VgfYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Uf58kPYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Uf6joPYWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_Uf7Ks_YWEe6BZa5Wpf73ig" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
