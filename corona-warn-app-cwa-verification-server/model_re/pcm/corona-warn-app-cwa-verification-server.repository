<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_2FJebP0oEe6x0_gwxN66gQ">
  <components__Repository xsi:type="repository:BasicComponent" id="_2E4_tP0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2E4_s_0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_2E4YrP0oEe6x0_gwxN66gQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2ERUrf0oEe6x0_gwxN66gQ" describedService__SEFF="_1-_zEP0oEe6x0_gwxN66gQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2EQGlf0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ERUqv0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2ERUqv0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EQGlf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ERUq_0oEe6x0_gwxN66gQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ERUp_0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2ERUqf0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2EQGlv0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ERUpf0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2ERUpf0oEe6x0_gwxN66gQ" entityName="Switch Branch" predecessor_AbstractAction="_2EQGlv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ERUpv0oEe6x0_gwxN66gQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EQtof0oEe6x0_gwxN66gQ">
                <branchBehaviour_BranchTransition id="_2EQto_0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2EQGl_0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EQtm_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_2EQtm_0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EQGl_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQtnP0oEe6x0_gwxN66gQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EQtmP0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_2EQtmv0oEe6x0_gwxN66gQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2EQtkP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EQtlv0oEe6x0_gwxN66gQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_2EQtlv0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EQtkP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQtl_0oEe6x0_gwxN66gQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EQtk_0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_2EQtlf0oEe6x0_gwxN66gQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_2EQtkf0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EQtkv0oEe6x0_gwxN66gQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_2EQtkv0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EQtkf0oEe6x0_gwxN66gQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2EQtl_0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EQtlv0oEe6x0_gwxN66gQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EQtnP0oEe6x0_gwxN66gQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_2EQtm_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQtnf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EQtnf0oEe6x0_gwxN66gQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_2EQtnP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQtnv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2EQtnv0oEe6x0_gwxN66gQ" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_2EQtnf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQtn_0oEe6x0_gwxN66gQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EQtn_0oEe6x0_gwxN66gQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_2EQtnv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQtoP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2EQtoP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EQtn_0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EQtp_0oEe6x0_gwxN66gQ">
                <branchBehaviour_BranchTransition id="_2EQtqf0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2EQtpP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EQtpf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EQtpf0oEe6x0_gwxN66gQ" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_2EQtpP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQtpv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2EQtpv0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EQtpf0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ERUov0oEe6x0_gwxN66gQ">
                <branchBehaviour_BranchTransition id="_2ERUpP0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2ERUoP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ERUof0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2ERUof0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ERUoP0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2ERUpv0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ERUpf0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2ERUq_0oEe6x0_gwxN66gQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_2ERUqv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ERUrP0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2ERUrP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ERUq_0oEe6x0_gwxN66gQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_2E7b_P0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2E7b-v0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_2E4_sv0oEe6x0_gwxN66gQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2E7b-_0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_2E4_sP0oEe6x0_gwxN66gQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2ELOBP0oEe6x0_gwxN66gQ" describedService__SEFF="_1-994f0oEe6x0_gwxN66gQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2ELOAf0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ELOAv0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2ELOAv0oEe6x0_gwxN66gQ" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_2ELOAf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ELOA_0oEe6x0_gwxN66gQ">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2ELOA_0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ELOAv0oEe6x0_gwxN66gQ"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2EKnAf0oEe6x0_gwxN66gQ" describedService__SEFF="_1--k9P0oEe6x0_gwxN66gQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_1_Xmgf0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EHjoP0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2EHjoP0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_1_Xmgf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EKm__0oEe6x0_gwxN66gQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_1_aCwP0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_1_aCwv0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_1_Y0oP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_1_ZbsP0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_1_ZbsP0oEe6x0_gwxN66gQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_1_Y0oP0oEe6x0_gwxN66gQ" successor_AbstractAction="_1_Zbsf0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_1_Zbsf0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_1_ZbsP0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EG8k_0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2EG8lf0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2EG8kP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EG8kf0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EG8kf0oEe6x0_gwxN66gQ" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_2EG8kP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EG8kv0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2EG8kv0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EG8kf0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2EKm__0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EHjoP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EKnAP0oEe6x0_gwxN66gQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EKm_P0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2EKm_v0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2EHjof0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EKm-v0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2EKm-v0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EHjof0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EKm-_0oEe6x0_gwxN66gQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EKm8v0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2EKm9P0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2EHjov0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EHjo_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EHjo_0oEe6x0_gwxN66gQ" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_2EHjov0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EKm8P0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2EKm8P0oEe6x0_gwxN66gQ" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_2EHjo_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EKm8f0oEe6x0_gwxN66gQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2EKm8f0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EKm8P0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EKm9_0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2EKm-f0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2EKm9f0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EKm9v0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2EKm9v0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EKm9f0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2EKm-_0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EKm-v0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2EKnAP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EKm__0oEe6x0_gwxN66gQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_2E_tbf0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2E_tbP0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_2E4Yqv0oEe6x0_gwxN66gQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2EORXP0oEe6x0_gwxN66gQ" describedService__SEFF="_1-YIAP0oEe6x0_gwxN66gQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2ELOBv0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EL1Fv0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2EL1Fv0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2ELOBv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EL1F_0oEe6x0_gwxN66gQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EL1E_0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2EL1Ff0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2EL1EP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EL1Ef0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2EL1Ef0oEe6x0_gwxN66gQ" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_2EL1EP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EL1Ev0oEe6x0_gwxN66gQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2EL1Ev0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EL1Ef0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2EL1F_0oEe6x0_gwxN66gQ" entityName="stopWatch.start()" predecessor_AbstractAction="_2EL1Fv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EORWf0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2EORWf0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EL1F_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EORWv0oEe6x0_gwxN66gQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EORVv0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2EORWP0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2EL1GP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EORVP0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2EORVP0oEe6x0_gwxN66gQ" entityName="Switch Branch" predecessor_AbstractAction="_2EL1GP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EORVf0oEe6x0_gwxN66gQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ENDPf0oEe6x0_gwxN66gQ">
                <branchBehaviour_BranchTransition id="_2ENqQP0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2EMcIP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EMcIf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EMcIf0oEe6x0_gwxN66gQ" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_2EMcIP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EMcLf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_2EMcLf0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EMcIf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDMP0oEe6x0_gwxN66gQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EMcKv0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_2EMcLP0oEe6x0_gwxN66gQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2EMcIv0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EMcKP0oEe6x0_gwxN66gQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_2EMcKP0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EMcIv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EMcKf0oEe6x0_gwxN66gQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EMcJf0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_2EMcJ_0oEe6x0_gwxN66gQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_2EMcI_0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EMcJP0oEe6x0_gwxN66gQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_2EMcJP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EMcI_0oEe6x0_gwxN66gQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2EMcKf0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EMcKP0oEe6x0_gwxN66gQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDMP0oEe6x0_gwxN66gQ" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_2EMcLf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDMf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDMf0oEe6x0_gwxN66gQ" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_2ENDMP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDMv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDMv0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ENDMf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDM_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDM_0oEe6x0_gwxN66gQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2ENDMv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDNP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDNP0oEe6x0_gwxN66gQ" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_2ENDM_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDNf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2ENDNf0oEe6x0_gwxN66gQ" entityName="deferredResult" predecessor_AbstractAction="_2ENDNP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDNv0oEe6x0_gwxN66gQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDNv0oEe6x0_gwxN66gQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_2ENDNf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDN_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDN_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ENDNv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDOP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDOP0oEe6x0_gwxN66gQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2ENDN_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDOf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDOf0oEe6x0_gwxN66gQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_2ENDOP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDOv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2ENDOv0oEe6x0_gwxN66gQ" entityName="deferredResult" predecessor_AbstractAction="_2ENDOf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDO_0oEe6x0_gwxN66gQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENDO_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ENDOv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENDPP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2ENDPP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ENDO_0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ENqSf0oEe6x0_gwxN66gQ">
                <branchBehaviour_BranchTransition id="_2ENqS_0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2ENqQf0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ENqQv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENqQv0oEe6x0_gwxN66gQ" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_2ENqQf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENqQ_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENqQ_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ENqQv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENqRP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENqRP0oEe6x0_gwxN66gQ" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2ENqQ_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENqRf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENqRf0oEe6x0_gwxN66gQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_2ENqRP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENqRv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2ENqRv0oEe6x0_gwxN66gQ" entityName="deferredResult" predecessor_AbstractAction="_2ENqRf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENqR_0oEe6x0_gwxN66gQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENqR_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ENqRv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ENqSP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2ENqSP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ENqR_0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EORUf0oEe6x0_gwxN66gQ">
                <branchBehaviour_BranchTransition id="_2EORU_0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2ENqTP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ENqTf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ENqTf0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ENqTP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EORUP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2EORUP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ENqTf0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2EORVf0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EORVP0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2EORWv0oEe6x0_gwxN66gQ" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_2EORWf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EORW_0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2EORW_0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EORWv0oEe6x0_gwxN66gQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_2FCJq_0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2FCJqv0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_2E4Yq_0oEe6x0_gwxN66gQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2ESi0_0oEe6x0_gwxN66gQ" describedService__SEFF="_1-995P0oEe6x0_gwxN66gQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2ERUr_0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ERUtv0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2ERUtv0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2ERUr_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ERUt_0oEe6x0_gwxN66gQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ERUs_0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2ERUtf0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2ERUsP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ERUsf0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2ERUsf0oEe6x0_gwxN66gQ" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_2ERUsP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ERUsv0oEe6x0_gwxN66gQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService.generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService.generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2ERUsv0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ERUsf0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2ERUt_0oEe6x0_gwxN66gQ" entityName="stopWatch.start()" predecessor_AbstractAction="_2ERUtv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESi0f0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2ESi0f0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2ERUt_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESi0v0oEe6x0_gwxN66gQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ESizv0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2ESi0P0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2ERUuP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ESizP0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2ESizP0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2ERUuP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESizf0oEe6x0_gwxN66gQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ESiyf0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2ESiy_0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2ER7sP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ER7yv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_2ER7yv0oEe6x0_gwxN66gQ" entityName="Switch Branch" predecessor_AbstractAction="_2ER7sP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESiwP0oEe6x0_gwxN66gQ">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ER7u_0oEe6x0_gwxN66gQ">
                      <branchBehaviour_BranchTransition id="_2ER7vf0oEe6x0_gwxN66gQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2ER7sf0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ER7uP0oEe6x0_gwxN66gQ"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_2ER7uP0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2ER7sf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ER7uf0oEe6x0_gwxN66gQ">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ER7tf0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_2ER7t_0oEe6x0_gwxN66gQ">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_2ER7sv0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ER7s_0oEe6x0_gwxN66gQ"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_2ER7s_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ER7sv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ER7tP0oEe6x0_gwxN66gQ"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_2ER7tP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ER7s_0oEe6x0_gwxN66gQ"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_2ER7uf0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ER7uP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ER7uv0oEe6x0_gwxN66gQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2ER7uv0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ER7uf0oEe6x0_gwxN66gQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ER7wf0oEe6x0_gwxN66gQ">
                      <branchBehaviour_BranchTransition id="_2ER7w_0oEe6x0_gwxN66gQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2ER7vv0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ER7v_0oEe6x0_gwxN66gQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_2ER7v_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ER7vv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ER7wP0oEe6x0_gwxN66gQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2ER7wP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ER7v_0oEe6x0_gwxN66gQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2ER7x_0oEe6x0_gwxN66gQ">
                      <branchBehaviour_BranchTransition id="_2ER7yf0oEe6x0_gwxN66gQ">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_2ER7xP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2ER7xf0oEe6x0_gwxN66gQ"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_2ER7xf0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ER7xP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ER7xv0oEe6x0_gwxN66gQ"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_2ER7xv0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ER7xf0oEe6x0_gwxN66gQ"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ESiwP0oEe6x0_gwxN66gQ" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_2ER7yv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESiwf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ESiwf0oEe6x0_gwxN66gQ" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_2ESiwP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESiwv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ESiwv0oEe6x0_gwxN66gQ" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_2ESiwf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESiw_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ESiw_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2ESiwv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESixP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ESixP0oEe6x0_gwxN66gQ" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2ESiw_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESixf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ESixf0oEe6x0_gwxN66gQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_2ESixP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESixv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2ESixv0oEe6x0_gwxN66gQ" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_2ESixf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESix_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2ESix_0oEe6x0_gwxN66gQ" entityName="deferredResult" predecessor_AbstractAction="_2ESixv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2ESiyP0oEe6x0_gwxN66gQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2ESiyP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ESix_0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2ESizf0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ESizP0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2ESi0v0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2ESi0f0oEe6x0_gwxN66gQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_2FEl5_0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_2FEl6f0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2FEl6P0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_2E4_sf0oEe6x0_gwxN66gQ"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_2EQGk_0oEe6x0_gwxN66gQ" describedService__SEFF="_1-_MA_0oEe6x0_gwxN66gQ">
      <steps_Behaviour xsi:type="seff:StartAction" id="_2EORXv0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EO4YP0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2EO4YP0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EORXv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4Yf0oEe6x0_gwxN66gQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EORYv0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_2EORZP0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2EORX_0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EORYP0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2EORYP0oEe6x0_gwxN66gQ" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_2EORX_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EORYf0oEe6x0_gwxN66gQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController.generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController.generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2EORYf0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EORYP0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4Yf0oEe6x0_gwxN66gQ" entityName="stopWatch.start()" predecessor_AbstractAction="_2EO4YP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQGkf0oEe6x0_gwxN66gQ"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_2EQGkf0oEe6x0_gwxN66gQ" entityName="Switch Branch" predecessor_AbstractAction="_2EO4Yf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQGkv0oEe6x0_gwxN66gQ">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EPfdf0oEe6x0_gwxN66gQ">
          <branchBehaviour_BranchTransition id="_2EPfd_0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2EO4Yv0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EO4Y_0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4Y_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2EO4Yv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4ZP0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4ZP0oEe6x0_gwxN66gQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2EO4Y_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4Zf0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4Zf0oEe6x0_gwxN66gQ" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_2EO4ZP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4Zv0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4Zv0oEe6x0_gwxN66gQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_2EO4Zf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4Z_0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2EO4Z_0oEe6x0_gwxN66gQ" entityName="deferredResult" predecessor_AbstractAction="_2EO4Zv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPfcf0oEe6x0_gwxN66gQ">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2EPfcf0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EO4Z_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPfcv0oEe6x0_gwxN66gQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EO4cf0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2EPfcP0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2EO4aP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EO4af0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4af0oEe6x0_gwxN66gQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_2EO4aP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4av0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4av0oEe6x0_gwxN66gQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_2EO4af0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4a_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4a_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2EO4av0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4bP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4bP0oEe6x0_gwxN66gQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2EO4a_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4bf0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4bf0oEe6x0_gwxN66gQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_2EO4bP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4bv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EO4bv0oEe6x0_gwxN66gQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_2EO4bf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4b_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2EO4b_0oEe6x0_gwxN66gQ" entityName="deferredResult" predecessor_AbstractAction="_2EO4bv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EO4cP0oEe6x0_gwxN66gQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2EO4cP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EO4b_0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EPfcv0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2EPfcf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPfc_0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EPfc_0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2EPfcv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPfdP0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2EPfdP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EPfc_0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EQGiP0oEe6x0_gwxN66gQ">
          <branchBehaviour_BranchTransition id="_2EQGiv0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2EPfeP0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EQGhP0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_2EQGhP0oEe6x0_gwxN66gQ" entityName="If Branch" predecessor_AbstractAction="_2EPfeP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQGhf0oEe6x0_gwxN66gQ">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EQGgf0oEe6x0_gwxN66gQ" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_2EQGg_0oEe6x0_gwxN66gQ">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_2EPfef0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EPfev0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EPfev0oEe6x0_gwxN66gQ" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_2EPfef0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPfe_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EPfe_0oEe6x0_gwxN66gQ" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_2EPfev0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPffP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EPffP0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2EPfe_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPfff0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EPfff0oEe6x0_gwxN66gQ" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_2EPffP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPffv0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EPffv0oEe6x0_gwxN66gQ" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_2EPfff0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPff_0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_2EPff_0oEe6x0_gwxN66gQ" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_2EPffv0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EPfgP0oEe6x0_gwxN66gQ"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_2EPfgP0oEe6x0_gwxN66gQ" entityName="deferredResult" predecessor_AbstractAction="_2EPff_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQGgP0oEe6x0_gwxN66gQ">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_2EQGgP0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EPfgP0oEe6x0_gwxN66gQ"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EQGhf0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2EQGhP0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQGhv0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EQGhv0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2EQGhf0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQGh_0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2EQGh_0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EQGhv0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_2EQGjv0oEe6x0_gwxN66gQ">
          <branchBehaviour_BranchTransition id="_2EQGkP0oEe6x0_gwxN66gQ">
            <steps_Behaviour xsi:type="seff:StartAction" id="_2EQGi_0oEe6x0_gwxN66gQ" entityName="Start Action" successor_AbstractAction="_2EQGjP0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_2EQGjP0oEe6x0_gwxN66gQ" entityName="stopWatch.stop()" predecessor_AbstractAction="_2EQGi_0oEe6x0_gwxN66gQ" successor_AbstractAction="_2EQGjf0oEe6x0_gwxN66gQ"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_2EQGjf0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EQGjP0oEe6x0_gwxN66gQ"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_2EQGkv0oEe6x0_gwxN66gQ" entityName="Stop Action" predecessor_AbstractAction="_2EQGkf0oEe6x0_gwxN66gQ"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2FI3Uf0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_2FJeYP0oEe6x0_gwxN66gQ" encapsulatedComponent__AssemblyContext="_2FEl6f0oEe6x0_gwxN66gQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2FKsgf0oEe6x0_gwxN66gQ" innerProvidedRole_ProvidedDelegationConnector="_2FEl6P0oEe6x0_gwxN66gQ" outerProvidedRole_ProvidedDelegationConnector="_2FI3UP0oEe6x0_gwxN66gQ" assemblyContext_ProvidedDelegationConnector="_2FJeYP0oEe6x0_gwxN66gQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2FI3UP0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_2E4_sf0oEe6x0_gwxN66gQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2FI3Uv0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_2FJeav0oEe6x0_gwxN66gQ" encapsulatedComponent__AssemblyContext="_2FEl5_0oEe6x0_gwxN66gQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2FI3VP0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_2FJeYv0oEe6x0_gwxN66gQ" encapsulatedComponent__AssemblyContext="_2E_tbf0oEe6x0_gwxN66gQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2FKshf0oEe6x0_gwxN66gQ" innerProvidedRole_ProvidedDelegationConnector="_2E_tbP0oEe6x0_gwxN66gQ" outerProvidedRole_ProvidedDelegationConnector="_2FI3U_0oEe6x0_gwxN66gQ" assemblyContext_ProvidedDelegationConnector="_2FJeYv0oEe6x0_gwxN66gQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2FI3U_0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_2E4Yqv0oEe6x0_gwxN66gQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2FI3V_0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_2FJeaP0oEe6x0_gwxN66gQ" encapsulatedComponent__AssemblyContext="_2E7b_P0oEe6x0_gwxN66gQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2FKsgP0oEe6x0_gwxN66gQ" innerProvidedRole_ProvidedDelegationConnector="_2E7b-v0oEe6x0_gwxN66gQ" outerProvidedRole_ProvidedDelegationConnector="_2FI3Vv0oEe6x0_gwxN66gQ" assemblyContext_ProvidedDelegationConnector="_2FJeaP0oEe6x0_gwxN66gQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2FKshP0oEe6x0_gwxN66gQ" innerProvidedRole_ProvidedDelegationConnector="_2E7b-_0oEe6x0_gwxN66gQ" outerProvidedRole_ProvidedDelegationConnector="_2FI3Vf0oEe6x0_gwxN66gQ" assemblyContext_ProvidedDelegationConnector="_2FJeaP0oEe6x0_gwxN66gQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2FI3Vf0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_2E4_sP0oEe6x0_gwxN66gQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2FI3Vv0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_2E4_sv0oEe6x0_gwxN66gQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2FI3Wf0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_2FJeZP0oEe6x0_gwxN66gQ" encapsulatedComponent__AssemblyContext="_2FCJq_0oEe6x0_gwxN66gQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2FKsg_0oEe6x0_gwxN66gQ" innerProvidedRole_ProvidedDelegationConnector="_2FCJqv0oEe6x0_gwxN66gQ" outerProvidedRole_ProvidedDelegationConnector="_2FI3WP0oEe6x0_gwxN66gQ" assemblyContext_ProvidedDelegationConnector="_2FJeZP0oEe6x0_gwxN66gQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2FI3WP0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_2E4Yq_0oEe6x0_gwxN66gQ"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_2FI3W_0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_2FJeZv0oEe6x0_gwxN66gQ" encapsulatedComponent__AssemblyContext="_2E4_tP0oEe6x0_gwxN66gQ"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_2FKsgv0oEe6x0_gwxN66gQ" innerProvidedRole_ProvidedDelegationConnector="_2E4_s_0oEe6x0_gwxN66gQ" outerProvidedRole_ProvidedDelegationConnector="_2FI3Wv0oEe6x0_gwxN66gQ" assemblyContext_ProvidedDelegationConnector="_2FJeZv0oEe6x0_gwxN66gQ"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_2FI3Wv0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_2E4YrP0oEe6x0_gwxN66gQ"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2E4Yqv0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_1-YIAP0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_1-Xg8P0oEe6x0_gwxN66gQ">
      <parameters__OperationSignature dataType__Parameter="_1-WS0P0oEe6x0_gwxN66gQ" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2E4Yq_0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_1-995P0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_1-Xg8P0oEe6x0_gwxN66gQ">
      <parameters__OperationSignature dataType__Parameter="_1-WS0P0oEe6x0_gwxN66gQ" parameterName="RegistrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2E4YrP0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_1-_zEP0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_1-994P0oEe6x0_gwxN66gQ">
      <parameters__OperationSignature dataType__Parameter="_1-WS0P0oEe6x0_gwxN66gQ" parameterName="RegistrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2E4_sP0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_1--k9P0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_1-994P0oEe6x0_gwxN66gQ">
      <parameters__OperationSignature dataType__Parameter="_1--k8v0oEe6x0_gwxN66gQ" parameterName="AuthorizationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_1--k8_0oEe6x0_gwxN66gQ" parameterName="TeleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2E4_sf0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_1-_MA_0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_1-Xg8P0oEe6x0_gwxN66gQ">
      <parameters__OperationSignature dataType__Parameter="_1-_MAv0oEe6x0_gwxN66gQ" parameterName="RegistrationTokenRequest" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="String" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_2E4_sv0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_1-994f0oEe6x0_gwxN66gQ" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_1-994P0oEe6x0_gwxN66gQ">
      <parameters__OperationSignature dataType__Parameter="_1-9W0P0oEe6x0_gwxN66gQ" parameterName="Tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_1-WS0P0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_1-Xg8P0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_1-9W0P0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_1-994P0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_1--k8v0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_1--k8_0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_1-_MAv0oEe6x0_gwxN66gQ" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
