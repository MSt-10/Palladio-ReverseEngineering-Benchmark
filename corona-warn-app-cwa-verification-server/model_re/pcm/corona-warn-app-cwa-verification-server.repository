<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_40qzI7HnEe-gj68vkmHHBw">
  <components__Repository xsi:type="repository:BasicComponent" id="_40ZtY7HnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40ZtYrHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_40ZGWrHnEe-gj68vkmHHBw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4zw0RbHnEe-gj68vkmHHBw" describedService__SEFF="_4tfNEbHnEe-gj68vkmHHBw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4zu_ErHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zvmFbHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4zvmFbHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4zu_ErHnEe-gj68vkmHHBw" successor_AbstractAction="_4zvmFrHnEe-gj68vkmHHBw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zvmErHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4zvmFLHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4zu_E7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zvmELHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zvmELHnEe-gj68vkmHHBw" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_4zu_E7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zvmEbHnEe-gj68vkmHHBw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4zvmEbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zvmELHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4zvmFrHnEe-gj68vkmHHBw" entityName="stopWatch.start()" predecessor_AbstractAction="_4zvmFbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zw0QrHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4zw0QrHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4zvmFrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zw0Q7HnEe-gj68vkmHHBw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zw0P7HnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4zw0QbHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4zvmF7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zw0PbHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4zw0PbHnEe-gj68vkmHHBw" entityName="Switch Branch" predecessor_AbstractAction="_4zvmF7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zw0PrHnEe-gj68vkmHHBw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zwNKLHnEe-gj68vkmHHBw">
                <branchBehaviour_BranchTransition id="_4zwNKrHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4zvmGLHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zvmGbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zvmGbHnEe-gj68vkmHHBw" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_4zvmGLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zvmJbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_4zvmJbHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4zvmGbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zvmJrHnEe-gj68vkmHHBw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zvmIrHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_4zvmJLHnEe-gj68vkmHHBw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4zvmGrHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zvmILHnEe-gj68vkmHHBw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_4zvmILHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4zvmGrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zvmIbHnEe-gj68vkmHHBw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zvmHbHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_4zvmH7HnEe-gj68vkmHHBw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_4zvmG7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zvmHLHnEe-gj68vkmHHBw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_4zvmHLHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zvmG7HnEe-gj68vkmHHBw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4zvmIbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zvmILHnEe-gj68vkmHHBw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zvmJrHnEe-gj68vkmHHBw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_4zvmJbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zvmJ7HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zvmJ7HnEe-gj68vkmHHBw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_4zvmJrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zvmKLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zvmKLHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zvmJ7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zvmKbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zvmKbHnEe-gj68vkmHHBw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4zvmKLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zvmKrHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zvmKrHnEe-gj68vkmHHBw" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_4zvmKbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNILHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zwNILHnEe-gj68vkmHHBw" entityName="deferredResult" predecessor_AbstractAction="_4zvmKrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNIbHnEe-gj68vkmHHBw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zwNIbHnEe-gj68vkmHHBw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_4zwNILHnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNIrHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zwNIrHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zwNIbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNI7HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zwNI7HnEe-gj68vkmHHBw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4zwNIrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNJLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zwNJLHnEe-gj68vkmHHBw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_4zwNI7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNJbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zwNJbHnEe-gj68vkmHHBw" entityName="deferredResult" predecessor_AbstractAction="_4zwNJLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNJrHnEe-gj68vkmHHBw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zwNJrHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zwNJbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNJ7HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zwNJ7HnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zwNJrHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zw0NLHnEe-gj68vkmHHBw">
                <branchBehaviour_BranchTransition id="_4zw0NrHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4zwNK7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zwNLLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zwNLLHnEe-gj68vkmHHBw" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_4zwNK7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNLbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zwNLbHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zwNLLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zwNLrHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zwNLrHnEe-gj68vkmHHBw" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4zwNLbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zw0MLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zw0MLHnEe-gj68vkmHHBw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_4zwNLrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zw0MbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zw0MbHnEe-gj68vkmHHBw" entityName="deferredResult" predecessor_AbstractAction="_4zw0MLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zw0MrHnEe-gj68vkmHHBw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zw0MrHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zw0MbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zw0M7HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zw0M7HnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zw0MrHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zw0OrHnEe-gj68vkmHHBw">
                <branchBehaviour_BranchTransition id="_4zw0PLHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4zw0N7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zw0OLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zw0OLHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zw0N7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zw0ObHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zw0ObHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zw0OLHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4zw0PrHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zw0PbHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4zw0Q7HnEe-gj68vkmHHBw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_4zw0QrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zw0RLHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4zw0RLHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zw0Q7HnEe-gj68vkmHHBw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_40cwurHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_40cwvLHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40cwu7HnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_40ZGWbHnEe-gj68vkmHHBw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4ztw6LHnEe-gj68vkmHHBw" describedService__SEFF="_4tf0I7HnEe-gj68vkmHHBw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4zrUs7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zr7tbHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4zr7tbHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4zrUs7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zr7trHnEe-gj68vkmHHBw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zr7srHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4zr7tLHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4zrUtLHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zr7sLHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zr7sLHnEe-gj68vkmHHBw" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_4zrUtLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zr7sbHnEe-gj68vkmHHBw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4zr7sbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zr7sLHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4zr7trHnEe-gj68vkmHHBw" entityName="stopWatch.start()" predecessor_AbstractAction="_4zr7tbHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztw5rHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4ztw5rHnEe-gj68vkmHHBw" entityName="Switch Branch" predecessor_AbstractAction="_4zr7trHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztw57HnEe-gj68vkmHHBw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zsizrHnEe-gj68vkmHHBw">
          <branchBehaviour_BranchTransition id="_4zsi0LHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4zr7t7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zr7uLHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4zr7uLHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zr7t7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zr7ubHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4zr7ubHnEe-gj68vkmHHBw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4zr7uLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zr7urHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4zr7urHnEe-gj68vkmHHBw" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_4zr7ubHnEe-gj68vkmHHBw" successor_AbstractAction="_4zr7u7HnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4zr7u7HnEe-gj68vkmHHBw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_4zr7urHnEe-gj68vkmHHBw" successor_AbstractAction="_4zr7vLHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zr7vLHnEe-gj68vkmHHBw" entityName="deferredResult" predecessor_AbstractAction="_4zr7u7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zsiyrHnEe-gj68vkmHHBw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4zsiyrHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4zr7vLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zsiy7HnEe-gj68vkmHHBw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zsix7HnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4zsiybHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4zr7vbHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zr7vrHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zr7vrHnEe-gj68vkmHHBw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_4zr7vbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zsiwLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zsiwLHnEe-gj68vkmHHBw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_4zr7vrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zsiwbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zsiwbHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zsiwLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zsiwrHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zsiwrHnEe-gj68vkmHHBw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4zsiwbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zsiw7HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zsiw7HnEe-gj68vkmHHBw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_4zsiwrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zsixLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zsixLHnEe-gj68vkmHHBw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_4zsiw7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zsixbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zsixbHnEe-gj68vkmHHBw" entityName="deferredResult" predecessor_AbstractAction="_4zsixLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zsixrHnEe-gj68vkmHHBw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zsixrHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zsixbHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4zsiy7HnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zsiyrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zsizLHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4zsizLHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zsiy7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zsizbHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4zsizbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zsizLHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4ztJ4bHnEe-gj68vkmHHBw">
          <branchBehaviour_BranchTransition id="_4ztJ47HnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4ztJ0LHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4ztJ3bHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4ztJ3bHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4ztJ0LHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ3rHnEe-gj68vkmHHBw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4ztJ2rHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4ztJ3LHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4ztJ0bHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4ztJ0rHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztJ0rHnEe-gj68vkmHHBw" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_4ztJ0bHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ07HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztJ07HnEe-gj68vkmHHBw" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_4ztJ0rHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ1LHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztJ1LHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4ztJ07HnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ1bHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztJ1bHnEe-gj68vkmHHBw" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4ztJ1LHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ1rHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztJ1rHnEe-gj68vkmHHBw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_4ztJ1bHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ17HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztJ17HnEe-gj68vkmHHBw" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_4ztJ1rHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ2LHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4ztJ2LHnEe-gj68vkmHHBw" entityName="deferredResult" predecessor_AbstractAction="_4ztJ17HnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ2bHnEe-gj68vkmHHBw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4ztJ2bHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4ztJ2LHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztJ3rHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4ztJ3bHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ37HnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztJ37HnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4ztJ3rHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztJ4LHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4ztJ4LHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4ztJ37HnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4ztw47HnEe-gj68vkmHHBw">
          <branchBehaviour_BranchTransition id="_4ztw5bHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4ztw4LHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4ztw4bHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztw4bHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4ztw4LHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztw4rHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4ztw4rHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4ztw4bHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4ztw57HnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4ztw5rHnEe-gj68vkmHHBw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_40fM_rHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40fM_bHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_40ZGV7HnEe-gj68vkmHHBw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4zrUsbHnEe-gj68vkmHHBw" describedService__SEFF="_4temA7HnEe-gj68vkmHHBw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4t8gEbHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zrUrrHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4zrUrrHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4t8gEbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zrUr7HnEe-gj68vkmHHBw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zrUq7HnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4zrUrbHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4t-VQLHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zrUqbHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4zrUqbHnEe-gj68vkmHHBw" entityName="Switch Branch" predecessor_AbstractAction="_4t-VQLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zrUqrHnEe-gj68vkmHHBw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zqtk7HnEe-gj68vkmHHBw">
                <branchBehaviour_BranchTransition id="_4zqtlbHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4t-8ULHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4znDNbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_4znDNbHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4t-8ULHnEe-gj68vkmHHBw" successor_AbstractAction="_4zoRULHnEe-gj68vkmHHBw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4znDMrHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_4znDNLHnEe-gj68vkmHHBw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4t_jYLHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4znDMLHnEe-gj68vkmHHBw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_4znDMLHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4t_jYLHnEe-gj68vkmHHBw" successor_AbstractAction="_4znDMbHnEe-gj68vkmHHBw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4uAKcLHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_4uAxgLHnEe-gj68vkmHHBw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_4t_jYbHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4t_jYrHnEe-gj68vkmHHBw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_4t_jYrHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4t_jYbHnEe-gj68vkmHHBw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4znDMbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4znDMLHnEe-gj68vkmHHBw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zoRULHnEe-gj68vkmHHBw" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_4znDNbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zoRUbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zoRUbHnEe-gj68vkmHHBw" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_4zoRULHnEe-gj68vkmHHBw" successor_AbstractAction="_4zqtkLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zqtkLHnEe-gj68vkmHHBw" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_4zoRUbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zqtkbHnEe-gj68vkmHHBw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zqtkbHnEe-gj68vkmHHBw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_4zqtkLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zqtkrHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zqtkrHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zqtkbHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zrUobHnEe-gj68vkmHHBw">
                <branchBehaviour_BranchTransition id="_4zrUo7HnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4zqtlrHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zqtl7HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zqtl7HnEe-gj68vkmHHBw" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_4zqtlrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zrUoLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zrUoLHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zqtl7HnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zrUprHnEe-gj68vkmHHBw">
                <branchBehaviour_BranchTransition id="_4zrUqLHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4zrUpLHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zrUpbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zrUpbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zrUpLHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4zrUqrHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zrUqbHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4zrUr7HnEe-gj68vkmHHBw" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_4zrUrrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zrUsLHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4zrUsLHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zrUr7HnEe-gj68vkmHHBw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_40hpPbHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40hpPLHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_40ZtYLHnEe-gj68vkmHHBw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4zu_ELHnEe-gj68vkmHHBw" describedService__SEFF="_4tfNFLHnEe-gj68vkmHHBw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4ztw6rHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4ztw8bHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4ztw8bHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4ztw6rHnEe-gj68vkmHHBw" successor_AbstractAction="_4ztw8rHnEe-gj68vkmHHBw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4ztw7rHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4ztw8LHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4ztw67HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4ztw7LHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4ztw7LHnEe-gj68vkmHHBw" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_4ztw67HnEe-gj68vkmHHBw" successor_AbstractAction="_4ztw7bHnEe-gj68vkmHHBw">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4ztw7bHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4ztw7LHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_4ztw8rHnEe-gj68vkmHHBw" entityName="stopWatch.start()" predecessor_AbstractAction="_4ztw8bHnEe-gj68vkmHHBw" successor_AbstractAction="_4zu_DrHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4zu_DrHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4ztw8rHnEe-gj68vkmHHBw" successor_AbstractAction="_4zu_D7HnEe-gj68vkmHHBw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zu_C7HnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4zu_DbHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4ztw87HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zu_CbHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4zu_CbHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4ztw87HnEe-gj68vkmHHBw" successor_AbstractAction="_4zu_CrHnEe-gj68vkmHHBw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zu_BrHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4zu_CLHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4ztw9LHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zuYB7HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_4zuYB7HnEe-gj68vkmHHBw" entityName="Switch Branch" predecessor_AbstractAction="_4ztw9LHnEe-gj68vkmHHBw" successor_AbstractAction="_4zuYCLHnEe-gj68vkmHHBw">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zuX-LHnEe-gj68vkmHHBw">
                      <branchBehaviour_BranchTransition id="_4zuX-rHnEe-gj68vkmHHBw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4ztw9bHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zuX9bHnEe-gj68vkmHHBw"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_4zuX9bHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4ztw9bHnEe-gj68vkmHHBw" successor_AbstractAction="_4zuX9rHnEe-gj68vkmHHBw">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zuX8rHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_4zuX9LHnEe-gj68vkmHHBw">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_4ztw9rHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zuX8LHnEe-gj68vkmHHBw"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_4zuX8LHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4ztw9rHnEe-gj68vkmHHBw" successor_AbstractAction="_4zuX8bHnEe-gj68vkmHHBw"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_4zuX8bHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zuX8LHnEe-gj68vkmHHBw"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_4zuX9rHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zuX9bHnEe-gj68vkmHHBw" successor_AbstractAction="_4zuX97HnEe-gj68vkmHHBw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4zuX97HnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zuX9rHnEe-gj68vkmHHBw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zuX_rHnEe-gj68vkmHHBw">
                      <branchBehaviour_BranchTransition id="_4zuYALHnEe-gj68vkmHHBw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4zuX-7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zuX_LHnEe-gj68vkmHHBw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_4zuX_LHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zuX-7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zuX_bHnEe-gj68vkmHHBw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4zuX_bHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zuX_LHnEe-gj68vkmHHBw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zuYBLHnEe-gj68vkmHHBw">
                      <branchBehaviour_BranchTransition id="_4zuYBrHnEe-gj68vkmHHBw">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_4zuYAbHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zuYArHnEe-gj68vkmHHBw"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_4zuYArHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zuYAbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zuYA7HnEe-gj68vkmHHBw"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_4zuYA7HnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zuYArHnEe-gj68vkmHHBw"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zuYCLHnEe-gj68vkmHHBw" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_4zuYB7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zuYCbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zuYCbHnEe-gj68vkmHHBw" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_4zuYCLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zuYCrHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zuYCrHnEe-gj68vkmHHBw" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_4zuYCbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zu_ALHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zu_ALHnEe-gj68vkmHHBw" entityName="stopWatch.stop()" predecessor_AbstractAction="_4zuYCrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zu_AbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zu_AbHnEe-gj68vkmHHBw" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_4zu_ALHnEe-gj68vkmHHBw" successor_AbstractAction="_4zu_ArHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zu_ArHnEe-gj68vkmHHBw" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_4zu_AbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zu_A7HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zu_A7HnEe-gj68vkmHHBw" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_4zu_ArHnEe-gj68vkmHHBw" successor_AbstractAction="_4zu_BLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zu_BLHnEe-gj68vkmHHBw" entityName="deferredResult" predecessor_AbstractAction="_4zu_A7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zu_BbHnEe-gj68vkmHHBw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zu_BbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zu_BLHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4zu_CrHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zu_CbHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4zu_D7HnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zu_DrHnEe-gj68vkmHHBw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_40kFdbHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40kFc7HnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_40ZtYbHnEe-gj68vkmHHBw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40kFdLHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_40ZGWLHnEe-gj68vkmHHBw"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4zyCUrHnEe-gj68vkmHHBw" describedService__SEFF="_4td-8bHnEe-gj68vkmHHBw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4zxbQbHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zyCULHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zyCULHnEe-gj68vkmHHBw" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_4zxbQbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zyCUbHnEe-gj68vkmHHBw">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4zyCUbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zyCULHnEe-gj68vkmHHBw"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_4zypcrHnEe-gj68vkmHHBw" describedService__SEFF="_4soRcLHnEe-gj68vkmHHBw">
      <steps_Behaviour xsi:type="seff:StartAction" id="_4zyCVLHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zyCYbHnEe-gj68vkmHHBw"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4zyCYbHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4zyCVLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zypcLHnEe-gj68vkmHHBw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zyCWLHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4zyCWrHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4zyCVbHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zyCVrHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4zyCVrHnEe-gj68vkmHHBw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_4zyCVbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zyCV7HnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4zyCV7HnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zyCVrHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zyCXrHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4zyCYLHnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4zyCW7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zyCXLHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_4zyCXLHnEe-gj68vkmHHBw" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_4zyCW7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zyCXbHnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4zyCXbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zyCXLHnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_4zypcLHnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4zyCYbHnEe-gj68vkmHHBw" successor_AbstractAction="_4zypcbHnEe-gj68vkmHHBw">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zypbbHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_4zypb7HnEe-gj68vkmHHBw">
            <steps_Behaviour xsi:type="seff:StartAction" id="_4zyCYrHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zypa7HnEe-gj68vkmHHBw"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_4zypa7HnEe-gj68vkmHHBw" entityName="If Branch" predecessor_AbstractAction="_4zyCYrHnEe-gj68vkmHHBw" successor_AbstractAction="_4zypbLHnEe-gj68vkmHHBw">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zypY7HnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4zypZbHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4zyCY7HnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zypYLHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_4zypYLHnEe-gj68vkmHHBw" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_4zyCY7HnEe-gj68vkmHHBw" successor_AbstractAction="_4zypYbHnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_4zypYbHnEe-gj68vkmHHBw" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_4zypYLHnEe-gj68vkmHHBw" successor_AbstractAction="_4zypYrHnEe-gj68vkmHHBw">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zypYrHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zypYbHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_4zypaLHnEe-gj68vkmHHBw" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_4zyparHnEe-gj68vkmHHBw">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_4zypZrHnEe-gj68vkmHHBw" entityName="Start Action" successor_AbstractAction="_4zypZ7HnEe-gj68vkmHHBw"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_4zypZ7HnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zypZrHnEe-gj68vkmHHBw"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_4zypbLHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zypa7HnEe-gj68vkmHHBw"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_4zypcbHnEe-gj68vkmHHBw" entityName="Stop Action" predecessor_AbstractAction="_4zypcLHnEe-gj68vkmHHBw"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_40plAbHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_40qMELHnEe-gj68vkmHHBw" encapsulatedComponent__AssemblyContext="_40fM_rHnEe-gj68vkmHHBw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_40raNLHnEe-gj68vkmHHBw" innerProvidedRole_ProvidedDelegationConnector="_40fM_bHnEe-gj68vkmHHBw" outerProvidedRole_ProvidedDelegationConnector="_40plALHnEe-gj68vkmHHBw" assemblyContext_ProvidedDelegationConnector="_40qMELHnEe-gj68vkmHHBw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40plALHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_40ZGV7HnEe-gj68vkmHHBw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_40plA7HnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_40qMGLHnEe-gj68vkmHHBw" encapsulatedComponent__AssemblyContext="_40ZtY7HnEe-gj68vkmHHBw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_40raNbHnEe-gj68vkmHHBw" innerProvidedRole_ProvidedDelegationConnector="_40ZtYrHnEe-gj68vkmHHBw" outerProvidedRole_ProvidedDelegationConnector="_40plArHnEe-gj68vkmHHBw" assemblyContext_ProvidedDelegationConnector="_40qMGLHnEe-gj68vkmHHBw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40plArHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_40ZGWrHnEe-gj68vkmHHBw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_40plBrHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_40qMErHnEe-gj68vkmHHBw" encapsulatedComponent__AssemblyContext="_40kFdbHnEe-gj68vkmHHBw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_40raMLHnEe-gj68vkmHHBw" innerProvidedRole_ProvidedDelegationConnector="_40kFc7HnEe-gj68vkmHHBw" outerProvidedRole_ProvidedDelegationConnector="_40plBLHnEe-gj68vkmHHBw" assemblyContext_ProvidedDelegationConnector="_40qMErHnEe-gj68vkmHHBw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_40raMbHnEe-gj68vkmHHBw" innerProvidedRole_ProvidedDelegationConnector="_40kFdLHnEe-gj68vkmHHBw" outerProvidedRole_ProvidedDelegationConnector="_40plBbHnEe-gj68vkmHHBw" assemblyContext_ProvidedDelegationConnector="_40qMErHnEe-gj68vkmHHBw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40plBLHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_40ZtYbHnEe-gj68vkmHHBw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40plBbHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_40ZGWLHnEe-gj68vkmHHBw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_40plCLHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_40qMFrHnEe-gj68vkmHHBw" encapsulatedComponent__AssemblyContext="_40hpPbHnEe-gj68vkmHHBw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_40raMrHnEe-gj68vkmHHBw" innerProvidedRole_ProvidedDelegationConnector="_40hpPLHnEe-gj68vkmHHBw" outerProvidedRole_ProvidedDelegationConnector="_40plB7HnEe-gj68vkmHHBw" assemblyContext_ProvidedDelegationConnector="_40qMFrHnEe-gj68vkmHHBw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40plB7HnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_40ZtYLHnEe-gj68vkmHHBw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_40plCbHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_40qMFLHnEe-gj68vkmHHBw" encapsulatedComponent__AssemblyContext="_40cwurHnEe-gj68vkmHHBw"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_40plC7HnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_40qzIbHnEe-gj68vkmHHBw" encapsulatedComponent__AssemblyContext="_40cwvLHnEe-gj68vkmHHBw"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_40raM7HnEe-gj68vkmHHBw" innerProvidedRole_ProvidedDelegationConnector="_40cwu7HnEe-gj68vkmHHBw" outerProvidedRole_ProvidedDelegationConnector="_40plCrHnEe-gj68vkmHHBw" assemblyContext_ProvidedDelegationConnector="_40qzIbHnEe-gj68vkmHHBw"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_40plCrHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_40ZGWbHnEe-gj68vkmHHBw"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_40ZGV7HnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_4temA7HnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_4snqYbHnEe-gj68vkmHHBw">
      <parameters__OperationSignature dataType__Parameter="_4temArHnEe-gj68vkmHHBw" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_40ZGWLHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_4soRcLHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_4snqYbHnEe-gj68vkmHHBw">
      <parameters__OperationSignature dataType__Parameter="_4smcQLHnEe-gj68vkmHHBw" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_4snqYLHnEe-gj68vkmHHBw" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_40ZGWbHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_4tf0I7HnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_4tfNELHnEe-gj68vkmHHBw">
      <parameters__OperationSignature dataType__Parameter="_4tf0IrHnEe-gj68vkmHHBw" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_40ZGWrHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_4tfNEbHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_4tfNELHnEe-gj68vkmHHBw">
      <parameters__OperationSignature dataType__Parameter="_4temArHnEe-gj68vkmHHBw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_40ZtYLHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_4tfNFLHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_4tfNELHnEe-gj68vkmHHBw">
      <parameters__OperationSignature dataType__Parameter="_4temArHnEe-gj68vkmHHBw" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_40ZtYbHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_4td-8bHnEe-gj68vkmHHBw" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_4snqYbHnEe-gj68vkmHHBw">
      <parameters__OperationSignature dataType__Parameter="_4td-8LHnEe-gj68vkmHHBw" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4smcQLHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4snqYLHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4snqYbHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4td-8LHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_model_Tan"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4temArHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4tfNELHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_4tf0IrHnEe-gj68vkmHHBw" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
</repository:Repository>
