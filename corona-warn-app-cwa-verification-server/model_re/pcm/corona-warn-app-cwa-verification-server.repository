<?xml version="1.0" encoding="UTF-8"?>
<repository:Repository xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:composition="http://palladiosimulator.org/PalladioComponentModel/Core/Composition/5.2" xmlns:repository="http://palladiosimulator.org/PalladioComponentModel/Repository/5.2" xmlns:seff="http://palladiosimulator.org/PalladioComponentModel/SEFF/5.2" xmlns:stoex="http://sdq.ipd.uka.de/StochasticExpressions/2.2" id="_fXY1PKL5Ee-wIpZwlYNukA">
  <components__Repository xsi:type="repository:BasicComponent" id="_fXHvcaL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXHvcKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_fXHIbaL5Ee-wIpZwlYNukA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fWe2TqL5Ee-wIpZwlYNukA" describedService__SEFF="_fQs-YKL5Ee-wIpZwlYNukA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fWdBFKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWdBG6L5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fWdBG6L5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWdBFKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdBHKL5Ee-wIpZwlYNukA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWdBGKL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fWdBGqL5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWdBFaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWdBFqL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWdBFqL5Ee-wIpZwlYNukA" entityName="fakeRequestService.getTestState(registrationToken)" predecessor_AbstractAction="_fWdBFaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdBF6L5Ee-wIpZwlYNukA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_getTestState(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_getTestState(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWdBF6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWdBFqL5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdBHKL5Ee-wIpZwlYNukA" entityName="stopWatch.start()" predecessor_AbstractAction="_fWdBG6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWe2S6L5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fWe2S6L5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWdBHKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWe2TKL5Ee-wIpZwlYNukA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWe2SKL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fWe2SqL5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWdBHaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWe2RqL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fWe2RqL5Ee-wIpZwlYNukA" entityName="Switch Branch" predecessor_AbstractAction="_fWdBHaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWe2R6L5Ee-wIpZwlYNukA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWdoM6L5Ee-wIpZwlYNukA">
                <branchBehaviour_BranchTransition id="_fWePMKL5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWdBHqL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWdBH6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdBH6L5Ee-wIpZwlYNukA" entityName="testResult.setResponsePadding(RandomStringUtils.randomAlphanumeric(RESPONSE_PADDING_LENGTH))" predecessor_AbstractAction="_fWdBHqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoJaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_fWdoJaL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWdBH6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoJqL5Ee-wIpZwlYNukA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWdoIqL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_fWdoJKL5Ee-wIpZwlYNukA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fWdBIKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWdoIKL5Ee-wIpZwlYNukA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_fWdoIKL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWdBIKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoIaL5Ee-wIpZwlYNukA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWdBI6L5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_fWdBJaL5Ee-wIpZwlYNukA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_fWdBIaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWdBIqL5Ee-wIpZwlYNukA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_fWdBIqL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWdBIaL5Ee-wIpZwlYNukA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fWdoIaL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWdoIKL5Ee-wIpZwlYNukA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(!config.isDisableDobHashCheckForExternalTestResult() &amp;&amp; appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoJqL5Ee-wIpZwlYNukA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_fWdoJaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoJ6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoJ6L5Ee-wIpZwlYNukA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_fWdoJqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoKKL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoKKL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWdoJ6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoKaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoKaL5Ee-wIpZwlYNukA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fWdoKKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoKqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoKqL5Ee-wIpZwlYNukA" entityName="deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId())))" predecessor_AbstractAction="_fWdoKaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoK6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWdoK6L5Ee-wIpZwlYNukA" entityName="deferredResult" predecessor_AbstractAction="_fWdoKqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoLKL5Ee-wIpZwlYNukA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoLKL5Ee-wIpZwlYNukA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_fWdoK6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoLaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoLaL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWdoLKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoLqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoLqL5Ee-wIpZwlYNukA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fWdoLaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoL6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoL6L5Ee-wIpZwlYNukA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_fWdoLqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoMKL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWdoMKL5Ee-wIpZwlYNukA" entityName="deferredResult" predecessor_AbstractAction="_fWdoL6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoMaL5Ee-wIpZwlYNukA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWdoMaL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWdoMKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdoMqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWdoMqL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWdoMaL5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWePOaL5Ee-wIpZwlYNukA">
                <branchBehaviour_BranchTransition id="_fWePO6L5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWePMaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWePMqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWePMqL5Ee-wIpZwlYNukA" entityName="log.info(&quot;The result for registration token based on teleTAN will be returned.&quot;)" predecessor_AbstractAction="_fWePMaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWePM6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWePM6L5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWePMqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWePNKL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWePNKL5Ee-wIpZwlYNukA" entityName="fakeDelayService.updateFakeTestRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fWePM6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWePNaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWePNaL5Ee-wIpZwlYNukA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.ok(generateReturnTestResult(LabTestResult.POSITIVE.getTestResult(),appSession.get().getCreatedAt().toEpochSecond(ZoneOffset.UTC),null))),fakeDelayService.realDelayTest(),MILLISECONDS)" predecessor_AbstractAction="_fWePNKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWePNqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWePNqL5Ee-wIpZwlYNukA" entityName="deferredResult" predecessor_AbstractAction="_fWePNaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWePN6L5Ee-wIpZwlYNukA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWePN6L5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWePNqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWePOKL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWePOKL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWePN6L5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWe2Q6L5Ee-wIpZwlYNukA">
                <branchBehaviour_BranchTransition id="_fWe2RaL5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWe2QKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWe2QaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWe2QaL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWe2QKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWe2QqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWe2QqL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWe2QaL5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWe2R6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWe2RqL5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fWe2TKL5Ee-wIpZwlYNukA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_fWe2S6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWe2TaL5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fWe2TaL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWe2TKL5Ee-wIpZwlYNukA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_fXKywaL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXKywKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_fXHIaKL5Ee-wIpZwlYNukA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fWYvs6L5Ee-wIpZwlYNukA" describedService__SEFF="_fQtlcqL5Ee-wIpZwlYNukA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fRIcMaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWYvsKL5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fWYvsKL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fRIcMaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWYvsaL5Ee-wIpZwlYNukA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWYvraL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fWYvr6L5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fRKRYKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWYvq6L5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fWYvq6L5Ee-wIpZwlYNukA" entityName="Switch Branch" predecessor_AbstractAction="_fRKRYKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWYvrKL5Ee-wIpZwlYNukA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWYIk6L5Ee-wIpZwlYNukA">
                <branchBehaviour_BranchTransition id="_fWYIlaL5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fRK4cKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWVFQ6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_fWVFQ6L5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fRK4cKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWVsUKL5Ee-wIpZwlYNukA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWVFQKL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                      <branchBehaviour_BranchTransition id="_fWVFQqL5Ee-wIpZwlYNukA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fRK4caL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWUeMKL5Ee-wIpZwlYNukA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_fWUeMKL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fRK4caL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWUeMaL5Ee-wIpZwlYNukA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fRLfgKL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_fRMGkKL5Ee-wIpZwlYNukA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_fRK4cqL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fRK4c6L5Ee-wIpZwlYNukA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_fRK4c6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fRK4cqL5Ee-wIpZwlYNukA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(testResultDob.getTestResult() != testResult.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fWUeMaL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWUeMKL5Ee-wIpZwlYNukA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.get().getHashedGuidDob() != null)"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWVsUKL5Ee-wIpZwlYNukA" entityName="log.debug(&quot;Result {}&quot;,testResult)" predecessor_AbstractAction="_fWVFQ6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWVsUaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWVsUaL5Ee-wIpZwlYNukA" entityName="log.info(&quot;The result for registration token based on hashed Guid will be returned.&quot;)" predecessor_AbstractAction="_fWVsUKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWYIkKL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWYIkKL5Ee-wIpZwlYNukA" entityName="ResponseEntity.ok(new InternalTestResult(testResult.getTestResult(),testResult.getSc(),testResult.getLabId(),testResult.getResponsePadding(),appSession.get().getHashedGuid()))" predecessor_AbstractAction="_fWVsUaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWYIkaL5Ee-wIpZwlYNukA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_ok(new InternalTestResult(testResult_getTestResult(),testResult_getSc(),testResult_getLabId(),testResult_getResponsePadding(),appSession_get()_getHashedGuid()))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWYIkaL5Ee-wIpZwlYNukA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_fWYIkKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWYIkqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWYIkqL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWYIkaL5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWYvo6L5Ee-wIpZwlYNukA">
                <branchBehaviour_BranchTransition id="_fWYvpaL5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWYvoKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWYvoaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWYvoaL5Ee-wIpZwlYNukA" entityName="log.info(&quot;Internal TestState is not allowed for TeleTan Token.&quot;)" predecessor_AbstractAction="_fWYvoKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWYvoqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWYvoqL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWYvoaL5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWYvqKL5Ee-wIpZwlYNukA">
                <branchBehaviour_BranchTransition id="_fWYvqqL5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWYvpqL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWYvp6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWYvp6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWYvpqL5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWYvrKL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWYvq6L5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fWYvsaL5Ee-wIpZwlYNukA" entityName="log.info(&quot;The registration token doesn't exist.&quot;)" predecessor_AbstractAction="_fWYvsKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWYvsqL5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fWYvsqL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWYvsaL5Ee-wIpZwlYNukA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_fXMn_aL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_service_FakeRequestService"/>
  <components__Repository xsi:type="repository:BasicComponent" id="_fXNPAqL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXNPAKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_fXHIa6L5Ee-wIpZwlYNukA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXNPAaL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_fXHIaqL5Ee-wIpZwlYNukA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fWZWtKL5Ee-wIpZwlYNukA" describedService__SEFF="_fQuMhKL5Ee-wIpZwlYNukA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fWZWsaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWZWsqL5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWZWsqL5Ee-wIpZwlYNukA" entityName="tanService.getEntityByTan(tan.getTan()).filter(t -> t.canBeRedeemed(LocalDateTime.now())).map(t -> {&#xA;  tanService.deleteTan(t);&#xA;  log.info(&quot;The Tan is valid.&quot;);&#xA;  return t;&#xA;}&#xA;).map(t -> {&#xA;  ResponseEntity.BodyBuilder responseBuilder=ResponseEntity.ok();&#xA;  if (t.getTeleTanType() != null) {&#xA;    responseBuilder.header(TELE_TAN_TYPE_HEADER,t.getTeleTanType().toString());&#xA;  }&#xA;  return responseBuilder.build();&#xA;}&#xA;).orElseGet(() -> {&#xA;  log.info(&quot;The Tan is invalid.&quot;);&#xA;  throw new VerificationServerException(HttpStatus.NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)" predecessor_AbstractAction="_fWZWsaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWZWs6L5Ee-wIpZwlYNukA">
        <localVariableUsages_SetVariableAction>
          <variableCharacterisation_VariableUsage type="VALUE">
            <specification_VariableCharacterisation specification="PrimitiveType.tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </variableCharacterisation_VariableUsage>
          <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
            <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="tanService_getEntityByTan(tan_getTan())_filter(t -> t_canBeRedeemed(LocalDateTime_now()))_map(t -> {&#xA;  tanService_deleteTan(t);&#xA;  log_info(&quot;The Tan is valid_&quot;);&#xA;  return t;&#xA;}&#xA;)_map(t -> {&#xA;  ResponseEntity_BodyBuilder responseBuilder=ResponseEntity_ok();&#xA;  if (t_getTeleTanType() != null) {&#xA;    responseBuilder_header(TELE_TAN_TYPE_HEADER,t_getTeleTanType()_toString());&#xA;  }&#xA;  return responseBuilder_build();&#xA;}&#xA;)_orElseGet(() -> {&#xA;  log_info(&quot;The Tan is invalid_&quot;);&#xA;  throw new VerificationServerException(HttpStatus_NOT_FOUND,&quot;No Tan found or Tan is invalid&quot;);&#xA;}&#xA;)"/>
          </namedReference__VariableUsage>
        </localVariableUsages_SetVariableAction>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fWZWs6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWZWsqL5Ee-wIpZwlYNukA"/>
    </serviceEffectSpecifications__BasicComponent>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fWak3aL5Ee-wIpZwlYNukA" describedService__SEFF="_fQuMgKL5Ee-wIpZwlYNukA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fWZWtqL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWZ9y6L5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fWZ9y6L5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWZWtqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWak26L5Ee-wIpZwlYNukA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWZ9wqL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fWZ9xKL5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWZWt6L5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWZ9wKL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWZ9wKL5Ee-wIpZwlYNukA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE)" predecessor_AbstractAction="_fWZWt6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWZ9waL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWZ9waL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWZ9wKL5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == null)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWZ9yKL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fWZ9yqL5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWZ9xaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWZ9xqL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWZ9xqL5Ee-wIpZwlYNukA" entityName="requiredRoles.add(AuthorizationRole.AUTH_C19_HOTLINE_EVENT)" predecessor_AbstractAction="_fWZ9xaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWZ9x6L5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWZ9x6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWZ9xqL5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(teleTanType == TeleTanType.EVENT)"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fWak26L5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWZ9y6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWak3KL5Ee-wIpZwlYNukA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWak2KL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fWak2qL5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWZ9zKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWak1qL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fWak1qL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWZ9zKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWak16L5Ee-wIpZwlYNukA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWZ90aL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fWak0KL5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWZ9zaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWZ9zqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWZ9zqL5Ee-wIpZwlYNukA" entityName="log.info(&quot;The teleTAN is generated.&quot;)" predecessor_AbstractAction="_fWZ9zaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWZ9z6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWZ9z6L5Ee-wIpZwlYNukA" entityName="ResponseEntity.status(HttpStatus.CREATED).body(new TeleTan(teleTan))" predecessor_AbstractAction="_fWZ9zqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWZ90KL5Ee-wIpZwlYNukA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="ResponseEntity_status(HttpStatus_CREATED)_body(new TeleTan(teleTan))"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWZ90KL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWZ9z6L5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(tanService.isTeleTanRateLimitNotExceeded())"/>
              </branches_Branch>
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWak06L5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fWak1aL5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWak0aL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWak0qL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWak0qL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWak0aL5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: else"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWak16L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWak1qL5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(jwtService.isAuthorized(authorization.getToken(),requiredRoles))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fWak3KL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWak26L5Ee-wIpZwlYNukA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_fXRgfqL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXRgfaL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_fXHIbKL5Ee-wIpZwlYNukA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fWgrdqL5Ee-wIpZwlYNukA" describedService__SEFF="_fP8JYKL5Ee-wIpZwlYNukA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fWe2UKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWfdUKL5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fWfdUKL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWe2UKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWfdUaL5Ee-wIpZwlYNukA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWe2VKL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fWe2VqL5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWe2UaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWe2UqL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWe2UqL5Ee-wIpZwlYNukA" entityName="fakeRequestService.generateTan(registrationToken)" predecessor_AbstractAction="_fWe2UaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWe2U6L5Ee-wIpZwlYNukA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestService_generateTan(registrationToken)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestService_generateTan(registrationToken)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWe2U6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWe2UqL5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fWfdUaL5Ee-wIpZwlYNukA" entityName="stopWatch.start()" predecessor_AbstractAction="_fWfdUKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgrdKL5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fWgrdKL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWfdUaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgrdaL5Ee-wIpZwlYNukA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWgrcaL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fWgrc6L5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWfdUqL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWgEc6L5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fWgEc6L5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWfdUqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgrcKL5Ee-wIpZwlYNukA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWgEcKL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fWgEcqL5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWfdU6L5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWgEZqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:BranchAction" id="_fWgEZqL5Ee-wIpZwlYNukA" entityName="Switch Branch" predecessor_AbstractAction="_fWfdU6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEZ6L5Ee-wIpZwlYNukA">
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWfdXqL5Ee-wIpZwlYNukA">
                      <branchBehaviour_BranchTransition id="_fWfdYKL5Ee-wIpZwlYNukA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fWfdVKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWfdW6L5Ee-wIpZwlYNukA"/>
                        <steps_Behaviour xsi:type="seff:BranchAction" id="_fWfdW6L5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWfdVKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWfdXKL5Ee-wIpZwlYNukA">
                          <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWfdWKL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                            <branchBehaviour_BranchTransition id="_fWfdWqL5Ee-wIpZwlYNukA">
                              <steps_Behaviour xsi:type="seff:StartAction" id="_fWfdVaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWfdVqL5Ee-wIpZwlYNukA"/>
                              <steps_Behaviour xsi:type="seff:InternalAction" id="_fWfdVqL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWfdVaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWfdV6L5Ee-wIpZwlYNukA"/>
                              <steps_Behaviour xsi:type="seff:StopAction" id="_fWfdV6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWfdVqL5Ee-wIpZwlYNukA"/>
                            </branchBehaviour_BranchTransition>
                            <branchCondition_GuardedBranchTransition specification="@position: Condition: if(covidTestResult.getTestResult() != LabTestResult.POSITIVE.getTestResult() &amp;&amp; covidTestResult.getTestResult() != LabTestResult.QUICK_POSITIVE.getTestResult())"/>
                          </branches_Branch>
                        </steps_Behaviour>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_fWfdXKL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWfdW6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWfdXaL5Ee-wIpZwlYNukA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fWfdXaL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWfdXKL5Ee-wIpZwlYNukA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(HASHED_GUID)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWfdZKL5Ee-wIpZwlYNukA">
                      <branchBehaviour_BranchTransition id="_fWfdZqL5Ee-wIpZwlYNukA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fWfdYaL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWfdYqL5Ee-wIpZwlYNukA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_fWfdYqL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWfdYaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWfdY6L5Ee-wIpZwlYNukA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fWfdY6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWfdYqL5Ee-wIpZwlYNukA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
                    </branches_Branch>
                    <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWgEY6L5Ee-wIpZwlYNukA">
                      <branchBehaviour_BranchTransition id="_fWgEZaL5Ee-wIpZwlYNukA">
                        <steps_Behaviour xsi:type="seff:StartAction" id="_fWgEYKL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWgEYaL5Ee-wIpZwlYNukA"/>
                        <steps_Behaviour xsi:type="seff:InternalAction" id="_fWgEYaL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWgEYKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEYqL5Ee-wIpZwlYNukA"/>
                        <steps_Behaviour xsi:type="seff:StopAction" id="_fWgEYqL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWgEYaL5Ee-wIpZwlYNukA"/>
                      </branchBehaviour_BranchTransition>
                      <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
                    </branches_Branch>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWgEZ6L5Ee-wIpZwlYNukA" entityName="appSession.incrementTanCounter()" predecessor_AbstractAction="_fWgEZqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEaKL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWgEaKL5Ee-wIpZwlYNukA" entityName="appSession.setUpdatedAt(LocalDateTime.now())" predecessor_AbstractAction="_fWgEZ6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEaaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWgEaaL5Ee-wIpZwlYNukA" entityName="appSessionService.saveAppSession(appSession)" predecessor_AbstractAction="_fWgEaKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEaqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWgEaqL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWgEaaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEa6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWgEa6L5Ee-wIpZwlYNukA" entityName="fakeDelayService.updateFakeTanRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fWgEaqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEbKL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWgEbKL5Ee-wIpZwlYNukA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(ResponseEntity.status(HttpStatus.CREATED).body(returnTan)),fakeDelayService.realDelayTan(),MILLISECONDS)" predecessor_AbstractAction="_fWgEa6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEbaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWgEbaL5Ee-wIpZwlYNukA" entityName="log.info(&quot;Returning the successfully generated tan.&quot;)" predecessor_AbstractAction="_fWgEbKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEbqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWgEbqL5Ee-wIpZwlYNukA" entityName="deferredResult" predecessor_AbstractAction="_fWgEbaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWgEb6L5Ee-wIpZwlYNukA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWgEb6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWgEbqL5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(appSession.getTanCounter() &lt; tancountermax)"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWgrcKL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWgEc6L5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(actual.isPresent())"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fWgrdaL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWgrdKL5Ee-wIpZwlYNukA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:BasicComponent" id="_fXT8vKL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXT8u6L5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_fXHIaaL5Ee-wIpZwlYNukA"/>
    <serviceEffectSpecifications__BasicComponent xsi:type="seff:ResourceDemandingSEFF" id="_fWdBEqL5Ee-wIpZwlYNukA" describedService__SEFF="_fQs-ZKL5Ee-wIpZwlYNukA">
      <steps_Behaviour xsi:type="seff:StartAction" id="_fWak36L5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWbL4KL5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fWbL4KL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWak36L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL4aL5Ee-wIpZwlYNukA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWak46L5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
          <branchBehaviour_BranchTransition id="_fWak5aL5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWak4KL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWak4aL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWak4aL5Ee-wIpZwlYNukA" entityName="fakeRequestController.generateRegistrationToken(request)" predecessor_AbstractAction="_fWak4KL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWak4qL5Ee-wIpZwlYNukA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.fakeRequestController_generateRegistrationToken(request)"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="fakeRequestController_generateRegistrationToken(request)"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWak4qL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWak4aL5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if((fake != null) &amp;&amp; (fake.equals(&quot;1&quot;)))"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL4aL5Ee-wIpZwlYNukA" entityName="stopWatch.start()" predecessor_AbstractAction="_fWbL4KL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdBEKL5Ee-wIpZwlYNukA"/>
      <steps_Behaviour xsi:type="seff:BranchAction" id="_fWdBEKL5Ee-wIpZwlYNukA" entityName="Switch Branch" predecessor_AbstractAction="_fWbL4aL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWdBEaL5Ee-wIpZwlYNukA">
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWby-aL5Ee-wIpZwlYNukA">
          <branchBehaviour_BranchTransition id="_fWby-6L5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWbL4qL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWbL46L5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL46L5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWbL4qL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL5KL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL5KL5Ee-wIpZwlYNukA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fWbL46L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL5aL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL5aL5Ee-wIpZwlYNukA" entityName="deferredResult.setResult(responseEntity)" predecessor_AbstractAction="_fWbL5KL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL5qL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL5qL5Ee-wIpZwlYNukA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_fWbL5aL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL56L5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWbL56L5Ee-wIpZwlYNukA" entityName="deferredResult" predecessor_AbstractAction="_fWbL5qL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWby9aL5Ee-wIpZwlYNukA">
              <localVariableUsages_SetVariableAction>
                <variableCharacterisation_VariableUsage type="VALUE">
                  <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                </variableCharacterisation_VariableUsage>
                <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                  <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                </namedReference__VariableUsage>
              </localVariableUsages_SetVariableAction>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fWby9aL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWbL56L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWby9qL5Ee-wIpZwlYNukA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWby8qL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fWby9KL5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWbL6KL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWbL6aL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL6aL5Ee-wIpZwlYNukA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_fWbL6KL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL6qL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL6qL5Ee-wIpZwlYNukA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_fWbL6aL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL66L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL66L5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWbL6qL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL7KL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL7KL5Ee-wIpZwlYNukA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fWbL66L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL7aL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL7aL5Ee-wIpZwlYNukA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_fWbL7KL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbL7qL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbL7qL5Ee-wIpZwlYNukA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_fWbL7aL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWby8KL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWby8KL5Ee-wIpZwlYNukA" entityName="deferredResult" predecessor_AbstractAction="_fWbL7qL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWby8aL5Ee-wIpZwlYNukA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWby8aL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWby8KL5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWby9qL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWby9aL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWby96L5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWby96L5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWby9qL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWby-KL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWby-KL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWby96L5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(GUID)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWcaDKL5Ee-wIpZwlYNukA">
          <branchBehaviour_BranchTransition id="_fWcaDqL5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWby_KL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWcaCKL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:BranchAction" id="_fWcaCKL5Ee-wIpZwlYNukA" entityName="If Branch" predecessor_AbstractAction="_fWby_KL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWcaCaL5Ee-wIpZwlYNukA">
              <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWcaBaL5Ee-wIpZwlYNukA" entityName="Guarded Branch Transition">
                <branchBehaviour_BranchTransition id="_fWcaB6L5Ee-wIpZwlYNukA">
                  <steps_Behaviour xsi:type="seff:StartAction" id="_fWby_aL5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWby_qL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWby_qL5Ee-wIpZwlYNukA" entityName="teleTan.setRedeemed(true)" predecessor_AbstractAction="_fWby_aL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWby_6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWby_6L5Ee-wIpZwlYNukA" entityName="tanService.saveTan(teleTan)" predecessor_AbstractAction="_fWby_qL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWbzAKL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWbzAKL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWby_6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWcaAKL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWcaAKL5Ee-wIpZwlYNukA" entityName="fakeDelayService.updateFakeTokenRequestDelay(stopWatch.getTotalTimeMillis())" predecessor_AbstractAction="_fWbzAKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWcaAaL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWcaAaL5Ee-wIpZwlYNukA" entityName="scheduledExecutor.schedule(() -> deferredResult.setResult(response),fakeDelayService.realDelayToken(),MILLISECONDS)" predecessor_AbstractAction="_fWcaAKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWcaAqL5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:InternalAction" id="_fWcaAqL5Ee-wIpZwlYNukA" entityName="log.info(&quot;Returning the successfully generated RegistrationToken.&quot;)" predecessor_AbstractAction="_fWcaAaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWcaA6L5Ee-wIpZwlYNukA"/>
                  <steps_Behaviour xsi:type="seff:SetVariableAction" id="_fWcaA6L5Ee-wIpZwlYNukA" entityName="deferredResult" predecessor_AbstractAction="_fWcaAqL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWcaBKL5Ee-wIpZwlYNukA">
                    <localVariableUsages_SetVariableAction>
                      <variableCharacterisation_VariableUsage type="VALUE">
                        <specification_VariableCharacterisation specification="PrimitiveType.deferredResult"/>
                      </variableCharacterisation_VariableUsage>
                      <namedReference__VariableUsage xsi:type="stoex:NamespaceReference" referenceName="PrimitiveType">
                        <innerReference_NamespaceReference xsi:type="stoex:VariableReference" referenceName="deferredResult"/>
                      </namedReference__VariableUsage>
                    </localVariableUsages_SetVariableAction>
                  </steps_Behaviour>
                  <steps_Behaviour xsi:type="seff:StopAction" id="_fWcaBKL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWcaA6L5Ee-wIpZwlYNukA"/>
                </branchBehaviour_BranchTransition>
                <branchCondition_GuardedBranchTransition specification="@position: Condition: if(optional.isPresent())"/>
              </branches_Branch>
            </steps_Behaviour>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWcaCaL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWcaCKL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWcaCqL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWcaCqL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWcaCaL5Ee-wIpZwlYNukA" successor_AbstractAction="_fWcaC6L5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWcaC6L5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWcaCqL5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if(TELETAN)"/>
        </branches_Branch>
        <branches_Branch xsi:type="seff:GuardedBranchTransition" id="_fWcaEqL5Ee-wIpZwlYNukA">
          <branchBehaviour_BranchTransition id="_fWcaFKL5Ee-wIpZwlYNukA">
            <steps_Behaviour xsi:type="seff:StartAction" id="_fWcaD6L5Ee-wIpZwlYNukA" entityName="Start Action" successor_AbstractAction="_fWcaEKL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:InternalAction" id="_fWcaEKL5Ee-wIpZwlYNukA" entityName="stopWatch.stop()" predecessor_AbstractAction="_fWcaD6L5Ee-wIpZwlYNukA" successor_AbstractAction="_fWcaEaL5Ee-wIpZwlYNukA"/>
            <steps_Behaviour xsi:type="seff:StopAction" id="_fWcaEaL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWcaEKL5Ee-wIpZwlYNukA"/>
          </branchBehaviour_BranchTransition>
          <branchCondition_GuardedBranchTransition specification="@position: Condition: if()"/>
        </branches_Branch>
      </steps_Behaviour>
      <steps_Behaviour xsi:type="seff:StopAction" id="_fWdBEaL5Ee-wIpZwlYNukA" entityName="Stop Action" predecessor_AbstractAction="_fWdBEKL5Ee-wIpZwlYNukA"/>
    </serviceEffectSpecifications__BasicComponent>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fXXnEaL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_InternalTestStateController">
    <assemblyContexts__ComposedStructure id="_fXY1OqL5Ee-wIpZwlYNukA" encapsulatedComponent__AssemblyContext="_fXKywaL5Ee-wIpZwlYNukA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fXaDUqL5Ee-wIpZwlYNukA" innerProvidedRole_ProvidedDelegationConnector="_fXKywKL5Ee-wIpZwlYNukA" outerProvidedRole_ProvidedDelegationConnector="_fXXnEKL5Ee-wIpZwlYNukA" assemblyContext_ProvidedDelegationConnector="_fXY1OqL5Ee-wIpZwlYNukA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXXnEKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2 Provider" providedInterface__OperationProvidedRole="_fXHIaKL5Ee-wIpZwlYNukA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fXYOIqL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_InternalTanController">
    <assemblyContexts__ComposedStructure id="_fXY1MqL5Ee-wIpZwlYNukA" encapsulatedComponent__AssemblyContext="_fXNPAqL5Ee-wIpZwlYNukA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fXaDUaL5Ee-wIpZwlYNukA" innerProvidedRole_ProvidedDelegationConnector="_fXNPAKL5Ee-wIpZwlYNukA" outerProvidedRole_ProvidedDelegationConnector="_fXYOIKL5Ee-wIpZwlYNukA" assemblyContext_ProvidedDelegationConnector="_fXY1MqL5Ee-wIpZwlYNukA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fXaDVKL5Ee-wIpZwlYNukA" innerProvidedRole_ProvidedDelegationConnector="_fXNPAaL5Ee-wIpZwlYNukA" outerProvidedRole_ProvidedDelegationConnector="_fXYOIaL5Ee-wIpZwlYNukA" assemblyContext_ProvidedDelegationConnector="_fXY1MqL5Ee-wIpZwlYNukA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXYOIKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST] Provider" providedInterface__OperationProvidedRole="_fXHIa6L5Ee-wIpZwlYNukA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXYOIaL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST] Provider" providedInterface__OperationProvidedRole="_fXHIaqL5Ee-wIpZwlYNukA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fXYOJKL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_ExternalTanController">
    <assemblyContexts__ComposedStructure id="_fXY1NKL5Ee-wIpZwlYNukA" encapsulatedComponent__AssemblyContext="_fXRgfqL5Ee-wIpZwlYNukA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fXaDU6L5Ee-wIpZwlYNukA" innerProvidedRole_ProvidedDelegationConnector="_fXRgfaL5Ee-wIpZwlYNukA" outerProvidedRole_ProvidedDelegationConnector="_fXYOI6L5Ee-wIpZwlYNukA" assemblyContext_ProvidedDelegationConnector="_fXY1NKL5Ee-wIpZwlYNukA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXYOI6L5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan[POST] Provider" providedInterface__OperationProvidedRole="_fXHIbKL5Ee-wIpZwlYNukA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fXYOJqL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_ExternalTokenController">
    <assemblyContexts__ComposedStructure id="_fXY1NqL5Ee-wIpZwlYNukA" encapsulatedComponent__AssemblyContext="_fXT8vKL5Ee-wIpZwlYNukA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fXaDUKL5Ee-wIpZwlYNukA" innerProvidedRole_ProvidedDelegationConnector="_fXT8u6L5Ee-wIpZwlYNukA" outerProvidedRole_ProvidedDelegationConnector="_fXYOJaL5Ee-wIpZwlYNukA" assemblyContext_ProvidedDelegationConnector="_fXY1NqL5Ee-wIpZwlYNukA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXYOJaL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST] Provider" providedInterface__OperationProvidedRole="_fXHIaaL5Ee-wIpZwlYNukA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fXYOJ6L5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_service_FakeRequestService">
    <assemblyContexts__ComposedStructure id="_fXY1OKL5Ee-wIpZwlYNukA" encapsulatedComponent__AssemblyContext="_fXMn_aL5Ee-wIpZwlYNukA"/>
  </components__Repository>
  <components__Repository xsi:type="repository:CompositeComponent" id="_fXYOKaL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_ExternalTestStateController">
    <assemblyContexts__ComposedStructure id="_fXY1MKL5Ee-wIpZwlYNukA" encapsulatedComponent__AssemblyContext="_fXHvcaL5Ee-wIpZwlYNukA"/>
    <connectors__ComposedStructure xsi:type="composition:ProvidedDelegationConnector" id="_fXaDVaL5Ee-wIpZwlYNukA" innerProvidedRole_ProvidedDelegationConnector="_fXHvcKL5Ee-wIpZwlYNukA" outerProvidedRole_ProvidedDelegationConnector="_fXYOKKL5Ee-wIpZwlYNukA" assemblyContext_ProvidedDelegationConnector="_fXY1MKL5Ee-wIpZwlYNukA"/>
    <providedRoles_InterfaceProvidingEntity xsi:type="repository:OperationProvidedRole" id="_fXYOKKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/testresult[POST] Provider" providedInterface__OperationProvidedRole="_fXHIbaL5Ee-wIpZwlYNukA"/>
  </components__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fXHIaKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2">
    <signatures__OperationInterface id="_fQtlcqL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]$2" returnType__OperationSignature="_fQtlcaL5Ee-wIpZwlYNukA">
      <parameters__OperationSignature dataType__Parameter="_fP6UMKL5Ee-wIpZwlYNukA" parameterName="registrationToken" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fXHIaaL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]">
    <signatures__OperationInterface id="_fQs-ZKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/registrationToken[POST]" returnType__OperationSignature="_fP7iUKL5Ee-wIpZwlYNukA">
      <parameters__OperationSignature dataType__Parameter="_fQs-Y6L5Ee-wIpZwlYNukA" parameterName="request" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fXHIaqL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]">
    <signatures__OperationInterface id="_fQuMgKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan/teletan[POST]" returnType__OperationSignature="_fQtlcaL5Ee-wIpZwlYNukA">
      <parameters__OperationSignature dataType__Parameter="_fQtldaL5Ee-wIpZwlYNukA" parameterName="authorization" modifier__Parameter="in"/>
      <parameters__OperationSignature dataType__Parameter="_fQtldqL5Ee-wIpZwlYNukA" parameterName="teleTanType" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fXHIa6L5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]">
    <signatures__OperationInterface id="_fQuMhKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan/verify[POST]" returnType__OperationSignature="_fQtlcaL5Ee-wIpZwlYNukA">
      <parameters__OperationSignature dataType__Parameter="_fQuMg6L5Ee-wIpZwlYNukA" parameterName="tan" modifier__Parameter="in"/>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fXHIbKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan[POST]">
    <signatures__OperationInterface id="_fP8JYKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/tan[POST]" returnType__OperationSignature="_fP7iUKL5Ee-wIpZwlYNukA">
      <parameters__OperationSignature dataType__Parameter="_fP6UMKL5Ee-wIpZwlYNukA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <interfaces__Repository xsi:type="repository:OperationInterface" id="_fXHIbaL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]">
    <signatures__OperationInterface id="_fQs-YKL5Ee-wIpZwlYNukA" entityName="SPRING-APPLICATION/version/v1/testresult[POST]" returnType__OperationSignature="_fP7iUKL5Ee-wIpZwlYNukA">
      <parameters__OperationSignature dataType__Parameter="_fP6UMKL5Ee-wIpZwlYNukA" parameterName="registrationToken" modifier__Parameter="in"/>
      <parameters__OperationSignature parameterName="fake" modifier__Parameter="in">
        <dataType__Parameter xsi:type="repository:PrimitiveDataType" href="pathmap://PCM_MODELS/PrimitiveTypes.repository#//@dataTypes__Repository.1"/>
      </parameters__OperationSignature>
    </signatures__OperationInterface>
  </interfaces__Repository>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fP6UMKL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_model_RegistrationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fP7iUKL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_DeferredResult"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fQs-Y6L5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_model_RegistrationTokenRequest"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fQtlcaL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_controller_ResponseEntity"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fQtldaL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_model_AuthorizationToken"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fQtldqL5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_model_TeleTanType"/>
  <dataTypes__Repository xsi:type="repository:CompositeDataType" id="_fQuMg6L5Ee-wIpZwlYNukA" entityName="app_coronawarn_verification_model_Tan"/>
</repository:Repository>
